"use strict";(self.webpackChunkIceCreamShop=self.webpackChunkIceCreamShop||[]).push([[179],{2011:(dt,Ae,k)=>{k.d(Ae,{Dh:()=>he,GT:()=>de,cc:()=>xe,hO:()=>Le,on:()=>j,pX:()=>re,xv:()=>fe});var u=k(4650),ee=k(127),O=k(5813);dt=k.hmd(dt);const se=["ngOnDestroy"],re=(pe,Xe,ot,Me={})=>new Proxy(pe,{get:(Ee,Ce)=>ot.runOutsideAngular(()=>{var Be;if(pe[Ce])return!(null===(Be=Me?.spy)||void 0===Be)&&Be.get&&Me.spy.get(Ce,pe[Ce]),pe[Ce];if(se.indexOf(Ce)>-1)return()=>{};const je=Xe.toPromise().then(B=>{const ge=B&&B[Ce];return"function"==typeof ge?ge.bind(B):ge&&ge.then?ge.then(W=>ot.run(()=>W)):ot.run(()=>ge)});return new Proxy(()=>{},{get:(B,ge)=>je[ge],apply:(B,ge,W)=>je.then(J=>{var ne;const te=J&&J(...W);return!(null===(ne=Me?.spy)||void 0===ne)&&ne.apply&&Me.spy.apply(Ce,W,te),te})})})}),de=(pe,Xe)=>{Xe.forEach(ot=>{Object.getOwnPropertyNames(ot.prototype||ot).forEach(Me=>{Object.defineProperty(pe.prototype,Me,Object.getOwnPropertyDescriptor(ot.prototype||ot,Me))})})};class ae{constructor(Xe){return Xe}}const he=new u.OlP("angularfire2.app.options"),fe=new u.OlP("angularfire2.app.name");function j(pe,Xe,ot){const Ee="object"==typeof ot&&ot||{};Ee.name=Ee.name||"string"==typeof ot&&ot||"[DEFAULT]";const Be=ee.Z.apps.filter(je=>je&&je.name===Ee.name)[0]||Xe.runOutsideAngular(()=>ee.Z.initializeApp(pe,Ee));try{JSON.stringify(pe)!==JSON.stringify(Be.options)&&H("error",`${Be.name} Firebase App already initialized with different options${dt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ae(Be)}const H=(pe,...Xe)=>{(0,u.X6Q)()&&typeof console<"u"&&console[pe](...Xe)},K={provide:ae,useFactory:j,deps:[he,u.R0b,[new u.FiY,fe]]};let Le=(()=>{class pe{constructor(ot){ee.Z.registerVersion("angularfire",O.q4.full,"core"),ee.Z.registerVersion("angularfire",O.q4.full,"app-compat"),ee.Z.registerVersion("angular",u.q4F.full,ot.toString())}static initializeApp(ot,Me){return{ngModule:pe,providers:[{provide:he,useValue:ot},{provide:fe,useValue:Me}]}}}return pe.\u0275fac=function(ot){return new(ot||pe)(u.LFG(u.Lbi))},pe.\u0275mod=u.oAB({type:pe}),pe.\u0275inj=u.cJS({providers:[K]}),pe})();function xe(pe,Xe,ot,Me,Ee){const[,Ce,Be]=globalThis.\u0275AngularfireInstanceCache.find(je=>je[0]===pe)||[];if(Ce)return function be(pe,Xe){try{return pe.toString()===Xe.toString()}catch{return pe===Xe}}(Ee,Be)||(me("error",`${Xe} was already initialized on the ${ot} Firebase App with different settings.${nt?" You may need to reload as Firebase is not HMR aware.":""}`),me("warn",{is:Ee,was:Be})),Ce;{const je=Me();return globalThis.\u0275AngularfireInstanceCache.push([pe,je,Ee]),je}}const nt=!!dt.hot,me=(pe,...Xe)=>{(0,u.X6Q)()&&typeof console<"u"&&console[pe](...Xe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(dt,Ae,k)=>{k.d(Ae,{q4:()=>mr,iC:()=>ji,HU:()=>Kl,vb:()=>$o,JM:()=>ls});var u=k(4650),ee=k(5867),O=k(5861),se=k(9681),re=k(2090),de=k(4859),ae=k(1877),he=k(8766);const fe="@firebase/installations",j="0.5.15",K=`w:${j}`,Le="FIS_v2",Xe=new re.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ot(C){return C instanceof re.ZR&&C.code.includes("request-failed")}function Me({projectId:C}){return`https://firebaseinstallations.googleapis.com/v1/projects/${C}/installations`}function Ee(C){return{token:C.token,requestStatus:2,expiresIn:J(C.expiresIn),creationTime:Date.now()}}function Ce(C,D){return Be.apply(this,arguments)}function Be(){return(Be=(0,O.Z)(function*(C,D){const L=(yield D.json()).error;return Xe.create("request-failed",{requestName:C,serverCode:L.code,serverMessage:L.message,serverStatus:L.status})})).apply(this,arguments)}function je({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function B(C,{refreshToken:D}){const x=je(C);return x.append("Authorization",function ne(C){return`${Le} ${C}`}(D)),x}function ge(C){return W.apply(this,arguments)}function W(){return(W=(0,O.Z)(function*(C){const D=yield C();return D.status>=500&&D.status<600?C():D})).apply(this,arguments)}function J(C){return Number(C.replace("s","000"))}function te(C,D){return Re.apply(this,arguments)}function Re(){return(Re=(0,O.Z)(function*({appConfig:C,heartbeatServiceProvider:D},{fid:x}){const L=Me(C),Y=je(C),oe=D.getImmediate({optional:!0});if(oe){const ft=yield oe.getHeartbeatsHeader();ft&&Y.append("x-firebase-client",ft)}const Ue={method:"POST",headers:Y,body:JSON.stringify({fid:x,authVersion:Le,appId:C.appId,sdkVersion:K})},Qe=yield ge(()=>fetch(L,Ue));if(Qe.ok){const ft=yield Qe.json();return{fid:ft.fid||x,registrationStatus:2,refreshToken:ft.refreshToken,authToken:Ee(ft.authToken)}}throw yield Ce("Create Installation",Qe)})).apply(this,arguments)}function Oe(C){return new Promise(D=>{setTimeout(D,C)})}const en=/^[cdef][\w-]{21}$/;function Ze(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const x=function hn(C){return function mt(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return en.test(x)?x:""}catch{return""}}function wn(C){return`${C.appName}!${C.appId}`}const Jt=new Map;function tn(C,D){const x=wn(C);gn(x,D),function Yi(C,D){const x=function Ur(){return!Ci&&"BroadcastChannel"in self&&(Ci=new BroadcastChannel("[Firebase] FID Change"),Ci.onmessage=C=>{gn(C.data.key,C.data.fid)}),Ci}();x&&x.postMessage({key:C,fid:D}),function Yr(){0===Jt.size&&Ci&&(Ci.close(),Ci=null)}()}(x,D)}function gn(C,D){const x=Jt.get(C);if(x)for(const L of x)L(D)}let Ci=null;const oi="firebase-installations-store";let ai=null;function ma(){return ai||(ai=(0,he.X3)("firebase-installations-database",1,{upgrade:(C,D)=>{0===D&&C.createObjectStore(oi)}})),ai}function Ke(C,D){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,O.Z)(function*(C,D){const x=wn(C),Y=(yield ma()).transaction(oi,"readwrite"),oe=Y.objectStore(oi),Ie=yield oe.get(x);return yield oe.put(D,x),yield Y.done,(!Ie||Ie.fid!==D.fid)&&tn(C,D.fid),D})).apply(this,arguments)}function Is(C){return rr.apply(this,arguments)}function rr(){return(rr=(0,O.Z)(function*(C){const D=wn(C),L=(yield ma()).transaction(oi,"readwrite");yield L.objectStore(oi).delete(D),yield L.done})).apply(this,arguments)}function li(C,D){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,O.Z)(function*(C,D){const x=wn(C),Y=(yield ma()).transaction(oi,"readwrite"),oe=Y.objectStore(oi),Ie=yield oe.get(x),Ue=D(Ie);return void 0===Ue?yield oe.delete(x):yield oe.put(Ue,x),yield Y.done,Ue&&(!Ie||Ie.fid!==Ue.fid)&&tn(C,Ue.fid),Ue})).apply(this,arguments)}function Vn(C){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,O.Z)(function*(C){let D;const x=yield li(C.appConfig,L=>{const Y=vn(L),oe=yt(C,Y);return D=oe.registrationPromise,oe.installationEntry});return""===x.fid?{installationEntry:yield D}:{installationEntry:x,registrationPromise:D}})).apply(this,arguments)}function vn(C){return xt(C||{fid:Ze(),registrationStatus:0})}function yt(C,D){if(0===D.registrationStatus){if(!navigator.onLine)return{installationEntry:D,registrationPromise:Promise.reject(Xe.create("app-offline"))};const x={fid:D.fid,registrationStatus:1,registrationTime:Date.now()},L=function lt(C,D){return ln.apply(this,arguments)}(C,x);return{installationEntry:x,registrationPromise:L}}return 1===D.registrationStatus?{installationEntry:D,registrationPromise:br(C)}:{installationEntry:D}}function ln(){return(ln=(0,O.Z)(function*(C,D){try{const x=yield te(C,D);return Ke(C.appConfig,x)}catch(x){throw ot(x)&&409===x.customData.serverCode?yield Is(C.appConfig):yield Ke(C.appConfig,{fid:D.fid,registrationStatus:0}),x}})).apply(this,arguments)}function br(C){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,O.Z)(function*(C){let D=yield Qr(C.appConfig);for(;1===D.registrationStatus;)yield Oe(100),D=yield Qr(C.appConfig);if(0===D.registrationStatus){const{installationEntry:x,registrationPromise:L}=yield Vn(C);return L||x}return D})).apply(this,arguments)}function Qr(C){return li(C,D=>{if(!D)throw Xe.create("installation-not-found");return xt(D)})}function xt(C){return function Cs(C){return 1===C.registrationStatus&&C.registrationTime+1e4<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function nn(C,D){return ki.apply(this,arguments)}function ki(){return(ki=(0,O.Z)(function*({appConfig:C,heartbeatServiceProvider:D},x){const L=rn(C,x),Y=B(C,x),oe=D.getImmediate({optional:!0});if(oe){const ft=yield oe.getHeartbeatsHeader();ft&&Y.append("x-firebase-client",ft)}const Ue={method:"POST",headers:Y,body:JSON.stringify({installation:{sdkVersion:K,appId:C.appId}})},Qe=yield ge(()=>fetch(L,Ue));if(Qe.ok)return Ee(yield Qe.json());throw yield Ce("Generate Auth Token",Qe)})).apply(this,arguments)}function rn(C,{fid:D}){return`${Me(C)}/${D}/authTokens:generate`}function ir(C){return Br.apply(this,arguments)}function Br(){return(Br=(0,O.Z)(function*(C,D=!1){let x;const L=yield li(C.appConfig,oe=>{if(!Ut(oe))throw Xe.create("not-registered");const Ie=oe.authToken;if(!D&&$(Ie))return oe;if(1===Ie.requestStatus)return x=tt(C,D),oe;{if(!navigator.onLine)throw Xe.create("app-offline");const Ue=Z(oe);return x=Dt(C,Ue),Ue}});return x?yield x:L.authToken})).apply(this,arguments)}function tt(C,D){return De.apply(this,arguments)}function De(){return(De=(0,O.Z)(function*(C,D){let x=yield et(C.appConfig);for(;1===x.authToken.requestStatus;)yield Oe(100),x=yield et(C.appConfig);const L=x.authToken;return 0===L.requestStatus?ir(C,D):L})).apply(this,arguments)}function et(C){return li(C,D=>{if(!Ut(D))throw Xe.create("not-registered");return function we(C){return 1===C.requestStatus&&C.requestTime+1e4<Date.now()}(D.authToken)?Object.assign(Object.assign({},D),{authToken:{requestStatus:0}}):D})}function Dt(C,D){return It.apply(this,arguments)}function It(){return(It=(0,O.Z)(function*(C,D){try{const x=yield nn(C,D),L=Object.assign(Object.assign({},D),{authToken:x});return yield Ke(C.appConfig,L),x}catch(x){if(!ot(x)||401!==x.customData.serverCode&&404!==x.customData.serverCode){const L=Object.assign(Object.assign({},D),{authToken:{requestStatus:0}});yield Ke(C.appConfig,L)}else yield Is(C.appConfig);throw x}})).apply(this,arguments)}function Ut(C){return void 0!==C&&2===C.registrationStatus}function $(C){return 2===C.requestStatus&&!function V(C){const D=Date.now();return D<C.creationTime||C.creationTime+C.expiresIn<D+36e5}(C)}function Z(C){const D={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:D})}function $e(){return($e=(0,O.Z)(function*(C){const D=C,{installationEntry:x,registrationPromise:L}=yield Vn(D);return L?L.catch(console.error):ir(D).catch(console.error),x.fid})).apply(this,arguments)}function Xt(){return(Xt=(0,O.Z)(function*(C,D=!1){const x=C;return yield _n(x),(yield ir(x,D)).token})).apply(this,arguments)}function _n(C){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,O.Z)(function*(C){const{registrationPromise:D}=yield Vn(C);D&&(yield D)})).apply(this,arguments)}function Ds(C){return Xe.create("missing-app-config-values",{valueName:C})}const Ao="installations",Tn=C=>{const D=C.getProvider("app").getImmediate(),x=function bn(C){if(!C||!C.options)throw Ds("App Configuration");if(!C.name)throw Ds("App Name");const D=["projectId","apiKey","appId"];for(const x of D)if(!C.options[x])throw Ds(x);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(D);return{app:D,appConfig:x,heartbeatServiceProvider:(0,se._getProvider)(D,"heartbeat"),_delete:()=>Promise.resolve()}},Ks=C=>{const D=C.getProvider("app").getImmediate(),x=(0,se._getProvider)(D,Ao).getImmediate();return{getId:()=>function Q(C){return $e.apply(this,arguments)}(x),getToken:Y=>function ht(C){return Xt.apply(this,arguments)}(x,Y)}};(function ll(){(0,se._registerComponent)(new de.wA(Ao,Tn,"PUBLIC")),(0,se._registerComponent)(new de.wA("installations-internal",Ks,"PRIVATE"))})(),(0,se.registerVersion)(fe,j),(0,se.registerVersion)(fe,j,"esm2017");const Fi="@firebase/remote-config",Un=new re.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Xc{constructor(D,x,L,Y){this.client=D,this.storage=x,this.storageCache=L,this.logger=Y}isCachedDataFresh(D,x){if(!x)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const L=Date.now()-x,Y=L<=D;return this.logger.debug(`Config fetch cache check. Cache age millis: ${L}. Cache max age millis (minimumFetchIntervalMillis setting): ${D}. Is cache hit: ${Y}.`),Y}fetch(D){var x=this;return(0,O.Z)(function*(){const[L,Y]=yield Promise.all([x.storage.getLastSuccessfulFetchTimestampMillis(),x.storage.getLastSuccessfulFetchResponse()]);if(Y&&x.isCachedDataFresh(D.cacheMaxAgeMillis,L))return Y;D.eTag=Y&&Y.eTag;const oe=yield x.client.fetch(D),Ie=[x.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===oe.status&&Ie.push(x.storage.setLastSuccessfulFetchResponse(oe)),yield Promise.all(Ie),oe})()}}function dl(C=navigator){return C.languages&&C.languages[0]||C.language}class Lu{constructor(D,x,L,Y,oe,Ie){this.firebaseInstallations=D,this.sdkVersion=x,this.namespace=L,this.projectId=Y,this.apiKey=oe,this.appId=Ie}fetch(D){var x=this;return(0,O.Z)(function*(){var L,Y,oe;const[Ie,Ue]=yield Promise.all([x.firebaseInstallations.getId(),x.firebaseInstallations.getToken()]),ft=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${x.projectId}/namespaces/${x.namespace}:fetch?key=${x.apiKey}`,Lt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":D.eTag||"*"},ut={sdk_version:x.sdkVersion,app_instance_id:Ie,app_instance_id_token:Ue,app_id:x.appId,language_code:dl()},Cn={method:"POST",headers:Lt,body:JSON.stringify(ut)},yr=fetch(ft,Cn),Go=new Promise((xi,po)=>{D.signal.addEventListener(()=>{const bd=new Error("The operation was aborted.");bd.name="AbortError",po(bd)})});let zo;try{yield Promise.race([yr,Go]),zo=yield yr}catch(xi){let po="fetch-client-network";throw"AbortError"===(null===(L=xi)||void 0===L?void 0:L.name)&&(po="fetch-timeout"),Un.create(po,{originalErrorMessage:null===(Y=xi)||void 0===Y?void 0:Y.message})}let us=zo.status;const Ot=zo.headers.get("ETag")||void 0;let hi,fo;if(200===zo.status){let xi;try{xi=yield zo.json()}catch(po){throw Un.create("fetch-client-parse",{originalErrorMessage:null===(oe=po)||void 0===oe?void 0:oe.message})}hi=xi.entries,fo=xi.state}if("INSTANCE_STATE_UNSPECIFIED"===fo?us=500:"NO_CHANGE"===fo?us=304:("NO_TEMPLATE"===fo||"EMPTY_CONFIG"===fo)&&(hi={}),304!==us&&200!==us)throw Un.create("fetch-status",{httpStatus:us});return{status:us,eTag:Ot,config:hi}})()}}class og{constructor(D,x){this.client=D,this.storage=x}fetch(D){var x=this;return(0,O.Z)(function*(){const L=(yield x.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return x.attemptFetch(D,L)})()}attemptFetch(D,{throttleEndTimeMillis:x,backoffCount:L}){var Y=this;return(0,O.Z)(function*(){yield function or(C,D){return new Promise((x,L)=>{const Y=Math.max(D-Date.now(),0),oe=setTimeout(x,Y);C.addEventListener(()=>{clearTimeout(oe),L(Un.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(D.signal,x);try{const oe=yield Y.client.fetch(D);return yield Y.storage.deleteThrottleMetadata(),oe}catch(oe){if(!function ed(C){if(!(C instanceof re.ZR&&C.customData))return!1;const D=Number(C.customData.httpStatus);return 429===D||500===D||503===D||504===D}(oe))throw oe;const Ie={throttleEndTimeMillis:Date.now()+(0,re.$s)(L),backoffCount:L+1};return yield Y.storage.setThrottleMetadata(Ie),Y.attemptFetch(D,Ie)}})()}}class td{constructor(D,x,L,Y,oe){this.app=D,this._client=x,this._storageCache=L,this._storage=Y,this._logger=oe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Vu(C,D){var x;const L=C.target.error||void 0;return Un.create(D,{originalErrorMessage:L&&(null===(x=L)||void 0===x?void 0:x.message)})}const Ms="app_namespace_store";class Xh{constructor(D,x,L,Y=function ug(){return new Promise((C,D)=>{var x;try{const L=indexedDB.open("firebase_remote_config",1);L.onerror=Y=>{D(Vu(Y,"storage-open"))},L.onsuccess=Y=>{C(Y.target.result)},L.onupgradeneeded=Y=>{0===Y.oldVersion&&Y.target.result.createObjectStore(Ms,{keyPath:"compositeKey"})}}catch(L){D(Un.create("storage-open",{originalErrorMessage:null===(x=L)||void 0===x?void 0:x.message}))}})}()){this.appId=D,this.appName=x,this.namespace=L,this.openDbPromise=Y}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(D){return this.set("last_fetch_status",D)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(D){return this.set("last_successful_fetch_timestamp_millis",D)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(D){return this.set("last_successful_fetch_response",D)}getActiveConfig(){return this.get("active_config")}setActiveConfig(D){return this.set("active_config",D)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(D){return this.set("active_config_etag",D)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(D){return this.set("throttle_metadata",D)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(D){var x=this;return(0,O.Z)(function*(){const L=yield x.openDbPromise;return new Promise((Y,oe)=>{var Ie;const Qe=L.transaction([Ms],"readonly").objectStore(Ms),ft=x.createCompositeKey(D);try{const Lt=Qe.get(ft);Lt.onerror=ut=>{oe(Vu(ut,"storage-get"))},Lt.onsuccess=ut=>{const Cn=ut.target.result;Y(Cn?Cn.value:void 0)}}catch(Lt){oe(Un.create("storage-get",{originalErrorMessage:null===(Ie=Lt)||void 0===Ie?void 0:Ie.message}))}})})()}set(D,x){var L=this;return(0,O.Z)(function*(){const Y=yield L.openDbPromise;return new Promise((oe,Ie)=>{var Ue;const ft=Y.transaction([Ms],"readwrite").objectStore(Ms),Lt=L.createCompositeKey(D);try{const ut=ft.put({compositeKey:Lt,value:x});ut.onerror=Cn=>{Ie(Vu(Cn,"storage-set"))},ut.onsuccess=()=>{oe()}}catch(ut){Ie(Un.create("storage-set",{originalErrorMessage:null===(Ue=ut)||void 0===Ue?void 0:Ue.message}))}})})()}delete(D){var x=this;return(0,O.Z)(function*(){const L=yield x.openDbPromise;return new Promise((Y,oe)=>{var Ie;const Qe=L.transaction([Ms],"readwrite").objectStore(Ms),ft=x.createCompositeKey(D);try{const Lt=Qe.delete(ft);Lt.onerror=ut=>{oe(Vu(ut,"storage-delete"))},Lt.onsuccess=()=>{Y()}}catch(Lt){oe(Un.create("storage-delete",{originalErrorMessage:null===(Ie=Lt)||void 0===Ie?void 0:Ie.message}))}})})()}createCompositeKey(D){return[this.appId,this.appName,this.namespace,D].join()}}class rd{constructor(D){this.storage=D}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var D=this;return(0,O.Z)(function*(){const x=D.storage.getLastFetchStatus(),L=D.storage.getLastSuccessfulFetchTimestampMillis(),Y=D.storage.getActiveConfig(),oe=yield x;oe&&(D.lastFetchStatus=oe);const Ie=yield L;Ie&&(D.lastSuccessfulFetchTimestampMillis=Ie);const Ue=yield Y;Ue&&(D.activeConfig=Ue)})()}setLastFetchStatus(D){return this.lastFetchStatus=D,this.storage.setLastFetchStatus(D)}setLastSuccessfulFetchTimestampMillis(D){return this.lastSuccessfulFetchTimestampMillis=D,this.storage.setLastSuccessfulFetchTimestampMillis(D)}setActiveConfig(D){return this.activeConfig=D,this.storage.setActiveConfig(D)}}function hl(){return ef.apply(this,arguments)}function ef(){return(ef=(0,O.Z)(function*(){if(!(0,re.hl)())return!1;try{return yield(0,re.eu)()}catch{return!1}})).apply(this,arguments)}!function xs(){(0,se._registerComponent)(new de.wA("remote-config",function C(D,{instanceIdentifier:x}){const L=D.getProvider("app").getImmediate(),Y=D.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Un.create("registration-window");if(!(0,re.hl)())throw Un.create("indexed-db-unavailable");const{projectId:oe,apiKey:Ie,appId:Ue}=L.options;if(!oe)throw Un.create("registration-project-id");if(!Ie)throw Un.create("registration-api-key");if(!Ue)throw Un.create("registration-app-id");const Qe=new Xh(Ue,L.name,x=x||"firebase"),ft=new rd(Qe),Lt=new ae.Yd(Fi);Lt.logLevel=ae.in.ERROR;const ut=new Lu(Y,se.SDK_VERSION,x,oe,Ie,Ue),Cn=new og(ut,Qe),yr=new Xc(Cn,Qe,ft,Lt),Go=new td(L,yr,ft,Qe,Lt);return function Mn(C){const D=(0,re.m9)(C);D._initializePromise||(D._initializePromise=D._storageCache.loadFromStorage().then(()=>{D._isInitializationComplete=!0}))}(Go),Go},"PUBLIC").setMultipleInstances(!0)),(0,se.registerVersion)(Fi,"0.3.14"),(0,se.registerVersion)(Fi,"0.3.14","esm2017")}();const Li="/firebase-messaging-sw.js",Xi="/firebase-cloud-messaging-push-scope",es="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",va="google.c.a.c_id",fl="google.c.a.c_l",Uu="google.c.a.ts",tf="google.c.a.e";var ts=(()=>{return(C=ts||(ts={})).PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",ts;var C})();function ui(C){const D=new Uint8Array(C);return btoa(String.fromCharCode(...D)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Xr(C){const x=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),L=atob(x),Y=new Uint8Array(L.length);for(let oe=0;oe<L.length;++oe)Y[oe]=L.charCodeAt(oe);return Y}const Mo="fcm_token_details_db",Cr="fcm_token_object_Store";function nf(C){return rf.apply(this,arguments)}function rf(){return rf=(0,O.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(oe=>oe.name).includes(Mo))return null;let D=null;return(yield(0,he.X3)(Mo,5,{upgrade:(L=(0,O.Z)(function*(Y,oe,Ie,Ue){var Qe;if(oe<2||!Y.objectStoreNames.contains(Cr))return;const ft=Ue.objectStore(Cr),Lt=yield ft.index("fcmSenderId").get(C);if(yield ft.clear(),Lt)if(2===oe){const ut=Lt;if(!ut.auth||!ut.p256dh||!ut.endpoint)return;D={token:ut.fcmToken,createTime:null!==(Qe=ut.createTime)&&void 0!==Qe?Qe:Date.now(),subscriptionOptions:{auth:ut.auth,p256dh:ut.p256dh,endpoint:ut.endpoint,swScope:ut.swScope,vapidKey:"string"==typeof ut.vapidKey?ut.vapidKey:ui(ut.vapidKey)}}}else if(3===oe){const ut=Lt;D={token:ut.fcmToken,createTime:ut.createTime,subscriptionOptions:{auth:ui(ut.auth),p256dh:ui(ut.p256dh),endpoint:ut.endpoint,swScope:ut.swScope,vapidKey:ui(ut.vapidKey)}}}else if(4===oe){const ut=Lt;D={token:ut.fcmToken,createTime:ut.createTime,subscriptionOptions:{auth:ui(ut.auth),p256dh:ui(ut.p256dh),endpoint:ut.endpoint,swScope:ut.swScope,vapidKey:ui(ut.vapidKey)}}}}),function(oe,Ie,Ue,Qe){return L.apply(this,arguments)})})).close(),yield(0,he.Lj)(Mo),yield(0,he.Lj)("fcm_vapid_details_db"),yield(0,he.Lj)("undefined"),Pn(D)?D:null;var L}),rf.apply(this,arguments)}function Pn(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:D}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof D.auth&&D.auth.length>0&&"string"==typeof D.p256dh&&D.p256dh.length>0&&"string"==typeof D.endpoint&&D.endpoint.length>0&&"string"==typeof D.swScope&&D.swScope.length>0&&"string"==typeof D.vapidKey&&D.vapidKey.length>0}const ci="firebase-messaging-store";let Hr=null;function gl(){return Hr||(Hr=(0,he.X3)("firebase-messaging-database",1,{upgrade:(C,D)=>{0===D&&C.createObjectStore(ci)}})),Hr}function xo(C){return ns.apply(this,arguments)}function ns(){return(ns=(0,O.Z)(function*(C){const D=Si(C),L=yield(yield gl()).transaction(ci).objectStore(ci).get(D);if(L)return L;{const Y=yield nf(C.appConfig.senderId);if(Y)return yield Yt(C,Y),Y}})).apply(this,arguments)}function Yt(C,D){return ml.apply(this,arguments)}function ml(){return(ml=(0,O.Z)(function*(C,D){const x=Si(C),Y=(yield gl()).transaction(ci,"readwrite");return yield Y.objectStore(ci).put(D,x),yield Y.done,D})).apply(this,arguments)}function Qs(C){return yl.apply(this,arguments)}function yl(){return(yl=(0,O.Z)(function*(C){const D=Si(C),L=(yield gl()).transaction(ci,"readwrite");yield L.objectStore(ci).delete(D),yield L.done})).apply(this,arguments)}function Si({appConfig:C}){return C.appId}const xn=new re.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Mt(C,D){return vl.apply(this,arguments)}function vl(){return(vl=(0,O.Z)(function*(C,D){var x;const L=yield ju(C),Y=Te(D),oe={method:"POST",headers:L,body:JSON.stringify(Y)};let Ie;try{Ie=yield(yield fetch(rs(C.appConfig),oe)).json()}catch(Ue){throw xn.create("token-subscribe-failed",{errorInfo:null===(x=Ue)||void 0===x?void 0:x.toString()})}if(Ie.error)throw xn.create("token-subscribe-failed",{errorInfo:Ie.error.message});if(!Ie.token)throw xn.create("token-subscribe-no-token");return Ie.token})).apply(this,arguments)}function af(C,D){return El.apply(this,arguments)}function El(){return(El=(0,O.Z)(function*(C,D){var x;const L=yield ju(C),Y=Te(D.subscriptionOptions),oe={method:"PATCH",headers:L,body:JSON.stringify(Y)};let Ie;try{Ie=yield(yield fetch(`${rs(C.appConfig)}/${D.token}`,oe)).json()}catch(Ue){throw xn.create("token-update-failed",{errorInfo:null===(x=Ue)||void 0===x?void 0:x.toString()})}if(Ie.error)throw xn.create("token-update-failed",{errorInfo:Ie.error.message});if(!Ie.token)throw xn.create("token-update-no-token");return Ie.token})).apply(this,arguments)}function wl(C,D){return Bu.apply(this,arguments)}function Bu(){return(Bu=(0,O.Z)(function*(C,D){var x;const Y={method:"DELETE",headers:yield ju(C)};try{const Ie=yield(yield fetch(`${rs(C.appConfig)}/${D}`,Y)).json();if(Ie.error)throw xn.create("token-unsubscribe-failed",{errorInfo:Ie.error.message})}catch(oe){throw xn.create("token-unsubscribe-failed",{errorInfo:null===(x=oe)||void 0===x?void 0:x.toString()})}})).apply(this,arguments)}function rs({projectId:C}){return`https://fcmregistrations.googleapis.com/v1/projects/${C}/registrations`}function ju(C){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,O.Z)(function*({appConfig:C,installations:D}){const x=yield D.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${x}`})})).apply(this,arguments)}function Te({p256dh:C,auth:D,endpoint:x,vapidKey:L}){const Y={web:{endpoint:x,auth:D,p256dh:C}};return L!==es&&(Y.web.applicationPubKey=L),Y}const qt=6048e5;function bl(C){return Il.apply(this,arguments)}function Il(){return(Il=(0,O.Z)(function*(C){const D=yield Hu(C.swRegistration,C.vapidKey),x={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:D.endpoint,auth:ui(D.getKey("auth")),p256dh:ui(D.getKey("p256dh"))},L=yield xo(C.firebaseDependencies);if(L){if(ad(L.subscriptionOptions,x))return Date.now()>=L.createTime+qt?No(C,{token:L.token,createTime:Date.now(),subscriptionOptions:x}):L.token;try{yield wl(C.firebaseDependencies,L.token)}catch(Y){console.warn(Y)}return wa(C.firebaseDependencies,x)}return wa(C.firebaseDependencies,x)})).apply(this,arguments)}function On(C){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,O.Z)(function*(C){const D=yield xo(C.firebaseDependencies);D&&(yield wl(C.firebaseDependencies,D.token),yield Qs(C.firebaseDependencies));const x=yield C.swRegistration.pushManager.getSubscription();return!x||x.unsubscribe()})).apply(this,arguments)}function No(C,D){return di.apply(this,arguments)}function di(){return(di=(0,O.Z)(function*(C,D){try{const x=yield af(C.firebaseDependencies,D),L=Object.assign(Object.assign({},D),{token:x,createTime:Date.now()});return yield Yt(C.firebaseDependencies,L),x}catch(x){throw yield On(C),x}})).apply(this,arguments)}function wa(C,D){return ba.apply(this,arguments)}function ba(){return(ba=(0,O.Z)(function*(C,D){const L={token:yield Mt(C,D),createTime:Date.now(),subscriptionOptions:D};return yield Yt(C,L),L.token})).apply(this,arguments)}function Hu(C,D){return $u.apply(this,arguments)}function $u(){return($u=(0,O.Z)(function*(C,D){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Xr(D)})})).apply(this,arguments)}function ad(C,D){return D.vapidKey===C.vapidKey&&D.endpoint===C.endpoint&&D.auth===C.auth&&D.p256dh===C.p256dh}function Ia(C){const D={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function Rn(C,D){if(!D.notification)return;C.notification={};const x=D.notification.title;x&&(C.notification.title=x);const L=D.notification.body;L&&(C.notification.body=L);const Y=D.notification.image;Y&&(C.notification.image=Y)}(D,C),function Ui(C,D){!D.data||(C.data=D.data)}(D,C),function Gu(C,D){var x,L,Y,oe,Ie;if(!(D.fcmOptions||null!==(x=D.notification)&&void 0!==x&&x.click_action))return;C.fcmOptions={};const Ue=null!==(Y=null===(L=D.fcmOptions)||void 0===L?void 0:L.link)&&void 0!==Y?Y:null===(oe=D.notification)||void 0===oe?void 0:oe.click_action;Ue&&(C.fcmOptions.link=Ue);const Qe=null===(Ie=D.fcmOptions)||void 0===Ie?void 0:Ie.analytics_label;Qe&&(C.fcmOptions.analyticsLabel=Qe)}(D,C),D}function Js(C){return"object"==typeof C&&!!C&&va in C}function is(C,D){const x=[];for(let L=0;L<C.length;L++)x.push(C.charAt(L)),L<D.length&&x.push(D.charAt(L));return x.join("")}function Ca(C){return xn.create("missing-app-config-values",{valueName:C})}is("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),is("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class dg{constructor(D,x,L){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Y=function cg(C){if(!C||!C.options)throw Ca("App Configuration Object");if(!C.name)throw Ca("App Name");const D=["projectId","apiKey","appId","messagingSenderId"],{options:x}=C;for(const L of D)if(!x[L])throw Ca(L);return{appName:C.name,projectId:x.projectId,apiKey:x.apiKey,appId:x.appId,senderId:x.messagingSenderId}}(D);this.firebaseDependencies={app:D,appConfig:Y,installations:x,analyticsProvider:L}}_delete(){return Promise.resolve()}}function zu(C){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,O.Z)(function*(C){var D;try{C.swRegistration=yield navigator.serviceWorker.register(Li,{scope:Xi}),C.swRegistration.update().catch(()=>{})}catch(x){throw xn.create("failed-service-worker-registration",{browserErrorMessage:null===(D=x)||void 0===D?void 0:D.message})}})).apply(this,arguments)}function Da(C,D){return qu.apply(this,arguments)}function qu(){return(qu=(0,O.Z)(function*(C,D){if(!D&&!C.swRegistration&&(yield zu(C)),D||!C.swRegistration){if(!(D instanceof ServiceWorkerRegistration))throw xn.create("invalid-sw-registration");C.swRegistration=D}})).apply(this,arguments)}function Ta(C,D){return Wu.apply(this,arguments)}function Wu(){return(Wu=(0,O.Z)(function*(C,D){D?C.vapidKey=D:C.vapidKey||(C.vapidKey=es)})).apply(this,arguments)}function Sl(){return(Sl=(0,O.Z)(function*(C,D){if(!navigator)throw xn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw xn.create("permission-blocked");return yield Ta(C,D?.vapidKey),yield Da(C,D?.serviceWorkerRegistration),bl(C)})).apply(this,arguments)}function Zu(C,D,x){return Ku.apply(this,arguments)}function Ku(){return(Ku=(0,O.Z)(function*(C,D,x){const L=Yu(D);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(L,{message_id:x[va],message_name:x[fl],message_time:x[Uu],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Yu(C){switch(C){case ts.NOTIFICATION_CLICKED:return"notification_open";case ts.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Xs(){return(Xs=(0,O.Z)(function*(C,D){const x=D.data;if(!x.isFirebaseMessaging)return;C.onMessageHandler&&x.messageType===ts.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(Ia(x)):C.onMessageHandler.next(Ia(x)));const L=x.data;Js(L)&&"1"===L[tf]&&(yield Zu(C,x.messageType,L))})).apply(this,arguments)}const eo="@firebase/messaging",ar=C=>{const D=new dg(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",x=>function ld(C,D){return Xs.apply(this,arguments)}(D,x)),D},ei=C=>{const D=C.getProvider("messaging").getImmediate();return{getToken:L=>function Tl(C,D){return Sl.apply(this,arguments)}(D,L)}};function ud(){return Qu.apply(this,arguments)}function Qu(){return(Qu=(0,O.Z)(function*(){try{yield(0,re.eu)()}catch{return!1}return typeof window<"u"&&(0,re.hl)()&&(0,re.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function In(){(0,se._registerComponent)(new de.wA("messaging",ar,"PUBLIC")),(0,se._registerComponent)(new de.wA("messaging-internal",ei,"PRIVATE")),(0,se.registerVersion)(eo,"0.9.19"),(0,se.registerVersion)(eo,"0.9.19","esm2017")}();const Oo="analytics",hd="firebase_id",no="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Nl="https://www.googletagmanager.com/gtag/js",kn=new ae.Yd("@firebase/analytics");function Pl(C){return Promise.all(C.map(D=>D.catch(x=>x)))}function Ol(C,D){const x=document.createElement("script");x.src=`${Nl}?l=${C}&id=${D}`,x.async=!0,document.head.appendChild(x)}function uf(C,D,x,L,Y,oe){return ro.apply(this,arguments)}function ro(){return(ro=(0,O.Z)(function*(C,D,x,L,Y,oe){const Ie=L[Y];try{if(Ie)yield D[Ie];else{const Qe=(yield Pl(x)).find(ft=>ft.measurementId===Y);Qe&&(yield D[Qe.appId])}}catch(Ue){kn.error(Ue)}C("config",Y,oe)})).apply(this,arguments)}function Ro(C,D,x,L,Y){return io.apply(this,arguments)}function io(){return(io=(0,O.Z)(function*(C,D,x,L,Y){try{let oe=[];if(Y&&Y.send_to){let Ie=Y.send_to;Array.isArray(Ie)||(Ie=[Ie]);const Ue=yield Pl(x);for(const Qe of Ie){const ft=Ue.find(ut=>ut.measurementId===Qe),Lt=ft&&D[ft.appId];if(!Lt){oe=[];break}oe.push(Lt)}}0===oe.length&&(oe=Object.values(D)),yield Promise.all(oe),C("event",L,Y||{})}catch(oe){kn.error(oe)}})).apply(this,arguments)}function pd(C){const D=window.document.getElementsByTagName("script");for(const x of Object.values(D))if(x.src&&x.src.includes(Nl)&&x.src.includes(C))return x;return null}const pr=new re.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),xa=new class Bi{constructor(D={},x=1e3){this.throttleMetadata=D,this.intervalMillis=x}getThrottleMetadata(D){return this.throttleMetadata[D]}setThrottleMetadata(D,x){this.throttleMetadata[D]=x}deleteThrottleMetadata(D){delete this.throttleMetadata[D]}};function md(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function Na(C){return Xu.apply(this,arguments)}function Xu(){return(Xu=(0,O.Z)(function*(C){var D;const{appId:x,apiKey:L}=C,Y={method:"GET",headers:md(L)},oe=no.replace("{app-id}",x),Ie=yield fetch(oe,Y);if(200!==Ie.status&&304!==Ie.status){let Ue="";try{const Qe=yield Ie.json();null!==(D=Qe.error)&&void 0!==D&&D.message&&(Ue=Qe.error.message)}catch{}throw pr.create("config-fetch-failed",{httpStatus:Ie.status,responseMessage:Ue})}return Ie.json()})).apply(this,arguments)}function Bn(C){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,O.Z)(function*(C,D=xa,x){const{appId:L,apiKey:Y,measurementId:oe}=C.options;if(!L)throw pr.create("no-app-id");if(!Y){if(oe)return{measurementId:oe,appId:L};throw pr.create("no-api-key")}const Ie=D.getThrottleMetadata(L)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ue=new Ll;return setTimeout((0,O.Z)(function*(){Ue.abort()}),void 0!==x?x:6e4),kl({appId:L,apiKey:Y,measurementId:oe},Ie,Ue,D)})).apply(this,arguments)}function kl(C,D,x){return so.apply(this,arguments)}function so(){return(so=(0,O.Z)(function*(C,{throttleEndTimeMillis:D,backoffCount:x},L,Y=xa){var oe,Ie;const{appId:Ue,measurementId:Qe}=C;try{yield Pa(L,D)}catch(ft){if(Qe)return kn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Qe} provided in the "measurementId" field in the local Firebase config. [${null===(oe=ft)||void 0===oe?void 0:oe.message}]`),{appId:Ue,measurementId:Qe};throw ft}try{const ft=yield Na(C);return Y.deleteThrottleMetadata(Ue),ft}catch(ft){const Lt=ft;if(!Fl(Lt)){if(Y.deleteThrottleMetadata(Ue),Qe)return kn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Qe} provided in the "measurementId" field in the local Firebase config. [${Lt?.message}]`),{appId:Ue,measurementId:Qe};throw ft}const ut=503===Number(null===(Ie=Lt?.customData)||void 0===Ie?void 0:Ie.httpStatus)?(0,re.$s)(x,Y.intervalMillis,30):(0,re.$s)(x,Y.intervalMillis),Cn={throttleEndTimeMillis:Date.now()+ut,backoffCount:x+1};return Y.setThrottleMetadata(Ue,Cn),kn.debug(`Calling attemptFetch again in ${ut} millis`),kl(C,Cn,L,Y)}})).apply(this,arguments)}function Pa(C,D){return new Promise((x,L)=>{const Y=Math.max(D-Date.now(),0),oe=setTimeout(x,Y);C.addEventListener(()=>{clearTimeout(oe),L(pr.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}function Fl(C){if(!(C instanceof re.ZR&&C.customData))return!1;const D=Number(C.customData.httpStatus);return 429===D||500===D||503===D||504===D}class Ll{constructor(){this.listeners=[]}addEventListener(D){this.listeners.push(D)}abort(){this.listeners.forEach(D=>D())}}let Rs,Ra;function ks(){return(ks=(0,O.Z)(function*(C,D,x,L,Y){if(Y&&Y.global)C("event",x,L);else{const oe=yield D;C("event",x,Object.assign(Object.assign({},L),{send_to:oe}))}})).apply(this,arguments)}function ao(C){Ra=C}function tc(C){Rs=C}function os(){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,O.Z)(function*(){var C;if(!(0,re.hl)())return kn.warn(pr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,re.eu)()}catch(D){return kn.warn(pr.create("indexeddb-unavailable",{errorInfo:null===(C=D)||void 0===C?void 0:C.toString()}).message),!1}return!0})).apply(this,arguments)}function Lo(){return(Lo=(0,O.Z)(function*(C,D,x,L,Y,oe,Ie){var Ue;const Qe=Bn(C);Qe.then(yr=>{x[yr.measurementId]=yr.appId,C.options.measurementId&&yr.measurementId!==C.options.measurementId&&kn.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${yr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(yr=>kn.error(yr)),D.push(Qe);const ft=os().then(yr=>{if(yr)return L.getId()}),[Lt,ut]=yield Promise.all([Qe,ft]);pd(oe)||Ol(oe,Lt.measurementId),Ra&&(Y("consent","default",Ra),ao(void 0)),Y("js",new Date);const Cn=null!==(Ue=Ie?.config)&&void 0!==Ue?Ue:{};return Cn.origin="firebase",Cn.update=!0,null!=ut&&(Cn[hd]=ut),Y("config",Lt.measurementId,Cn),Rs&&(Y("set",Rs),tc(void 0)),Lt.measurementId})).apply(this,arguments)}class jl{constructor(D){this.app=D}_delete(){return delete ti[this.app.options.appId],Promise.resolve()}}let ti={},Fs=[];const Vo={};let Bo,lo,Uo="dataLayer",ka=!1;function Wy(C,D,x){!function hg(){const C=[];if((0,re.ru)()&&C.push("This is a browser extension environment."),(0,re.zI)()||C.push("Cookies are not available."),C.length>0){const D=C.map((L,Y)=>`(${Y+1}) ${L}`).join(" "),x=pr.create("invalid-analytics-context",{errorInfo:D});kn.warn(x.message)}}();const L=C.options.appId;if(!L)throw pr.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw pr.create("no-api-key");kn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ti[L])throw pr.create("already-exists",{id:L});if(!ka){!function fd(C){let D=[];Array.isArray(window[C])?D=window[C]:window[C]=D}(Uo);const{wrappedGtag:oe,gtagCore:Ie}=function Sa(C,D,x,L,Y){let oe=function(...Ie){window[L].push(arguments)};return window[Y]&&"function"==typeof window[Y]&&(oe=window[Y]),window[Y]=function Rl(C,D,x,L){function oe(){return(oe=(0,O.Z)(function*(Ie,Ue,Qe){try{"event"===Ie?yield Ro(C,D,x,Ue,Qe):"config"===Ie?yield uf(C,D,x,L,Ue,Qe):"consent"===Ie?C("consent","update",Qe):C("set",Ue)}catch(ft){kn.error(ft)}})).apply(this,arguments)}return function Y(Ie,Ue,Qe){return oe.apply(this,arguments)}}(oe,C,D,x),{gtagCore:oe,wrappedGtag:window[Y]}}(ti,Fs,Vo,Uo,"gtag");lo=oe,Bo=Ie,ka=!0}return ti[L]=function Fo(C,D,x,L,Y,oe,Ie){return Lo.apply(this,arguments)}(C,Fs,Vo,D,Bo,Uo,x),new jl(C)}function Ky(){return cf.apply(this,arguments)}function cf(){return(cf=(0,O.Z)(function*(){if((0,re.ru)()||!(0,re.zI)()||!(0,re.hl)())return!1;try{return yield(0,re.eu)()}catch{return!1}})).apply(this,arguments)}const jo="@firebase/analytics";!function un(){(0,se._registerComponent)(new de.wA(Oo,(D,{options:x})=>Wy(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),x),"PUBLIC")),(0,se._registerComponent)(new de.wA("analytics-internal",function C(D){try{const x=D.getProvider(Oo).getImmediate();return{logEvent:(L,Y,oe)=>function ni(C,D,x,L){C=(0,re.m9)(C),function yd(C,D,x,L,Y){return ks.apply(this,arguments)}(lo,ti[C.app.options.appId],D,x,L).catch(Y=>kn.error(Y))}(x,L,Y,oe)}}catch(x){throw pr.create("interop-component-reg-failed",{reason:x})}},"PRIVATE")),(0,se.registerVersion)(jo,"0.8.3"),(0,se.registerVersion)(jo,"0.8.3","esm2017")}();var Fn=k(4408),as=k(7565);const $l=new class Dr extends as.v{}(class vd extends Fn.o{constructor(D,x){super(D,x),this.scheduler=D,this.work=x}schedule(D,x=0){return x>0?super.schedule(D,x):(this.delay=x,this.state=D,this.scheduler.flush(this),this)}execute(D,x){return x>0||this.closed?super.execute(D,x):this._execute(D,x)}requestAsyncId(D,x,L=0){return null!=L&&L>0||null==L&&this.delay>0?super.requestAsyncId(D,x,L):(D.flush(this),0)}});var nc=k(4986),Gl=k(8505),uo=k(9468),zl=k(5363);const mr=new u.GfV("7.4.1"),bt="__angularfire_symbol__analyticsIsSupportedValue",Ls="__angularfire_symbol__analyticsIsSupported",ql="__angularfire_symbol__remoteConfigIsSupportedValue",Ho="__angularfire_symbol__remoteConfigIsSupported",Wl="__angularfire_symbol__messagingIsSupportedValue",lr="__angularfire_symbol__messagingIsSupported";function ls(C,D,x){if(D){if(1===D.length)return D[0];const oe=D.filter(Ie=>Ie.app===x);if(1===oe.length)return oe[0]}return x.container.getProvider(C).getImmediate({optional:!0})}globalThis[Ls]||(globalThis[Ls]=Ky().then(C=>globalThis[bt]=C).catch(()=>globalThis[bt]=!1)),globalThis[lr]||(globalThis[lr]=ud().then(C=>globalThis[Wl]=C).catch(()=>globalThis[Wl]=!1)),globalThis[Ho]||(globalThis[Ho]=hl().then(C=>globalThis[ql]=C).catch(()=>globalThis[ql]=!1));const $o=(C,D)=>{const x=D?[D]:(0,ee.C6)(),L=[];return x.forEach(Y=>{Y.container.getProvider(C).instances.forEach(Ie=>{L.includes(Ie)||L.push(Ie)})}),L};function co(){}class ri{constructor(D,x=$l){this.zone=D,this.delegate=x}now(){return this.delegate.now()}schedule(D,x,L){const Y=this.zone;return this.delegate.schedule(function(Ie){Y.runGuarded(()=>{D.apply(this,[Ie])})},x,L)}}class Zl{constructor(D){this.zone=D,this.task=null}call(D,x){const L=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",co,{},co,co)),x.pipe((0,Gl.b)({next:L,complete:L,error:L})).subscribe(D).add(L)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Kl=(()=>{class C{constructor(x){this.ngZone=x,this.outsideAngular=x.runOutsideAngular(()=>new ri(Zone.current)),this.insideAngular=x.run(()=>new ri(Zone.current,nc.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(x){return new(x||C)(u.LFG(u.R0b))},C.\u0275prov=u.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function Mi(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function ji(C){return Mi(),function rc(C){return function(x){return(x=x.lift(new Zl(C.ngZone))).pipe((0,uo.R)(C.outsideAngular),(0,zl.Q)(C.insideAngular))}}(Mi())(C)}},2090:(dt,Ae,k)=>{k.d(Ae,{$s:()=>et,BH:()=>Gt,G6:()=>Ce,L:()=>he,LL:()=>Jt,Pz:()=>en,Sg:()=>Ze,UG:()=>be,US:()=>de,ZB:()=>H,ZR:()=>wn,aH:()=>mt,b$:()=>pe,eu:()=>je,hl:()=>Be,jU:()=>nt,m9:()=>Ut,ne:()=>Wn,pd:()=>Ri,r3:()=>Di,ru:()=>me,tV:()=>fe,uI:()=>xe,vZ:()=>Ke,w1:()=>ot,xO:()=>rr,xb:()=>ai,z$:()=>Le,zI:()=>B,zd:()=>li});const se=function($){const V=[];let Z=0;for(let we=0;we<$.length;we++){let Q=$.charCodeAt(we);Q<128?V[Z++]=Q:Q<2048?(V[Z++]=Q>>6|192,V[Z++]=63&Q|128):55296==(64512&Q)&&we+1<$.length&&56320==(64512&$.charCodeAt(we+1))?(Q=65536+((1023&Q)<<10)+(1023&$.charCodeAt(++we)),V[Z++]=Q>>18|240,V[Z++]=Q>>12&63|128,V[Z++]=Q>>6&63|128,V[Z++]=63&Q|128):(V[Z++]=Q>>12|224,V[Z++]=Q>>6&63|128,V[Z++]=63&Q|128)}return V},de={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray($,V){if(!Array.isArray($))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Z=V?this.byteToCharMapWebSafe_:this.byteToCharMap_,we=[];for(let Q=0;Q<$.length;Q+=3){const $e=$[Q],ht=Q+1<$.length,Xt=ht?$[Q+1]:0,_n=Q+2<$.length,Kt=_n?$[Q+2]:0;let $t=(15&Xt)<<2|Kt>>6,hr=63&Kt;_n||(hr=64,ht||($t=64)),we.push(Z[$e>>2],Z[(3&$e)<<4|Xt>>4],Z[$t],Z[hr])}return we.join("")},encodeString($,V){return this.HAS_NATIVE_SUPPORT&&!V?btoa($):this.encodeByteArray(se($),V)},decodeString($,V){return this.HAS_NATIVE_SUPPORT&&!V?atob($):function($){const V=[];let Z=0,we=0;for(;Z<$.length;){const Q=$[Z++];if(Q<128)V[we++]=String.fromCharCode(Q);else if(Q>191&&Q<224){const $e=$[Z++];V[we++]=String.fromCharCode((31&Q)<<6|63&$e)}else if(Q>239&&Q<365){const _n=((7&Q)<<18|(63&$[Z++])<<12|(63&$[Z++])<<6|63&$[Z++])-65536;V[we++]=String.fromCharCode(55296+(_n>>10)),V[we++]=String.fromCharCode(56320+(1023&_n))}else{const $e=$[Z++],ht=$[Z++];V[we++]=String.fromCharCode((15&Q)<<12|(63&$e)<<6|63&ht)}}return V.join("")}(this.decodeStringToByteArray($,V))},decodeStringToByteArray($,V){this.init_();const Z=V?this.charToByteMapWebSafe_:this.charToByteMap_,we=[];for(let Q=0;Q<$.length;){const $e=Z[$.charAt(Q++)],Xt=Q<$.length?Z[$.charAt(Q)]:0;++Q;const Kt=Q<$.length?Z[$.charAt(Q)]:64;++Q;const He=Q<$.length?Z[$.charAt(Q)]:64;if(++Q,null==$e||null==Xt||null==Kt||null==He)throw Error();we.push($e<<2|Xt>>4),64!==Kt&&(we.push(Xt<<4&240|Kt>>2),64!==He&&we.push(Kt<<6&192|He))}return we},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let $=0;$<this.ENCODED_VALS.length;$++)this.byteToCharMap_[$]=this.ENCODED_VALS.charAt($),this.charToByteMap_[this.byteToCharMap_[$]]=$,this.byteToCharMapWebSafe_[$]=this.ENCODED_VALS_WEBSAFE.charAt($),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[$]]=$,$>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt($)]=$,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt($)]=$)}}},he=function($){return function($){const V=se($);return de.encodeByteArray(V,!0)}($).replace(/\./g,"")},fe=function($){try{return de.decodeString($,!0)}catch(V){console.error("base64Decode failed: ",V)}return null};function H($,V){if(!(V instanceof Object))return V;switch(V.constructor){case Date:return new Date(V.getTime());case Object:void 0===$&&($={});break;case Array:$=[];break;default:return V}for(const Z in V)!V.hasOwnProperty(Z)||!K(Z)||($[Z]=H($[Z],V[Z]));return $}function K($){return"__proto__"!==$}function Le(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function xe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Le())}function be(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function nt(){return"object"==typeof self&&self.self===self}function me(){const $="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof $&&void 0!==$.id}function pe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ot(){const $=Le();return $.indexOf("MSIE ")>=0||$.indexOf("Trident/")>=0}function Ce(){return!be()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Be(){return"object"==typeof indexedDB}function je(){return new Promise(($,V)=>{try{let Z=!0;const we="validate-browser-context-for-indexeddb-analytics-module",Q=self.indexedDB.open(we);Q.onsuccess=()=>{Q.result.close(),Z||self.indexedDB.deleteDatabase(we),$(!0)},Q.onupgradeneeded=()=>{Z=!1},Q.onerror=()=>{var $e;V((null===($e=Q.error)||void 0===$e?void 0:$e.message)||"")}}catch(Z){V(Z)}})}function B(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const te=()=>{try{return function ge(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const $=process.env.__FIREBASE_DEFAULTS__;return $?JSON.parse($):void 0})()||(()=>{if(typeof document>"u")return;let $;try{$=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const V=$&&fe($[1]);return V&&JSON.parse(V)})()}catch($){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${$}`)}},mt=()=>{var $;return null===($=te())||void 0===$?void 0:$.config},en=$=>{var V;return null===(V=te())||void 0===V?void 0:V[`_${$}`]};class Gt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((V,Z)=>{this.resolve=V,this.reject=Z})}wrapCallback(V){return(Z,we)=>{Z?this.reject(Z):this.resolve(we),"function"==typeof V&&(this.promise.catch(()=>{}),1===V.length?V(Z):V(Z,we))}}}function Ze($,V){if($.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const we=V||"demo-project",Q=$.iat||0,$e=$.sub||$.user_id;if(!$e)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ht=Object.assign({iss:`https://securetoken.google.com/${we}`,aud:we,iat:Q,exp:Q+3600,auth_time:Q,sub:$e,user_id:$e,firebase:{sign_in_provider:"custom",identities:{}}},$);return[he(JSON.stringify({alg:"none",type:"JWT"})),he(JSON.stringify(ht)),""].join(".")}class wn extends Error{constructor(V,Z,we){super(Z),this.code=V,this.customData=we,this.name="FirebaseError",Object.setPrototypeOf(this,wn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jt.prototype.create)}}class Jt{constructor(V,Z,we){this.service=V,this.serviceName=Z,this.errors=we}create(V,...Z){const we=Z[0]||{},Q=`${this.service}/${V}`,$e=this.errors[V],ht=$e?function tn($,V){return $.replace(Vr,(Z,we)=>{const Q=V[we];return null!=Q?String(Q):`<${we}?>`})}($e,we):"Error";return new wn(Q,`${this.serviceName}: ${ht} (${Q}).`,we)}}const Vr=/\{\$([^}]+)}/g;function Di($,V){return Object.prototype.hasOwnProperty.call($,V)}function ai($){for(const V in $)if(Object.prototype.hasOwnProperty.call($,V))return!1;return!0}function Ke($,V){if($===V)return!0;const Z=Object.keys($),we=Object.keys(V);for(const Q of Z){if(!we.includes(Q))return!1;const $e=$[Q],ht=V[Q];if(Nr($e)&&Nr(ht)){if(!Ke($e,ht))return!1}else if($e!==ht)return!1}for(const Q of we)if(!Z.includes(Q))return!1;return!0}function Nr($){return null!==$&&"object"==typeof $}function rr($){const V=[];for(const[Z,we]of Object.entries($))Array.isArray(we)?we.forEach(Q=>{V.push(encodeURIComponent(Z)+"="+encodeURIComponent(Q))}):V.push(encodeURIComponent(Z)+"="+encodeURIComponent(we));return V.length?"&"+V.join("&"):""}function li($){const V={};return $.replace(/^\?/,"").split("&").forEach(we=>{if(we){const[Q,$e]=we.split("=");V[decodeURIComponent(Q)]=decodeURIComponent($e)}}),V}function Ri($){const V=$.indexOf("?");if(!V)return"";const Z=$.indexOf("#",V);return $.substring(V,Z>0?Z:void 0)}function Wn($,V){const Z=new vn($,V);return Z.subscribe.bind(Z)}class vn{constructor(V,Z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Z,this.task.then(()=>{V(this)}).catch(we=>{this.error(we)})}next(V){this.forEachObserver(Z=>{Z.next(V)})}error(V){this.forEachObserver(Z=>{Z.error(V)}),this.close(V)}complete(){this.forEachObserver(V=>{V.complete()}),this.close()}subscribe(V,Z,we){let Q;if(void 0===V&&void 0===Z&&void 0===we)throw new Error("Missing Observer.");Q=function lt($,V){if("object"!=typeof $||null===$)return!1;for(const Z of V)if(Z in $&&"function"==typeof $[Z])return!0;return!1}(V,["next","error","complete"])?V:{next:V,error:Z,complete:we},void 0===Q.next&&(Q.next=ln),void 0===Q.error&&(Q.error=ln),void 0===Q.complete&&(Q.complete=ln);const $e=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Q.error(this.finalError):Q.complete()}catch{}}),this.observers.push(Q),$e}unsubscribeOne(V){void 0===this.observers||void 0===this.observers[V]||(delete this.observers[V],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(V){if(!this.finalized)for(let Z=0;Z<this.observers.length;Z++)this.sendOne(Z,V)}sendOne(V,Z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[V])try{Z(this.observers[V])}catch(we){typeof console<"u"&&console.error&&console.error(we)}})}close(V){this.finalized||(this.finalized=!0,void 0!==V&&(this.finalError=V),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ln(){}function et($,V=1e3,Z=2){const we=V*Math.pow(Z,$),Q=Math.round(.5*we*(Math.random()-.5)*2);return Math.min(144e5,we+Q)}function Ut($){return $&&$._delegate?$._delegate:$}},7795:(dt,Ae,k)=>{var u=k(4650);let ee=null;function O(){return ee}const ae=new u.OlP("DocumentToken");let he=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function fe(){return(0,u.LFG)(H)}()},providedIn:"platform"}),n})();const j=new u.OlP("Location Initialized");let H=(()=>{class n extends he{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O().getBaseHref(this._doc)}onPopState(t){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){K()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){K()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ae))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function Le(){return new H((0,u.LFG)(ae))}()},providedIn:"platform"}),n})();function K(){return!!window.history.pushState}function xe(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function be(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function nt(n){return n&&"?"!==n[0]?"?"+n:n}let me=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(Xe)},providedIn:"root"}),n})();const pe=new u.OlP("appBaseHref");let Xe=(()=>{class n extends me{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,u.f3M)(ae).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return xe(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+nt(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,l){const d=this.prepareExternalUrl(i+nt(l));this._platformLocation.pushState(t,r,d)}replaceState(t,r,i,l){const d=this.prepareExternalUrl(i+nt(l));this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(he),u.LFG(pe,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ot=(()=>{class n extends me{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=xe(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,l){let d=this.prepareExternalUrl(i+nt(l));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(t,r,d)}replaceState(t,r,i,l){let d=this.prepareExternalUrl(i+nt(l));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(he),u.LFG(pe,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Me=(()=>{class n{constructor(t){this._subject=new u.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=be(Be(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+nt(r))}normalize(t){return n.stripTrailingSlash(function Ce(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Be(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+nt(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+nt(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=nt,n.joinWithSlash=xe,n.stripTrailingSlash=be,n.\u0275fac=function(t){return new(t||n)(u.LFG(me))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function Ee(){return new Me((0,u.LFG)(me))}()},providedIn:"root"}),n})();function Be(n){return n.replace(/\/index.html$/,"")}const je={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var B=(()=>((B=B||{})[B.Decimal=0]="Decimal",B[B.Percent=1]="Percent",B[B.Currency=2]="Currency",B[B.Scientific=3]="Scientific",B))(),W=(()=>((W=W||{})[W.Format=0]="Format",W[W.Standalone=1]="Standalone",W))(),J=(()=>((J=J||{})[J.Narrow=0]="Narrow",J[J.Abbreviated=1]="Abbreviated",J[J.Wide=2]="Wide",J[J.Short=3]="Short",J))(),ne=(()=>((ne=ne||{})[ne.Short=0]="Short",ne[ne.Medium=1]="Medium",ne[ne.Long=2]="Long",ne[ne.Full=3]="Full",ne))(),te=(()=>((te=te||{})[te.Decimal=0]="Decimal",te[te.Group=1]="Group",te[te.List=2]="List",te[te.PercentSign=3]="PercentSign",te[te.PlusSign=4]="PlusSign",te[te.MinusSign=5]="MinusSign",te[te.Exponential=6]="Exponential",te[te.SuperscriptingExponent=7]="SuperscriptingExponent",te[te.PerMille=8]="PerMille",te[te.Infinity=9]="Infinity",te[te.NaN=10]="NaN",te[te.TimeSeparator=11]="TimeSeparator",te[te.CurrencyDecimal=12]="CurrencyDecimal",te[te.CurrencyGroup=13]="CurrencyGroup",te))();function Jt(n,e){return Ke((0,u.cg1)(n)[u.wAp.DateFormat],e)}function tn(n,e){return Ke((0,u.cg1)(n)[u.wAp.TimeFormat],e)}function Vr(n,e){return Ke((0,u.cg1)(n)[u.wAp.DateTimeFormat],e)}function Ft(n,e){const t=(0,u.cg1)(n),r=t[u.wAp.NumberSymbols][e];if(typeof r>"u"){if(e===te.CurrencyDecimal)return t[u.wAp.NumberSymbols][te.Decimal];if(e===te.CurrencyGroup)return t[u.wAp.NumberSymbols][te.Group]}return r}function Di(n){if(!n[u.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[u.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Ke(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function Nr(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const Ri=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Vn={},Wn=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var vn=(()=>((vn=vn||{})[vn.Short=0]="Short",vn[vn.ShortGMT=1]="ShortGMT",vn[vn.Long=2]="Long",vn[vn.Extended=3]="Extended",vn))(),yt=(()=>((yt=yt||{})[yt.FullYear=0]="FullYear",yt[yt.Month=1]="Month",yt[yt.Date=2]="Date",yt[yt.Hours=3]="Hours",yt[yt.Minutes=4]="Minutes",yt[yt.Seconds=5]="Seconds",yt[yt.FractionalSeconds=6]="FractionalSeconds",yt[yt.Day=7]="Day",yt))(),lt=(()=>((lt=lt||{})[lt.DayPeriods=0]="DayPeriods",lt[lt.Days=1]="Days",lt[lt.Months=2]="Months",lt[lt.Eras=3]="Eras",lt))();function ln(n,e,t,r){let i=function $e(n){if(Xt(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,l=1,d=1]=n.split("-").map(p=>+p);return br(i,l-1,d)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(Ri))return function ht(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,l=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const d=Number(n[4]||0)-t,p=Number(n[5]||0)-r,y=Number(n[6]||0),w=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return l.call(e,d,p,y,w),e}(r)}const e=new Date(n);if(!Xt(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=Zn(t,e)||e;let p,d=[];for(;e;){if(p=Wn.exec(e),!p){d.push(e);break}{d=d.concat(p.slice(1));const T=d.pop();if(!T)break;e=T}}let y=i.getTimezoneOffset();r&&(y=Z(r,y),i=function Q(n,e,t){const r=t?-1:1,i=n.getTimezoneOffset();return function we(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(Z(e,i)-i))}(i,r,!0));let w="";return d.forEach(T=>{const M=function V(n){if($[n])return $[n];let e;switch(n){case"G":case"GG":case"GGG":e=rn(lt.Eras,J.Abbreviated);break;case"GGGG":e=rn(lt.Eras,J.Wide);break;case"GGGGG":e=rn(lt.Eras,J.Narrow);break;case"y":e=nn(yt.FullYear,1,0,!1,!0);break;case"yy":e=nn(yt.FullYear,2,0,!0,!0);break;case"yyy":e=nn(yt.FullYear,3,0,!1,!0);break;case"yyyy":e=nn(yt.FullYear,4,0,!1,!0);break;case"Y":e=Ut(1);break;case"YY":e=Ut(2,!0);break;case"YYY":e=Ut(3);break;case"YYYY":e=Ut(4);break;case"M":case"L":e=nn(yt.Month,1,1);break;case"MM":case"LL":e=nn(yt.Month,2,1);break;case"MMM":e=rn(lt.Months,J.Abbreviated);break;case"MMMM":e=rn(lt.Months,J.Wide);break;case"MMMMM":e=rn(lt.Months,J.Narrow);break;case"LLL":e=rn(lt.Months,J.Abbreviated,W.Standalone);break;case"LLLL":e=rn(lt.Months,J.Wide,W.Standalone);break;case"LLLLL":e=rn(lt.Months,J.Narrow,W.Standalone);break;case"w":e=It(1);break;case"ww":e=It(2);break;case"W":e=It(1,!0);break;case"d":e=nn(yt.Date,1);break;case"dd":e=nn(yt.Date,2);break;case"c":case"cc":e=nn(yt.Day,1);break;case"ccc":e=rn(lt.Days,J.Abbreviated,W.Standalone);break;case"cccc":e=rn(lt.Days,J.Wide,W.Standalone);break;case"ccccc":e=rn(lt.Days,J.Narrow,W.Standalone);break;case"cccccc":e=rn(lt.Days,J.Short,W.Standalone);break;case"E":case"EE":case"EEE":e=rn(lt.Days,J.Abbreviated);break;case"EEEE":e=rn(lt.Days,J.Wide);break;case"EEEEE":e=rn(lt.Days,J.Narrow);break;case"EEEEEE":e=rn(lt.Days,J.Short);break;case"a":case"aa":case"aaa":e=rn(lt.DayPeriods,J.Abbreviated);break;case"aaaa":e=rn(lt.DayPeriods,J.Wide);break;case"aaaaa":e=rn(lt.DayPeriods,J.Narrow);break;case"b":case"bb":case"bbb":e=rn(lt.DayPeriods,J.Abbreviated,W.Standalone,!0);break;case"bbbb":e=rn(lt.DayPeriods,J.Wide,W.Standalone,!0);break;case"bbbbb":e=rn(lt.DayPeriods,J.Narrow,W.Standalone,!0);break;case"B":case"BB":case"BBB":e=rn(lt.DayPeriods,J.Abbreviated,W.Format,!0);break;case"BBBB":e=rn(lt.DayPeriods,J.Wide,W.Format,!0);break;case"BBBBB":e=rn(lt.DayPeriods,J.Narrow,W.Format,!0);break;case"h":e=nn(yt.Hours,1,-12);break;case"hh":e=nn(yt.Hours,2,-12);break;case"H":e=nn(yt.Hours,1);break;case"HH":e=nn(yt.Hours,2);break;case"m":e=nn(yt.Minutes,1);break;case"mm":e=nn(yt.Minutes,2);break;case"s":e=nn(yt.Seconds,1);break;case"ss":e=nn(yt.Seconds,2);break;case"S":e=nn(yt.FractionalSeconds,1);break;case"SS":e=nn(yt.FractionalSeconds,2);break;case"SSS":e=nn(yt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Br(vn.Short);break;case"ZZZZZ":e=Br(vn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Br(vn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Br(vn.Long);break;default:return null}return $[n]=e,e}(T);w+=M?M(i,t,y):"''"===T?"'":T.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),w}function br(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Zn(n,e){const t=function Oe(n){return(0,u.cg1)(n)[u.wAp.LocaleId]}(n);if(Vn[t]=Vn[t]||{},Vn[t][e])return Vn[t][e];let r="";switch(e){case"shortDate":r=Jt(n,ne.Short);break;case"mediumDate":r=Jt(n,ne.Medium);break;case"longDate":r=Jt(n,ne.Long);break;case"fullDate":r=Jt(n,ne.Full);break;case"shortTime":r=tn(n,ne.Short);break;case"mediumTime":r=tn(n,ne.Medium);break;case"longTime":r=tn(n,ne.Long);break;case"fullTime":r=tn(n,ne.Full);break;case"short":const i=Zn(n,"shortTime"),l=Zn(n,"shortDate");r=Qr(Vr(n,ne.Short),[i,l]);break;case"medium":const d=Zn(n,"mediumTime"),p=Zn(n,"mediumDate");r=Qr(Vr(n,ne.Medium),[d,p]);break;case"long":const y=Zn(n,"longTime"),w=Zn(n,"longDate");r=Qr(Vr(n,ne.Long),[y,w]);break;case"full":const T=Zn(n,"fullTime"),M=Zn(n,"fullDate");r=Qr(Vr(n,ne.Full),[T,M])}return r&&(Vn[t][e]=r),r}function Qr(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function xt(n,e,t="-",r,i){let l="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,l=t));let d=String(n);for(;d.length<e;)d="0"+d;return r&&(d=d.slice(d.length-e)),l+d}function nn(n,e,t=0,r=!1,i=!1){return function(l,d){let p=function ki(n,e){switch(n){case yt.FullYear:return e.getFullYear();case yt.Month:return e.getMonth();case yt.Date:return e.getDate();case yt.Hours:return e.getHours();case yt.Minutes:return e.getMinutes();case yt.Seconds:return e.getSeconds();case yt.FractionalSeconds:return e.getMilliseconds();case yt.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,l);if((t>0||p>-t)&&(p+=t),n===yt.Hours)0===p&&-12===t&&(p=12);else if(n===yt.FractionalSeconds)return function Cs(n,e){return xt(n,3).substring(0,e)}(p,e);const y=Ft(d,te.MinusSign);return xt(p,e,y,r,i)}}function rn(n,e,t=W.Format,r=!1){return function(i,l){return function ir(n,e,t,r,i,l){switch(t){case lt.Months:return function Gt(n,e,t){const r=(0,u.cg1)(n),l=Ke([r[u.wAp.MonthsFormat],r[u.wAp.MonthsStandalone]],e);return Ke(l,t)}(e,i,r)[n.getMonth()];case lt.Days:return function en(n,e,t){const r=(0,u.cg1)(n),l=Ke([r[u.wAp.DaysFormat],r[u.wAp.DaysStandalone]],e);return Ke(l,t)}(e,i,r)[n.getDay()];case lt.DayPeriods:const d=n.getHours(),p=n.getMinutes();if(l){const w=function oi(n){const e=(0,u.cg1)(n);return Di(e),(e[u.wAp.ExtraData][2]||[]).map(r=>"string"==typeof r?Nr(r):[Nr(r[0]),Nr(r[1])])}(e),T=function ai(n,e,t){const r=(0,u.cg1)(n);Di(r);const l=Ke([r[u.wAp.ExtraData][0],r[u.wAp.ExtraData][1]],e)||[];return Ke(l,t)||[]}(e,i,r),M=w.findIndex(F=>{if(Array.isArray(F)){const[U,q]=F,le=d>=U.hours&&p>=U.minutes,_e=d<q.hours||d===q.hours&&p<q.minutes;if(U.hours<q.hours){if(le&&_e)return!0}else if(le||_e)return!0}else if(F.hours===d&&F.minutes===p)return!0;return!1});if(-1!==M)return T[M]}return function mt(n,e,t){const r=(0,u.cg1)(n),l=Ke([r[u.wAp.DayPeriodsFormat],r[u.wAp.DayPeriodsStandalone]],e);return Ke(l,t)}(e,i,r)[d<12?0:1];case lt.Eras:return function Ze(n,e){return Ke((0,u.cg1)(n)[u.wAp.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,l,n,e,t,r)}}function Br(n){return function(e,t,r){const i=-1*r,l=Ft(t,te.MinusSign),d=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case vn.Short:return(i>=0?"+":"")+xt(d,2,l)+xt(Math.abs(i%60),2,l);case vn.ShortGMT:return"GMT"+(i>=0?"+":"")+xt(d,1,l);case vn.Long:return"GMT"+(i>=0?"+":"")+xt(d,2,l)+":"+xt(Math.abs(i%60),2,l);case vn.Extended:return 0===r?"Z":(i>=0?"+":"")+xt(d,2,l)+":"+xt(Math.abs(i%60),2,l);default:throw new Error(`Unknown zone width "${n}"`)}}}function Dt(n){return br(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function It(n,e=!1){return function(t,r){let i;if(e){const l=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,d=t.getDate();i=1+Math.floor((d+l)/7)}else{const l=Dt(t),d=function et(n){const e=br(n,0,1).getDay();return br(n,0,1+(e<=4?4:11)-e)}(l.getFullYear()),p=l.getTime()-d.getTime();i=1+Math.round(p/6048e5)}return xt(i,n,Ft(r,te.MinusSign))}}function Ut(n,e=!1){return function(t,r){return xt(Dt(t).getFullYear(),n,Ft(r,te.MinusSign),e)}}const $={};function Z(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function Xt(n){return n instanceof Date&&!isNaN(n.valueOf())}const _n=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Ds(n,e,t,r,i){const d=function Tn(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(";"),i=r[0],l=r[1],d=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],p=d[0],y=d[1]||"";t.posPre=p.substring(0,p.indexOf("#"));for(let T=0;T<y.length;T++){const M=y.charAt(T);"0"===M?t.minFrac=t.maxFrac=T+1:"#"===M?t.maxFrac=T+1:t.posSuf+=M}const w=p.split(",");if(t.gSize=w[1]?w[1].length:0,t.lgSize=w[2]||w[1]?(w[2]||w[1]).length:0,l){const T=i.length-t.posPre.length-t.posSuf.length,M=l.indexOf("#");t.negPre=l.substring(0,M).replace(/'/g,""),t.negSuf=l.slice(M+T).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function gn(n,e){return(0,u.cg1)(n)[u.wAp.NumberFormats][e]}(e,B.Currency),Ft(e,te.MinusSign));return d.minFrac=function li(n){let e;const t=je[n];return t&&(e=t[2]),"number"==typeof e?e:2}(r),d.maxFrac=d.minFrac,function bn(n,e,t,r,i,l,d=!1){let p="",y=!1;if(isFinite(n)){let w=function ll(n){let r,i,l,d,p,e=Math.abs(n)+"",t=0;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(l=e.search(/e/i))>0?(i<0&&(i=l),i+=+e.slice(l+1),e=e.substring(0,l)):i<0&&(i=e.length),l=0;"0"===e.charAt(l);l++);if(l===(p=e.length))r=[0],i=1;else{for(p--;"0"===e.charAt(p);)p--;for(i-=l,r=[],d=0;l<=p;l++,d++)r[d]=Number(e.charAt(l))}return i>22&&(r=r.splice(0,21),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}(n);d&&(w=function Ks(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(w));let T=e.minInt,M=e.minFrac,F=e.maxFrac;if(l){const at=l.match(_n);if(null===at)throw new Error(`${l} is not a valid digit info`);const gt=at[1],ct=at[3],St=at[5];null!=gt&&(T=Kn(gt)),null!=ct&&(M=Kn(ct)),null!=St?F=Kn(St):null!=ct&&M>F&&(F=M)}!function Fi(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen;const l=Math.min(Math.max(e,i),t);let d=l+n.integerLen,p=r[d];if(d>0){r.splice(Math.max(n.integerLen,d));for(let M=d;M<r.length;M++)r[M]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,d=l+1),r[0]=0;for(let M=1;M<d;M++)r[M]=0}if(p>=5)if(d-1<0){for(let M=0;M>d;M--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[d-1]++;for(;i<Math.max(0,l);i++)r.push(0);let y=0!==l;const w=e+n.integerLen,T=r.reduceRight(function(M,F,U,q){return q[U]=(F+=M)<10?F:F-10,y&&(0===q[U]&&U>=w?q.pop():y=!1),F>=10?1:0},0);T&&(r.unshift(T),n.integerLen++)}(w,M,F);let U=w.digits,q=w.integerLen;const le=w.exponent;let _e=[];for(y=U.every(at=>!at);q<T;q++)U.unshift(0);for(;q<0;q++)U.unshift(0);q>0?_e=U.splice(q,U.length):(_e=U,U=[0]);const Ye=[];for(U.length>=e.lgSize&&Ye.unshift(U.splice(-e.lgSize,U.length).join(""));U.length>e.gSize;)Ye.unshift(U.splice(-e.gSize,U.length).join(""));U.length&&Ye.unshift(U.join("")),p=Ye.join(Ft(t,r)),_e.length&&(p+=Ft(t,i)+_e.join("")),le&&(p+=Ft(t,te.Exponential)+"+"+le)}else p=Ft(t,te.Infinity);return p=n<0&&!y?e.negPre+p+e.negSuf:e.posPre+p+e.posSuf,p}(n,d,e,te.CurrencyGroup,te.CurrencyDecimal,i).replace("\xa4",t).replace("\xa4","").trim()}function Kn(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}let fn=(()=>{class n{constructor(t,r,i,l){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=l,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,u.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,u.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.ZZ4),u.Y36(u.aQg),u.Y36(u.SBq),u.Y36(u.Qsj))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class ya{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Qi=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,l,d)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new ya(i.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)r.remove(null===l?void 0:l);else if(null!==l){const p=r.get(l);r.move(p,d),As(p,i)}});for(let i=0,l=r.length;i<l;i++){const p=r.get(i).context;p.index=i,p.count=l,p.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{As(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function As(n,e){n.context.$implicit=e.item}let Mn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new ku,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){fr("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){fr("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class ku{constructor(){this.$implicit=null,this.ngIf=null}}function fr(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,u.AaK)(e)}'.`)}let Xc=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,l]=t.split("."),d=-1===i.indexOf("-")?void 0:u.JOm.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,l?`${r}${l}`:r,d):this._renderer.removeStyle(this._ngEl.nativeElement,i,d)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.aQg),u.Y36(u.Qsj))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})(),dl=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:i,ngTemplateOutletContext:l,ngTemplateOutletInjector:d}=this;this._viewRef=r.createEmbeddedView(i,l,d?{injector:d}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[u.TTD]}),n})();function or(n,e){return new u.vHH(2100,!1)}const ug=new u.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let Xh=(()=>{class n{constructor(t,r){this.locale=t,this.defaultTimezone=r}transform(t,r="mediumDate",i,l){if(null==t||""===t||t!=t)return null;try{return ln(t,r,l||this.locale,i??this.defaultTimezone??void 0)}catch(d){throw or()}}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.soG,16),u.Y36(ug,24))},n.\u0275pipe=u.Yjl({name:"date",type:n,pure:!0,standalone:!0}),n})(),Ns=(()=>{class n{constructor(t,r="USD"){this._locale=t,this._defaultCurrencyCode=r}transform(t,r=this._defaultCurrencyCode,i="symbol",l,d){if(!function va(n){return!(null==n||""===n||n!=n)}(t))return null;d=d||this._locale,"boolean"==typeof i&&(i=i?"symbol":"code");let p=r||this._defaultCurrencyCode;"code"!==i&&(p="symbol"===i||"symbol-narrow"===i?function Is(n,e,t="en"){const r=function Yr(n){return(0,u.cg1)(n)[u.wAp.Currencies]}(t)[n]||je[n]||[],i=r[1];return"narrow"===e&&"string"==typeof i?i:r[0]||n}(p,"symbol"===i?"wide":"narrow",d):i);try{return Ds(function fl(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),d,p,r,l)}catch(y){throw or()}}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.soG,16),u.Y36(u.EJc,16))},n.\u0275pipe=u.Yjl({name:"currency",type:n,pure:!0,standalone:!0}),n})();let Vi=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();function Cr(n){return"server"===n}let pl=(()=>{class n{}return n.\u0275prov=(0,u.Yz7)({token:n,providedIn:"root",factory:()=>new sf((0,u.LFG)(ae),window)}),n})();class sf{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Hr(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const l=i.shadowRoot;if(l){const d=l.getElementById(e)||l.querySelector(`[name="${e}"]`);if(d)return d}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(r-l[0],i-l[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=ci(this.window.history)||ci(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function ci(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Xs extends class ld extends class de{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function re(n){ee||(ee=n)}(new Xs)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Al(){return eo=eo||document.querySelector("base"),eo?eo.getAttribute("href"):null}();return null==t?null:function ei(n){ar=ar||document.createElement("a"),ar.setAttribute("href",n);const e=ar.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){eo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function ul(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,l]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(l)}return null}(document.cookie,e)}}let ar,eo=null;const In=new u.OlP("TRANSITION_ID"),Qu=[{provide:u.ip1,useFactory:function ud(n,e,t){return()=>{t.get(u.CZH).donePromise.then(()=>{const r=O(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<i.length;l++)r.remove(i[l])})}},deps:[In,ae,u.zs3],multi:!0}];let Ju=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Ml=new u.OlP("EventManagerPlugins");let cd=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let l=0;l<i.length;l++){const d=i[l];if(d.supports(t))return this._eventNameToPlugin.set(t,d),d}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ml),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class xl{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=O().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let to=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Po=(()=>{class n extends to{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(l=>{const d=this._doc.createElement("style");d.textContent=l,i.push(r.appendChild(d))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(dd),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(dd))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ae))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function dd(n){O().remove(n)}const Oo={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},hd=/%COMP%/g;function Ol(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Ol(n,i,t):(i=i.replace(hd,n),t.push(i))}return t}function fd(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let ro=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Ro(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case u.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new pd(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case u.ifc.ShadowDom:return new gd(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Ol(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(cd),u.LFG(Po),u.LFG(u.AFp))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Ro{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Oo[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Sa(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Sa(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const l=Oo[i];l?e.setAttributeNS(l,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Oo[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(u.JOm.DashCase|u.JOm.Important)?e.style.setProperty(t,r,i&u.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&u.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,fd(r)):this.eventManager.addEventListener(e,t,fd(r))}}function Sa(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class pd extends Ro{constructor(e,t,r,i){super(e),this.component=r;const l=Ol(i+"-"+r.id,r.styles,[]);t.addStyles(l),this.contentAttr=function kn(n){return"_ngcontent-%COMP%".replace(hd,n)}(i+"-"+r.id),this.hostAttr=function Pl(n){return"_nghost-%COMP%".replace(hd,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class gd extends Ro{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=Ol(i.id,i.styles,[]);for(let d=0;d<l.length;d++){const p=document.createElement("style");p.textContent=l[d],this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let pr=(()=>{class n extends xl{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ae))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Aa=["alt","control","meta","shift"],Ma={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Bi={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let xa=(()=>{class n extends xl{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const l=n.parseEventName(r),d=n.eventCallback(l.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>O().onAndCancel(t,l.domEventName,d))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const l=n._normalizeKey(r.pop());let d="",p=r.indexOf("code");if(p>-1&&(r.splice(p,1),d="code."),Aa.forEach(w=>{const T=r.indexOf(w);T>-1&&(r.splice(T,1),d+=w+".")}),d+=l,0!=r.length||0===l.length)return null;const y={};return y.domEventName=i,y.fullKey=d,y}static matchEventFullKeyCode(t,r){let i=Ma[t.key]||t.key,l="";return r.indexOf("code.")>-1&&(i=t.code,l="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Aa.forEach(d=>{d!==i&&(0,Bi[d])(t)&&(l+=d+".")}),l+=i,l===r)}static eventCallback(t,r,i){return l=>{n.matchEventFullKeyCode(l,t)&&i.runGuarded(()=>r(l))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ae))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Ll=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:"browser"},{provide:u.g9A,useValue:function kl(){Xs.makeCurrent()},multi:!0},{provide:ae,useFactory:function Pa(){return(0,u.RDi)(document),document},deps:[]}]),Rs=new u.OlP(""),yd=[{provide:u.rWj,useClass:class lf{addToWindow(e){u.dqk.getAngularTestability=(r,i=!0)=>{const l=e.findTestabilityInTree(r,i);if(null==l)throw new Error("Could not find testability for element.");return l},u.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(r=>{const i=u.dqk.getAllAngularTestabilities();let l=i.length,d=!1;const p=function(y){d=d||y,l--,0==l&&r(d)};i.forEach(function(y){y.whenStable(p)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?O().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:u.lri,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]}],ks=[{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function so(){return new u.qLn},deps:[]},{provide:Ml,useClass:pr,multi:!0,deps:[ae,u.R0b,u.Lbi]},{provide:Ml,useClass:xa,multi:!0,deps:[ae]},{provide:ro,useClass:ro,deps:[cd,Po,u.AFp]},{provide:u.FYo,useExisting:ro},{provide:to,useExisting:Po},{provide:Po,useClass:Po,deps:[ae]},{provide:cd,useClass:cd,deps:[Ml,u.R0b]},{provide:class xo{},useClass:Ju,deps:[]},[]];let Vl=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:u.AFp,useValue:t.appId},{provide:In,useExisting:u.AFp},Qu]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Rs,12))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[...ks,...yd],imports:[Vi,u.hGG]}),n})(),ss=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ae))},n.\u0275prov=u.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function ko(){return new ss((0,u.LFG)(ae))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let Fa=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):u.LFG(gg),r},providedIn:"root"}),n})(),gg=(()=>{class n extends Fa{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case u.q3G.NONE:return r;case u.q3G.HTML:return(0,u.qzn)(r,"HTML")?(0,u.z3N)(r):(0,u.EiD)(this._doc,String(r)).toString();case u.q3G.STYLE:return(0,u.qzn)(r,"Style")?(0,u.z3N)(r):r;case u.q3G.SCRIPT:if((0,u.qzn)(r,"Script"))return(0,u.z3N)(r);throw new Error("unsafe value used in a script context");case u.q3G.URL:return(0,u.qzn)(r,"URL")?(0,u.z3N)(r):(0,u.mCW)(String(r));case u.q3G.RESOURCE_URL:if((0,u.qzn)(r,"ResourceURL"))return(0,u.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,u.JVY)(t)}bypassSecurityTrustStyle(t){return(0,u.L6k)(t)}bypassSecurityTrustScript(t){return(0,u.eBb)(t)}bypassSecurityTrustUrl(t){return(0,u.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,u.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ae))},n.\u0275prov=u.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function pg(n){return new gg(n.get(ae))}(u.LFG(u.zs3)),r},providedIn:"root"}),n})();var ni=k(2011),sn=k(8996),jo=k(7669);function rt(...n){const e=(0,jo.yG)(n);return(0,sn.D)(n,e)}var un=k(7579);class Fn extends un.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const as=(0,k(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Dr=k(9751);const{isArray:$l}=Array,{getPrototypeOf:mg,prototype:nc,keys:Gl}=Object;function uo(n){if(1===n.length){const e=n[0];if($l(e))return{args:e,keys:null};if(function zl(n){return n&&"object"==typeof n&&mg(n)===nc}(e)){const t=Gl(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var mr=k(4671),bt=k(4004);const{isArray:Ls}=Array;function Ho(n){return(0,bt.U)(e=>function ql(n,e){return Ls(e)?n(...e):n(e)}(n,e))}function Wl(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var lr=k(5403),La=k(9672);function df(...n){const e=(0,jo.yG)(n),t=(0,jo.jO)(n),{args:r,keys:i}=uo(n);if(0===r.length)return(0,sn.D)([],e);const l=new Dr.y(function Ed(n,e,t=mr.y){return r=>{hf(e,()=>{const{length:i}=n,l=new Array(i);let d=i,p=i;for(let y=0;y<i;y++)hf(e,()=>{const w=(0,sn.D)(n[y],e);let T=!1;w.subscribe((0,lr.x)(r,M=>{l[y]=M,T||(T=!0,p--),p||r.next(t(l.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,e,i?d=>Wl(i,d):mr.y));return t?l.pipe(Ho(t)):l}function hf(n,e,t){n?(0,La.f)(t,n,e):e()}var ls=k(8189);function co(...n){return function $o(){return(0,ls.J)(1)}()((0,sn.D)(n,(0,jo.yG)(n)))}var ri=k(8421);function Zl(n){return new Dr.y(e=>{(0,ri.Xf)(n()).subscribe(e)})}var Kl=k(9635),Mi=k(576);function ho(n,e){const t=(0,Mi.m)(n)?n:()=>n,r=i=>i.error(t());return new Dr.y(e?i=>e.schedule(r,0,i):r)}var Or=k(515),wd=k(727),jn=k(4482);function ji(){return(0,jn.e)((n,e)=>{let t=null;n._refCount++;const r=(0,lr.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,l=t;t=null,i&&(!l||i===l)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class rc extends Dr.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,jn.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new wd.w0;const t=this.getSubject();e.add(this.source.subscribe((0,lr.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=wd.w0.EMPTY)}return e}refCount(){return ji()(this)}}function zt(n,e){return(0,jn.e)((t,r)=>{let i=null,l=0,d=!1;const p=()=>d&&!i&&r.complete();t.subscribe((0,lr.x)(r,y=>{i?.unsubscribe();let w=0;const T=l++;(0,ri.Xf)(n(y,T)).subscribe(i=(0,lr.x)(r,M=>r.next(e?e(y,M,T,w++):M),()=>{i=null,p()}))},()=>{d=!0,p()}))})}function Va(n){return n<=0?()=>Or.E:(0,jn.e)((e,t)=>{let r=0;e.subscribe((0,lr.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function C(...n){const e=(0,jo.yG)(n);return(0,jn.e)((t,r)=>{(e?co(n,t,e):co(n,t)).subscribe(r)})}function D(n,e){return(0,jn.e)((t,r)=>{let i=0;t.subscribe((0,lr.x)(r,l=>n.call(e,l,i++)&&r.next(l)))})}var x=k(5577);function L(n){return(0,jn.e)((e,t)=>{let r=!1;e.subscribe((0,lr.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Y(n=oe){return(0,jn.e)((e,t)=>{let r=!1;e.subscribe((0,lr.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function oe(){return new as}function Ie(n,e){const t=arguments.length>=2;return r=>r.pipe(n?D((i,l)=>n(i,l,r)):mr.y,Va(1),t?L(e):Y(()=>new as))}function Ue(n,e){return(0,Mi.m)(e)?(0,x.z)(n,e,1):(0,x.z)(n,1)}var Qe=k(8505);function ft(n){return(0,jn.e)((e,t)=>{let l,r=null,i=!1;r=e.subscribe((0,lr.x)(t,void 0,void 0,d=>{l=(0,ri.Xf)(n(d,ft(n)(e))),r?(r.unsubscribe(),r=null,l.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,l.subscribe(t))})}function Lt(n,e,t,r,i){return(l,d)=>{let p=t,y=e,w=0;l.subscribe((0,lr.x)(d,T=>{const M=w++;y=p?n(y,T,M):(p=!0,T),r&&d.next(y)},i&&(()=>{p&&d.next(y),d.complete()})))}}function ut(n,e){return(0,jn.e)(Lt(n,e,arguments.length>=2,!0))}function Cn(n){return n<=0?()=>Or.E:(0,jn.e)((e,t)=>{let r=[];e.subscribe((0,lr.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function yr(n,e){const t=arguments.length>=2;return r=>r.pipe(n?D((i,l)=>n(i,l,r)):mr.y,Cn(1),t?L(e):Y(()=>new as))}function us(n){return(0,jn.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Ot="primary",hi=Symbol("RouteTitle");class fo{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function xi(n){return new fo(n)}function po(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let l=0;l<r.length;l++){const d=r[l],p=n[l];if(d.startsWith(":"))i[d.substring(1)]=p;else if(d!==p.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function cs(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let l=0;l<t.length;l++)if(i=t[l],!yg(n[i],e[i]))return!1;return!0}function yg(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,l)=>r[l]===i)}return n===e}function _g(n){return Array.prototype.concat.apply([],n)}function ff(n){return n.length>0?n[n.length-1]:null}function Yn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function qo(n){return(0,u.CqO)(n)?n:(0,u.QGY)(n)?(0,sn.D)(Promise.resolve(n)):rt(n)}const vg={exact:function gf(n,e,t){if(!Wo(n.segments,e.segments)||!Td(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!gf(n.children[r],e.children[r],t))return!1;return!0},subset:Dd},Yy={exact:function Qy(n,e){return cs(n,e)},subset:function Yl(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>yg(n[t],e[t]))},ignored:()=>!0};function Cd(n,e,t){return vg[t.paths](n.root,e.root,t.matrixParams)&&Yy[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Dd(n,e,t){return Ua(n,e,e.segments,t)}function Ua(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Wo(i,t)||e.hasChildren()||!Td(i,t,r))}if(n.segments.length===t.length){if(!Wo(n.segments,t)||!Td(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!Dd(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),l=t.slice(n.segments.length);return!!(Wo(n.segments,i)&&Td(n.segments,i,r)&&n.children[Ot])&&Ua(n.children[Ot],e,l,r)}}function Td(n,e,t){return e.every((r,i)=>Yy[t](n[i].parameters,r.parameters))}class Ba{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=xi(this.queryParams)),this._queryParamMap}toString(){return Jy.serialize(this)}}class Wt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Yn(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ql(this)}}class go{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=xi(this.parameters)),this._parameterMap}toString(){return wg(this)}}function Wo(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let yf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return new ds},providedIn:"root"}),n})();class ds{parse(e){const t=new Ad(e);return new Ba(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${ic(e.root,!0)}`,r=function e_(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Sd(t)}=${Sd(i)}`).join("&"):`${Sd(t)}=${Sd(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function hs(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Jy=new ds;function Ql(n){return n.segments.map(e=>wg(e)).join("/")}function ic(n,e){if(!n.hasChildren())return Ql(n);if(e){const t=n.children[Ot]?ic(n.children[Ot],!1):"",r=[];return Yn(n.children,(i,l)=>{l!==Ot&&r.push(`${l}:${ic(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Eg(n,e){let t=[];return Yn(n.children,(r,i)=>{i===Ot&&(t=t.concat(e(r,i)))}),Yn(n.children,(r,i)=>{i!==Ot&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Ot?[ic(n.children[Ot],!1)]:[`${i}:${ic(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ot]?`${Ql(n)}/${t[0]}`:`${Ql(n)}/(${t.join("//")})`}}function _f(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Sd(n){return _f(n).replace(/%3B/gi,";")}function Zo(n){return _f(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function sc(n){return decodeURIComponent(n)}function vf(n){return sc(n.replace(/\+/g,"%20"))}function wg(n){return`${Zo(n.path)}${function Xy(n){return Object.keys(n).map(e=>`;${Zo(e)}=${Zo(n[e])}`).join("")}(n.parameters)}`}const t_=/^[^\/()?;=#]+/;function oc(n){const e=n.match(t_);return e?e[0]:""}const bg=/^[^=?&#]+/,vE=/^[^&#]+/;class Ad{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Wt([],{}):new Wt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Ot]=new Wt(e,t)),r}parseSegment(){const e=oc(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new u.vHH(4009,!1);return this.capture(e),new go(sc(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=oc(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=oc(this.remaining);i&&(r=i,this.capture(r))}e[sc(t)]=sc(r)}parseQueryParam(e){const t=function n_(n){const e=n.match(bg);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const d=function ja(n){const e=n.match(vE);return e?e[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const i=vf(t),l=vf(r);if(e.hasOwnProperty(i)){let d=e[i];Array.isArray(d)||(d=[d],e[i]=d),d.push(l)}else e[i]=l}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=oc(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new u.vHH(4010,!1);let l;r.indexOf(":")>-1?(l=r.slice(0,r.indexOf(":")),this.capture(l),this.capture(":")):e&&(l=Ot);const d=this.parseChildren();t[l]=1===Object.keys(d).length?d[Ot]:new Wt([],d),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new u.vHH(4011,!1)}}function fs(n){return n.segments.length>0?new Wt([],{[Ot]:n}):n}function Vs(n){const e={};for(const r of Object.keys(n.children)){const l=Vs(n.children[r]);(l.segments.length>0||l.hasChildren())&&(e[r]=l)}return function Ig(n){if(1===n.numberOfChildren&&n.children[Ot]){const e=n.children[Ot];return new Wt(n.segments.concat(e.segments),e.children)}return n}(new Wt(n.segments,e))}function Us(n){return n instanceof Ba}function Ef(n,e,t,r,i){if(0===t.length)return ac(e.root,e.root,e.root,r,i);const l=function Tg(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Dg(!0,0,n);let e=0,t=!1;const r=n.reduce((i,l,d)=>{if("object"==typeof l&&null!=l){if(l.outlets){const p={};return Yn(l.outlets,(y,w)=>{p[w]="string"==typeof y?y.split("/"):y}),[...i,{outlets:p}]}if(l.segmentPath)return[...i,l.segmentPath]}return"string"!=typeof l?[...i,l]:0===d?(l.split("/").forEach((p,y)=>{0==y&&"."===p||(0==y&&""===p?t=!0:".."===p?e++:""!=p&&i.push(p))}),i):[...i,l]},[]);return new Dg(t,e,r)}(t);return l.toRoot()?ac(e.root,e.root,new Wt([],{}),r,i):function d(y){const w=function Sg(n,e,t,r){if(n.isAbsolute)return new Ha(e.root,!0,0);if(-1===r)return new Ha(t,t===e.root,0);return function lc(n,e,t){let r=n,i=e,l=t;for(;l>i;){if(l-=i,r=r.parent,!r)throw new u.vHH(4005,!1);i=r.segments.length}return new Ha(r,!1,i-l)}(t,r+(mo(n.commands[0])?0:1),n.numberOfDoubleDots)}(l,e,n.snapshot?._urlSegment,y),T=w.processChildren?uc(w.segmentGroup,w.index,l.commands):$a(w.segmentGroup,w.index,l.commands);return ac(e.root,w.segmentGroup,T,r,i)}(n.snapshot?._lastPathIndex)}function mo(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function xd(n){return"object"==typeof n&&null!=n&&n.outlets}function ac(n,e,t,r,i){let d,l={};r&&Yn(r,(y,w)=>{l[w]=Array.isArray(y)?y.map(T=>`${T}`):`${y}`}),d=n===e?t:wf(n,e,t);const p=fs(Vs(d));return new Ba(p,l,i)}function wf(n,e,t){const r={};return Yn(n.children,(i,l)=>{r[l]=i===e?t:wf(i,e,t)}),new Wt(n.segments,r)}class Dg{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&mo(r[0]))throw new u.vHH(4003,!1);const i=r.find(xd);if(i&&i!==ff(r))throw new u.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ha{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function $a(n,e,t){if(n||(n=new Wt([],{})),0===n.segments.length&&n.hasChildren())return uc(n,e,t);const r=function Qn(n,e,t){let r=0,i=e;const l={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return l;const d=n.segments[i],p=t[r];if(xd(p))break;const y=`${p}`,w=r<t.length-1?t[r+1]:null;if(i>0&&void 0===y)break;if(y&&w&&"object"==typeof w&&void 0===w.outlets){if(!If(y,w,d))return l;r+=2}else{if(!If(y,{},d))return l;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const l=new Wt(n.segments.slice(0,r.pathIndex),{});return l.children[Ot]=new Wt(n.segments.slice(r.pathIndex),n.children),uc(l,0,i)}return r.match&&0===i.length?new Wt(n.segments,{}):r.match&&!n.hasChildren()?Ga(n,e,t):r.match?uc(n,0,i):Ga(n,e,t)}function uc(n,e,t){if(0===t.length)return new Wt(n.segments,{});{const r=function Nd(n){return xd(n[0])?n[0].outlets:{[Ot]:n}}(t),i={};return Yn(r,(l,d)=>{"string"==typeof l&&(l=[l]),null!==l&&(i[d]=$a(n.children[d],e,l))}),Yn(n.children,(l,d)=>{void 0===r[d]&&(i[d]=l)}),new Wt(n.segments,i)}}function Ga(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const l=t[i];if(xd(l)){const y=r_(l.outlets);return new Wt(r,y)}if(0===i&&mo(t[0])){r.push(new go(n.segments[e].path,Pd(t[0]))),i++;continue}const d=xd(l)?l.outlets[Ot]:`${l}`,p=i<t.length-1?t[i+1]:null;d&&p&&mo(p)?(r.push(new go(d,Pd(p))),i+=2):(r.push(new go(d,{})),i++)}return new Wt(r,{})}function r_(n){const e={};return Yn(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Ga(new Wt([],{}),0,t))}),e}function Pd(n){const e={};return Yn(n,(t,r)=>e[r]=`${t}`),e}function If(n,e,t){return n==t.path&&cs(e,t.parameters)}class Bs{constructor(e,t){this.id=e,this.url=t}}class Cf extends Bs{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class za extends Bs{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Od extends Bs{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ag extends Bs{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Rd extends Bs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wE extends Bs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jl extends Bs{constructor(e,t,r,i,l){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=l,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Df extends Bs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mg extends Bs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xg{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ng{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Pg{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kd{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fd{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ld{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class i_{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Vd{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=$r(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=$r(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Ko(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Ko(e,this._root).map(t=>t.value)}}function $r(n,e){if(n===e.value)return e;for(const t of e.children){const r=$r(n,t);if(r)return r}return null}function Ko(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Ko(n,t);if(r.length)return r.unshift(e),r}return[]}class Gr{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Xl(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class eu extends Vd{constructor(e,t){super(e),this.snapshot=t,Sf(this,e)}toString(){return this.snapshot.toString()}}function qa(n,e){const t=function s_(n,e){const d=new tu([],{},{},"",{},Ot,e,null,n.root,-1,{});return new Ud("",new Gr(d,[]))}(n,e),r=new Fn([new go("",{})]),i=new Fn({}),l=new Fn({}),d=new Fn({}),p=new Fn(""),y=new Hi(r,i,d,p,l,Ot,e,t.root);return y.snapshot=t.root,new eu(new Gr(y,[]),t)}class Hi{constructor(e,t,r,i,l,d,p,y){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=l,this.outlet=d,this.component=p,this.title=this.data?.pipe((0,bt.U)(w=>w[hi]))??rt(void 0),this._futureSnapshot=y}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,bt.U)(e=>xi(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,bt.U)(e=>xi(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function cc(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],l=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(l.component)break;r--}}return function fi(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class tu{constructor(e,t,r,i,l,d,p,y,w,T,M,F){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=l,this.outlet=d,this.component=p,this.title=this.data?.[hi],this.routeConfig=y,this._urlSegment=w,this._lastPathIndex=T,this._correctedLastPathIndex=F??T,this._resolve=M}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=xi(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=xi(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ud extends Vd{constructor(e,t){super(t),this.url=e,Sf(this,t)}toString(){return Og(this._root)}}function Sf(n,e){e.value._routerState=n,e.children.forEach(t=>Sf(n,t))}function Og(n){const e=n.children.length>0?` { ${n.children.map(Og).join(", ")} } `:"";return`${n.value}${e}`}function dc(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,cs(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),cs(e.params,t.params)||n.params.next(t.params),function bd(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!cs(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),cs(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Jn(n,e){const t=cs(n.params,e.params)&&function mf(n,e){return Wo(n,e)&&n.every((t,r)=>cs(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Jn(n.parent,e.parent))}function Wa(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function o_(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Wa(n,r,i);return Wa(n,r)})}(n,e,t);return new Gr(r,i)}{if(n.shouldAttach(e.value)){const l=n.retrieve(e.value);if(null!==l){const d=l.route;return d.value._futureSnapshot=e.value,d.children=e.children.map(p=>Wa(n,p)),d}}const r=function yo(n){return new Hi(new Fn(n.url),new Fn(n.params),new Fn(n.queryParams),new Fn(n.fragment),new Fn(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(l=>Wa(n,l));return new Gr(r,i)}}const _o="ngNavigationCancelingError";function Mf(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Us(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Bd(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function Bd(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[_o]=!0,r.cancellationCode=e,t&&(r.url=t),r}function Rg(n){return hc(n)&&Us(n.url)}function hc(n){return n&&n[_o]}class bE{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new fc,this.attachRef=null}}let fc=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new bE,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Yo=!1;let xf=(()=>{class n{constructor(t,r,i,l,d){this.parentContexts=t,this.location=r,this.changeDetector=l,this.environmentInjector=d,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.name=i||Ot,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new u.vHH(4012,Yo);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new u.vHH(4012,Yo);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new u.vHH(4012,Yo);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new u.vHH(4013,Yo);this._activatedRoute=t;const i=this.location,d=t._futureSnapshot.component,p=this.parentContexts.getOrCreateContext(this.name).children,y=new _(t,p,i.injector);if(r&&function f(n){return!!n.resolveComponentFactory}(r)){const w=r.resolveComponentFactory(d);this.activated=i.createComponent(w,i.length,y)}else this.activated=i.createComponent(d,{index:i.length,injector:y,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(fc),u.Y36(u.s_b),u.$8M("name"),u.Y36(u.sBO),u.Y36(u.lqb))},n.\u0275dir=u.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class _{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Hi?this.route:e===fc?this.childContexts:this.parent.get(e,t)}}let m=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[u.jDz],decls:1,vars:0,template:function(t,r){1&t&&u._UZ(0,"router-outlet")},dependencies:[xf],encapsulation:2}),n})();function E(n,e){return n.providers&&!n._injector&&(n._injector=(0,u.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Xn(n){const e=n.children&&n.children.map(Xn),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ot&&(t.component=m),t}function Nn(n){return n.outlet||Ot}function jd(n,e){const t=n.filter(r=>Nn(r)===e);return t.push(...n.filter(r=>Nn(r)!==e)),t}function pc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class a_{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),dc(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Xl(t);e.children.forEach(l=>{const d=l.value.outlet;this.deactivateRoutes(l,i[d],r),delete i[d]}),Yn(i,(l,d)=>{this.deactivateRouteAndItsChildren(l,r)})}deactivateRoutes(e,t,r){const i=e.value,l=t?t.value:null;if(i===l)if(i.component){const d=r.getContext(i.outlet);d&&this.deactivateChildRoutes(e,t,d.children)}else this.deactivateChildRoutes(e,t,r);else l&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,l=Xl(e);for(const d of Object.keys(l))this.deactivateRouteAndItsChildren(l[d],i);if(r&&r.outlet){const d=r.outlet.detach(),p=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:d,route:e,contexts:p})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,l=Xl(e);for(const d of Object.keys(l))this.deactivateRouteAndItsChildren(l[d],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Xl(t);e.children.forEach(l=>{this.activateRoutes(l,i[l.value.outlet],r),this.forwardEvent(new Ld(l.value.snapshot))}),e.children.length&&this.forwardEvent(new kd(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,l=t?t.value:null;if(dc(i),i===l)if(i.component){const d=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,d.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const d=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const p=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),d.children.onOutletReAttached(p.contexts),d.attachRef=p.componentRef,d.route=p.route.value,d.outlet&&d.outlet.attach(p.componentRef,p.route.value),dc(p.route.value),this.activateChildRoutes(e,null,d.children)}else{const p=pc(i.snapshot),y=p?.get(u._Vd)??null;d.attachRef=null,d.route=i,d.resolver=y,d.injector=p,d.outlet&&d.outlet.activateWith(i,d.injector),this.activateChildRoutes(e,null,d.children)}}else this.activateChildRoutes(e,null,r)}}class kg{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class mc{constructor(e,t){this.component=e,this.route=t}}function l_(n,e,t){const r=n._root;return Za(r,e?e._root:null,t,[r.value])}function Qo(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,u.Z0I)(n)?e.get(n):n:r}function Za(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const l=Xl(e);return n.children.forEach(d=>{(function Nf(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,d=e?e.value:null,p=t?t.getContext(n.value.outlet):null;if(d&&l.routeConfig===d.routeConfig){const y=function Hd(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Wo(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Wo(n.url,e.url)||!cs(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Jn(n,e)||!cs(n.queryParams,e.queryParams);default:return!Jn(n,e)}}(d,l,l.routeConfig.runGuardsAndResolvers);y?i.canActivateChecks.push(new kg(r)):(l.data=d.data,l._resolvedData=d._resolvedData),Za(n,e,l.component?p?p.children:null:t,r,i),y&&p&&p.outlet&&p.outlet.isActivated&&i.canDeactivateChecks.push(new mc(p.outlet.component,d))}else d&&nu(e,p,i),i.canActivateChecks.push(new kg(r)),Za(n,null,l.component?p?p.children:null:t,r,i)})(d,l[d.value.outlet],t,r.concat([d.value]),i),delete l[d.value.outlet]}),Yn(l,(d,p)=>nu(d,t.getContext(p),i)),i}function nu(n,e,t){const r=Xl(n),i=n.value;Yn(r,(l,d)=>{nu(l,i.component?e?e.children.getContext(d):null:e,t)}),t.canDeactivateChecks.push(new mc(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function $d(n){return"function"==typeof n}function h_(n){return n instanceof as||"EmptyError"===n?.name}const Fg=Symbol("INITIAL_VALUE");function Gd(){return zt(n=>df(n.map(e=>e.pipe(Va(1),C(Fg)))).pipe((0,bt.U)(e=>{for(const t of e)if(!0!==t){if(t===Fg)return Fg;if(!1===t||t instanceof Ba)return t}return!0}),D(e=>e!==Fg),Va(1)))}function Lg(n){return(0,Kl.z)((0,Qe.b)(e=>{if(Us(e))throw Mf(0,e)}),(0,bt.U)(e=>!0===e))}const Of={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ii(n,e,t,r,i){const l=yc(n,e,t);return l.matched?function DE(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?rt(i.map(d=>{const p=Qo(d,n);return qo(function nD(n){return n&&$d(n.canMatch)}(p)?p.canMatch(e,t):n.runInContext(()=>p(e,t)))})).pipe(Gd(),Lg()):rt(!0)}(r=E(e,r),e,t).pipe((0,bt.U)(d=>!0===d?l:{...Of})):rt(l)}function yc(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Of}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||po)(t,n,e);if(!i)return{...Of};const l={};Yn(i.posParams,(p,y)=>{l[y]=p.path});const d=i.consumed.length>0?{...l,...i.consumed[i.consumed.length-1].parameters}:l;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:d,positionalParamSegments:i.posParams??{}}}function Rf(n,e,t,r,i="corrected"){if(t.length>0&&function TE(n,e,t){return t.some(r=>kf(n,e,r)&&Nn(r)!==Ot)}(n,t,r)){const d=new Wt(e,function cD(n,e,t,r){const i={};i[Ot]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const l of t)if(""===l.path&&Nn(l)!==Ot){const d=new Wt([],{});d._sourceSegment=n,d._segmentIndexShift=e.length,i[Nn(l)]=d}return i}(n,e,r,new Wt(t,n.children)));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:[]}}if(0===t.length&&function dD(n,e,t){return t.some(r=>kf(n,e,r))}(n,t,r)){const d=new Wt(n.segments,function uD(n,e,t,r,i,l){const d={};for(const p of r)if(kf(n,t,p)&&!i[Nn(p)]){const y=new Wt([],{});y._sourceSegment=n,y._segmentIndexShift="legacy"===l?n.segments.length:e.length,d[Nn(p)]=y}return{...i,...d}}(n,e,t,r,n.children,i));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:t}}const l=new Wt(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}function kf(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function SE(n,e,t,r){return!!(Nn(n)===r||r!==Ot&&kf(e,t,n))&&("**"===n.path||yc(e,n,t).matched)}function p_(n,e,t){return 0===e.length&&!n.children[t]}const Vg=!1;class Ug{constructor(e){this.segmentGroup=e||null}}class AE{constructor(e){this.urlTree=e}}function Ff(n){return ho(new Ug(n))}function ME(n){return ho(new AE(n))}class fD{constructor(e,t,r,i,l){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=l,this.allowRedirects=!0}apply(){const e=Rf(this.urlTree.root,[],[],this.config).segmentGroup,t=new Wt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Ot).pipe((0,bt.U)(l=>this.createUrlTree(Vs(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ft(l=>{if(l instanceof AE)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof Ug?this.noMatchError(l):l}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Ot).pipe((0,bt.U)(i=>this.createUrlTree(Vs(i),e.queryParams,e.fragment))).pipe(ft(i=>{throw i instanceof Ug?this.noMatchError(i):i}))}noMatchError(e){return new u.vHH(4002,Vg)}createUrlTree(e,t,r){const i=fs(e);return new Ba(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,bt.U)(l=>new Wt([],l))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const l of Object.keys(r.children))"primary"===l?i.unshift(l):i.push(l);return(0,sn.D)(i).pipe(Ue(l=>{const d=r.children[l],p=jd(t,l);return this.expandSegmentGroup(e,p,d,l).pipe((0,bt.U)(y=>({segment:y,outlet:l})))}),ut((l,d)=>(l[d.outlet]=d.segment,l),{}),yr())}expandSegment(e,t,r,i,l,d){return(0,sn.D)(r).pipe(Ue(p=>this.expandSegmentAgainstRoute(e,t,r,p,i,l,d).pipe(ft(w=>{if(w instanceof Ug)return rt(null);throw w}))),Ie(p=>!!p),ft((p,y)=>{if(h_(p))return p_(t,i,l)?rt(new Wt([],{})):Ff(t);throw p}))}expandSegmentAgainstRoute(e,t,r,i,l,d,p){return SE(i,t,l,d)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,l,d):p&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,l,d):Ff(t):Ff(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,l,d){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,d):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,l,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const l=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?ME(l):this.lineralizeSegments(r,l).pipe((0,x.z)(d=>{const p=new Wt(d,{});return this.expandSegment(e,p,t,d,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,l,d){const{matched:p,consumedSegments:y,remainingSegments:w,positionalParamSegments:T}=yc(t,i,l);if(!p)return Ff(t);const M=this.applyRedirectCommands(y,i.redirectTo,T);return i.redirectTo.startsWith("/")?ME(M):this.lineralizeSegments(i,M).pipe((0,x.z)(F=>this.expandSegment(e,t,r,F.concat(w),d,!1)))}matchSegmentAgainstRoute(e,t,r,i,l){return"**"===r.path?(e=E(r,e),r.loadChildren?(r._loadedRoutes?rt({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,bt.U)(p=>(r._loadedRoutes=p.routes,r._loadedInjector=p.injector,new Wt(i,{})))):rt(new Wt(i,{}))):ii(t,r,i,e).pipe(zt(({matched:d,consumedSegments:p,remainingSegments:y})=>d?this.getChildConfig(e=r._injector??e,r,i).pipe((0,x.z)(T=>{const M=T.injector??e,F=T.routes,{segmentGroup:U,slicedSegments:q}=Rf(t,p,y,F),le=new Wt(U.segments,U.children);if(0===q.length&&le.hasChildren())return this.expandChildren(M,F,le).pipe((0,bt.U)(gt=>new Wt(p,gt)));if(0===F.length&&0===q.length)return rt(new Wt(p,{}));const _e=Nn(r)===l;return this.expandSegment(M,le,F,q,_e?Ot:l,!0).pipe((0,bt.U)(at=>new Wt(p.concat(at.segments),at.children)))})):Ff(t)))}getChildConfig(e,t,r){return t.children?rt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?rt({routes:t._loadedRoutes,injector:t._loadedInjector}):function Ni(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?rt(!0):rt(i.map(d=>{const p=Qo(d,n);return qo(function eD(n){return n&&$d(n.canLoad)}(p)?p.canLoad(e,t):n.runInContext(()=>p(e,t)))})).pipe(Gd(),Lg())}(e,t,r).pipe((0,x.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,Qe.b)(l=>{t._loadedRoutes=l.routes,t._loadedInjector=l.injector})):function Ka(n){return ho(Bd(Vg,3))}())):rt({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return rt(r);if(i.numberOfChildren>1||!i.children[Ot])return ho(new u.vHH(4e3,Vg));i=i.children[Ot]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const l=this.createSegmentGroup(e,t.root,r,i);return new Ba(l,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Yn(e,(i,l)=>{if("string"==typeof i&&i.startsWith(":")){const p=i.substring(1);r[l]=t[p]}else r[l]=i}),r}createSegmentGroup(e,t,r,i){const l=this.createSegments(e,t.segments,r,i);let d={};return Yn(t.children,(p,y)=>{d[y]=this.createSegmentGroup(e,p,r,i)}),new Wt(l,d)}createSegments(e,t,r,i){return t.map(l=>l.path.startsWith(":")?this.findPosParam(e,l,i):this.findOrReturn(l,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new u.vHH(4001,Vg);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class xE{}class m_{constructor(e,t,r,i,l,d,p,y){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=l,this.paramsInheritanceStrategy=d,this.relativeLinkResolution=p,this.urlSerializer=y}recognize(){const e=Rf(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Ot).pipe((0,bt.U)(t=>{if(null===t)return null;const r=new tu([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ot,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Gr(r,t),l=new Ud(this.url,i);return this.inheritParamsAndData(l._root),l}))}inheritParamsAndData(e){const t=e.value,r=cc(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,sn.D)(Object.keys(r.children)).pipe(Ue(i=>{const l=r.children[i],d=jd(t,i);return this.processSegmentGroup(e,d,l,i)}),ut((i,l)=>i&&l?(i.push(...l),i):null),function Go(n,e=!1){return(0,jn.e)((t,r)=>{let i=0;t.subscribe((0,lr.x)(r,l=>{const d=n(l,i++);(d||e)&&r.next(l),!d&&r.complete()}))})}(i=>null!==i),L(null),yr(),(0,bt.U)(i=>{if(null===i)return null;const l=PE(i);return function y_(n){n.sort((e,t)=>e.value.outlet===Ot?-1:t.value.outlet===Ot?1:e.value.outlet.localeCompare(t.value.outlet))}(l),l}))}processSegment(e,t,r,i,l){return(0,sn.D)(t).pipe(Ue(d=>this.processSegmentAgainstRoute(d._injector??e,d,r,i,l)),Ie(d=>!!d),ft(d=>{if(h_(d))return p_(r,i,l)?rt([]):rt(null);throw d}))}processSegmentAgainstRoute(e,t,r,i,l){if(t.redirectTo||!SE(t,r,i,l))return rt(null);let d;if("**"===t.path){const p=i.length>0?ff(i).parameters:{},y=RE(r)+i.length;d=rt({snapshot:new tu(i,p,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,jg(t),Nn(t),t.component??t._loadedComponent??null,t,OE(r),y,__(t),y),consumedSegments:[],remainingSegments:[]})}else d=ii(r,t,i,e).pipe((0,bt.U)(({matched:p,consumedSegments:y,remainingSegments:w,parameters:T})=>{if(!p)return null;const M=RE(r)+y.length;return{snapshot:new tu(y,T,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,jg(t),Nn(t),t.component??t._loadedComponent??null,t,OE(r),M,__(t),M),consumedSegments:y,remainingSegments:w}}));return d.pipe(zt(p=>{if(null===p)return rt(null);const{snapshot:y,consumedSegments:w,remainingSegments:T}=p;e=t._injector??e;const M=t._loadedInjector??e,F=function pD(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:U,slicedSegments:q}=Rf(r,w,T,F.filter(_e=>void 0===_e.redirectTo),this.relativeLinkResolution);if(0===q.length&&U.hasChildren())return this.processChildren(M,F,U).pipe((0,bt.U)(_e=>null===_e?null:[new Gr(y,_e)]));if(0===F.length&&0===q.length)return rt([new Gr(y,[])]);const le=Nn(t)===l;return this.processSegment(M,F,U,q,le?Ot:l).pipe((0,bt.U)(_e=>null===_e?null:[new Gr(y,_e)]))}))}}function NE(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function PE(n){const e=[],t=new Set;for(const r of n){if(!NE(r)){e.push(r);continue}const i=e.find(l=>r.value.routeConfig===l.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=PE(r.children);e.push(new Gr(r.value,i))}return e.filter(r=>!t.has(r))}function OE(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function RE(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function jg(n){return n.data||{}}function __(n){return n.resolve||{}}function FE(n){return"string"==typeof n.title||null===n.title}function w_(n){return zt(e=>{const t=n(e);return t?(0,sn.D)(t).pipe((0,bt.U)(()=>e)):rt(e)})}let LE=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(l=>l.outlet===Ot);return r}getResolvedTitleForRoute(t){return t.data[hi]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(VE)},providedIn:"root"}),n})(),VE=(()=>{class n extends LE{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ss))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class mD{}class b_ extends class UE{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Wd=new u.OlP("",{providedIn:"root",factory:()=>({})}),I_=new u.OlP("ROUTES");let Hg=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return rt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=qo(t.loadComponent()).pipe((0,Qe.b)(l=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=l}),us(()=>{this.componentLoaders.delete(t)})),i=new rc(r,()=>new un.x).pipe(ji());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return rt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const l=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,bt.U)(p=>{this.onLoadEndListener&&this.onLoadEndListener(r);let y,w,T=!1;Array.isArray(p)?w=p:(y=p.create(t).injector,w=_g(y.get(I_,[],u.XFs.Self|u.XFs.Optional)));return{routes:w.map(Xn),injector:y}}),us(()=>{this.childrenLoaders.delete(r)})),d=new rc(l,()=>new un.x).pipe(ji());return this.childrenLoaders.set(r,d),d}loadModuleFactoryOrRoutes(t){return qo(t()).pipe((0,x.z)(r=>r instanceof u.YKP||Array.isArray(r)?rt(r):(0,sn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.zs3),u.LFG(u.Sil))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class HE{}class _c{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function $E(n){throw n}function yD(n,e,t){return e.parse("/")}const UM={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},$g={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function C_(){const n=(0,u.f3M)(yf),e=(0,u.f3M)(fc),t=(0,u.f3M)(Me),r=(0,u.f3M)(u.zs3),i=(0,u.f3M)(u.Sil),l=(0,u.f3M)(I_,{optional:!0})??[],d=(0,u.f3M)(Wd,{optional:!0})??{},p=(0,u.f3M)(VE),y=(0,u.f3M)(LE,{optional:!0}),w=(0,u.f3M)(HE,{optional:!0}),T=(0,u.f3M)(mD,{optional:!0}),M=new Tr(null,n,e,t,r,i,_g(l));return w&&(M.urlHandlingStrategy=w),T&&(M.routeReuseStrategy=T),M.titleStrategy=y??p,function _D(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(d,M),M}let Tr=(()=>{class n{constructor(t,r,i,l,d,p,y){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=l,this.config=y,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new un.x,this.errorHandler=$E,this.malformedUriErrorHandler=yD,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>rt(void 0),this.urlHandlingStrategy=new _c,this.routeReuseStrategy=new b_,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=d.get(Hg),this.configLoader.onLoadEndListener=F=>this.triggerEvent(new Ng(F)),this.configLoader.onLoadStartListener=F=>this.triggerEvent(new xg(F)),this.ngModule=d.get(u.h0i),this.console=d.get(u.c2e);const M=d.get(u.R0b);this.isNgZoneEnabled=M instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(y),this.currentUrlTree=function _E(){return new Ba(new Wt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=qa(this.currentUrlTree,this.rootComponentType),this.transitions=new Fn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(D(i=>0!==i.id),(0,bt.U)(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),zt(i=>{let l=!1,d=!1;return rt(i).pipe((0,Qe.b)(p=>{this.currentNavigation={id:p.id,initialUrl:p.rawUrl,extractedUrl:p.extractedUrl,trigger:p.source,extras:p.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),zt(p=>{const y=this.browserUrlTree.toString(),w=!this.navigated||p.extractedUrl.toString()!==y||y!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||w)&&this.urlHandlingStrategy.shouldProcessUrl(p.rawUrl))return Gg(p.source)&&(this.browserUrlTree=p.extractedUrl),rt(p).pipe(zt(M=>{const F=this.transitions.getValue();return r.next(new Cf(M.id,this.serializeUrl(M.extractedUrl),M.source,M.restoredState)),F!==this.transitions.getValue()?Or.E:Promise.resolve(M)}),function kM(n,e,t,r){return zt(i=>function hD(n,e,t,r,i){return new fD(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,bt.U)(l=>({...i,urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Qe.b)(M=>{this.currentNavigation={...this.currentNavigation,finalUrl:M.urlAfterRedirects},i.urlAfterRedirects=M.urlAfterRedirects}),function LM(n,e,t,r,i,l){return(0,x.z)(d=>function Jo(n,e,t,r,i,l,d="emptyOnly",p="legacy"){return new m_(n,e,t,r,i,d,p,l).recognize().pipe(zt(y=>null===y?function FM(n){return new Dr.y(e=>e.error(n))}(new xE):rt(y)))}(n,e,t,d.urlAfterRedirects,r.serialize(d.urlAfterRedirects),r,i,l).pipe((0,bt.U)(p=>({...d,targetSnapshot:p}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Qe.b)(M=>{if(i.targetSnapshot=M.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!M.extras.skipLocationChange){const U=this.urlHandlingStrategy.merge(M.urlAfterRedirects,M.rawUrl);this.setBrowserUrl(U,M)}this.browserUrlTree=M.urlAfterRedirects}const F=new Rd(M.id,this.serializeUrl(M.extractedUrl),this.serializeUrl(M.urlAfterRedirects),M.targetSnapshot);r.next(F)}));if(w&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:F,extractedUrl:U,source:q,restoredState:le,extras:_e}=p,Ye=new Cf(F,this.serializeUrl(U),q,le);r.next(Ye);const at=qa(U,this.rootComponentType).snapshot;return rt(i={...p,targetSnapshot:at,urlAfterRedirects:U,extras:{..._e,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=p.rawUrl,p.resolve(null),Or.E}),(0,Qe.b)(p=>{const y=new wE(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(y)}),(0,bt.U)(p=>i={...p,guards:l_(p.targetSnapshot,p.currentSnapshot,this.rootContexts)}),function rD(n,e){return(0,x.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:l,canDeactivateChecks:d}}=t;return 0===d.length&&0===l.length?rt({...t,guardsResult:!0}):function f_(n,e,t,r){return(0,sn.D)(n).pipe((0,x.z)(i=>function lD(n,e,t,r,i){const l=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return l&&0!==l.length?rt(l.map(p=>{const y=pc(e)??i,w=Qo(p,y);return qo(function tD(n){return n&&$d(n.canDeactivate)}(w)?w.canDeactivate(n,e,t,r):y.runInContext(()=>w(n,e,t,r))).pipe(Ie())})).pipe(Gd()):rt(!0)}(i.component,i.route,t,e,r)),Ie(i=>!0!==i,!0))}(d,r,i,n).pipe((0,x.z)(p=>p&&function c_(n){return"boolean"==typeof n}(p)?function iD(n,e,t,r){return(0,sn.D)(e).pipe(Ue(i=>co(function oD(n,e){return null!==n&&e&&e(new Pg(n)),rt(!0)}(i.route.parent,r),function sD(n,e){return null!==n&&e&&e(new Fd(n)),rt(!0)}(i.route,r),function aD(n,e,t){const r=e[e.length-1],l=e.slice(0,e.length-1).reverse().map(d=>function u_(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(d)).filter(d=>null!==d).map(d=>Zl(()=>rt(d.guards.map(y=>{const w=pc(d.node)??t,T=Qo(y,w);return qo(function Pf(n){return n&&$d(n.canActivateChild)}(T)?T.canActivateChild(r,n):w.runInContext(()=>T(r,n))).pipe(Ie())})).pipe(Gd())));return rt(l).pipe(Gd())}(n,i.path,t),function CE(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return rt(!0);const i=r.map(l=>Zl(()=>{const d=pc(e)??t,p=Qo(l,d);return qo(function d_(n){return n&&$d(n.canActivate)}(p)?p.canActivate(e,n):d.runInContext(()=>p(e,n))).pipe(Ie())}));return rt(i).pipe(Gd())}(n,i.route,t))),Ie(i=>!0!==i,!0))}(r,l,n,e):rt(p)),(0,bt.U)(p=>({...t,guardsResult:p})))})}(this.ngModule.injector,p=>this.triggerEvent(p)),(0,Qe.b)(p=>{if(i.guardsResult=p.guardsResult,Us(p.guardsResult))throw Mf(0,p.guardsResult);const y=new Jl(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot,!!p.guardsResult);this.triggerEvent(y)}),D(p=>!!p.guardsResult||(this.restoreHistory(p),this.cancelNavigationTransition(p,"",3),!1)),w_(p=>{if(p.guards.canActivateChecks.length)return rt(p).pipe((0,Qe.b)(y=>{const w=new Df(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(w)}),zt(y=>{let w=!1;return rt(y).pipe(function qd(n,e){return(0,x.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return rt(t);let l=0;return(0,sn.D)(i).pipe(Ue(d=>function v_(n,e,t,r){const i=n.routeConfig,l=n._resolve;return void 0!==i?.title&&!FE(i)&&(l[hi]=i.title),function kE(n,e,t,r){const i=function gD(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return rt({});const l={};return(0,sn.D)(i).pipe((0,x.z)(d=>function E_(n,e,t,r){const i=pc(e)??r,l=Qo(n,i);return qo(l.resolve?l.resolve(e,t):i.runInContext(()=>l(e,t)))}(n[d],e,t,r).pipe(Ie(),(0,Qe.b)(p=>{l[d]=p}))),Cn(1),function zo(n){return(0,bt.U)(()=>n)}(l),ft(d=>h_(d)?Or.E:ho(d)))}(l,n,e,r).pipe((0,bt.U)(d=>(n._resolvedData=d,n.data=cc(n,t).resolve,i&&FE(i)&&(n.data[hi]=i.title),null)))}(d.route,r,n,e)),(0,Qe.b)(()=>l++),Cn(1),(0,x.z)(d=>l===i.length?rt(t):Or.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Qe.b)({next:()=>w=!0,complete:()=>{w||(this.restoreHistory(y),this.cancelNavigationTransition(y,"",2))}}))}),(0,Qe.b)(y=>{const w=new Mg(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(w)}))}),w_(p=>{const y=w=>{const T=[];w.routeConfig?.loadComponent&&!w.routeConfig._loadedComponent&&T.push(this.configLoader.loadComponent(w.routeConfig).pipe((0,Qe.b)(M=>{w.component=M}),(0,bt.U)(()=>{})));for(const M of w.children)T.push(...y(M));return T};return df(y(p.targetSnapshot.root)).pipe(L(),Va(1))}),w_(()=>this.afterPreactivation()),(0,bt.U)(p=>{const y=function Af(n,e,t){const r=Wa(n,e._root,t?t._root:void 0);return new eu(r,e)}(this.routeReuseStrategy,p.targetSnapshot,p.currentRouterState);return i={...p,targetRouterState:y}}),(0,Qe.b)(p=>{this.currentUrlTree=p.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(p.urlAfterRedirects,p.rawUrl),this.routerState=p.targetRouterState,"deferred"===this.urlUpdateStrategy&&(p.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,p),this.browserUrlTree=p.urlAfterRedirects)}),((n,e,t)=>(0,bt.U)(r=>(new a_(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,p=>this.triggerEvent(p)),(0,Qe.b)({next(){l=!0},complete(){l=!0}}),us(()=>{l||d||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),ft(p=>{if(d=!0,hc(p)){Rg(p)||(this.navigated=!0,this.restoreHistory(i,!0));const y=new Od(i.id,this.serializeUrl(i.extractedUrl),p.message,p.cancellationCode);if(r.next(y),Rg(p)){const w=this.urlHandlingStrategy.merge(p.url,this.rawUrlTree),T={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Gg(i.source)};this.scheduleNavigation(w,"imperative",null,T,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const y=new Ag(i.id,this.serializeUrl(i.extractedUrl),p,i.targetSnapshot??void 0);r.next(y);try{i.resolve(this.errorHandler(p))}catch(w){i.reject(w)}}return Or.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},l=t.state?.navigationId?t.state:null;if(l){const p={...l};delete p.navigationId,delete p.\u0275routerPageId,0!==Object.keys(p).length&&(i.state=p)}const d=this.parseUrl(t.url);this.scheduleNavigation(d,r,l,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(Xn),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:l,fragment:d,queryParamsHandling:p,preserveFragment:y}=r,w=i||this.routerState.root,T=y?this.currentUrlTree.fragment:d;let M=null;switch(p){case"merge":M={...this.currentUrlTree.queryParams,...l};break;case"preserve":M=this.currentUrlTree.queryParams;break;default:M=l||null}return null!==M&&(M=this.removeEmptyProps(M)),Ef(w,this.currentUrlTree,t,M,T??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Us(t)?t:this.parseUrl(t),l=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function GE(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new u.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...UM}:!1===r?{...$g}:r,Us(t))return Cd(this.currentUrlTree,t,i);const l=this.parseUrl(t);return Cd(this.currentUrlTree,l,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const l=t[i];return null!=l&&(r[i]=l),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new za(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,l,d){if(this.disposed)return Promise.resolve(!1);let p,y,w;d?(p=d.resolve,y=d.reject,w=d.promise):w=new Promise((F,U)=>{p=F,y=U});const T=++this.navigationId;let M;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),M=i&&i.\u0275routerPageId?i.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):M=0,this.setTransition({id:T,targetPageId:M,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:l,resolve:p,reject:y,promise:w,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),w.catch(F=>Promise.reject(F))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),l={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",l):this.location.go(i,"",l)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,i){const l=new Od(t.id,this.serializeUrl(t.extractedUrl),r,i);this.triggerEvent(l),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:function(){return C_()},providedIn:"root"}),n})();function Gg(n){return"imperative"!==n}let ru=(()=>{class n{constructor(t,r,i,l,d){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=l,this.el=d,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new un.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,u.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,u.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,u.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==t?r.setAttribute(i,"tabindex",t):r.removeAttribute(i,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Tr),u.Y36(Hi),u.$8M("tabindex"),u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&u.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[u.TTD]}),n})(),vc=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new un.x,this.subscription=t.events.subscribe(l=>{l instanceof za&&this.updateTargetUrlAndHref()})}set preserveFragment(t){this._preserveFragment=(0,u.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,u.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,u.D6c)(t)}get replaceUrl(){return this._replaceUrl}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,l,d){return!!(0!==t||r||i||l||d||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Tr),u.Y36(Hi),u.Y36(me))},n.\u0275dir=u.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&u.NdJ("click",function(l){return r.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&t&&u.uIk("target",r.target)("href",r.href,u.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[u.TTD]}),n})();class qg{}let Uf=(()=>{class n{constructor(t,r,i,l,d){this.router=t,this.injector=i,this.preloadingStrategy=l,this.loader=d}setUpPreloading(){this.subscription=this.router.events.pipe(D(t=>t instanceof za),Ue(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const l of r){l.providers&&!l._injector&&(l._injector=(0,u.MMx)(l.providers,t,`Route: ${l.path}`));const d=l._injector??t,p=l._loadedInjector??d;l.loadChildren&&!l._loadedRoutes&&void 0===l.canLoad||l.loadComponent&&!l._loadedComponent?i.push(this.preloadConfig(d,l)):(l.children||l._loadedRoutes)&&i.push(this.processRoutes(p,l.children??l._loadedRoutes))}return(0,sn.D)(i).pipe((0,ls.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):rt(null);const l=i.pipe((0,x.z)(d=>null===d?rt(void 0):(r._loadedRoutes=d.routes,r._loadedInjector=d.injector,this.processRoutes(d.injector??t,d.routes))));if(r.loadComponent&&!r._loadedComponent){const d=this.loader.loadComponent(r);return(0,sn.D)([l,d]).pipe((0,ls.J)())}return l})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Tr),u.LFG(u.Sil),u.LFG(u.lqb),u.LFG(qg),u.LFG(Hg))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const D_=new u.OlP("");let T_=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Cf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof za&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof i_&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new i_(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function iu(n,e){return{\u0275kind:n,\u0275providers:e}}function Zg(n){return[{provide:I_,multi:!0,useValue:n}]}function A_(){const n=(0,u.f3M)(u.zs3);return e=>{const t=n.get(u.z2F);if(e!==t.components[0])return;const r=n.get(Tr),i=n.get(WE);1===n.get(Kg)&&r.initialNavigation(),n.get(ZE,null,u.XFs.Optional)?.setUpPreloading(),n.get(D_,null,u.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.next(),i.complete()}}const WE=new u.OlP("",{factory:()=>new un.x}),Kg=new u.OlP("",{providedIn:"root",factory:()=>1});const ZE=new u.OlP("");function KE(n){return iu(0,[{provide:ZE,useExisting:Uf},{provide:qg,useExisting:n}])}const YE=new u.OlP("ROUTER_FORROOT_GUARD"),QE=[Me,{provide:yf,useClass:ds},{provide:Tr,useFactory:C_},fc,{provide:Hi,useFactory:function S_(n){return n.routerState.root},deps:[Tr]},Hg];function bD(){return new u.PXZ("Router",Tr)}let JE=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[QE,[],Zg(t),{provide:YE,useFactory:ew,deps:[[Tr,new u.FiY,new u.tp0]]},{provide:Wd,useValue:r||{}},r?.useHash?{provide:me,useClass:ot}:{provide:me,useClass:Xe},{provide:D_,useFactory:()=>{const n=(0,u.f3M)(Tr),e=(0,u.f3M)(pl),t=(0,u.f3M)(Wd);return t.scrollOffset&&e.setOffset(t.scrollOffset),new T_(n,e,t)}},r?.preloadingStrategy?KE(r.preloadingStrategy).\u0275providers:[],{provide:u.PXZ,multi:!0,useFactory:bD},r?.initialNavigation?tw(r):[],[{provide:nw,useFactory:A_},{provide:u.tb,multi:!0,useExisting:nw}]]}}static forChild(t){return{ngModule:n,providers:[Zg(t)]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(YE,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[m]}),n})();function ew(n){return"guarded"}function tw(n){return["disabled"===n.initialNavigation?iu(3,[{provide:u.ip1,multi:!0,useFactory:()=>{const e=(0,u.f3M)(Tr);return()=>{e.setUpLocationChangeListener()}}},{provide:Kg,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?iu(2,[{provide:Kg,useValue:0},{provide:u.ip1,multi:!0,deps:[u.zs3],useFactory:e=>{const t=e.get(j,Promise.resolve());let r=!1;return()=>t.then(()=>new Promise(l=>{const d=e.get(Tr),p=e.get(WE);(function i(l){e.get(Tr).events.pipe(D(p=>p instanceof za||p instanceof Od||p instanceof Ag),(0,bt.U)(p=>p instanceof za||p instanceof Od&&(0===p.code||1===p.code)&&null),D(p=>null!==p),Va(1)).subscribe(()=>{l()})})(()=>{l(!0),r=!0}),d.afterPreactivation=()=>(l(!0),r||p.closed?rt(void 0):p),d.initialNavigation()}))}}]).\u0275providers:[]]}const nw=new u.OlP("");let M_=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n}),n})(),Ec=(()=>{class n extends M_{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,features:[u.qOj]}),n})();const Xo=new u.OlP("NgValueAccessor"),rw={provide:Xo,useExisting:(0,u.Gpc)(()=>su),multi:!0},SD=new u.OlP("CompositionEventMode");let su=(()=>{class n extends M_{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function wc(){const n=O()?O().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(SD,8))},n.\u0275dir=u.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&u.NdJ("input",function(l){return r._handleInput(l.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(l){return r._compositionEnd(l.target.value)})},features:[u._Bn([rw]),u.qOj]}),n})();function ou(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function AD(n){return null!=n&&"number"==typeof n.length}const Pi=new u.OlP("NgValidators"),bc=new u.OlP("NgAsyncValidators"),MD=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Bf{static min(e){return function xD(n){return e=>{if(ou(e.value)||ou(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function iw(n){return e=>{if(ou(e.value)||ou(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function Ic(n){return ou(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function sw(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function P_(n){return ou(n.value)||MD.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function jf(n){return e=>ou(e.value)||!AD(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function ow(n){return e=>AD(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function O_(n){if(!n)return Qg;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(ou(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return R_(e)}static composeAsync(e){return Xg(e)}}function Qg(n){return null}function aw(n){return null!=n}function lw(n){return(0,u.QGY)(n)?(0,sn.D)(n):n}function uw(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function cw(n,e){return e.map(t=>t(n))}function hw(n){return n.map(e=>function dw(n){return!n.validate}(e)?e:t=>e.validate(t))}function R_(n){if(!n)return null;const e=n.filter(aw);return 0==e.length?null:function(t){return uw(cw(t,e))}}function Jg(n){return null!=n?R_(hw(n)):null}function Xg(n){if(!n)return null;const e=n.filter(aw);return 0==e.length?null:function(t){return function TD(...n){const e=(0,jo.jO)(n),{args:t,keys:r}=uo(n),i=new Dr.y(l=>{const{length:d}=t;if(!d)return void l.complete();const p=new Array(d);let y=d,w=d;for(let T=0;T<d;T++){let M=!1;(0,ri.Xf)(t[T]).subscribe((0,lr.x)(l,F=>{M||(M=!0,w--),p[T]=F},()=>y--,void 0,()=>{(!y||!M)&&(w||l.next(r?Wl(r,p):p),l.complete())}))}});return e?i.pipe(Ho(e)):i}(cw(t,e).map(lw)).pipe((0,bt.U)(uw))}}function fw(n){return null!=n?Xg(hw(n)):null}function em(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function pw(n){return n._rawValidators}function ND(n){return n._rawAsyncValidators}function au(n){return n?Array.isArray(n)?n:[n]:[]}function Hf(n,e){return Array.isArray(n)?n.includes(e):n===e}function k_(n,e){const t=au(e);return au(n).forEach(i=>{Hf(t,i)||t.push(i)}),t}function $f(n,e){return au(e).filter(t=>!Hf(n,t))}class js{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Jg(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=fw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class pi extends js{get formDirective(){return null}get path(){return null}}class lu extends js{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class tm{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Gf=(()=>{class n extends tm{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(lu,2))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&u.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[u.qOj]}),n})(),zf=(()=>{class n extends tm{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(pi,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&u.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[u.qOj]}),n})();const Kd="VALID",im="INVALID",cu="PENDING",sm="DISABLED";function Ew(n){return(L_(n)?n.validators:n)||null}function RD(n){return Array.isArray(n)?Jg(n):n||null}function ww(n,e){return(L_(e)?e.asyncValidators:n)||null}function kD(n){return Array.isArray(n)?fw(n):n||null}function L_(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function FD(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new u.vHH(1e3,"");if(!r[t])throw new u.vHH(1001,"")}function LD(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new u.vHH(1002,"")})}class V_{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=RD(this._rawValidators),this._composedAsyncValidatorFn=kD(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Kd}get invalid(){return this.status===im}get pending(){return this.status==cu}get disabled(){return this.status===sm}get enabled(){return this.status!==sm}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=RD(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=kD(e)}addValidators(e){this.setValidators(k_(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(k_(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators($f(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators($f(e,this._rawAsyncValidators))}hasValidator(e){return Hf(this._rawValidators,e)}hasAsyncValidator(e){return Hf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=cu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=sm,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Kd,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Kd||this.status===cu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?sm:Kd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=cu,this._hasOwnPendingAsyncValidator=!0;const t=lw(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?sm:this.errors?im:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(cu)?cu:this._anyControlsHaveStatus(im)?im:Kd}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){L_(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class om extends V_{constructor(e,t,r){super(Ew(t),ww(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){LD(this,0,e),Object.keys(e).forEach(r=>{FD(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,l)=>{r=t(r,i,l)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class Iw extends om{}function Yd(n,e){return[...e.path,n]}function Qd(n,e){lm(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function UD(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Dw(n,e)})}(n,e),function BD(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Cw(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Dw(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function du(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Jd(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),um(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function am(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function lm(n,e){const t=pw(n);null!==e.validator?n.setValidators(em(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=ND(n);null!==e.asyncValidator?n.setAsyncValidators(em(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();am(e._rawValidators,i),am(e._rawAsyncValidators,i)}function um(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=pw(n);if(Array.isArray(i)&&i.length>0){const l=i.filter(d=>d!==e.validator);l.length!==i.length&&(t=!0,n.setValidators(l))}}if(null!==e.asyncValidator){const i=ND(n);if(Array.isArray(i)&&i.length>0){const l=i.filter(d=>d!==e.asyncValidator);l.length!==i.length&&(t=!0,n.setAsyncValidators(l))}}}const r=()=>{};return am(e._rawValidators,r),am(e._rawAsyncValidators,r),t}function Dw(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function dm(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function Zf(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(l=>{l.constructor===su?t=l:function Sw(n){return Object.getPrototypeOf(n.constructor)===Ec}(l)?r=l:i=l}),i||r||t||null}function j_(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function xw(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const th=class extends V_{constructor(e=null,t,r){super(Ew(t),ww(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),L_(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=xw(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){j_(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){j_(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){xw(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},zD={provide:lu,useExisting:(0,u.Gpc)(()=>G_)},Nw=(()=>Promise.resolve())();let G_=(()=>{class n extends lu{constructor(t,r,i,l,d){super(),this._changeDetectorRef=d,this.control=new th,this._registered=!1,this.update=new u.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Zf(0,l)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),dm(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Qd(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Nw.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&(0,u.D6c)(r);Nw.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?Yd(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(pi,9),u.Y36(Pi,10),u.Y36(bc,10),u.Y36(Xo,10),u.Y36(u.sBO,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[u._Bn([zD]),u.qOj,u.TTD]}),n})(),pm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const qD={provide:Xo,useExisting:(0,u.Gpc)(()=>Kf),multi:!0};let Kf=(()=>{class n extends Ec{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&u.NdJ("input",function(l){return r.onChange(l.target.value)})("blur",function(){return r.onTouched()})},features:[u._Bn([qD]),u.qOj]}),n})(),z_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const q_=new u.OlP("NgModelWithFormControlWarning"),Rw={provide:pi,useExisting:(0,u.Gpc)(()=>Yf)};let Yf=(()=>{class n extends pi{constructor(t,r){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new u.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(um(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Qd(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Jd(t.control||null,t,!1),function Aw(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function hm(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(Jd(r||null,t),(n=>n instanceof th)(i)&&(Qd(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function Wf(n,e){lm(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function Xd(n,e){return um(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){lm(this.form,this),this._oldForm&&um(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Pi,10),u.Y36(bc,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&u.NdJ("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([Rw]),u.qOj,u.TTD]}),n})();const mm={provide:lu,useExisting:(0,u.Gpc)(()=>nh)};let nh=(()=>{class n extends lu{constructor(t,r,i,l,d){super(),this._ngModelWarningConfig=d,this._added=!1,this.update=new u.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Zf(0,l)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),dm(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Yd(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(u.Y36(pi,13),u.Y36(Pi,10),u.Y36(bc,10),u.Y36(Xo,10),u.Y36(q_,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[u._Bn([mm]),u.qOj,u.TTD]}),n})();const ym={provide:Xo,useExisting:(0,u.Gpc)(()=>Q_),multi:!0};function QD(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Q_=(()=>{class n extends Ec{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=QD(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function Y_(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&u.NdJ("change",function(l){return r.onChange(l.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[u._Bn([ym]),u.qOj]}),n})(),J_=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(QD(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(Q_,9))},n.\u0275dir=u.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const Fw={provide:Xo,useExisting:(0,u.Gpc)(()=>Eo),multi:!0};function X_(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Eo=(()=>{class n extends Ec{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(l=>this._getOptionId(l));r=(l,d)=>{l._setSelected(i.indexOf(d.toString())>-1)}}else r=(i,l)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],l=r.selectedOptions;if(void 0!==l){const d=l;for(let p=0;p<d.length;p++){const w=this._getOptionValue(d[p].value);i.push(w)}}else{const d=r.options;for(let p=0;p<d.length;p++){const y=d[p];if(y.selected){const w=this._getOptionValue(y.value);i.push(w)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function Lw(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&u.NdJ("change",function(l){return r.onChange(l.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[u._Bn([Fw]),u.qOj]}),n})(),Qf=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(X_(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(X_(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(Eo,9))},n.\u0275dir=u.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),zw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[z_]}),n})(),nT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[zw]}),n})(),qw=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:q_,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[zw]}),n})();class ep extends V_{constructor(e,t,r){super(Ew(t),ww(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){LD(this,0,e),e.forEach((r,i)=>{FD(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function sh(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let Ww=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let l={};return sh(r)?l=r:null!==r&&(l.validators=r.validator,l.asyncValidators=r.asyncValidator),new om(i,l)}record(t,r=null){const i=this._reduceControls(t);return new Iw(i,r)}control(t,r,i){let l={};return this.useNonNullable?(sh(r)?l=r:(l.validators=r,l.asyncValidators=i),new th(t,{...l,nonNullable:!0})):new th(t,r,i)}array(t,r,i){const l=t.map(d=>this._createControl(d));return new ep(l,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof th||t instanceof V_?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:qw}),n})();var ta=k(4986),Sr=k(5813);function zr(){return(0,jn.e)((n,e)=>{let t,r=!1;n.subscribe((0,lr.x)(e,i=>{const l=t;t=i,r&&e.next([l,i]),r=!0}))})}function Em(n,e){return n===e}k(9545);var it,nv=k(3942),ye=k(5861),Hs=k(9681),Ya=k(4859),ps=k(1877),Qt=k(2090),oh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Gi={},hu=hu||{},kt=oh||self;function tp(){}function np(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function ah(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var wm="closure_uid_"+(1e9*Math.random()>>>0),Yw=0;function Qw(n,e,t){return n.call.apply(n.bind,arguments)}function Jw(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function gi(n,e,t){return(gi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Qw:Jw).apply(null,arguments)}function bm(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function qr(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,i,l){for(var d=Array(arguments.length-2),p=2;p<arguments.length;p++)d[p-2]=arguments[p];return e.prototype[i].apply(r,d)}}function fu(){this.s=this.s,this.o=this.o}var rv={};fu.prototype.s=!1,fu.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function Kw(n){return Object.prototype.hasOwnProperty.call(n,wm)&&n[wm]||(n[wm]=++Yw)}(this);delete rv[n]}},fu.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Im=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function iv(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function rp(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(np(r)){const i=n.length||0,l=r.length||0;n.length=i+l;for(let d=0;d<l;d++)n[i+d]=r[d]}else n.push(r)}}function Rr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Rr.prototype.h=function(){this.defaultPrevented=!0};var sv=function(){if(!kt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{kt.addEventListener("test",tp,e),kt.removeEventListener("test",tp,e)}catch{}return n}();function Cm(n){return/^[\s\xa0]*$/.test(n)}var ip=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function lh(n,e){return n<e?-1:n>e?1:0}function uh(){var n=kt.navigator;return n&&(n=n.userAgent)?n:""}function bo(n){return-1!=uh().indexOf(n)}function sp(n){return sp[" "](n),n}sp[" "]=tp;var op,n,tb=bo("Opera"),pu=bo("Trident")||bo("MSIE"),ov=bo("Edge"),av=ov||pu,lv=bo("Gecko")&&!(-1!=uh().toLowerCase().indexOf("webkit")&&!bo("Edge"))&&!(bo("Trident")||bo("MSIE"))&&!bo("Edge"),nb=-1!=uh().toLowerCase().indexOf("webkit")&&!bo("Edge");function uv(){var n=kt.document;return n?n.documentMode:void 0}e:{var cv="",Dm=(n=uh(),lv?/rv:([^\);]+)(\)|;)/.exec(n):ov?/Edge\/([\d\.]+)/.exec(n):pu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):nb?/WebKit\/(\S+)/.exec(n):tb?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Dm&&(cv=Dm?Dm[1]:""),pu){var Tm=uv();if(null!=Tm&&Tm>parseFloat(cv)){op=String(Tm);break e}}op=cv}var rb={};var ib=kt.document&&pu&&(uv()||parseInt(op,10))||void 0;function ch(n,e){if(Rr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(lv){e:{try{sp(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:sb[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&ch.X.h.call(this)}}qr(ch,Rr);var sb={2:"touch",3:"pen",4:"mouse"};ch.prototype.h=function(){ch.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var dh="closure_listenable_"+(1e6*Math.random()|0),ob=0;function ab(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=i,this.key=++ob,this.ba=this.ea=!1}function fv(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function pv(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function lb(n){const e={};for(const t in n)e[t]=n[t];return e}const gv="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ub(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let l=0;l<gv.length;l++)t=gv[l],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function ur(n){this.src=n,this.g={},this.h=0}function Am(n,e){var t=e.type;if(t in n.g){var l,r=n.g[t],i=Im(r,e);(l=0<=i)&&Array.prototype.splice.call(r,i,1),l&&(fv(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function mv(n,e,t,r){for(var i=0;i<n.length;++i){var l=n[i];if(!l.ba&&l.listener==e&&l.capture==!!t&&l.ha==r)return i}return-1}ur.prototype.add=function(n,e,t,r,i){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var d=mv(n,e,r,i);return-1<d?(e=n[d],t||(e.ea=!1)):((e=new ab(e,this.src,l,!!r,i)).ea=t,n.push(e)),e};var yv="closure_lm_"+(1e6*Math.random()|0),Mm={};function cb(n,e,t,r,i){if(r&&r.once)return Sc(n,e,t,r,i);if(Array.isArray(e)){for(var l=0;l<e.length;l++)cb(n,e[l],t,r,i);return null}return t=ap(t),n&&n[dh]?n.N(e,t,ah(r)?!!r.capture:!!r,i):_v(n,e,t,!1,r,i)}function _v(n,e,t,r,i,l){if(!e)throw Error("Invalid event type");var d=ah(i)?!!i.capture:!!i,p=xm(n);if(p||(n[yv]=p=new ur(n)),(t=p.add(e,t,r,d,l)).proxy)return t;if(r=function db(){const e=rT;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)sv||(i=d),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(Ev(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function Sc(n,e,t,r,i){if(Array.isArray(e)){for(var l=0;l<e.length;l++)Sc(n,e[l],t,r,i);return null}return t=ap(t),n&&n[dh]?n.O(e,t,ah(r)?!!r.capture:!!r,i):_v(n,e,t,!0,r,i)}function hb(n,e,t,r,i){if(Array.isArray(e))for(var l=0;l<e.length;l++)hb(n,e[l],t,r,i);else r=ah(r)?!!r.capture:!!r,t=ap(t),n&&n[dh]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=mv(l=n.g[e],t,r,i))&&(fv(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=xm(n))&&(e=n.g[e.toString()],n=-1,e&&(n=mv(e,t,r,i)),(t=-1<n?e[n]:null)&&vv(t))}function vv(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[dh])Am(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Ev(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=xm(e))?(Am(t,n),0==t.h&&(t.src=null,e[yv]=null)):fv(n)}}}function Ev(n){return n in Mm?Mm[n]:Mm[n]="on"+n}function rT(n,e){if(n.ba)n=!0;else{e=new ch(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&vv(n),n=t.call(r,e)}return n}function xm(n){return(n=n[yv])instanceof ur?n:null}var fb="__closure_events_fn_"+(1e9*Math.random()>>>0);function ap(n){return"function"==typeof n?n:(n[fb]||(n[fb]=function(e){return n.handleEvent(e)}),n[fb])}function Ar(){fu.call(this),this.i=new ur(this),this.P=this,this.I=null}function Sn(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Rr(e,n);else if(e instanceof Rr)e.target=e.target||n;else{var i=e;ub(e=new Rr(r,n),i)}if(i=!0,t)for(var l=t.length-1;0<=l;l--){var d=e.g=t[l];i=Nm(d,r,!0,e)&&i}if(i=Nm(d=e.g=n,r,!0,e)&&i,i=Nm(d,r,!1,e)&&i,t)for(l=0;l<t.length;l++)i=Nm(d=e.g=t[l],r,!1,e)&&i}function Nm(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,l=0;l<e.length;++l){var d=e[l];if(d&&!d.ba&&d.capture==t){var p=d.listener,y=d.ha||d.src;d.ea&&Am(n.i,d),i=!1!==p.call(y,r)&&i}}return i&&!r.defaultPrevented}qr(Ar,fu),Ar.prototype[dh]=!0,Ar.prototype.removeEventListener=function(n,e,t,r){hb(this,n,e,t,r)},Ar.prototype.M=function(){if(Ar.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)fv(t[r]);delete n.g[e],n.h--}}this.I=null},Ar.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Ar.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Pm=kt.JSON.stringify;function na(){var n=Om;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var wv,$s=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new pb,n=>n.reset());class pb{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function gb(n){kt.setTimeout(()=>{throw n},0)}function mb(n,e){wv||function iT(){var n=kt.Promise.resolve(void 0);wv=function(){n.then(lp)}}(),bv||(wv(),bv=!0),Om.add(n,e)}var bv=!1,Om=new class Io{constructor(){this.h=this.g=null}add(e,t){const r=$s.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function lp(){for(var n;n=na();){try{n.h.call(n.g)}catch(t){gb(t)}var e=$s;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}bv=!1}function Rm(n,e){Ar.call(this),this.h=n||1,this.g=e||kt,this.j=gi(this.lb,this),this.l=Date.now()}function km(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function Iv(n,e,t){if("function"==typeof n)t&&(n=gi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=gi(n.handleEvent,n)}return 2147483647<Number(e)?-1:kt.setTimeout(n,e||0)}function Cv(n){n.g=Iv(()=>{n.g=null,n.i&&(n.i=!1,Cv(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}qr(Rm,Ar),(it=Rm.prototype).ca=!1,it.R=null,it.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Sn(this,"tick"),this.ca&&(km(this),this.start()))}},it.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},it.M=function(){Rm.X.M.call(this),km(this),delete this.g};class yb extends fu{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Cv(this)}M(){super.M(),this.g&&(kt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gu(n){fu.call(this),this.h=n,this.g={}}qr(gu,fu);var _b=[];function Dv(n,e,t,r){Array.isArray(t)||(t&&(_b[0]=t.toString()),t=_b);for(var i=0;i<t.length;i++){var l=cb(e,t[i],r||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function Tv(n){pv(n.g,function(e,t){this.g.hasOwnProperty(t)&&vv(e)},n),n.g={}}function hh(){this.g=!0}function Ac(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function wb(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var l=i[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var d=1;d<i.length;d++)i[d]=""}}}return Pm(t)}catch{return e}}(n,t)+(r?" "+r:"")})}gu.prototype.M=function(){gu.X.M.call(this),Tv(this)},gu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},hh.prototype.Aa=function(){this.g=!1},hh.prototype.info=function(){};var mu={},Sv=null;function up(){return Sv=Sv||new Ar}function Av(n){Rr.call(this,mu.Pa,n)}function cp(n){const e=up();Sn(e,new Av(e,n))}function bb(n,e){Rr.call(this,mu.STAT_EVENT,n),this.stat=e}function Oi(n){const e=up();Sn(e,new bb(e,n))}function Ib(n,e){Rr.call(this,mu.Qa,n),this.size=e}function dp(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return kt.setTimeout(function(){n()},e)}mu.Pa="serverreachability",qr(Av,Rr),mu.STAT_EVENT="statevent",qr(bb,Rr),mu.Qa="timingevent",qr(Ib,Rr);var Lm={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Cb={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Mv(){}function Tb(){}Mv.prototype.h=null;var Pv,hp={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function xv(){Rr.call(this,"d")}function Nv(){Rr.call(this,"c")}function Vm(){}function fp(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new gu(this),this.O=sT,this.T=new Rm(n=av?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Sb}function Sb(){this.i=null,this.g="",this.h=!1}qr(xv,Rr),qr(Nv,Rr),qr(Vm,Mv),Vm.prototype.g=function(){return new XMLHttpRequest},Vm.prototype.i=function(){return{}},Pv=new Vm;var sT=45e3,Um={},pp={};function Bm(n,e,t){n.K=1,n.v=Hm(ra(e)),n.s=t,n.P=!0,Ov(n,null)}function Ov(n,e){n.F=Date.now(),fh(n),n.A=ra(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),jv(t.i,"t",r),n.C=0,t=n.l.H,n.h=new Sb,n.g=Xm(n.l,t?e:null,!n.s),0<n.N&&(n.L=new yb(gi(n.La,n,n.g),n.N)),Dv(n.S,n.g,"readystatechange",n.ib),e=n.H?lb(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),cp(1),function Fm(n,e,t,r,i,l){n.info(function(){if(n.g)if(l)for(var d="",p=l.split("&"),y=0;y<p.length;y++){var w=p[y].split("=");if(1<w.length){var T=w[0];w=w[1];var M=T.split("_");d=2<=M.length&&"type"==M[1]?d+(T+"=")+w+"&":d+(T+"=redacted&")}}else d=null;else d=l;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+d})}(n.j,n.u,n.A,n.m,n.U,n.s)}function Rv(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function kv(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=Ab(n,t),i==pp){4==e&&(n.o=4,Oi(14),r=!1),Ac(n.j,n.m,null,"[Incomplete Response]");break}if(i==Um){n.o=4,Oi(15),Ac(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Ac(n.j,n.m,i,null),Lv(n,i)}Rv(n)&&i!=pp&&i!=Um&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Oi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Qv(e),e.K=!0,Oi(11))):(Ac(n.j,n.m,t,"[Invalid Chunked Response]"),gs(n),Mc(n))}function Ab(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?pp:(t=Number(e.substring(t,r)),isNaN(t)?Um:(r+=1)+t>e.length?pp:(e=e.substr(r,t),n.C=r+t,e))}function fh(n){n.V=Date.now()+n.O,Fv(n,n.O)}function Fv(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=dp(gi(n.gb,n),e)}function gp(n){n.B&&(kt.clearTimeout(n.B),n.B=null)}function Mc(n){0==n.l.G||n.I||Jv(n.l,n)}function gs(n){gp(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,km(n.T),Tv(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Lv(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||yh(t.h,n)))if(!n.J&&yh(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;Jm(t),Km(t)}Ym(t),Oi(18)}}else t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&0==t.A&&!t.v&&(t.v=dp(gi(t.cb,t),6e3));if(1>=Rb(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else xc(t,11)}else if((n.J||t.g==n)&&Jm(t),!Cm(e))for(i=t.Fa.g.parse(e),e=0;e<i.length;e++){let w=i[e];if(t.T=w[0],w=w[1],2==t.G)if("c"==w[0]){t.I=w[1],t.ka=w[2];const T=w[3];null!=T&&(t.ma=T,t.j.info("VER="+t.ma));const M=w[4];null!=M&&(t.Ca=M,t.j.info("SVER="+t.Ca));const F=w[5];null!=F&&"number"==typeof F&&0<F&&(t.J=r=1.5*F,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const U=n.g;if(U){const q=U.g?U.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(q){var l=r.h;l.g||-1==q.indexOf("spdy")&&-1==q.indexOf("quic")&&-1==q.indexOf("h2")||(l.j=l.l,l.g=new Set,l.h&&(Gm(l,l.h),l.h=null))}if(r.D){const le=U.g?U.g.getResponseHeader("X-HTTP-Session-Id"):null;le&&(r.za=le,Hn(r.F,r.D,le))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var d=n;if((r=t).sa=Hb(r,r.H?r.ka:null,r.V),d.J){Hv(r.h,d);var p=d,y=r.J;y&&p.setTimeout(y),p.B&&(gp(p),fh(p)),r.g=d}else Bb(r);0<t.i.length&&_u(t)}else"stop"!=w[0]&&"close"!=w[0]||xc(t,7);else 3==t.G&&("stop"==w[0]||"close"==w[0]?"stop"==w[0]?xc(t,7):Zm(t):"noop"!=w[0]&&t.l&&t.l.wa(w),t.A=0)}cp(4)}catch{}}function Mb(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(np(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function ph(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(np(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function oT(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(np(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,l=0;l<i;l++)e.call(void 0,r[l],t&&t[l],n)}(it=fp.prototype).setTimeout=function(n){this.O=n},it.ib=function(n){n=n.target;const e=this.L;e&&3==ms(n)?e.l():this.La(n)},it.La=function(n){try{if(n==this.g)e:{const T=ms(this.g);var e=this.g.Ea();const M=this.g.aa();if(!(3>T)&&(3!=T||av||this.g&&(this.h.h||this.g.fa()||Fb(this.g)))){this.I||4!=T||7==e||cp(8==e||0>=M?3:2),gp(this);var t=this.g.aa();this.Y=t;t:if(Rv(this)){var r=Fb(this.g);n="";var i=r.length,l=4==ms(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){gs(this),Mc(this);var d="";break t}this.h.i=new kt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:l&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.fa();if(this.i=200==t,function vb(n,e,t,r,i,l,d){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+l+" "+d})}(this.j,this.u,this.A,this.m,this.U,T,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var p,y=this.g;if((p=y.g?y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Cm(p)){var w=p;break t}}w=null}if(!(t=w)){this.i=!1,this.o=3,Oi(12),gs(this),Mc(this);break e}Ac(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Lv(this,t)}this.P?(kv(this,T,d),av&&this.i&&3==T&&(Dv(this.S,this.T,"tick",this.hb),this.T.start())):(Ac(this.j,this.m,d,null),Lv(this,d)),4==T&&gs(this),this.i&&!this.I&&(4==T?Jv(this.l,this):(this.i=!1,fh(this)))}else 400==t&&0<d.indexOf("Unknown SID")?(this.o=3,Oi(12)):(this.o=0,Oi(13)),gs(this),Mc(this)}}}catch{}},it.hb=function(){if(this.g){var n=ms(this.g),e=this.g.fa();this.C<e.length&&(gp(this),kv(this,n,e),this.i&&4!=n&&fh(this))}},it.cancel=function(){this.I=!0,gs(this)},it.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function Eb(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(cp(3),Oi(17)),gs(this),this.o=2,Mc(this)):Fv(this,this.V-n)};var jm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yu(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof yu){this.h=void 0!==e?e:n.h,Vv(this,n.j),this.s=n.s,this.g=n.g,Et(this,n.m),this.l=n.l,e=n.i;var t=new _p;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),xb(this,t),this.o=n.o}else n&&(t=String(n).match(jm))?(this.h=!!e,Vv(this,t[1]||"",!0),this.s=ia(t[2]||""),this.g=ia(t[3]||"",!0),Et(this,t[4]),this.l=ia(t[5]||"",!0),xb(this,t[6]||"",!0),this.o=ia(t[7]||"")):(this.h=!!e,this.i=new _p(null,this.h))}function ra(n){return new yu(n)}function Vv(n,e,t){n.j=t?ia(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Et(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function xb(n,e,t){e instanceof _p?(n.i=e,function aT(n,e){e&&!n.j&&(Qa(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(Uv(this,r),jv(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=mp(e,Nb)),n.i=new _p(e,n.h))}function Hn(n,e,t){n.i.set(e,t)}function Hm(n){return Hn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function ia(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function mp(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,$m),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function $m(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}yu.prototype.toString=function(){var n=[],e=this.j;e&&n.push(mp(e,yp,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(mp(e,yp,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(mp(t,"/"==t.charAt(0)?ox:cr,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",mp(t,Pb)),n.join("")};var yp=/[#\/\?@]/g,cr=/[#\?:]/g,ox=/[#\?]/g,Nb=/[#\?@]/g,Pb=/#/g;function _p(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Qa(n){n.g||(n.g=new Map,n.h=0,n.i&&function sx(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var l=n[t].substring(0,r);i=n[t].substring(r+1)}else l=n[t];e(l,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Uv(n,e){Qa(n),e=gh(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function Bv(n,e){return Qa(n),e=gh(n,e),n.g.has(e)}function jv(n,e,t){Uv(n,e),0<t.length&&(n.i=null,n.g.set(gh(n,e),iv(t)),n.h+=t.length)}function gh(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function mh(n){this.l=n||uT,n=kt.PerformanceNavigationTiming?0<(n=kt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(kt.g&&kt.g.Ga&&kt.g.Ga()&&kt.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(it=_p.prototype).add=function(n,e){Qa(this),this.i=null,n=gh(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},it.forEach=function(n,e){Qa(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},it.oa=function(){Qa(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let l=0;l<i.length;l++)t.push(e[r])}return t},it.W=function(n){Qa(this);let e=[];if("string"==typeof n)Bv(this,n)&&(e=e.concat(this.g.get(gh(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},it.set=function(n,e){return Qa(this),this.i=null,Bv(this,n=gh(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},it.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},it.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const l=encodeURIComponent(String(r)),d=this.W(r);for(r=0;r<d.length;r++){var i=l;""!==d[r]&&(i+="="+encodeURIComponent(String(d[r]))),n.push(i)}}return this.i=n.join("&")};var uT=10;function Ob(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Rb(n){return n.h?1:n.g?n.g.size:0}function yh(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Gm(n,e){n.g?n.g.add(e):n.h=e}function Hv(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function $v(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return iv(n.i)}function Gv(){}function vp(){this.g=new Gv}function Ep(n,e,t){const r=t||"";try{Mb(n,function(i,l){let d=i;ah(i)&&(d=Pm(i)),e.push(r+l+"="+encodeURIComponent(d))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function zm(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function wp(n){this.l=n.ac||null,this.j=n.jb||!1}function bp(n,e){Ar.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=qm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}mh.prototype.cancel=function(){if(this.i=$v(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Gv.prototype.stringify=function(n){return kt.JSON.stringify(n,void 0)},Gv.prototype.parse=function(n){return kt.JSON.parse(n,void 0)},qr(wp,Mv),wp.prototype.g=function(){return new bp(this.l,this.j)},wp.prototype.i=function(n){return function(){return n}}({}),qr(bp,Ar);var qm=0;function zv(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function Ip(n){n.readyState=4,n.l=null,n.j=null,n.A=null,_h(n)}function _h(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(it=bp.prototype).open=function(n,e){if(this.readyState!=qm)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,_h(this)},it.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||kt).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},it.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ip(this)),this.readyState=qm},it.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,_h(this)),this.g&&(this.readyState=3,_h(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof kt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;zv(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},it.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Ip(this):_h(this),3==this.readyState&&zv(this)}},it.Va=function(n){this.g&&(this.response=this.responseText=n,Ip(this))},it.Ua=function(n){this.g&&(this.response=n,Ip(this))},it.ga=function(){this.g&&Ip(this)},it.setRequestHeader=function(n,e){this.v.append(n,e)},it.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},it.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(bp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var dT=kt.JSON.parse;function dr(n){Ar.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=hT,this.K=this.L=!1}qr(dr,Ar);var hT="",ax=/^https?$/i,lx=["POST","PUT"];function qv(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Cp(n),Wm(n)}function Cp(n){n.D||(n.D=!0,Sn(n,"complete"),Sn(n,"error"))}function kb(n){if(n.h&&typeof hu<"u"&&(!n.C[1]||4!=ms(n)||2!=n.aa()))if(n.v&&4==ms(n))Iv(n.Ha,0,n);else if(Sn(n,"readystatechange"),4==ms(n)){n.h=!1;try{const p=n.aa();e:switch(p){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===p){var i=String(n.H).match(jm)[1]||null;if(!i&&kt.self&&kt.self.location){var l=kt.self.location.protocol;i=l.substr(0,l.length-1)}r=!ax.test(i?i.toLowerCase():"")}t=r}if(t)Sn(n,"complete"),Sn(n,"success");else{n.m=6;try{var d=2<ms(n)?n.g.statusText:""}catch{d=""}n.j=d+" ["+n.aa()+"]",Cp(n)}}finally{Wm(n)}}}function Wm(n,e){if(n.g){Wv(n);const t=n.g,r=n.C[0]?tp:null;n.g=null,n.C=null,e||Sn(n,"ready");try{t.onreadystatechange=r}catch{}}}function Wv(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(kt.clearTimeout(n.A),n.A=null)}function ms(n){return n.g?n.g.readyState:0}function Fb(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case hT:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function Lb(n){let e="";return pv(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function Zv(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=Lb(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Hn(n,e,t))}function Dp(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Vb(n){this.Ca=0,this.i=[],this.j=new hh,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Dp("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Dp("baseRetryDelayMs",5e3,n),this.bb=Dp("retryDelaySeedMs",1e4,n),this.$a=Dp("forwardChannelMaxRetries",2,n),this.ta=Dp("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new mh(n&&n.concurrentRequestLimit),this.Fa=new vp,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Zm(n){if(Ub(n),3==n.G){var e=n.U++,t=ra(n.F);Hn(t,"SID",n.I),Hn(t,"RID",e),Hn(t,"TYPE","terminate"),Tp(n,t),(e=new fp(n,n.j,e,void 0)).K=2,e.v=Hm(ra(t)),t=!1,kt.navigator&&kt.navigator.sendBeacon&&(t=kt.navigator.sendBeacon(e.v.toString(),"")),!t&&kt.Image&&((new Image).src=e.v,t=!0),t||(e.g=Xm(e.l,null),e.g.da(e.v)),e.F=Date.now(),fh(e)}jb(n)}function Km(n){n.g&&(Qv(n),n.g.cancel(),n.g=null)}function Ub(n){Km(n),n.u&&(kt.clearTimeout(n.u),n.u=null),Jm(n),n.h.cancel(),n.m&&("number"==typeof n.m&&kt.clearTimeout(n.m),n.m=null)}function _u(n){Ob(n.h)||n.m||(n.m=!0,mb(n.Ja,n),n.C=0)}function Kv(n,e){var t;t=e?e.m:n.U++;const r=ra(n.F);Hn(r,"SID",n.I),Hn(r,"RID",t),Hn(r,"AID",n.T),Tp(n,r),n.o&&n.s&&Zv(r,n.o,n.s),t=new fp(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=Yv(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),Gm(n.h,t),Bm(t,r,e)}function Tp(n,e){n.ia&&pv(n.ia,function(t,r){Hn(e,r,t)}),n.l&&Mb({},function(t,r){Hn(e,r,t)})}function Yv(n,e,t){t=Math.min(n.i.length,t);var r=n.l?gi(n.l.Ra,n.l,n):null;e:{var i=n.i;let l=-1;for(;;){const d=["count="+t];-1==l?0<t?(l=i[0].h,d.push("ofs="+l)):l=0:d.push("ofs="+l);let p=!0;for(let y=0;y<t;y++){let w=i[y].h;const T=i[y].g;if(w-=l,0>w)l=Math.max(0,i[y].h-100),p=!1;else try{Ep(T,d,"req"+w+"_")}catch{r&&r(T)}}if(p){r=d.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function Bb(n){n.g||n.u||(n.Z=1,mb(n.Ia,n),n.A=0)}function Ym(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=dp(gi(n.Ia,n),Xv(n,n.A)),n.A++,0))}function Qv(n){null!=n.B&&(kt.clearTimeout(n.B),n.B=null)}function Qm(n){n.g=new fp(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=ra(n.sa);Hn(e,"RID","rpc"),Hn(e,"SID",n.I),Hn(e,"CI",n.L?"0":"1"),Hn(e,"AID",n.T),Hn(e,"TYPE","xmlhttp"),Tp(n,e),n.o&&n.s&&Zv(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=Hm(ra(e)),t.s=null,t.P=!0,Ov(t,n)}function Jm(n){null!=n.v&&(kt.clearTimeout(n.v),n.v=null)}function Jv(n,e){var t=null;if(n.g==e){Jm(n),Qv(n),n.g=null;var r=2}else{if(!yh(n.h,e))return;t=e.D,Hv(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Sn(r=up(),new Ib(r,t,e,i)),_u(n)}else Bb(n);else if(3==(i=e.o)||0==i&&0<n.pa||!(1==r&&function fT(n,e){return!(Rb(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=dp(gi(n.Ja,n,e),Xv(n,n.C)),n.C++,0)))}(n,e)||2==r&&Ym(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:xc(n,5);break;case 4:xc(n,10);break;case 3:xc(n,6);break;default:xc(n,2)}}function Xv(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function xc(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=gi(n.kb,n);t||(t=new yu("//www.google.com/images/cleardot.gif"),kt.location&&"http"==kt.location.protocol||Vv(t,"https"),Hm(t)),function cT(n,e){const t=new hh;if(kt.Image){const r=new Image;r.onload=bm(zm,t,r,"TestLoadImage: loaded",!0,e),r.onerror=bm(zm,t,r,"TestLoadImage: error",!1,e),r.onabort=bm(zm,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=bm(zm,t,r,"TestLoadImage: timeout",!1,e),kt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Oi(2);n.G=0,n.l&&n.l.va(e),jb(n),Ub(n)}function jb(n){if(n.G=0,n.la=[],n.l){const e=$v(n.h);(0!=e.length||0!=n.i.length)&&(rp(n.la,e),rp(n.la,n.i),n.h.i.length=0,iv(n.i),n.i.length=0),n.l.ua()}}function Hb(n,e,t){var r=t instanceof yu?ra(t):new yu(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),Et(r,r.m);else{var i=kt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var l=new yu(null,void 0);r&&Vv(l,r),e&&(l.g=e),i&&Et(l,i),t&&(l.l=t),r=l}return e=n.za,(t=n.D)&&e&&Hn(r,t,e),Hn(r,"VER",n.ma),Tp(n,r),r}function Xm(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new dr(t&&n.Da&&!n.ra?new wp({jb:!0}):n.ra)).Ka(n.H),e}function $b(){}function Sp(){if(pu&&!(10<=Number(ib)))throw Error("Environmental error: no available transport.")}function ys(n,e){Ar.call(this),this.g=new Vb(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!Cm(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Cm(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new vh(this)}function Gb(n){xv.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function zb(){Nv.call(this),this.status=1}function vh(n){this.g=n}(it=dr.prototype).Ka=function(n){this.L=n},it.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Pv.g(),this.C=function Db(n){return n.h||(n.h=n.i())}(this.u?this.u:Pv),this.g.onreadystatechange=gi(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(l){return void qv(this,l)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const l of r.keys())t.set(l,r.get(l))}r=Array.from(t.keys()).find(l=>"content-type"==l.toLowerCase()),i=kt.FormData&&n instanceof kt.FormData,!(0<=Im(lx,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[l,d]of t)this.g.setRequestHeader(l,d);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Wv(this),0<this.B&&((this.K=function ux(n){return pu&&function dv(){return function eb(n){var e=rb;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=ip(String(op)).split("."),t=ip("9").split("."),r=Math.max(e.length,t.length);for(let d=0;0==n&&d<r;d++){var i=e[d]||"",l=t[d]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==i[0].length&&0==l[0].length)break;n=lh(0==i[1].length?0:parseInt(i[1],10),0==l[1].length?0:parseInt(l[1],10))||lh(0==i[2].length,0==l[2].length)||lh(i[2],l[2]),i=i[3],l=l[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=gi(this.qa,this)):this.A=Iv(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){qv(this,l)}},it.qa=function(){typeof hu<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Sn(this,"timeout"),this.abort(8))},it.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Sn(this,"complete"),Sn(this,"abort"),Wm(this))},it.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Wm(this,!0)),dr.X.M.call(this)},it.Ha=function(){this.s||(this.F||this.v||this.l?kb(this):this.fb())},it.fb=function(){kb(this)},it.aa=function(){try{return 2<ms(this)?this.g.status:-1}catch{return-1}},it.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},it.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),dT(e)}},it.Ea=function(){return this.m},it.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(it=Vb.prototype).ma=8,it.G=1,it.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new fp(this,this.j,n,void 0);let l=this.s;if(this.S&&(l?(l=lb(l),ub(l,this.S)):l=this.S),null!==this.o||this.N||(i.H=l,l=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Yv(this,i,e),Hn(t=ra(this.F),"RID",n),Hn(t,"CVER",22),this.D&&Hn(t,"X-HTTP-Session-Id",this.D),Tp(this,t),l&&(this.N?e="headers="+encodeURIComponent(String(Lb(l)))+"&"+e:this.o&&Zv(t,this.o,l)),Gm(this.h,i),this.Ya&&Hn(t,"TYPE","init"),this.O?(Hn(t,"$req",e),Hn(t,"SID","null"),i.Z=!0,Bm(i,t,null)):Bm(i,t,e),this.G=2}}else 3==this.G&&(n?Kv(this,n):0==this.i.length||Ob(this.h)||Kv(this))},it.Ia=function(){if(this.u=null,Qm(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=dp(gi(this.eb,this),n)}},it.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Oi(10),Km(this),Qm(this))},it.cb=function(){null!=this.v&&(this.v=null,Km(this),Ym(this),Oi(19))},it.kb=function(n){n?(this.j.info("Successfully pinged google.com"),Oi(2)):(this.j.info("Failed to ping google.com"),Oi(1))},(it=$b.prototype).xa=function(){},it.wa=function(){},it.va=function(){},it.ua=function(){},it.Ra=function(){},Sp.prototype.g=function(n,e){return new ys(n,e)},qr(ys,Ar),ys.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;Oi(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=Hb(n,null,n.V),_u(n)},ys.prototype.close=function(){Zm(this.g)},ys.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Pm(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&_u(e)},ys.prototype.M=function(){this.g.l=null,delete this.j,Zm(this.g),delete this.g,ys.X.M.call(this)},qr(Gb,xv),qr(zb,Nv),qr(vh,$b),vh.prototype.xa=function(){Sn(this.g,"a")},vh.prototype.wa=function(n){Sn(this.g,new Gb(n))},vh.prototype.va=function(n){Sn(this.g,new zb(n))},vh.prototype.ua=function(){Sn(this.g,"b")},Sp.prototype.createWebChannel=Sp.prototype.g,ys.prototype.send=ys.prototype.u,ys.prototype.open=ys.prototype.m,ys.prototype.close=ys.prototype.close,Lm.NO_ERROR=0,Lm.TIMEOUT=8,Lm.HTTP_ERROR=6,Cb.COMPLETE="complete",Tb.EventType=hp,hp.OPEN="a",hp.CLOSE="b",hp.ERROR="c",hp.MESSAGE="d",Ar.prototype.listen=Ar.prototype.N,dr.prototype.listenOnce=dr.prototype.O,dr.prototype.getLastError=dr.prototype.Oa,dr.prototype.getLastErrorCode=dr.prototype.Ea,dr.prototype.getStatus=dr.prototype.aa,dr.prototype.getResponseJson=dr.prototype.Sa,dr.prototype.getResponseText=dr.prototype.fa,dr.prototype.send=dr.prototype.da,dr.prototype.setWithCredentials=dr.prototype.Ka;var pT=Gi.createWebChannelTransport=function(){return new Sp},gT=Gi.getStatEventTarget=function(){return up()},e0=Gi.ErrorCode=Lm,mT=Gi.EventType=Cb,qb=Gi.Event=mu,t0=Gi.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},yT=Gi.FetchXmlHttpFactory=wp,ey=Gi.WebChannel=Tb,Wb=Gi.XhrIo=dr;const Zb="@firebase/firestore";class Wr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wr.UNAUTHENTICATED=new Wr(null),Wr.GOOGLE_CREDENTIALS=new Wr("google-credentials-uid"),Wr.FIRST_PARTY=new Wr("first-party-uid"),Wr.MOCK_USER=new Wr("mock-user");let Eh="9.12.1";const sa=new ps.Yd("@firebase/firestore");function Ap(){return sa.logLevel}function Pe(n,...e){if(sa.logLevel<=ps.in.DEBUG){const t=e.map(Mp);sa.debug(`Firestore (${Eh}): ${n}`,...t)}}function _r(n,...e){if(sa.logLevel<=ps.in.ERROR){const t=e.map(Mp);sa.error(`Firestore (${Eh}): ${n}`,...t)}}function Nc(n,...e){if(sa.logLevel<=ps.in.WARN){const t=e.map(Mp);sa.warn(`Firestore (${Eh}): ${n}`,...t)}}function Mp(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function st(n="Unexpected state"){const e=`FIRESTORE (${Eh}) INTERNAL ASSERTION FAILED: `+n;throw _r(e),new Error(e)}function Tt(n,e){n||st()}function ze(n,e){return n}const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ne extends Qt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Mr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class ty{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _T{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Wr.UNAUTHENTICATED))}shutdown(){}}class n0{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class vT{constructor(e){this.t=e,this.currentUser=Wr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const l=w=>this.i!==i?(i=this.i,t(w)):Promise.resolve();let d=new Mr;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new Mr,e.enqueueRetryable(()=>l(this.currentUser))};const p=()=>{const w=d;e.enqueueRetryable((0,ye.Z)(function*(){yield w.promise,yield l(r.currentUser)}))},y=w=>{Pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.auth.addAuthTokenListener(this.o),p()};this.t.onInit(w=>y(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?y(w):(Pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new Mr)}},0),p()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Tt("string"==typeof r.accessToken),new ty(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Tt(null===e||"string"==typeof e),new Wr(e)}}class Yb{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i,this.type="FirstParty",this.user=Wr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Tt(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class r0{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i}getToken(){return Promise.resolve(new Yb(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Wr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class s0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Qb{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=l=>{null!=l.error&&Pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const d=l.token!==this.A;return this.A=l.token,Pe("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const i=l=>{Pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.T.onInit(l=>i(l)),setTimeout(()=>{if(!this.appCheck){const l=this.T.getImmediate({optional:!0});l?i(l):Pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Tt("string"==typeof t.token),this.A=t.token,new s0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Jb(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class Xb{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Jb(40);for(let l=0;l<i.length;++l)r.length<20&&i[l]<t&&(r+=e.charAt(i[l]%e.length))}return r}}function Vt(n,e){return n<e?-1:n>e?1:0}function bh(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function eI(n){return n+"\0"}class Ln{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ne(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ne(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ne(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ne(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ln.fromMillis(Date.now())}static fromDate(e){return Ln.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Ln(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Vt(this.nanoseconds,e.nanoseconds):Vt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Nt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Nt(e)}static min(){return new Nt(new Ln(0,0))}static max(){return new Nt(new Ln(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ih{constructor(e,t,r){void 0===t?t=0:t>e.length&&st(),void 0===r?r=e.length-t:r>e.length-t&&st(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Ih.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ih?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const l=e.get(i),d=t.get(i);if(l<d)return-1;if(l>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class on extends Ih{construct(e,t,r){return new on(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ne(ce.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new on(t)}static emptyPath(){return new on([])}}const wT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vr extends Ih{construct(e,t,r){return new vr(e,t,r)}static isValidIdentifier(e){return wT.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new vr(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const l=()=>{if(0===r.length)throw new Ne(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;i<e.length;){const p=e[i];if("\\"===p){if(i+1===e.length)throw new Ne(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[i+1];if("\\"!==y&&"."!==y&&"`"!==y)throw new Ne(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,i+=2}else"`"===p?(d=!d,i++):"."!==p||d?(r+=p,i++):(l(),i++)}if(l(),d)throw new Ne(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vr(t)}static emptyPath(){return new vr([])}}class qe{constructor(e){this.path=e}static fromPath(e){return new qe(on.fromString(e))}static fromName(e){return new qe(on.fromString(e).popFirst(5))}static empty(){return new qe(on.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===on.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return on.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new qe(new on(e.slice()))}}class ny{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function o0(n){return n.fields.find(e=>2===e.kind)}function vu(n){return n.fields.filter(e=>2!==e.kind)}ny.UNKNOWN_ID=-1;class xp{constructor(e,t){this.fieldPath=e,this.kind=t}}class Ch{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Ch(0,_s.min())}}function nI(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Nt.fromTimestamp(1e9===r?new Ln(t+1,0):new Ln(t,r));return new _s(i,qe.empty(),e)}function rI(n){return new _s(n.readTime,n.key,-1)}class _s{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new _s(Nt.min(),qe.empty(),-1)}static max(){return new _s(Nt.max(),qe.empty(),-1)}}function a0(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=qe.comparator(n.documentKey,e.documentKey),0!==t?t:Vt(n.largestBatchId,e.largestBatchId))}const l0="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Dh{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ja(n){return ry.apply(this,arguments)}function ry(){return ry=(0,ye.Z)(function*(n){if(n.code!==ce.FAILED_PRECONDITION||n.message!==l0)throw n;Pe("LocalStore","Unexpectedly lost primary lease")}),ry.apply(this,arguments)}class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&st(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ie((r,i)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,i)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ie?t:ie.resolve(t)}catch(t){return ie.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ie.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ie.reject(t)}static resolve(e){return new ie((t,r)=>{t(e)})}static reject(e){return new ie((t,r)=>{r(e)})}static waitFor(e){return new ie((t,r)=>{let i=0,l=0,d=!1;e.forEach(p=>{++i,p.next(()=>{++l,d&&l===i&&t()},y=>r(y))}),d=!0,l===i&&t()})}static or(e){let t=ie.resolve(!1);for(const r of e)t=t.next(i=>i?ie.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,l)=>{r.push(t.call(this,i,l))}),this.waitFor(r)}static mapArray(e,t){return new ie((r,i)=>{const l=e.length,d=new Array(l);let p=0;for(let y=0;y<l;y++){const w=y;t(e[w]).next(T=>{d[w]=T,++p,p===l&&r(d)},T=>i(T))}})}static doWhile(e,t){return new ie((r,i)=>{const l=()=>{!0===e()?t().next(()=>{l()},i):r()};l()})}}class Np{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new Mr,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new Pp(e,t.error)):this.P.resolve()},this.transaction.onerror=r=>{const i=iy(r.target.error);this.P.reject(new Pp(e,i))}}static open(e,t,r,i){try{return new Np(t,e.transaction(i,r))}catch(l){throw new Pp(t,l)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Pe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new IT(t)}}class Gs{constructor(e,t,r){this.name=e,this.version=t,this.S=r,12.2===Gs.D((0,Qt.z$)())&&_r("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Pe("SimpleDb","Removing database:",e),Eu(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,Qt.hl)())return!1;if(Gs.N())return!0;const e=(0,Qt.z$)(),t=Gs.D(e),r=0<t&&t<10,i=Gs.k(e),l=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||l)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}F(e){var t=this;return(0,ye.Z)(function*(){return t.db||(Pe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=d=>{r(d.target.result)},l.onblocked=()=>{i(new Pp(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=d=>{const p=d.target.error;i("VersionError"===p.name?new Ne(ce.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===p.name?new Ne(ce.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+p):new Pp(e,p))},l.onupgradeneeded=d=>{Pe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.S.$(d.target.result,l.transaction,d.oldVersion,t.version).next(()=>{Pe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var l=this;return(0,ye.Z)(function*(){const d="readonly"===t;let p=0;for(;;){++p;try{l.db=yield l.F(e);const y=Np.open(l.db,e,d?"readonly":"readwrite",r),w=i(y).next(T=>(y.V(),T)).catch(T=>(y.abort(T),ie.reject(T))).toPromise();return w.catch(()=>{}),yield y.v,w}catch(y){const w=y,T="FirebaseError"!==w.name&&p<3;if(Pe("SimpleDb","Transaction failed with error:",w.message,"Retrying:",T),l.close(),!T)return Promise.reject(w)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class iI{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return Eu(this.U.delete())}}class Pp extends Ne{constructor(e,t){super(ce.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Pc(n){return"IndexedDbTransactionError"===n.name}class IT{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Pe("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Pe("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Eu(r)}add(e){return Pe("SimpleDb","ADD",this.store.name,e,e),Eu(this.store.add(e))}get(e){return Eu(this.store.get(e)).next(t=>(void 0===t&&(t=null),Pe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Pe("SimpleDb","DELETE",this.store.name,e),Eu(this.store.delete(e))}count(){return Pe("SimpleDb","COUNT",this.store.name),Eu(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),l=[];return this.H(i,(d,p)=>{l.push(p)}).next(()=>l)}{const i=this.store.getAll(r.range);return new ie((l,d)=>{i.onerror=p=>{d(p.target.error)},i.onsuccess=p=>{l(p.target.result)}})}}J(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new ie((i,l)=>{r.onerror=d=>{l(d.target.error)},r.onsuccess=d=>{i(d.target.result)}})}Y(e,t){Pe("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const i=this.cursor(r);return this.H(i,(l,d,p)=>p.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.H(i,t)}tt(e){const t=this.cursor({});return new ie((r,i)=>{t.onerror=l=>{const d=iy(l.target.error);i(d)},t.onsuccess=l=>{const d=l.target.result;d?e(d.primaryKey,d.value).next(p=>{p?d.continue():r()}):r()}})}H(e,t){const r=[];return new ie((i,l)=>{e.onerror=d=>{l(d.target.error)},e.onsuccess=d=>{const p=d.target.result;if(!p)return void i();const y=new iI(p),w=t(p.primaryKey,p.value,y);if(w instanceof ie){const T=w.catch(M=>(y.done(),ie.reject(M)));r.push(T)}y.isDone?i():null===y.G?p.continue():p.continue(y.G)}}).next(()=>ie.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Eu(n){return new ie((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=iy(r.target.error);t(i)}})}let sI=!1;function iy(n){const e=Gs.D((0,Qt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Ne("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return sI||(sI=!0,setTimeout(()=>{throw r},0)),r}}return n}class CT{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Pe("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ye.Z)(function*(){t.task=null;try{Pe("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(r){Pc(r)?Pe("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Ja(r)}yield t.nt(6e4)}))}}class Op{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,ye.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.it(r,e))})()}it(e,t){const r=new Set;let i=t,l=!0;return ie.doWhile(()=>!0===l&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(d=>{if(null!==d&&!r.has(d))return Pe("IndexBackiller",`Processing collection: ${d}`),this.rt(e,d,i).next(p=>{i-=p,r.add(d)});l=!1})).next(()=>t-i)}rt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(l=>{const d=l.changes;return this.localStore.indexManager.updateIndexEntries(e,d).next(()=>this.ot(i,l)).next(p=>(Pe("IndexBackiller",`Updating offset: ${p}`),this.localStore.indexManager.updateCollectionGroup(e,t,p))).next(()=>d.size)}))}ot(e,t){let r=e;return t.changes.forEach((i,l)=>{const d=rI(l);a0(d,r)>0&&(r=d)}),new _s(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}class zi{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>t.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function sy(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function mi(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function oI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}zi.at=-1;class $n{constructor(e,t){this.comparator=e,this.root=t||si.EMPTY}insert(e,t){return new $n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,si.BLACK,null,null))}remove(e){return new $n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,si.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wu(this.root,e,this.comparator,!1)}getReverseIterator(){return new wu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wu(this.root,e,this.comparator,!0)}}class wu{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&i&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class si{constructor(e,t,r,i,l){this.key=e,this.value=t,this.color=r??si.RED,this.left=i??si.EMPTY,this.right=l??si.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,l){return new si(e??this.key,t??this.value,r??this.color,i??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const l=r(e,i.key);return i=l<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===l?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return si.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return si.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,si.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,si.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw st();const e=this.left.check();if(e!==this.right.check())throw st();return e+(this.isRed()?0:1)}}si.EMPTY=null,si.RED=!0,si.BLACK=!1,si.EMPTY=new class{constructor(){this.size=0}get key(){throw st()}get value(){throw st()}get color(){throw st()}get left(){throw st()}get right(){throw st()}copy(n,e,t,r,i){return this}insert(n,e,t){return new si(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Dn{constructor(e){this.comparator=e,this.data=new $n(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new aI(this.data.getIterator())}getIteratorFrom(e){return new aI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Dn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,l=r.getNext().key;if(0!==this.comparator(i,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Dn(this.comparator);return t.data=e,t}}class aI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Xa(n){return n.hasNext()?n.getNext():void 0}class yi{constructor(e){this.fields=e,e.sort(vr.comparator)}static empty(){return new yi([])}unionWith(e){let t=new Dn(vr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new yi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return bh(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class kr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new kr(t)}static fromUint8Array(e){const t=function(r){let i="";for(let l=0;l<r.length;++l)i+=String.fromCharCode(r[l]);return i}(e);return new kr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Vt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}kr.EMPTY_BYTE_STRING=new kr("");const lI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function el(n){if(Tt(!!n),"string"==typeof n){let e=0;const t=lI.exec(n);if(Tt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Gn(n.seconds),nanos:Gn(n.nanos)}}function Gn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function bu(n){return"string"==typeof n?kr.fromBase64String(n):kr.fromUint8Array(n)}function u0(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function uI(n){const e=n.mapValue.fields.__previous_value__;return u0(e)?uI(e):e}function oy(n){const e=el(n.mapValue.fields.__local_write_time__.timestampValue);return new Ln(e.seconds,e.nanos)}class c0{constructor(e,t,r,i,l,d,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=l,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.useFetchStreams=y}}class oa{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new oa("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof oa&&e.projectId===this.projectId&&e.database===this.database}}function Th(n){return null==n}function Oc(n){return 0===n&&1/n==-1/0}function ay(n){return"number"==typeof n&&Number.isInteger(n)&&!Oc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Iu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ly={nullValue:"NULL_VALUE"};function Rc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?u0(n)?4:_i(n)?9007199254740991:10:st()}function aa(n,e){if(n===e)return!0;const t=Rc(n);if(t!==Rc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return oy(n).isEqual(oy(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const l=el(r.timestampValue),d=el(i.timestampValue);return l.seconds===d.seconds&&l.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,bu(n.bytesValue).isEqual(bu(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Gn(r.geoPointValue.latitude)===Gn(i.geoPointValue.latitude)&&Gn(r.geoPointValue.longitude)===Gn(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Gn(r.integerValue)===Gn(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const l=Gn(r.doubleValue),d=Gn(i.doubleValue);return l===d?Oc(l)===Oc(d):isNaN(l)&&isNaN(d)}return!1}(n,e);case 9:return bh(n.arrayValue.values||[],e.arrayValue.values||[],aa);case 10:return function(r,i){const l=r.mapValue.fields||{},d=i.mapValue.fields||{};if(sy(l)!==sy(d))return!1;for(const p in l)if(l.hasOwnProperty(p)&&(void 0===d[p]||!aa(l[p],d[p])))return!1;return!0}(n,e);default:return st()}var i}function Sh(n,e){return void 0!==(n.values||[]).find(t=>aa(t,e))}function la(n,e){if(n===e)return 0;const t=Rc(n),r=Rc(e);if(t!==r)return Vt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Vt(n.booleanValue,e.booleanValue);case 2:return function(i,l){const d=Gn(i.integerValue||i.doubleValue),p=Gn(l.integerValue||l.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(n,e);case 3:return d0(n.timestampValue,e.timestampValue);case 4:return d0(oy(n),oy(e));case 5:return Vt(n.stringValue,e.stringValue);case 6:return function(i,l){const d=bu(i),p=bu(l);return d.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(i,l){const d=i.split("/"),p=l.split("/");for(let y=0;y<d.length&&y<p.length;y++){const w=Vt(d[y],p[y]);if(0!==w)return w}return Vt(d.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,l){const d=Vt(Gn(i.latitude),Gn(l.latitude));return 0!==d?d:Vt(Gn(i.longitude),Gn(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,l){const d=i.values||[],p=l.values||[];for(let y=0;y<d.length&&y<p.length;++y){const w=la(d[y],p[y]);if(w)return w}return Vt(d.length,p.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,l){if(i===Iu.mapValue&&l===Iu.mapValue)return 0;if(i===Iu.mapValue)return 1;if(l===Iu.mapValue)return-1;const d=i.fields||{},p=Object.keys(d),y=l.fields||{},w=Object.keys(y);p.sort(),w.sort();for(let T=0;T<p.length&&T<w.length;++T){const M=Vt(p[T],w[T]);if(0!==M)return M;const F=la(d[p[T]],y[w[T]]);if(0!==F)return F}return Vt(p.length,w.length)}(n.mapValue,e.mapValue);default:throw st()}}function d0(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Vt(n,e);const t=el(n),r=el(e),i=Vt(t.seconds,r.seconds);return 0!==i?i:Vt(t.nanos,r.nanos)}function kc(n){return uy(n)}function uy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=el(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?bu(n.bytesValue).toBase64():"referenceValue"in n?qe.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",l=!0;for(const d of r.values||[])l?l=!1:i+=",",i+=uy(d);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let l="{",d=!0;for(const p of i)d?d=!1:l+=",",l+=`${p}:${uy(r.fields[p])}`;return l+"}"}(n.mapValue):st();var e}function Cu(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function h0(n){return!!n&&"integerValue"in n}function Ah(n){return!!n&&"arrayValue"in n}function f0(n){return!!n&&"nullValue"in n}function cI(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Rp(n){return!!n&&"mapValue"in n}function Mh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return mi(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Mh(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Mh(n.arrayValue.values[t]);return e}return Object.assign({},n)}function _i(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function xh(n){return"nullValue"in n?ly:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Cu(oa.empty(),qe.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:st()}function TT(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Cu(oa.empty(),qe.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Iu:st()}function dI(n,e){const t=la(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function ST(n,e){const t=la(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class vi{constructor(e){this.value=e}static empty(){return new vi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Rp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Mh(t)}setAll(e){let t=vr.emptyPath(),r={},i=[];e.forEach((d,p)=>{if(!t.isImmediateParentOf(p)){const y=this.getFieldsMap(t);this.applyChanges(y,r,i),r={},i=[],t=p.popLast()}d?r[p.lastSegment()]=Mh(d):i.push(p.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,i)}delete(e){const t=this.field(e.popLast());Rp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return aa(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Rp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){mi(t,(i,l)=>e[i]=l);for(const i of r)delete e[i]}clone(){return new vi(Mh(this.value))}}function p0(n){const e=[];return mi(n.fields,(t,r)=>{const i=new vr([t]);if(Rp(r)){const l=p0(r.mapValue).fields;if(0===l.length)e.push(i);else for(const d of l)e.push(i.child(d))}else e.push(i)}),new yi(e)}class An{constructor(e,t,r,i,l,d){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=l,this.documentState=d}static newInvalidDocument(e){return new An(e,0,Nt.min(),Nt.min(),vi.empty(),0)}static newFoundDocument(e,t,r){return new An(e,1,t,Nt.min(),r,0)}static newNoDocument(e,t){return new An(e,2,t,Nt.min(),vi.empty(),0)}static newUnknownDocument(e,t){return new An(e,3,t,Nt.min(),vi.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Nt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof An&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new An(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class kp{constructor(e,t=null,r=[],i=[],l=null,d=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=l,this.startAt=d,this.endAt=p,this.ht=null}}function hI(n,e=null,t=[],r=[],i=null,l=null,d=null){return new kp(n,e,t,r,i,l,d)}function tl(n){const e=ze(n);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+kc(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Th(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>kc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>kc(r)).join(",")),e.ht=t}return e.ht}function Nh(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!m0(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!aa(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!yI(n.startAt,e.startAt)&&yI(n.endAt,e.endAt)}function cy(n){return qe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function dy(n,e){return n.filters.filter(t=>t instanceof Zr&&t.field.isEqual(e))}function fI(n,e,t){let r=ly,i=!0;for(const l of dy(n,e)){let d=ly,p=!0;switch(l.op){case"<":case"<=":d=xh(l.value);break;case"==":case"in":case">=":d=l.value;break;case">":d=l.value,p=!1;break;case"!=":case"not-in":d=ly}dI({value:r,inclusive:i},{value:d,inclusive:p})<0&&(r=d,i=p)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const d=t.position[l];dI({value:r,inclusive:i},{value:d,inclusive:t.inclusive})<0&&(r=d,i=t.inclusive);break}return{value:r,inclusive:i}}function hy(n,e,t){let r=Iu,i=!0;for(const l of dy(n,e)){let d=Iu,p=!0;switch(l.op){case">=":case">":d=TT(l.value),p=!1;break;case"==":case"in":case"<=":d=l.value;break;case"<":d=l.value,p=!1;break;case"!=":case"not-in":d=Iu}ST({value:r,inclusive:i},{value:d,inclusive:p})>0&&(r=d,i=p)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const d=t.position[l];ST({value:r,inclusive:i},{value:d,inclusive:t.inclusive})>0&&(r=d,i=t.inclusive);break}return{value:r,inclusive:i}}class Zr extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new pI(e,t,r):"array-contains"===t?new gI(e,r):"in"===t?new xT(e,r):"not-in"===t?new mI(e,r):"array-contains-any"===t?new Ph(e,r):new Zr(e,t,r)}static lt(e,t,r){return"in"===t?new fy(e,r):new g0(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(la(t,this.value)):null!==t&&Rc(this.value)===Rc(t)&&this.ft(la(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return st()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class pI extends Zr{constructor(e,t,r){super(e,t,r),this.key=qe.fromName(r.referenceValue)}matches(e){const t=qe.comparator(e.key,this.key);return this.ft(t)}}class fy extends Zr{constructor(e,t){super(e,"in",t),this.keys=MT(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class g0 extends Zr{constructor(e,t){super(e,"not-in",t),this.keys=MT(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function MT(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>qe.fromName(r.referenceValue))}class gI extends Zr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ah(t)&&Sh(t.arrayValue,this.value)}}class xT extends Zr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Sh(this.value.arrayValue,t)}}class mI extends Zr{constructor(e,t){super(e,"not-in",t)}matches(e){if(Sh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Sh(this.value.arrayValue,t)}}class Ph extends Zr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ah(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Sh(this.value.arrayValue,r))}}class Du{constructor(e,t){this.position=e,this.inclusive=t}}class Fc{constructor(e,t="asc"){this.field=e,this.dir=t}}function m0(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function NT(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const l=e[i],d=n.position[i];if(r=l.field.isKeyField()?qe.comparator(qe.fromName(d.referenceValue),t.key):la(d,t.data.field(l.field)),"desc"===l.dir&&(r*=-1),0!==r)break}return r}function yI(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!aa(n.position[t],e.position[t]))return!1;return!0}class Tu{constructor(e,t=null,r=[],i=[],l=null,d="F",p=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=l,this.limitType=d,this.startAt=p,this.endAt=y,this._t=null,this.wt=null}}function _I(n,e,t,r,i,l,d,p){return new Tu(n,e,t,r,i,l,d,p)}function Oh(n){return new Tu(n)}function vI(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function py(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function gy(n){for(const e of n.filters)if(e.dt())return e.field;return null}function y0(n){return null!==n.collectionGroup}function Lc(n){const e=ze(n);if(null===e._t){e._t=[];const t=gy(e),r=py(e);if(null!==t&&null===r)t.isKeyField()||e._t.push(new Fc(t)),e._t.push(new Fc(vr.keyField(),"asc"));else{let i=!1;for(const l of e.explicitOrderBy)e._t.push(l),l.field.isKeyField()&&(i=!0);if(!i){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new Fc(vr.keyField(),l))}}}return e._t}function Ei(n){const e=ze(n);if(!e.wt)if("F"===e.limitType)e.wt=hI(e.path,e.collectionGroup,Lc(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of Lc(e))t.push(new Fc(l.field,"desc"===l.dir?"asc":"desc"));const r=e.endAt?new Du(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Du(e.startAt.position,e.startAt.inclusive):null;e.wt=hI(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.wt}function my(n,e,t){return new Tu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Fp(n,e){return Nh(Ei(n),Ei(e))&&n.limitType===e.limitType}function _0(n){return`${tl(Ei(n))}|lt:${n.limitType}`}function v0(n){return`Query(target=${function AT(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${kc(r.value)}`;var r}).join(", ")}]`),Th(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>kc(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>kc(t)).join(",")),`Target(${e})`}(Ei(n))}; limitType=${n.limitType})`}function yy(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):qe.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,l,d){const p=NT(i,l,d);return i.inclusive?p<=0:p<0}(t.startAt,Lc(t),r)||t.endAt&&!function(i,l,d){const p=NT(i,l,d);return i.inclusive?p>=0:p>0}(t.endAt,Lc(t),r)));var t,r}function E0(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function w0(n){return(e,t)=>{let r=!1;for(const i of Lc(n)){const l=EI(i,e,t);if(0!==l)return l;r=r||i.field.isKeyField()}return 0}}function EI(n,e,t){const r=n.field.isKeyField()?qe.comparator(e.key,t.key):function(i,l,d){const p=l.data.field(i),y=d.data.field(i);return null!==p&&null!==y?la(p,y):st()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return st()}}function wI(n,e){if(n.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Oc(e)?"-0":e}}function bI(n){return{integerValue:""+n}}function PT(n,e){return ay(e)?bI(e):wI(n,e)}class Lp{constructor(){this._=void 0}}function cx(n,e,t){return n instanceof Vp?function(r,i){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(l.fields.__previous_value__=i),{mapValue:l}}(t,e):n instanceof Rh?RT(n,e):n instanceof kh?kT(n,e):function(r,i){const l=OT(r,i),d=FT(l)+FT(r.yt);return h0(l)&&h0(r.yt)?bI(d):wI(r.It,d)}(n,e)}function dx(n,e,t){return n instanceof Rh?RT(n,e):n instanceof kh?kT(n,e):t}function OT(n,e){return n instanceof nl?h0(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Vp extends Lp{}class Rh extends Lp{constructor(e){super(),this.elements=e}}function RT(n,e){const t=b0(e);for(const r of n.elements)t.some(i=>aa(i,r))||t.push(r);return{arrayValue:{values:t}}}class kh extends Lp{constructor(e){super(),this.elements=e}}function kT(n,e){let t=b0(e);for(const r of n.elements)t=t.filter(i=>!aa(i,r));return{arrayValue:{values:t}}}class nl extends Lp{constructor(e,t){super(),this.It=e,this.yt=t}}function FT(n){return Gn(n.integerValue||n.doubleValue)}function b0(n){return Ah(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Su{constructor(e,t){this.field=e,this.transform=t}}class CI{constructor(e,t){this.version=e,this.transformResults=t}}class er{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new er}static exists(e){return new er(void 0,e)}static updateTime(e){return new er(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fh(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Up{}function DI(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Bp(n.key,er.none()):new Lh(n.key,n.data,er.none());{const t=n.data,r=vi.empty();let i=new Dn(vr.comparator);for(let l of e.fields)if(!i.has(l)){let d=t.field(l);null===d&&l.length>1&&(l=l.popLast(),d=t.field(l)),null===d?r.delete(l):r.set(l,d),i=i.add(l)}return new zs(n.key,r,new yi(i.toArray()),er.none())}}function TI(n,e,t){n instanceof Lh?function(r,i,l){const d=r.value.clone(),p=VT(r.fieldTransforms,i,l.transformResults);d.setAll(p),i.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(n,e,t):n instanceof zs?function(r,i,l){if(!Fh(r.precondition,i))return void i.convertToUnknownDocument(l.version);const d=VT(r.fieldTransforms,i,l.transformResults),p=i.data;p.setAll(AI(r)),p.setAll(d),i.convertToFoundDocument(l.version,p).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function _y(n,e,t,r){return n instanceof Lh?function(i,l,d,p){if(!Fh(i.precondition,l))return d;const y=i.value.clone(),w=UT(i.fieldTransforms,p,l);return y.setAll(w),l.convertToFoundDocument(l.version,y).setHasLocalMutations(),null}(n,e,t,r):n instanceof zs?function(i,l,d,p){if(!Fh(i.precondition,l))return d;const y=UT(i.fieldTransforms,p,l),w=l.data;return w.setAll(AI(i)),w.setAll(y),l.convertToFoundDocument(l.version,w).setHasLocalMutations(),null===d?null:d.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(T=>T.field))}(n,e,t,r):(d=t,Fh(n.precondition,l=e)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):d);var l,d}function LT(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),l=OT(r.transform,i||null);null!=l&&(null===t&&(t=vi.empty()),t.set(r.field,l))}return t||null}function SI(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&bh(t,r,(i,l)=>function II(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Rh&&r instanceof Rh||t instanceof kh&&r instanceof kh?bh(t.elements,r.elements,aa):t instanceof nl&&r instanceof nl?aa(t.yt,r.yt):t instanceof Vp&&r instanceof Vp);var t,r}(i,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Lh extends Up{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class zs extends Up{constructor(e,t,r,i,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function AI(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function VT(n,e,t){const r=new Map;Tt(n.length===t.length);for(let i=0;i<t.length;i++){const l=n[i],d=l.transform,p=e.data.field(l.field);r.set(l.field,dx(d,p,t[i]))}return r}function UT(n,e,t){const r=new Map;for(const i of n){const l=i.transform,d=t.data.field(i.field);r.set(i.field,cx(l,d,e))}return r}class Bp extends Up{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class I0 extends Up{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class BT{constructor(e){this.count=e}}var xr,cn;function MI(n){switch(n){default:return st();case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0}}function C0(n){if(void 0===n)return _r("GRPC error has no .code"),ce.UNKNOWN;switch(n){case xr.OK:return ce.OK;case xr.CANCELLED:return ce.CANCELLED;case xr.UNKNOWN:return ce.UNKNOWN;case xr.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case xr.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case xr.INTERNAL:return ce.INTERNAL;case xr.UNAVAILABLE:return ce.UNAVAILABLE;case xr.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case xr.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case xr.NOT_FOUND:return ce.NOT_FOUND;case xr.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case xr.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case xr.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case xr.ABORTED:return ce.ABORTED;case xr.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case xr.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case xr.DATA_LOSS:return ce.DATA_LOSS;default:return st()}}(cn=xr||(xr={}))[cn.OK=0]="OK",cn[cn.CANCELLED=1]="CANCELLED",cn[cn.UNKNOWN=2]="UNKNOWN",cn[cn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",cn[cn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",cn[cn.NOT_FOUND=5]="NOT_FOUND",cn[cn.ALREADY_EXISTS=6]="ALREADY_EXISTS",cn[cn.PERMISSION_DENIED=7]="PERMISSION_DENIED",cn[cn.UNAUTHENTICATED=16]="UNAUTHENTICATED",cn[cn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",cn[cn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",cn[cn.ABORTED=10]="ABORTED",cn[cn.OUT_OF_RANGE=11]="OUT_OF_RANGE",cn[cn.UNIMPLEMENTED=12]="UNIMPLEMENTED",cn[cn.INTERNAL=13]="INTERNAL",cn[cn.UNAVAILABLE=14]="UNAVAILABLE",cn[cn.DATA_LOSS=15]="DATA_LOSS";class rl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,l]of r)if(this.equalsFn(i,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<i.length;l++)if(this.equalsFn(i[l][0],e))return void(i[l]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){mi(this.inner,(t,r)=>{for(const[i,l]of r)e(i,l)})}isEmpty(){return oI(this.inner)}size(){return this.innerSize}}const hx=new $n(qe.comparator);function zn(){return hx}const xI=new $n(qe.comparator);function Vc(...n){let e=xI;for(const t of n)e=e.insert(t.key,t);return e}function NI(n){let e=xI;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Er(){return Uc()}function PI(){return Uc()}function Uc(){return new rl(n=>n.toString(),(n,e)=>n.isEqual(e))}const jT=new $n(qe.comparator),HT=new Dn(qe.comparator);function Ht(...n){let e=HT;for(const t of n)e=e.add(t);return e}const OI=new Dn(Vt);function jp(){return OI}class Hp{constructor(e,t,r,i,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Vh.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Hp(Nt.min(),i,jp(),zn(),Ht())}}class Vh{constructor(e,t,r,i,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Vh(r,t,Ht(),Ht(),Ht())}}class $p{constructor(e,t,r,i){this.Tt=e,this.removedTargetIds=t,this.key=r,this.Et=i}}class RI{constructor(e,t){this.targetId=e,this.At=t}}class D0{constructor(e,t,r=kr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class kI{constructor(){this.Rt=0,this.bt=S0(),this.Pt=kr.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=Ht(),t=Ht(),r=Ht();return this.bt.forEach((i,l)=>{switch(l){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:st()}}),new Vh(this.Pt,this.vt,e,t,r)}Nt(){this.Vt=!1,this.bt=S0()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class T0{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=zn(),this.qt=il(),this.Kt=new Dn(Vt)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const r=this.zt(t);switch(e.state){case 0:this.Ht(t)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),r.Ct(e.resumeToken));break;default:st()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((r,i)=>{this.Ht(i)&&t(i)})}Yt(e){const t=e.targetId,r=e.At.count,i=this.Xt(t);if(i){const l=i.target;if(cy(l))if(0===r){const d=new qe(l.path);this.jt(t,d,An.newNoDocument(d,Nt.min()))}else Tt(1===r);else this.Zt(t)!==r&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((l,d)=>{const p=this.Xt(d);if(p){if(l.current&&cy(p.target)){const y=new qe(p.target.path);null!==this.Ut.get(y)||this.ee(d,y)||this.jt(d,y,An.newNoDocument(y,e))}l.Dt&&(t.set(d,l.xt()),l.Nt())}});let r=Ht();this.qt.forEach((l,d)=>{let p=!0;d.forEachWhile(y=>{const w=this.Xt(y);return!w||2===w.purpose||(p=!1,!1)}),p&&(r=r.add(l))}),this.Ut.forEach((l,d)=>d.setReadTime(e));const i=new Hp(e,t,this.Kt,this.Ut,r);return this.Ut=zn(),this.qt=il(),this.Kt=new Dn(Vt),i}Qt(e,t){if(!this.Ht(e))return;const r=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,r),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,r){if(!this.Ht(e))return;const i=this.zt(e);this.ee(e,t)?i.kt(t,1):i.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),r&&(this.Ut=this.Ut.insert(t,r))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let t=this.Lt.get(e);return t||(t=new kI,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new Dn(Vt),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||Pe("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new kI),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function il(){return new $n(qe.comparator)}function S0(){return new $n(qe.comparator)}const A0={asc:"ASCENDING",desc:"DESCENDING"},sl={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class $T{constructor(e,t){this.databaseId=e,this.gt=t}}function vy(n,e){return n.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function FI(n,e){return n.gt?e.toBase64():e.toUint8Array()}function GT(n,e){return vy(n,e.toTimestamp())}function Kr(n){return Tt(!!n),Nt.fromTimestamp(function(e){const t=el(e);return new Ln(t.seconds,t.nanos)}(n))}function M0(n,e){return(t=n,new on(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function x0(n){const e=on.fromString(n);return Tt(KT(e)),e}function Ey(n,e){return M0(n.databaseId,e.path)}function Co(n,e){const t=x0(e);if(t.get(1)!==n.databaseId.projectId)throw new Ne(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ne(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new qe(by(t))}function N0(n,e){return M0(n.databaseId,e)}function P0(n){const e=x0(n);return 4===e.length?on.emptyPath():by(e)}function wy(n){return new on(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function by(n){return Tt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function O0(n,e,t){return{name:Ey(n,e),fields:t.value.mapValue.fields}}function R0(n,e,t){const r=Co(n,e.name),i=Kr(e.updateTime),l=new vi({mapValue:{fields:e.fields}}),d=An.newFoundDocument(r,i,l);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function Uh(n,e){let t;if(e instanceof Lh)t={update:O0(n,e.key,e.value)};else if(e instanceof Bp)t={delete:Ey(n,e.key)};else if(e instanceof zs)t={update:O0(n,e.key,e.data),updateMask:ZT(e.fieldMask)};else{if(!(e instanceof I0))return st();t={verify:Ey(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,l){const d=l.transform;if(d instanceof Vp)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Rh)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof kh)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof nl)return{fieldPath:l.field.canonicalString(),increment:d.yt};throw st()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:GT(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:st()),t;var i}function Bh(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?er.updateTime(Kr(i.updateTime)):void 0!==i.exists?er.exists(i.exists):er.none():er.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(l,d){let p=null;"setToServerValue"in d?(Tt("REQUEST_TIME"===d.setToServerValue),p=new Vp):"appendMissingElements"in d?p=new Rh(d.appendMissingElements.values||[]):"removeAllFromArray"in d?p=new kh(d.removeAllFromArray.values||[]):"increment"in d?p=new nl(l,d.increment):st();const y=vr.fromServerFormat(d.fieldPath);return new Su(y,p)}(n,i)):[];var i;if(e.update){const i=Co(n,e.update.name),l=new vi({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=new yi((e.updateMask.fieldPaths||[]).map(w=>vr.fromServerFormat(w)));return new zs(i,l,d,t,r)}return new Lh(i,l,t,r)}if(e.delete){const i=Co(n,e.delete);return new Bp(i,t)}if(e.verify){const i=Co(n,e.verify);return new I0(i,t)}return st()}function k0(n,e){return{documents:[N0(n,e.path)]}}function F0(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=N0(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=N0(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(y){if(0===y.length)return;const w=y.map(T=>function(M){if("=="===M.op){if(cI(M.value))return{unaryFilter:{field:Gp(M.field),op:"IS_NAN"}};if(f0(M.value))return{unaryFilter:{field:Gp(M.field),op:"IS_NULL"}}}else if("!="===M.op){if(cI(M.value))return{unaryFilter:{field:Gp(M.field),op:"IS_NOT_NAN"}};if(f0(M.value))return{unaryFilter:{field:Gp(M.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gp(M.field),op:fx(M.op),value:M.value}}}(T));return 1===w.length?w[0]:{compositeFilter:{op:"AND",filters:w}}}(e.filters);i&&(t.structuredQuery.where=i);const l=function(y){if(0!==y.length)return y.map(w=>{return{field:Gp((T=w).field),direction:zT(T.dir)};var T})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const d=(w=e.limit,n.gt||Th(w)?w:{value:w});var w,p,y;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt={before:(p=e.startAt).inclusive,values:p.position}),e.endAt&&(t.structuredQuery.endAt={before:!(y=e.endAt).inclusive,values:y.position}),t}function L0(n){let e=P0(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Tt(1===r);const T=t.from[0];T.allDescendants?i=T.collectionId:e=e.child(T.collectionId)}let l=[];t.where&&(l=BI(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(T=>{return new Fc(Bc((M=T).field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction));var M}));let p=null;t.limit&&(p=function(T){let M;return M="object"==typeof T?T.value:T,Th(M)?null:M}(t.limit));let y=null;var T;t.startAt&&(y=new Du((T=t.startAt).values||[],!!T.before));let w=null;return t.endAt&&(w=function(T){return new Du(T.values||[],!T.before)}(t.endAt)),_I(e,i,d,l,p,"F",y,w)}function BI(n){return n?void 0!==n.unaryFilter?[WT(n)]:void 0!==n.fieldFilter?[qT(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>BI(e)).reduce((e,t)=>e.concat(t)):st():[]}function zT(n){return A0[n]}function fx(n){return sl[n]}function Gp(n){return{fieldPath:n.canonicalString()}}function Bc(n){return vr.fromServerFormat(n.fieldPath)}function qT(n){return Zr.create(Bc(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return st()}}(n.fieldFilter.op),n.fieldFilter.value)}function WT(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Bc(n.unaryFilter.field);return Zr.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Bc(n.unaryFilter.field);return Zr.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Bc(n.unaryFilter.field);return Zr.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Bc(n.unaryFilter.field);return Zr.create(i,"!=",{nullValue:"NULL_VALUE"});default:return st()}}function ZT(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function KT(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function qi(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=YT(e)),e=px(n.get(t),e);return YT(e)}function px(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const l=n.charAt(i);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function YT(n){return n+"\x01\x01"}function ol(n){const e=n.length;if(Tt(e>=2),2===e)return Tt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),on.emptyPath();const t=e-2,r=[];let i="";for(let l=0;l<e;){const d=n.indexOf("\x01",l);switch((d<0||d>t)&&st(),n.charAt(d+1)){case"\x01":const p=n.substring(l,d);let y;0===i.length?y=p:(i+=p,y=i,i=""),r.push(y);break;case"\x10":i+=n.substring(l,d),i+="\0";break;case"\x11":i+=n.substring(l,d+1);break;default:st()}l=d+2}return new on(r)}const jI=["userId","batchId"];function jc(n,e){return[n,qi(e)]}function HI(n,e,t){return[n,qi(e),t]}const QT={},$I=["prefixPath","collectionGroup","readTime","documentId"],Hc=["prefixPath","collectionGroup","documentId"],GI=["collectionGroup","readTime","prefixPath","documentId"],V0=["canonicalId","targetId"],U0=["targetId","path"],JT=["path","targetId"],B0=["collectionId","parent"],j0=["indexId","uid"],Cy=["uid","sequenceNumber"],gx=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],mx=["indexId","uid","orderedDocumentKey"],yx=["userId","collectionPath","documentId"],_x=["userId","collectionPath","largestBatchId"],zI=["userId","collectionGroup","largestBatchId"],qI=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],XT=[...qI,"documentOverlays"],WI=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ZI=WI,KI=[...ZI,"indexConfiguration","indexState","indexEntries"];class Dy extends Dh{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function Fr(n,e){const t=ze(n);return Gs.M(t.ie,e)}class H0{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const l=this.mutations[i];l.key.isEqual(e.key)&&TI(l,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=_y(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=_y(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=PI();return this.mutations.forEach(i=>{const l=e.get(i.key),d=l.overlayedDocument;let p=this.applyToLocalView(d,l.mutatedFields);p=t.has(i.key)?null:p;const y=DI(d,p);null!==y&&r.set(i.key,y),d.isValidDocument()||d.convertToNoDocument(Nt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ht())}isEqual(e){return this.batchId===e.batchId&&bh(this.mutations,e.mutations,(t,r)=>SI(t,r))&&bh(this.baseMutations,e.baseMutations,(t,r)=>SI(t,r))}}class $0{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Tt(e.mutations.length===r.length);let i=jT;const l=e.mutations;for(let d=0;d<l.length;d++)i=i.insert(l[d].key,r[d].version);return new $0(e,t,r,i)}}class Ty{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class ua{constructor(e,t,r,i,l=Nt.min(),d=Nt.min(),p=kr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p}withSequenceNumber(e){return new ua(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new ua(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new ua(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class eS{constructor(e){this.re=e}}function Sy(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Ay(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Ey(i=n.re,(l=e).key),fields:l.data.value.mapValue.fields,updateTime:vy(i,l.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:$c(e.version)};else{if(!e.isUnknownDocument())return st();r.unknownDocument={path:t.path.toArray(),version:$c(e.version)}}var i,l;return r}function Ay(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function $c(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function jh(n){const e=new Ln(n.seconds,n.nanoseconds);return Nt.fromTimestamp(e)}function Hh(n,e){const t=(e.baseMutations||[]).map(l=>Bh(n.re,l));for(let l=0;l<e.mutations.length-1;++l){const d=e.mutations[l];l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(d.updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l)}const r=e.mutations.map(l=>Bh(n.re,l)),i=Ln.fromMillis(e.localWriteTimeMs);return new H0(e.batchId,i,t,r)}function zp(n){const e=jh(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?jh(n.lastLimboFreeSnapshotVersion):Nt.min();let r;var i;return void 0!==n.query.documents?(Tt(1===(i=n.query).documents.length),r=Ei(Oh(P0(i.documents[0])))):r=Ei(L0(n.query)),new ua(r,n.targetId,0,n.lastListenSequenceNumber,e,t,kr.fromBase64String(n.resumeToken))}function QI(n,e){const t=$c(e.snapshotVersion),r=$c(e.lastLimboFreeSnapshotVersion);let i;i=cy(e.target)?k0(n.re,e.target):F0(n.re,e.target);const l=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:tl(e.target),readTime:t,resumeToken:l,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function G0(n){const e=L0({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?my(e,e.limit,"L"):e}function JI(n,e){return new Ty(e.largestBatchId,Bh(n.re,e.overlayMutation))}function tS(n,e){const t=e.path.lastSegment();return[n,qi(e.path.popLast()),t]}function nS(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:$c(r.readTime),documentKey:qi(r.documentKey.path),largestBatchId:r.largestBatchId}}class vx{getBundleMetadata(e,t){return rS(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:jh(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return rS(e).put({bundleId:(r=t).id,createTime:$c(Kr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return XI(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:G0(i.bundledQuery),readTime:jh(i.readTime)};var i})}saveNamedQuery(e,t){return XI(e).put({name:(r=t).name,readTime:$c(Kr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function rS(n){return Fr(n,"bundles")}function XI(n){return Fr(n,"namedQueries")}class z0{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new z0(e,t.uid||"")}getOverlay(e,t){return My(e).get(tS(this.userId,t)).next(r=>r?JI(this.It,r):null)}getOverlays(e,t){const r=Er();return ie.forEach(t,i=>this.getOverlay(e,i).next(l=>{null!==l&&r.set(i,l)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((l,d)=>{const p=new Ty(t,d);i.push(this.ue(e,p))}),ie.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(d=>i.add(qi(d.getCollectionPath())));const l=[];return i.forEach(d=>{const p=IDBKeyRange.bound([this.userId,d,r],[this.userId,d,r+1],!1,!0);l.push(My(e).Y("collectionPathOverlayIndex",p))}),ie.waitFor(l)}getOverlaysForCollection(e,t,r){const i=Er(),l=qi(t),d=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,Number.POSITIVE_INFINITY],!0);return My(e).W("collectionPathOverlayIndex",d).next(p=>{for(const y of p){const w=JI(this.It,y);i.set(w.getKey(),w)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const l=Er();let d;const p=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return My(e).Z({index:"collectionGroupOverlayIndex",range:p},(y,w,T)=>{const M=JI(this.It,w);l.size()<i||M.largestBatchId===d?(l.set(M.getKey(),M),d=M.largestBatchId):T.done()}).next(()=>l)}ue(e,t){return My(e).put(function(r,i,l){const[d,p,y]=tS(i,l.mutation.key);return{userId:i,collectionPath:p,documentId:y,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:Uh(r.re,l.mutation)}}(this.It,this.userId,t))}}function My(n){return Fr(n,"documentOverlays")}class $h{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(Gn(e.integerValue));else if("doubleValue"in e){const r=Gn(e.doubleValue);isNaN(r)?this.le(t,13):(this.le(t,15),Oc(r)?t.fe(0):t.fe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de(`${r.seconds||""}`),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(bu(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.le(t,45),t.fe(r.latitude||0),t.fe(r.longitude||0)}else"mapValue"in e?_i(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):st()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const r=e.fields||{};this.le(t,55);for(const i of Object.keys(r))this._e(i,t),this.ae(r[i],t)}pe(e,t){const r=e.values||[];this.le(t,50);for(const i of r)this.ae(i,t)}ge(e,t){this.le(t,37),qe.fromName(e).path.forEach(r=>{this.le(t,60),this.Ie(r,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function Ex(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function iS(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const l=Ex(255&t[i]);if(r+=l,8!==l)break}return r}(n);return Math.ceil(e/8)}$h.Te=new $h;class wx{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ae(r.value),r=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Pe(r.value),r=t.next();this.ve()}Ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ae(r);else if(r<2048)this.Ae(960|r>>>6),this.Ae(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r);else{const i=t.codePointAt(0);this.Ae(240|i>>>18),this.Ae(128|63&i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i)}}this.Re()}Se(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Pe(r);else if(r<2048)this.Pe(960|r>>>6),this.Pe(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r);else{const i=t.codePointAt(0);this.Pe(240|i>>>18),this.Pe(128|63&i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i)}}this.ve()}De(e){const t=this.Ce(e),r=iS(t);this.xe(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Ne(e){const t=this.Ce(e),r=iS(t);this.xe(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(i){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,i,!1),new Uint8Array(l.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ae(e){const t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class s{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class o{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Me()}}class a{constructor(){this.Be=new wx,this.Le=new s(this.Be),this.Ue=new o(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class c{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new c(this.indexId,this.documentKey,this.arrayValue,r)}}function h(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=g(n.arrayValue,e.arrayValue),0!==t?t:(t=g(n.directionalValue,e.directionalValue),0!==t?t:qe.comparator(n.documentKey,e.documentKey)))}function g(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class v{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const r=t;r.dt()?this.je=r:this.Qe.push(r)}}We(e){const t=o0(e);if(void 0!==t&&!this.ze(t))return!1;const r=vu(e);let i=0,l=0;for(;i<r.length&&this.ze(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.je){const d=r[i];if(!this.He(this.je,d)||!this.Je(this.Ge[l++],d))return!1;++i}for(;i<r.length;++i){const d=r[i];if(l>=this.Ge.length||!this.Je(this.Ge[l++],d))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class b{constructor(){this.Ye=new I}addToCollectionParentIndex(e,t){return this.Ye.add(t),ie.resolve()}getCollectionParents(e,t){return ie.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return ie.resolve()}deleteFieldIndex(e,t){return ie.resolve()}getDocumentsMatchingTarget(e,t){return ie.resolve(null)}getIndexType(e,t){return ie.resolve(0)}getFieldIndexes(e,t){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,t){return ie.resolve(_s.min())}getMinOffsetFromCollectionGroup(e,t){return ie.resolve(_s.min())}updateCollectionGroup(e,t,r){return ie.resolve()}updateIndexEntries(e,t){return ie.resolve()}}class I{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Dn(on.comparator),l=!i.has(r);return this.index[t]=i.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Dn(on.comparator)).toArray()}}const S=new Uint8Array(0);class N{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new I,this.Ze=new rl(r=>tl(r),(r,i)=>Nh(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const l={collectionId:r,parent:qi(i)};return R(e).put(l)}return ie.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[eI(t),""],!1,!0);return R(e).W(i).next(l=>{for(const d of l){if(d.collectionId!==t)break;r.push(ol(d.parent))}return r})}addFieldIndex(e,t){const r=X(e),i={indexId:(d=t).indexId,collectionGroup:d.collectionGroup,fields:d.fields.map(p=>[p.fieldPath.canonicalString(),p.kind])};var d;delete i.indexId;const l=r.add(i);if(t.indexState){const d=ve(e);return l.next(p=>{d.put(nS(p,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return l.next()}deleteFieldIndex(e,t){const r=X(e),i=ve(e),l=G(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=G(e);let i=!0;const l=new Map;return ie.forEach(this.tn(t),d=>this.en(e,d).next(p=>{i&&(i=!!p),l.set(d,p)})).next(()=>{if(i){let d=Ht();const p=[];return ie.forEach(l,(y,w)=>{var T;Pe("IndexedDbIndexManager",`Using index ${T=y,`id=${T.indexId}|cg=${T.collectionGroup}|f=${T.fields.map(gt=>`${gt.fieldPath}:${gt.kind}`).join(",")}`} to execute ${tl(t)}`);const M=function(gt,ct){const St=o0(ct);if(void 0===St)return null;for(const Pt of dy(gt,St.fieldPath))switch(Pt.op){case"array-contains-any":return Pt.value.arrayValue.values||[];case"array-contains":return[Pt.value]}return null}(w,y),F=function(gt,ct){const St=new Map;for(const Pt of vu(ct))for(const dn of dy(gt,Pt.fieldPath))switch(dn.op){case"==":case"in":St.set(Pt.fieldPath.canonicalString(),dn.value);break;case"not-in":case"!=":return St.set(Pt.fieldPath.canonicalString(),dn.value),Array.from(St.values())}return null}(w,y),U=function(gt,ct){const St=[];let Pt=!0;for(const dn of vu(ct)){const bs=0===dn.kind?fI(gt,dn.fieldPath,gt.startAt):hy(gt,dn.fieldPath,gt.startAt);St.push(bs.value),Pt&&(Pt=bs.inclusive)}return new Du(St,Pt)}(w,y),q=function(gt,ct){const St=[];let Pt=!0;for(const dn of vu(ct)){const bs=0===dn.kind?hy(gt,dn.fieldPath,gt.endAt):fI(gt,dn.fieldPath,gt.endAt);St.push(bs.value),Pt&&(Pt=bs.inclusive)}return new Du(St,Pt)}(w,y),le=this.nn(y,w,U),_e=this.nn(y,w,q),Ye=this.sn(y,w,F),at=this.rn(y.indexId,M,le,U.inclusive,_e,q.inclusive,Ye);return ie.forEach(at,gt=>r.J(gt,t.limit).next(ct=>{ct.forEach(St=>{const Pt=qe.fromSegments(St.documentKey);d.has(Pt)||(d=d.add(Pt),p.push(Pt))})}))}).next(()=>p)}return ie.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,r,i,l,d,p){const y=(null!=t?t.length:1)*Math.max(r.length,l.length),w=y/(null!=t?t.length:1),T=[];for(let M=0;M<y;++M){const F=t?this.on(t[M/w]):S,U=this.un(e,F,r[M%w],i),q=this.cn(e,F,l[M%w],d),le=p.map(_e=>this.un(e,F,_e,!0));T.push(...this.createRange(U,q,le))}return T}un(e,t,r,i){const l=new c(e,qe.empty(),t,r);return i?l:l.Ke()}cn(e,t,r,i){const l=new c(e,qe.empty(),t,r);return i?l.Ke():l}en(e,t){const r=new v(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(l=>{let d=null;for(const p of l)r.We(p)&&(!d||p.fields.length>d.fields.length)&&(d=p);return d})}getIndexType(e,t){let r=2;return ie.forEach(this.tn(t),i=>this.en(e,i).next(l=>{l?0!==r&&l.fields.length<function(d){let p=new Dn(vr.comparator),y=!1;for(const w of d.filters){const T=w;T.field.isKeyField()||("array-contains"===T.op||"array-contains-any"===T.op?y=!0:p=p.add(T.field))}for(const w of d.orderBy)w.field.isKeyField()||(p=p.add(w.field));return p.size+(y?1:0)}(i)&&(r=1):r=0})).next(()=>r)}an(e,t){const r=new a;for(const i of vu(e)){const l=t.data.field(i.fieldPath);if(null==l)return null;const d=r.qe(i.kind);$h.Te.ce(l,d)}return r.$e()}on(e){const t=new a;return $h.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const r=new a;return $h.Te.ce(Cu(this.databaseId,t),r.qe(function(i){const l=vu(i);return 0===l.length?0:l[l.length-1].kind}(e))),r.$e()}sn(e,t,r){if(null===r)return[];let i=[];i.push(new a);let l=0;for(const d of vu(e)){const p=r[l++];for(const y of i)if(this.ln(t,d.fieldPath)&&Ah(p))i=this.fn(i,d,p);else{const w=y.qe(d.kind);$h.Te.ce(p,w)}}return this.dn(i)}nn(e,t,r){return this.sn(e,t,r.position)}dn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].$e();return t}fn(e,t,r){const i=[...e],l=[];for(const d of r.arrayValue.values||[])for(const p of i){const y=new a;y.seed(p.$e()),$h.Te.ce(d,y.qe(t.kind)),l.push(y)}return l}ln(e,t){return!!e.filters.find(r=>r instanceof Zr&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=X(e),i=ve(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(l=>{const d=[];return ie.forEach(l,p=>i.get([p.indexId,this.uid]).next(y=>{d.push(function(w,T){const M=T?new Ch(T.sequenceNumber,new _s(jh(T.readTime),new qe(ol(T.documentKey)),T.largestBatchId)):Ch.empty(),F=w.fields.map(([U,q])=>new xp(vr.fromServerFormat(U),q));return new ny(w.indexId,w.collectionGroup,F,M)}(p,y))})).next(()=>d)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const l=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==l?l:Vt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=X(e),l=ve(e);return this._n(e).next(d=>i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(p=>ie.forEach(p,y=>l.put(nS(y.indexId,this.user,d,r)))))}updateIndexEntries(e,t){const r=new Map;return ie.forEach(t,(i,l)=>{const d=r.get(i.collectionGroup);return(d?ie.resolve(d):this.getFieldIndexes(e,i.collectionGroup)).next(p=>(r.set(i.collectionGroup,p),ie.forEach(p,y=>this.wn(e,i,y).next(w=>{const T=this.mn(l,y);return w.isEqual(T)?ie.resolve():this.gn(e,l,y,w,T)}))))})}yn(e,t,r,i){return G(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.hn(r,t.key),documentKey:t.key.path.toArray()})}pn(e,t,r,i){return G(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.hn(r,t.key),t.key.path.toArray()])}wn(e,t,r){const i=G(e);let l=new Dn(h);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.hn(r,t)])},(d,p)=>{l=l.add(new c(r.indexId,t,p.arrayValue,p.directionalValue))}).next(()=>l)}mn(e,t){let r=new Dn(h);const i=this.an(t,e);if(null==i)return r;const l=o0(t);if(null!=l){const d=e.data.field(l.fieldPath);if(Ah(d))for(const p of d.arrayValue.values||[])r=r.add(new c(t.indexId,e.key,this.on(p),i))}else r=r.add(new c(t.indexId,e.key,S,i));return r}gn(e,t,r,i,l){Pe("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const d=[];return function(p,y,w,T,M){const F=p.getIterator(),U=y.getIterator();let q=Xa(F),le=Xa(U);for(;q||le;){let _e=!1,Ye=!1;if(q&&le){const at=w(q,le);at<0?Ye=!0:at>0&&(_e=!0)}else null!=q?Ye=!0:_e=!0;_e?(T(le),le=Xa(U)):Ye?(M(q),q=Xa(F)):(q=Xa(F),le=Xa(U))}}(i,l,h,p=>{d.push(this.yn(e,t,r,p))},p=>{d.push(this.pn(e,t,r,p))}),ie.waitFor(d)}_n(e){let t=1;return ve(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,l)=>{l.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((d,p)=>h(d,p)).filter((d,p,y)=>!p||0!==h(d,y[p-1]));const i=[];i.push(e);for(const d of r){const p=h(d,e),y=h(d,t);if(0===p)i[0]=e.Ke();else if(p>0&&y<0)i.push(d),i.push(d.Ke());else if(y>0)break}i.push(t);const l=[];for(let d=0;d<i.length;d+=2)l.push(IDBKeyRange.bound([i[d].indexId,this.uid,i[d].arrayValue,i[d].directionalValue,S,[]],[i[d+1].indexId,this.uid,i[d+1].arrayValue,i[d+1].directionalValue,S,[]]));return l}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(ke)}getMinOffset(e,t){return ie.mapArray(this.tn(t),r=>this.en(e,r).next(i=>i||st())).next(ke)}}function R(n){return Fr(n,"collectionParents")}function G(n){return Fr(n,"indexEntries")}function X(n){return Fr(n,"indexConfiguration")}function ve(n){return Fr(n,"indexState")}function ke(n){Tt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;a0(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new _s(e.readTime,e.documentKey,t)}const Ge={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class We{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new We(e,We.DEFAULT_COLLECTION_PERCENTILE,We.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function wt(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),l=[],d=IDBKeyRange.only(t.batchId);let p=0;const y=r.Z({range:d},(T,M,F)=>(p++,F.delete()));l.push(y.next(()=>{Tt(1===p)}));const w=[];for(const T of t.mutations){const M=HI(e,T.key.path,t.batchId);l.push(i.delete(M)),w.push(T.key)}return ie.waitFor(l).next(()=>w)}function Se(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw st();e=n.noDocument}return JSON.stringify(e).length}We.DEFAULT_COLLECTION_PERCENTILE=10,We.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,We.DEFAULT=new We(41943040,We.DEFAULT_COLLECTION_PERCENTILE,We.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),We.DISABLED=new We(-1,0,0);class Ct{constructor(e,t,r,i){this.userId=e,this.It=t,this.indexManager=r,this.referenceDelegate=i,this.In={}}static oe(e,t,r,i){Tt(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new Ct(l,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return mn(e).Z({index:"userMutationsIndex",range:r},(i,l,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const l=qs(e),d=mn(e);return d.add({}).next(p=>{Tt("number"==typeof p);const y=new H0(p,t,r,i),w=function(F,U,q){const le=q.baseMutations.map(Ye=>Uh(F.re,Ye)),_e=q.mutations.map(Ye=>Uh(F.re,Ye));return{userId:U,batchId:q.batchId,localWriteTimeMs:q.localWriteTime.toMillis(),baseMutations:le,mutations:_e}}(this.It,this.userId,y),T=[];let M=new Dn((F,U)=>Vt(F.canonicalString(),U.canonicalString()));for(const F of i){const U=HI(this.userId,F.key.path,p);M=M.add(F.key.path.popLast()),T.push(d.put(w)),T.push(l.put(U,QT))}return M.forEach(F=>{T.push(this.indexManager.addToCollectionParentIndex(e,F))}),e.addOnCommittedListener(()=>{this.In[p]=y.keys()}),ie.waitFor(T).next(()=>y)})}lookupMutationBatch(e,t){return mn(e).get(t).next(r=>r?(Tt(r.userId===this.userId),Hh(this.It,r)):null)}Tn(e,t){return this.In[t]?ie.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.In[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return mn(e).Z({index:"userMutationsIndex",range:i},(d,p,y)=>{p.userId===this.userId&&(Tt(p.batchId>=r),l=Hh(this.It,p)),y.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return mn(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(i,l,d)=>{r=l.batchId,d.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return mn(e).W("userMutationsIndex",t).next(r=>r.map(i=>Hh(this.It,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=jc(this.userId,t.path),i=IDBKeyRange.lowerBound(r),l=[];return qs(e).Z({range:i},(d,p,y)=>{const[w,T,M]=d,F=ol(T);if(w===this.userId&&t.path.isEqual(F))return mn(e).get(M).next(U=>{if(!U)throw st();Tt(U.userId===this.userId),l.push(Hh(this.It,U))});y.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Dn(Vt);const i=[];return t.forEach(l=>{const d=jc(this.userId,l.path),p=IDBKeyRange.lowerBound(d),y=qs(e).Z({range:p},(w,T,M)=>{const[F,U,q]=w,le=ol(U);F===this.userId&&l.path.isEqual(le)?r=r.add(q):M.done()});i.push(y)}),ie.waitFor(i).next(()=>this.En(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,l=jc(this.userId,r),d=IDBKeyRange.lowerBound(l);let p=new Dn(Vt);return qs(e).Z({range:d},(y,w,T)=>{const[M,F,U]=y,q=ol(F);M===this.userId&&r.isPrefixOf(q)?q.length===i&&(p=p.add(U)):T.done()}).next(()=>this.En(e,p))}En(e,t){const r=[],i=[];return t.forEach(l=>{i.push(mn(e).get(l).next(d=>{if(null===d)throw st();Tt(d.userId===this.userId),r.push(Hh(this.It,d))}))}),ie.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return wt(e.ie,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),ie.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ie.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return qs(e).Z({range:r},(l,d,p)=>{if(l[0]===this.userId){const y=ol(l[1]);i.push(y)}else p.done()}).next(()=>{Tt(0===i.length)})})}containsKey(e,t){return pn(e,this.userId,t)}Rn(e){return xy(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function pn(n,e,t){const r=jc(e,t.path),i=r[1],l=IDBKeyRange.lowerBound(r);let d=!1;return qs(n).Z({range:l,X:!0},(p,y,w)=>{const[T,M,F]=p;T===e&&M===i&&(d=!0),w.done()}).next(()=>d)}function mn(n){return Fr(n,"mutations")}function qs(n){return Fr(n,"documentMutations")}function xy(n){return Fr(n,"mutationQueues")}class al{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new al(0)}static vn(){return new al(-1)}}class q0{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const r=new al(t.highestTargetId);return t.highestTargetId=r.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>Nt.fromTimestamp(new Ln(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Vn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Sn(e,i)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(r=>(r.targetCount+=1,this.Cn(t,r),this.Sn(e,r))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Au(e).delete(t.targetId)).next(()=>this.Vn(e)).next(r=>(Tt(r.targetCount>0),r.targetCount-=1,this.Sn(e,r)))}removeTargets(e,t,r){let i=0;const l=[];return Au(e).Z((d,p)=>{const y=zp(p);y.sequenceNumber<=t&&null===r.get(y.targetId)&&(i++,l.push(this.removeTargetData(e,y)))}).next(()=>ie.waitFor(l)).next(()=>i)}forEachTarget(e,t){return Au(e).Z((r,i)=>{const l=zp(i);t(l)})}Vn(e){return Ny(e).get("targetGlobalKey").next(t=>(Tt(null!==t),t))}Sn(e,t){return Ny(e).put("targetGlobalKey",t)}Dn(e,t){return Au(e).put(QI(this.It,t))}Cn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=tl(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return Au(e).Z({range:i,index:"queryTargetsIndex"},(d,p,y)=>{const w=zp(p);Nh(t,w.target)&&(l=w,y.done())}).next(()=>l)}addMatchingKeys(e,t,r){const i=[],l=ca(e);return t.forEach(d=>{const p=qi(d.path);i.push(l.put({targetId:r,path:p})),i.push(this.referenceDelegate.addReference(e,r,d))}),ie.waitFor(i)}removeMatchingKeys(e,t,r){const i=ca(e);return ie.forEach(t,l=>{const d=qi(l.path);return ie.waitFor([i.delete([r,d]),this.referenceDelegate.removeReference(e,r,l)])})}removeMatchingKeysForTargetId(e,t){const r=ca(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=ca(e);let l=Ht();return i.Z({range:r,X:!0},(d,p,y)=>{const w=ol(d[1]),T=new qe(w);l=l.add(T)}).next(()=>l)}containsKey(e,t){const r=qi(t.path),i=IDBKeyRange.bound([r],[eI(r)],!1,!0);let l=0;return ca(e).Z({index:"documentTargetsIndex",X:!0,range:i},([d,p],y,w)=>{0!==d&&(l++,w.done())}).next(()=>l>0)}se(e,t){return Au(e).get(t).next(r=>r?zp(r):null)}}function Au(n){return Fr(n,"targets")}function Ny(n){return Fr(n,"targetGlobal")}function ca(n){return Fr(n,"targetDocuments")}function Py([n,e],[t,r]){const i=Vt(n,t);return 0===i?Vt(e,r):i}class W0{constructor(e){this.xn=e,this.buffer=new Dn(Py),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Py(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Z0{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;Pe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ye.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Pc(r)?Pe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Ja(r)}yield t.Fn(3e5)}))}}class QO{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return ie.resolve(zi.at);const r=new W0(t);return this.$n.forEachTarget(e,i=>r.On(i.sequenceNumber)).next(()=>this.$n.Ln(e,i=>r.On(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.$n.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(Ge)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ge):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let r,i,l,d,p,y,w;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(M=>(M>this.params.maximumSequenceNumbersToCollect?(Pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),i=this.params.maximumSequenceNumbersToCollect):i=M,d=Date.now(),this.nthSequenceNumber(e,i))).next(M=>(r=M,p=Date.now(),this.removeTargets(e,r,t))).next(M=>(l=M,y=Date.now(),this.removeOrphanedDocuments(e,r))).next(M=>(w=Date.now(),Ap()<=ps.in.DEBUG&&Pe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-T}ms\n\tDetermined least recently used ${i} in `+(p-d)+`ms\n\tRemoved ${l} targets in `+(y-p)+`ms\n\tRemoved ${M} documents in `+(w-y)+`ms\nTotal Duration: ${w-T}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:l,documentsRemoved:M})))}}class JO{constructor(e,t){this.db=e,this.garbageCollector=new QO(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}qn(e){let t=0;return this.Ln(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(r,i)=>t(i))}addReference(e,t,r){return eC(e,r)}removeReference(e,t,r){return eC(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return eC(e,t)}Gn(e,t){return function(r,i){let l=!1;return xy(r).tt(d=>pn(r,d,i).next(p=>(p&&(l=!0),ie.resolve(!p)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let l=0;return this.Kn(e,(d,p)=>{if(p<=t){const y=this.Gn(e,d).next(w=>{if(!w)return l++,r.getEntry(e,d).next(()=>(r.removeEntry(d,Nt.min()),ca(e).delete([0,qi(d.path)])))});i.push(y)}}).next(()=>ie.waitFor(i)).next(()=>r.apply(e)).next(()=>l)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return eC(e,t)}Kn(e,t){const r=ca(e);let i,l=zi.at;return r.Z({index:"documentTargetsIndex"},([d,p],{path:y,sequenceNumber:w})=>{0===d?(l!==zi.at&&t(new qe(ol(i)),l),l=w,i=y):l=zi.at}).next(()=>{l!==zi.at&&t(new qe(ol(i)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function eC(n,e){return ca(n).put((r=n.currentSequenceNumber,{targetId:0,path:qi(e.path),sequenceNumber:r}));var r}class bx{constructor(){this.changes=new rl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,An.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ie.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class XO{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return qp(e).put(r)}removeEntry(e,t,r){return qp(e).delete(function(i,l){const d=i.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],Ay(l),d[d.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Qn(e,r)))}getEntry(e,t){let r=An.newInvalidDocument(t);return qp(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(K0(t))},(i,l)=>{r=this.jn(t,l)}).next(()=>r)}Wn(e,t){let r={size:0,document:An.newInvalidDocument(t)};return qp(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(K0(t))},(i,l)=>{r={document:this.jn(t,l),size:Se(l)}}).next(()=>r)}getEntries(e,t){let r=zn();return this.zn(e,t,(i,l)=>{const d=this.jn(i,l);r=r.insert(i,d)}).next(()=>r)}Hn(e,t){let r=zn(),i=new $n(qe.comparator);return this.zn(e,t,(l,d)=>{const p=this.jn(l,d);r=r.insert(l,p),i=i.insert(l,Se(d))}).next(()=>({documents:r,Jn:i}))}zn(e,t,r){if(t.isEmpty())return ie.resolve();let i=new Dn(Tx);t.forEach(y=>i=i.add(y));const l=IDBKeyRange.bound(K0(i.first()),K0(i.last())),d=i.getIterator();let p=d.getNext();return qp(e).Z({index:"documentKeyIndex",range:l},(y,w,T)=>{const M=qe.fromSegments([...w.prefixPath,w.collectionGroup,w.documentId]);for(;p&&Tx(p,M)<0;)r(p,null),p=d.getNext();p&&p.isEqual(M)&&(r(p,w),p=d.hasNext()?d.getNext():null),p?T.j(K0(p)):T.done()}).next(()=>{for(;p;)r(p,null),p=d.hasNext()?d.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),Ay(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return qp(e).W(IDBKeyRange.bound(i,l,!0)).next(d=>{let p=zn();for(const y of d){const w=this.jn(qe.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);p=p.insert(w.key,w)}return p})}getAllFromCollectionGroup(e,t,r,i){let l=zn();const d=Dx(t,r),p=Dx(t,_s.max());return qp(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,p,!0)},(y,w,T)=>{const M=this.jn(qe.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);l=l.insert(M.key,M),l.size===i&&T.done()}).next(()=>l)}newChangeBuffer(e){return new eR(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Cx(e).get("remoteDocumentGlobalKey").next(t=>(Tt(!!t),t))}Qn(e,t){return Cx(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const r=function YI(n,e){let t;if(e.document)t=R0(n.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=qe.fromSegments(e.noDocument.path),i=jh(e.noDocument.readTime);t=An.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return st();{const r=qe.fromSegments(e.unknownDocument.path),i=jh(e.unknownDocument.version);t=An.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new Ln(r[0],r[1]);return Nt.fromTimestamp(i)}(e.readTime)),t}(this.It,t);if(!r.isNoDocument()||!r.version.isEqual(Nt.min()))return r}return An.newInvalidDocument(e)}}function Ix(n){return new XO(n)}class eR extends bx{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new rl(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Dn((l,d)=>Vt(l.canonicalString(),d.canonicalString()));return this.changes.forEach((l,d)=>{const p=this.Xn.get(l);if(t.push(this.Yn.removeEntry(e,l,p.readTime)),d.isValidDocument()){const y=Sy(this.Yn.It,d);i=i.add(l.path.popLast()),r+=Se(y)-p.size,t.push(this.Yn.addEntry(e,l,y))}else if(r-=p.size,this.trackRemovals){const y=Sy(this.Yn.It,d.convertToNoDocument(Nt.min()));t.push(this.Yn.addEntry(e,l,y))}}),i.forEach(l=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,l))}),t.push(this.Yn.updateMetadata(e,r)),ie.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(r=>(this.Xn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:r,Jn:i})=>(i.forEach((l,d)=>{this.Xn.set(l,{size:d,readTime:r.get(l).readTime})}),r))}}function Cx(n){return Fr(n,"remoteDocumentGlobal")}function qp(n){return Fr(n,"remoteDocumentsV14")}function K0(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Dx(n,e){const t=e.documentKey.path.toArray();return[n,Ay(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Tx(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let l=0;l<t.length-2&&l<r.length-2;++l)if(i=Vt(t[l],r[l]),i)return i;return i=Vt(t.length,r.length),i||(i=Vt(t[t.length-2],r[r.length-2]),i||Vt(t[t.length-1],r[r.length-1]))}class tR{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Sx{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.getBaseDocument(e,t,r))).next(i=>(null!==r&&_y(r.mutation,i,yi.empty(),Ln.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ht()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ht()){const i=Er();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(l=>{let d=Vc();return l.forEach((p,y)=>{d=d.insert(p,y.overlayedDocument)}),d}))}getOverlayedDocuments(e,t){const r=Er();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ht()))}populateOverlays(e,t,r){const i=[];return r.forEach(l=>{t.has(l)||i.push(l)}),this.documentOverlayCache.getOverlays(e,i).next(l=>{l.forEach((d,p)=>{t.set(d,p)})})}computeViews(e,t,r,i){let l=zn();const d=Uc(),p=Uc();return t.forEach((y,w)=>{const T=r.get(w.key);i.has(w.key)&&(void 0===T||T.mutation instanceof zs)?l=l.insert(w.key,w):void 0!==T&&(d.set(w.key,T.mutation.getFieldMask()),_y(T.mutation,w,T.mutation.getFieldMask(),Ln.now()))}),this.recalculateAndSaveOverlays(e,l).next(y=>(y.forEach((w,T)=>d.set(w,T)),t.forEach((w,T)=>{var M;return p.set(w,new tR(T,null!==(M=d.get(w))&&void 0!==M?M:null))}),p))}recalculateAndSaveOverlays(e,t){const r=Uc();let i=new $n((d,p)=>d-p),l=Ht();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(d=>{for(const p of d)p.keys().forEach(y=>{const w=t.get(y);if(null===w)return;let T=r.get(y)||yi.empty();T=p.applyToLocalView(w,T),r.set(y,T);const M=(i.get(p.batchId)||Ht()).add(y);i=i.insert(p.batchId,M)})}).next(()=>{const d=[],p=i.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),w=y.key,T=y.value,M=PI();T.forEach(F=>{if(!l.has(F)){const U=DI(t.get(F),r.get(F));null!==U&&M.set(F,U),l=l.add(F)}}),d.push(this.documentOverlayCache.saveOverlays(e,w,M))}return ie.waitFor(d)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return qe.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):y0(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(l=>{const d=i-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-l.size):ie.resolve(Er());let p=-1,y=l;return d.next(w=>ie.forEach(w,(T,M)=>(p<M.largestBatchId&&(p=M.largestBatchId),l.get(T)?ie.resolve():this.getBaseDocument(e,T,M).next(F=>{y=y.insert(T,F)}))).next(()=>this.populateOverlays(e,w,l)).next(()=>this.computeViews(e,y,w,Ht())).next(T=>({batchId:p,changes:NI(T)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new qe(t)).next(r=>{let i=Vc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let l=Vc();return this.indexManager.getCollectionParents(e,i).next(d=>ie.forEach(d,p=>{const y=(w=t,T=p.child(i),new Tu(T,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt));var w,T;return this.getDocumentsMatchingCollectionQuery(e,y,r).next(w=>{w.forEach((T,M)=>{l=l.insert(T,M)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(l=>(i=l,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(l=>{l.forEach((p,y)=>{const w=y.getKey();null===i.get(w)&&(i=i.insert(w,An.newInvalidDocument(w)))});let d=Vc();return i.forEach((p,y)=>{const w=l.get(p);void 0!==w&&_y(w.mutation,y,yi.empty(),Ln.now()),yy(t,y)&&(d=d.insert(p,y))}),d})}getBaseDocument(e,t,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,t):ie.resolve(An.newInvalidDocument(t))}}class nR{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return ie.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:Kr(r.createTime)}),ie.resolve()}getNamedQuery(e,t){return ie.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:G0(r.bundledQuery),readTime:Kr(r.readTime)}),ie.resolve();var r}}class rR{constructor(){this.overlays=new $n(qe.comparator),this.es=new Map}getOverlay(e,t){return ie.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Er();return ie.forEach(t,i=>this.getOverlay(e,i).next(l=>{null!==l&&r.set(i,l)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,l)=>{this.ue(e,t,l)}),ie.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(l=>this.overlays=this.overlays.remove(l)),this.es.delete(r)),ie.resolve()}getOverlaysForCollection(e,t,r){const i=Er(),l=t.length+1,d=new qe(t.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,w=y.getKey();if(!t.isPrefixOf(w.path))break;w.path.length===l&&y.largestBatchId>r&&i.set(y.getKey(),y)}return ie.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let l=new $n((w,T)=>w-T);const d=this.overlays.getIterator();for(;d.hasNext();){const w=d.getNext().value;if(w.getKey().getCollectionGroup()===t&&w.largestBatchId>r){let T=l.get(w.largestBatchId);null===T&&(T=Er(),l=l.insert(w.largestBatchId,T)),T.set(w.getKey(),w)}}const p=Er(),y=l.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((w,T)=>p.set(w,T)),!(p.size()>=i)););return ie.resolve(p)}ue(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const d=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new Ty(t,r));let l=this.es.get(t);void 0===l&&(l=Ht(),this.es.set(t,l)),this.es.set(t,l.add(r.key))}}class sS{constructor(){this.ns=new Dn(wi.ss),this.rs=new Dn(wi.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new wi(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new wi(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new qe(new on([])),r=new wi(t,e),i=new wi(t,e+1),l=[];return this.rs.forEachInRange([r,i],d=>{this.cs(d),l.push(d.key)}),l}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new qe(new on([])),r=new wi(t,e),i=new wi(t,e+1);let l=Ht();return this.rs.forEachInRange([r,i],d=>{l=l.add(d.key)}),l}containsKey(e){const t=new wi(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class wi{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return qe.comparator(e.key,t.key)||Vt(e._s,t._s)}static os(e,t){return Vt(e._s,t._s)||qe.comparator(e.key,t.key)}}class iR{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new Dn(wi.ss)}checkEmpty(e){return ie.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const l=this.ws;this.ws++;const d=new H0(l,t,r,i);this.mutationQueue.push(d);for(const p of i)this.gs=this.gs.add(new wi(p.key,l)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ie.resolve(d)}lookupMutationBatch(e,t){return ie.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ps(t+1),l=i<0?0:i;return ie.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new wi(t,0),i=new wi(t,Number.POSITIVE_INFINITY),l=[];return this.gs.forEachInRange([r,i],d=>{const p=this.ys(d._s);l.push(p)}),ie.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Dn(Vt);return t.forEach(i=>{const l=new wi(i,0),d=new wi(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([l,d],p=>{r=r.add(p._s)})}),ie.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let l=r;qe.isDocumentKey(l)||(l=l.child(""));const d=new wi(new qe(l),0);let p=new Dn(Vt);return this.gs.forEachWhile(y=>{const w=y.key.path;return!!r.isPrefixOf(w)&&(w.length===i&&(p=p.add(y._s)),!0)},d),ie.resolve(this.Is(p))}Is(e){const t=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Tt(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return ie.forEach(t.mutations,i=>{const l=new wi(i.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new wi(t,0),i=this.gs.firstAfterOrEqual(r);return ie.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return ie.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class sR{constructor(e){this.Es=e,this.docs=new $n(qe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),l=i?i.size:0,d=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ie.resolve(r?r.document.mutableCopy():An.newInvalidDocument(t))}getEntries(e,t){let r=zn();return t.forEach(i=>{const l=this.docs.get(i);r=r.insert(i,l?l.document.mutableCopy():An.newInvalidDocument(i))}),ie.resolve(r)}getAllFromCollection(e,t,r){let i=zn();const l=new qe(t.child("")),d=this.docs.getIteratorFrom(l);for(;d.hasNext();){const{key:p,value:{document:y}}=d.getNext();if(!t.isPrefixOf(p.path))break;p.path.length>t.length+1||a0(rI(y),r)<=0||(i=i.insert(y.key,y.mutableCopy()))}return ie.resolve(i)}getAllFromCollectionGroup(e,t,r,i){st()}As(e,t){return ie.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new oR(this)}getSize(e){return ie.resolve(this.size)}}class oR extends bx{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),ie.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class aR{constructor(e){this.persistence=e,this.Rs=new rl(t=>tl(t),Nh),this.lastRemoteSnapshotVersion=Nt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new sS,this.targetCount=0,this.vs=al.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,i)=>t(i)),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),ie.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new al(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,ie.resolve()}updateTargetData(e,t){return this.Dn(t),ie.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,t,r){let i=0;const l=[];return this.Rs.forEach((d,p)=>{p.sequenceNumber<=t&&null===r.get(p.targetId)&&(this.Rs.delete(d),l.push(this.removeMatchingKeysForTargetId(e,p.targetId)),i++)}),ie.waitFor(l).next(()=>i)}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return ie.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),ie.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const i=this.persistence.referenceDelegate,l=[];return i&&t.forEach(d=>{l.push(i.markPotentiallyOrphaned(e,d))}),ie.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),ie.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return ie.resolve(r)}containsKey(e,t){return ie.resolve(this.Ps.containsKey(t))}}class Ax{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new zi(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new aR(this),this.indexManager=new b,this.remoteDocumentCache=new sR(r=>this.referenceDelegate.xs(r)),this.It=new eS(t),this.Ns=new nR(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new rR,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new iR(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){Pe("MemoryPersistence","Starting transaction:",e);const i=new lR(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(l=>this.referenceDelegate.Os(i).next(()=>l)).toPromise().then(l=>(i.raiseOnCommittedEvent(),l))}Ms(e,t){return ie.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class lR extends Dh{constructor(e){super(),this.currentSequenceNumber=e}}class tC{constructor(e){this.persistence=e,this.Fs=new sS,this.$s=null}static Bs(e){return new tC(e)}get Ls(){if(this.$s)return this.$s;throw st()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),ie.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),ie.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),ie.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(l=>this.Ls.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.Ls,r=>{const i=qe.fromPath(r);return this.Us(e,i).next(l=>{l||t.removeEntry(i,Nt.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return ie.or([()=>ie.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class uR{constructor(e){this.It=e}$(e,t,r,i){const l=new Np("createOrUpgrade",t);var p;r<1&&i>=1&&(e.createObjectStore("owner"),(p=e).createObjectStore("mutationQueues",{keyPath:"userId"}),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",jI,{unique:!0}),p.createObjectStore("documentMutations"),Mx(e),function(p){p.createObjectStore("remoteDocuments")}(e));let d=ie.resolve();return r<3&&i>=3&&(0!==r&&(function(p){p.deleteObjectStore("targetDocuments"),p.deleteObjectStore("targets"),p.deleteObjectStore("targetGlobal")}(e),Mx(e)),d=d.next(()=>function(p){const y=p.store("targetGlobal"),w={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Nt.min().toTimestamp(),targetCount:0};return y.put("targetGlobalKey",w)}(l))),r<4&&i>=4&&(0!==r&&(d=d.next(()=>function(p,y){return y.store("mutations").W().next(w=>{p.deleteObjectStore("mutations"),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",jI,{unique:!0});const T=y.store("mutations"),M=w.map(F=>T.put(F));return ie.waitFor(M)})}(e,l))),d=d.next(()=>{!function(p){p.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(d=d.next(()=>this.qs(l))),r<6&&i>=6&&(d=d.next(()=>(function(p){p.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(l)))),r<7&&i>=7&&(d=d.next(()=>this.Gs(l))),r<8&&i>=8&&(d=d.next(()=>this.Qs(e,l))),r<9&&i>=9&&(d=d.next(()=>{!function(p){p.objectStoreNames.contains("remoteDocumentChanges")&&p.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(d=d.next(()=>this.js(l))),r<11&&i>=11&&(d=d.next(()=>{(function(p){p.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(p){p.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(d=d.next(()=>{!function(p){const y=p.createObjectStore("documentOverlays",{keyPath:yx});y.createIndex("collectionPathOverlayIndex",_x,{unique:!1}),y.createIndex("collectionGroupOverlayIndex",zI,{unique:!1})}(e)})),r<13&&i>=13&&(d=d.next(()=>function(p){const y=p.createObjectStore("remoteDocumentsV14",{keyPath:$I});y.createIndex("documentKeyIndex",Hc),y.createIndex("collectionGroupIndex",GI)}(e)).next(()=>this.Ws(e,l)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(d=d.next(()=>this.zs(e,l))),r<15&&i>=15&&(d=d.next(()=>function(p){p.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),p.createObjectStore("indexState",{keyPath:j0}).createIndex("sequenceNumberIndex",Cy,{unique:!1}),p.createObjectStore("indexEntries",{keyPath:gx}).createIndex("documentKeyIndex",mx,{unique:!1})}(e))),d}Ks(e){let t=0;return e.store("remoteDocuments").Z((r,i)=>{t+=Se(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}qs(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(i=>ie.forEach(i,l=>{const d=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",d).next(p=>ie.forEach(p,y=>{Tt(y.userId===l.userId);const w=Hh(this.It,y);return wt(e,l.userId,w).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const l=[];return r.Z((d,p)=>{const y=new on(d),w=[0,qi(y)];l.push(t.get(w).next(T=>T?ie.resolve():t.put({targetId:0,path:qi(y),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>ie.waitFor(l))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:B0});const r=t.store("collectionParents"),i=new I,l=d=>{if(i.add(d)){const p=d.lastSegment(),y=d.popLast();return r.put({collectionId:p,parent:qi(y)})}};return t.store("remoteDocuments").Z({X:!0},(d,p)=>{const y=new on(d);return l(y.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([d,p,y],w)=>{const T=ol(p);return l(T.popLast())}))}js(e){const t=e.store("targets");return t.Z((r,i)=>{const l=zp(i),d=QI(this.It,l);return t.put(d)})}Ws(e,t){const r=t.store("remoteDocuments"),i=[];return r.Z((l,d)=>{const p=t.store("remoteDocumentsV14"),y=(w=d,w.document?new qe(on.fromString(w.document.name).popFirst(5)):w.noDocument?qe.fromSegments(w.noDocument.path):w.unknownDocument?qe.fromSegments(w.unknownDocument.path):st()).path.toArray();var w;const T={prefixPath:y.slice(0,y.length-2),collectionGroup:y[y.length-2],documentId:y[y.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};i.push(p.put(T))}).next(()=>ie.waitFor(i))}zs(e,t){const r=t.store("mutations"),i=Ix(this.It),l=new Ax(tC.Bs,this.It.re);return r.W().next(d=>{const p=new Map;return d.forEach(y=>{var w;let T=null!==(w=p.get(y.userId))&&void 0!==w?w:Ht();Hh(this.It,y).keys().forEach(M=>T=T.add(M)),p.set(y.userId,T)}),ie.forEach(p,(y,w)=>{const T=new Wr(w),M=z0.oe(this.It,T),F=l.getIndexManager(T),U=Ct.oe(T,this.It,F,l.referenceDelegate);return new Sx(i,U,M,F).recalculateAndSaveOverlaysForDocumentKeys(new Dy(t,zi.at),y).next()})})}}function Mx(n){n.createObjectStore("targetDocuments",{keyPath:U0}).createIndex("documentTargetsIndex",JT,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",V0,{unique:!0}),n.createObjectStore("targetGlobal")}const oS="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class aS{constructor(e,t,r,i,l,d,p,y,w,T,M=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Hs=l,this.window=d,this.document=p,this.Js=w,this.Ys=T,this.Xs=M,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=F=>Promise.resolve(),!aS.C())throw new Ne(ce.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new JO(this,i),this.ii=t+"main",this.It=new eS(y),this.ri=new Gs(this.ii,this.Xs,new uR(this.It)),this.Cs=new q0(this.referenceDelegate,this.It),this.remoteDocumentCache=Ix(this.It),this.Ns=new vx,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===T&&_r("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ne(ce.FAILED_PRECONDITION,oS);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new zi(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var r=(0,ye.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,ye.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,ye.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>nC(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(Pc(e))return Pe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Pe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return Y0(e).get("owner").next(t=>ie.resolve(this.mi(t)))}gi(e){return nC(e).delete(this.clientId)}yi(){var e=this;return(0,ye.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Fr(r,"clientMetadata");return i.W().next(l=>{const d=e.Ii(l,18e5),p=l.filter(y=>-1===d.indexOf(y));return ie.forEach(p,y=>i.delete(y.clientId)).next(()=>p)})}).catch(()=>[]);if(e.oi)for(const r of t)e.oi.removeItem(e.Ti(r.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?ie.resolve(!0):Y0(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Ne(ce.FAILED_PRECONDITION,oS);return!1}}return!(!this.networkEnabled||!this.inForeground)||nC(e).W().next(r=>void 0===this.Ii(r,5e3).find(i=>{if(this.clientId!==i.clientId){const d=!this.inForeground&&i.inForeground,p=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||d&&p)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Pe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ye.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new Dy(t,zi.at);return e._i(r).next(()=>e.gi(r))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(r=>this.pi(r.updateTimeMs,t)&&!this.Ei(r.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>nC(e).W().next(t=>this.Ii(t,18e5).map(r=>r.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return Ct.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new N(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return z0.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,r){Pe("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",l=15===(d=this.Xs)?KI:14===d?ZI:13===d?WI:12===d?XT:11===d?qI:void st();var d;let p;return this.ri.runTransaction(e,i,l,y=>(p=new Dy(y,this.Ss?this.Ss.next():zi.at),"readwrite-primary"===t?this.fi(p).next(w=>!!w||this.di(p)).next(w=>{if(!w)throw _r(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Ne(ce.FAILED_PRECONDITION,l0);return r(p)}).next(w=>this.wi(p).next(()=>w)):this.Vi(p).next(()=>r(p)))).then(y=>(p.raiseOnCommittedEvent(),y))}Vi(e){return Y0(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ne(ce.FAILED_PRECONDITION,oS)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Y0(e).put("owner",t)}static C(){return Gs.C()}_i(e){const t=Y0(e);return t.get("owner").next(r=>this.mi(r)?(Pe("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ie.resolve())}pi(e,t){const r=Date.now();return!(e<r-t||e>r&&(_r(`Detected an update time that is in the future: ${e} > ${r}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,Qt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const r=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Pe("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return _r("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){_r("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Y0(n){return Fr(n,"owner")}function nC(n){return Fr(n,"clientMetadata")}function lS(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class uS{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=i}static Ci(e,t){let r=Ht(),i=Ht();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:i=i.add(l.doc.key)}return new uS(e,t.fromCache,r,i)}}class xx{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.ki(e,t).next(l=>l||this.Oi(e,t,i,r)).next(l=>l||this.Mi(e,t))}ki(e,t){if(vI(t))return ie.resolve(null);let r=Ei(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=my(t,null,"F"),r=Ei(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(l=>{const d=Ht(...l);return this.Ni.getDocuments(e,d).next(p=>this.indexManager.getMinOffset(e,r).next(y=>{const w=this.Fi(t,p);return this.$i(t,w,d,y.readTime)?this.ki(e,my(t,null,"F")):this.Bi(e,w,t,y)}))})))}Oi(e,t,r,i){return vI(t)||i.isEqual(Nt.min())?this.Mi(e,t):this.Ni.getDocuments(e,r).next(l=>{const d=this.Fi(t,l);return this.$i(t,d,r,i)?this.Mi(e,t):(Ap()<=ps.in.DEBUG&&Pe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),v0(t)),this.Bi(e,d,t,nI(i,-1)))})}Fi(e,t){let r=new Dn(w0(e));return t.forEach((i,l)=>{yy(e,l)&&(r=r.add(l))}),r}$i(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const l="F"===e.limitType?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(i)>0)}Mi(e,t){return Ap()<=ps.in.DEBUG&&Pe("QueryEngine","Using full collection scan to execute query:",v0(t)),this.Ni.getDocumentsMatchingQuery(e,t,_s.min())}Bi(e,t,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(l=>(t.forEach(d=>{l=l.insert(d.key,d)}),l))}}class cR{constructor(e,t,r,i){this.persistence=e,this.Li=t,this.It=i,this.Ui=new $n(Vt),this.qi=new rl(l=>tl(l),Nh),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Sx(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function Nx(n,e,t,r){return new cR(n,e,t,r)}function Px(n,e){return cS.apply(this,arguments)}function cS(){return cS=(0,ye.Z)(function*(n,e){const t=ze(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(l=>(i=l,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(l=>{const d=[],p=[];let y=Ht();for(const w of i){d.push(w.batchId);for(const T of w.mutations)y=y.add(T.key)}for(const w of l){p.push(w.batchId);for(const T of w.mutations)y=y.add(T.key)}return t.localDocuments.getDocuments(r,y).next(w=>({ji:w,removedBatchIds:d,addedBatchIds:p}))})})}),cS.apply(this,arguments)}function dR(n,e){const t=ze(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),l=t.Gi.newChangeBuffer({trackRemovals:!0});return function(d,p,y,w){const T=y.batch,M=T.keys();let F=ie.resolve();return M.forEach(U=>{F=F.next(()=>w.getEntry(p,U)).next(q=>{const le=y.docVersions.get(U);Tt(null!==le),q.version.compareTo(le)<0&&(T.applyToRemoteDocument(q,y),q.isValidDocument()&&(q.setReadTime(y.commitVersion),w.addEntry(q)))})}),F.next(()=>d.mutationQueue.removeMutationBatch(p,T))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let p=Ht();for(let y=0;y<d.mutationResults.length;++y)d.mutationResults[y].transformResults.length>0&&(p=p.add(d.batch.mutations[y].key));return p}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function Ox(n){const e=ze(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function hR(n,e){const t=ze(n),r=e.snapshotVersion;let i=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const d=t.Gi.newChangeBuffer({trackRemovals:!0});i=t.Ui;const p=[];e.targetChanges.forEach((T,M)=>{const F=i.get(M);if(!F)return;p.push(t.Cs.removeMatchingKeys(l,T.removedDocuments,M).next(()=>t.Cs.addMatchingKeys(l,T.addedDocuments,M)));let U=F.withSequenceNumber(l.currentSequenceNumber);var q,le,_e;e.targetMismatches.has(M)?U=U.withResumeToken(kr.EMPTY_BYTE_STRING,Nt.min()).withLastLimboFreeSnapshotVersion(Nt.min()):T.resumeToken.approximateByteSize()>0&&(U=U.withResumeToken(T.resumeToken,r)),i=i.insert(M,U),le=U,_e=T,(0===(q=F).resumeToken.approximateByteSize()||le.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=3e8||_e.addedDocuments.size+_e.modifiedDocuments.size+_e.removedDocuments.size>0)&&p.push(t.Cs.updateTargetData(l,U))});let y=zn(),w=Ht();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(l,T))}),p.push(Rx(l,d,e.documentUpdates).next(T=>{y=T.Wi,w=T.zi})),!r.isEqual(Nt.min())){const T=t.Cs.getLastRemoteSnapshotVersion(l).next(M=>t.Cs.setTargetsMetadata(l,l.currentSequenceNumber,r));p.push(T)}return ie.waitFor(p).next(()=>d.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,y,w)).next(()=>y)}).then(l=>(t.Ui=i,l))}function Rx(n,e,t){let r=Ht(),i=Ht();return t.forEach(l=>r=r.add(l)),e.getEntries(n,r).next(l=>{let d=zn();return t.forEach((p,y)=>{const w=l.get(p);y.isFoundDocument()!==w.isFoundDocument()&&(i=i.add(p)),y.isNoDocument()&&y.version.isEqual(Nt.min())?(e.removeEntry(p,y.readTime),d=d.insert(p,y)):!w.isValidDocument()||y.version.compareTo(w.version)>0||0===y.version.compareTo(w.version)&&w.hasPendingWrites?(e.addEntry(y),d=d.insert(p,y)):Pe("LocalStore","Ignoring outdated watch update for ",p,". Current version:",w.version," Watch version:",y.version)}),{Wi:d,zi:i}})}function fR(n,e){const t=ze(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Oy(n,e){const t=ze(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Cs.getTargetData(r,e).next(l=>l?(i=l,ie.resolve(i)):t.Cs.allocateTargetId(r).next(d=>(i=new ua(e,d,0,r.currentSequenceNumber),t.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ui.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(r.targetId,r),t.qi.set(e,r.targetId)),r})}function Ry(n,e,t){return dS.apply(this,arguments)}function dS(){return dS=(0,ye.Z)(function*(n,e,t){const r=ze(n),i=r.Ui.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",l,d=>r.persistence.referenceDelegate.removeTarget(d,i)))}catch(d){if(!Pc(d))throw d;Pe("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ui=r.Ui.remove(e),r.qi.delete(i.target)}),dS.apply(this,arguments)}function rC(n,e,t){const r=ze(n);let i=Nt.min(),l=Ht();return r.persistence.runTransaction("Execute query","readonly",d=>function(p,y,w){const T=ze(p),M=T.qi.get(w);return void 0!==M?ie.resolve(T.Ui.get(M)):T.Cs.getTargetData(y,w)}(r,d,Ei(e)).next(p=>{if(p)return i=p.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(d,p.targetId).next(y=>{l=y})}).next(()=>r.Li.getDocumentsMatchingQuery(d,e,t?i:Nt.min(),t?l:Ht())).next(p=>(Lx(r,E0(e),p),{documents:p,Hi:l})))}function kx(n,e){const t=ze(n),r=ze(t.Cs),i=t.Ui.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",l=>r.se(l,e).next(d=>d?d.target:null))}function Fx(n,e){const t=ze(n),r=t.Ki.get(e)||Nt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Gi.getAllFromCollectionGroup(i,e,nI(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(Lx(t,e,i),i))}function Lx(n,e,t){let r=n.Ki.get(e)||Nt.min();t.forEach((i,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),n.Ki.set(e,r)}function hS(){return hS=(0,ye.Z)(function*(n,e,t,r){const i=ze(n);let l=Ht(),d=zn();for(const w of t){const T=e.Ji(w.metadata.name);w.document&&(l=l.add(T));const M=e.Yi(w);M.setReadTime(e.Xi(w.metadata.readTime)),d=d.insert(T,M)}const p=i.Gi.newChangeBuffer({trackRemovals:!0}),y=yield Oy(i,(w=r,Ei(Oh(on.fromString(`__bundle__/docs/${w}`)))));var w;return i.persistence.runTransaction("Apply bundle documents","readwrite",w=>Rx(w,p,d).next(T=>(p.apply(w),T)).next(T=>i.Cs.removeMatchingKeysForTargetId(w,y.targetId).next(()=>i.Cs.addMatchingKeys(w,l,y.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(w,T.Wi,T.zi)).next(()=>T.Wi)))}),hS.apply(this,arguments)}function gR(n,e){return fS.apply(this,arguments)}function fS(){return fS=(0,ye.Z)(function*(n,e,t=Ht()){const r=yield Oy(n,Ei(G0(e.bundledQuery))),i=ze(n);return i.persistence.runTransaction("Save named query","readwrite",l=>{const d=Kr(e.readTime);if(r.snapshotVersion.compareTo(d)>=0)return i.Ns.saveNamedQuery(l,e);const p=r.withResumeToken(kr.EMPTY_BYTE_STRING,d);return i.Ui=i.Ui.insert(p.targetId,p),i.Cs.updateTargetData(l,p).next(()=>i.Cs.removeMatchingKeysForTargetId(l,r.targetId)).next(()=>i.Cs.addMatchingKeys(l,t,r.targetId)).next(()=>i.Ns.saveNamedQuery(l,e))})}),fS.apply(this,arguments)}function Vx(n,e){return`firestore_clients_${n}_${e}`}function Ux(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function pS(n,e){return`firestore_targets_${n}_${e}`}class iC{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Zi(e,t,r){const i=JSON.parse(r);let l,d="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return d&&i.error&&(d="string"==typeof i.error.message&&"string"==typeof i.error.code,d&&(l=new Ne(i.error.code,i.error.message))),d?new iC(e,t,i.state,l):(_r("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Q0{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Zi(e,t){const r=JSON.parse(t);let i,l="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(i=new Ne(r.error.code,r.error.message))),l?new Q0(e,r.state,i):(_r("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class sC{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,l=jp();for(let d=0;i&&d<r.activeTargetIds.length;++d)i=ay(r.activeTargetIds[d]),l=l.add(r.activeTargetIds[d]);return i?new sC(e,l):(_r("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class gS{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new gS(t.clientId,t.onlineState):(_r("SharedClientState",`Failed to parse online state: ${e}`),null)}}class mS{constructor(){this.activeTargetIds=jp()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yS{constructor(e,t,r,i,l){this.window=e,this.Hs=t,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new $n(Vt),this.started=!1,this.cr=[];const d=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.ar=Vx(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new mS),this.lr=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(p){return`firestore_bundle_loaded_v2_${p}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ye.Z)(function*(){const t=yield e.syncEngine.vi();for(const i of t){if(i===e.sr)continue;const l=e.getItem(Vx(e.persistenceKey,i));if(l){const d=sC.Zi(i,l);d&&(e.ur=e.ur.insert(d.clientId,d))}}e.gr();const r=e.storage.getItem(e.wr);if(r){const i=e.yr(r);i&&e.pr(i)}for(const i of e.cr)e.rr(i);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,r){this.Tr(e,t,r),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(pS(this.persistenceKey,e));if(r){const i=Q0.Zi(e,r);i&&(t=i.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(pS(this.persistenceKey,e))}updateQueryState(e,t,r){this.Rr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Er(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Pe("SharedClientState","READ",e,t),t}setItem(e,t){Pe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Pe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Pe("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ar)return void _r("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,ye.Z)(function*(){if(t.started){if(null!==r.key)if(t.lr.test(r.key)){if(null==r.newValue){const i=t.vr(r.key);return t.Vr(i,null)}{const i=t.Sr(r.key,r.newValue);if(i)return t.Vr(i.clientId,i)}}else if(t.dr.test(r.key)){if(null!==r.newValue){const i=t.Dr(r.key,r.newValue);if(i)return t.Cr(i)}}else if(t._r.test(r.key)){if(null!==r.newValue){const i=t.Nr(r.key,r.newValue);if(i)return t.kr(i)}}else if(r.key===t.wr){if(null!==r.newValue){const i=t.yr(r.newValue);if(i)return t.pr(i)}}else if(r.key===t.hr){const i=function(l){let d=zi.at;if(null!=l)try{const p=JSON.parse(l);Tt("number"==typeof p),d=p}catch(p){_r("SharedClientState","Failed to read sequence number from WebStorage",p)}return d}(r.newValue);i!==zi.at&&t.sequenceNumberHandler(i)}else if(r.key===t.mr){const i=t.Or(r.newValue);yield Promise.all(i.map(l=>t.syncEngine.Mr(l)))}}else t.cr.push(r)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,r){const i=new iC(this.currentUser,e,t,r),l=Ux(this.persistenceKey,this.currentUser,e);this.setItem(l,i.tr())}Er(e){const t=Ux(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,r){const i=pS(this.persistenceKey,e),l=new Q0(e,t,r);this.setItem(i,l.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const r=this.vr(e);return sC.Zi(r,t)}Dr(e,t){const r=this.dr.exec(e),i=Number(r[1]);return iC.Zi(new Wr(void 0!==r[2]?r[2]:null),i,t)}Nr(e,t){const r=this._r.exec(e),i=Number(r[1]);return Q0.Zi(i,t)}yr(e){return gS.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,ye.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);Pe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),l=this.Ir(r),d=[],p=[];return l.forEach(y=>{i.has(y)||d.push(y)}),i.forEach(y=>{l.has(y)||p.push(y)}),this.syncEngine.Br(d,p).then(()=>{this.ur=r})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=jp();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class Bx{constructor(){this.Lr=new mS,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,r){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new mS,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class mR{qr(e){}shutdown(){}}class jx{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Pe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Pe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const yR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _R{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class vR extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,r,i,l){const d=this.ho(e,t);Pe("RestConnection","Sending: ",d,r);const p={};return this.lo(p,i,l),this.fo(e,d,p,r).then(y=>(Pe("RestConnection","Received: ",y),y),y=>{throw Nc("RestConnection",`${e} failed with error: `,y,"url: ",d,"request:",r),y})}_o(e,t,r,i,l,d){return this.ao(e,t,r,i,l)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Eh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,l)=>e[l]=i),r&&r.headers.forEach((i,l)=>e[l]=i)}ho(e,t){return`${this.oo}/v1/${t}:${yR[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,i){return new Promise((l,d)=>{const p=new Wb;p.setWithCredentials(!0),p.listenOnce(mT.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case e0.NO_ERROR:const w=p.getResponseJson();Pe("Connection","XHR received:",JSON.stringify(w)),l(w);break;case e0.TIMEOUT:Pe("Connection",'RPC "'+e+'" timed out'),d(new Ne(ce.DEADLINE_EXCEEDED,"Request time out"));break;case e0.HTTP_ERROR:const T=p.getStatus();if(Pe("Connection",'RPC "'+e+'" failed with status:',T,"response text:",p.getResponseText()),T>0){const M=p.getResponseJson().error;if(M&&M.status&&M.message){const F=function(U){const q=U.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(q)>=0?q:ce.UNKNOWN}(M.status);d(new Ne(F,M.message))}else d(new Ne(ce.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new Ne(ce.UNAVAILABLE,"Connection failed."));break;default:st()}}finally{Pe("Connection",'RPC "'+e+'" completed.')}});const y=JSON.stringify(i);p.send(t,"POST",y,r,15)})}wo(e,t,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=pT(),d=gT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(p.xmlHttpFactory=new yT({})),this.lo(p.initMessageHeaders,t,r),p.encodeInitMessageHeaders=!0;const y=i.join("");Pe("Connection","Creating WebChannel: "+y,p);const w=l.createWebChannel(y,p);let T=!1,M=!1;const F=new _R({Hr:q=>{M?Pe("Connection","Not sending because WebChannel is closed:",q):(T||(Pe("Connection","Opening WebChannel transport."),w.open(),T=!0),Pe("Connection","WebChannel sending:",q),w.send(q))},Jr:()=>w.close()}),U=(q,le,_e)=>{q.listen(le,Ye=>{try{_e(Ye)}catch(at){setTimeout(()=>{throw at},0)}})};return U(w,ey.EventType.OPEN,()=>{M||Pe("Connection","WebChannel transport opened.")}),U(w,ey.EventType.CLOSE,()=>{M||(M=!0,Pe("Connection","WebChannel transport closed"),F.io())}),U(w,ey.EventType.ERROR,q=>{M||(M=!0,Nc("Connection","WebChannel transport errored:",q),F.io(new Ne(ce.UNAVAILABLE,"The operation could not be completed")))}),U(w,ey.EventType.MESSAGE,q=>{var le;if(!M){const _e=q.data[0];Tt(!!_e);const Ye=_e,at=Ye.error||(null===(le=Ye[0])||void 0===le?void 0:le.error);if(at){Pe("Connection","WebChannel received error:",at);const gt=at.status;let ct=function(Pt){const dn=xr[Pt];if(void 0!==dn)return C0(dn)}(gt),St=at.message;void 0===ct&&(ct=ce.INTERNAL,St="Unknown error status: "+gt+" with message "+at.message),M=!0,F.io(new Ne(ct,St)),w.close()}else Pe("Connection","WebChannel received:",_e),F.ro(_e)}}),U(d,qb.STAT_EVENT,q=>{q.stat===t0.PROXY?Pe("Connection","Detected buffering proxy"):q.stat===t0.NOPROXY&&Pe("Connection","Detected no buffering proxy")}),setTimeout(()=>{F.so()},0),F}}function Hx(){return typeof window<"u"?window:null}function oC(){return typeof document<"u"?document:null}function J0(n){return new $T(n,!0)}class _S{constructor(e,t,r=1e3,i=1.5,l=6e4){this.Hs=e,this.timerId=t,this.mo=r,this.yo=i,this.po=l,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-r);i>0&&Pe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class $x{constructor(e,t,r,i,l,d,p,y){this.Hs=e,this.vo=r,this.Vo=i,this.So=l,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new _S(e,t)}ko(){return 1===this.state||5===this.state||this.Oo()}Oo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var e=this;return(0,ye.Z)(function*(){e.ko()&&(yield e.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Oo()&&null===this.Co&&(this.Co=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}Bo(){var e=this;return(0,ye.Z)(function*(){if(e.Oo())return e.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(e,t){var r=this;return(0,ye.Z)(function*(){r.Uo(),r.qo(),r.No.cancel(),r.Do++,4!==e?r.No.reset():t&&t.code===ce.RESOURCE_EXHAUSTED?(_r(t.toString()),_r("Using maximum backoff delay to prevent overloading the backend."),r.No.Ao()):t&&t.code===ce.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Ko(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),t=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Do===t&&this.Qo(r,i)},r=>{e(()=>{const i=new Ne(ce.UNKNOWN,"Fetching auth token failed: "+r.message);return this.jo(i)})})}Qo(e,t){const r=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.xo=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.Oo()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.jo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Mo(){var e=this;this.state=5,this.No.Ro((0,ye.Z)(function*(){e.state=0,e.start()}))}jo(e){return Pe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return t=>{this.Hs.enqueueAndForget(()=>this.Do===e?t():(Pe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ER extends $x{constructor(e,t,r,i,l,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,d),this.It=l}Wo(e,t){return this.So.wo("Listen",e,t)}onMessage(e){this.No.reset();const t=function VI(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(y=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===y?1:"REMOVE"===y?2:"CURRENT"===y?3:"RESET"===y?4:st(),i=e.targetChange.targetIds||[],l=function(y,w){return y.gt?(Tt(void 0===w||"string"==typeof w),kr.fromBase64String(w||"")):(Tt(void 0===w||w instanceof Uint8Array),kr.fromUint8Array(w||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&function(y){const w=void 0===y.code?ce.UNKNOWN:C0(y.code);return new Ne(w,y.message||"")}(d);t=new D0(r,i,l,p||null)}else if("documentChange"in e){const r=e.documentChange,i=Co(n,r.document.name),l=Kr(r.document.updateTime),d=new vi({mapValue:{fields:r.document.fields}}),p=An.newFoundDocument(i,l,d);t=new $p(r.targetIds||[],r.removedTargetIds||[],p.key,p)}else if("documentDelete"in e){const r=e.documentDelete,i=Co(n,r.document),l=r.readTime?Kr(r.readTime):Nt.min(),d=An.newNoDocument(i,l);t=new $p([],r.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const r=e.documentRemove,i=Co(n,r.document);t=new $p([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return st();{const r=e.filter,l=new BT(r.count||0);t=new RI(r.targetId,l)}}var y;return t}(this.It,e),r=function(i){if(!("targetChange"in i))return Nt.min();const l=i.targetChange;return l.targetIds&&l.targetIds.length?Nt.min():l.readTime?Kr(l.readTime):Nt.min()}(e);return this.listener.zo(t,r)}Ho(e){const t={};t.database=wy(this.It),t.addTarget=function(i,l){let d;const p=l.target;return d=cy(p)?{documents:k0(i,p)}:{query:F0(i,p)},d.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?d.resumeToken=FI(i,l.resumeToken):l.snapshotVersion.compareTo(Nt.min())>0&&(d.readTime=vy(i,l.snapshotVersion.toTimestamp())),d}(this.It,e);const r=function UI(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return st()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Lo(t)}Jo(e){const t={};t.database=wy(this.It),t.removeTarget=e,this.Lo(t)}}class wR extends $x{constructor(e,t,r,i,l,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,d),this.It=l,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,t){return this.So.wo("Write",e,t)}onMessage(e){if(Tt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const t=function Iy(n,e){return n&&n.length>0?(Tt(void 0!==e),n.map(t=>function(r,i){let l=Kr(r.updateTime?r.updateTime:i);return l.isEqual(Nt.min())&&(l=Kr(i)),new CI(l,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Kr(e.commitTime);return this.listener.tu(r,t)}return Tt(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=wy(this.It),this.Lo(e)}Zo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Uh(this.It,r))};this.Lo(t)}}class bR extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.So=r,this.It=i,this.su=!1}iu(){if(this.su)throw new Ne(ce.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,l])=>this.So.ao(e,t,r,i,l)).catch(i=>{throw"FirebaseError"===i.name?(i.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ne(ce.UNKNOWN,i.toString())})}_o(e,t,r,i){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,d])=>this.So._o(e,t,r,l,d,i)).catch(l=>{throw"FirebaseError"===l.name?(l.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ne(ce.UNKNOWN,l.toString())})}terminate(){this.su=!0}}class CR{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}cu(){0===this.ru&&(this.au("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.au("Offline"),Promise.resolve())))}lu(e){"Online"===this.state?this.au("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.au("Offline")))}set(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.au(e)}au(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(_r(t),this.uu=!1):Pe("OnlineStateTracker",t)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class DR{constructor(e,t,r,i,l){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=l,this.gu.qr(p=>{r.enqueueAndForget((0,ye.Z)(function*(){var y;Gc(d)&&(Pe("RemoteStore","Restarting streams for network reachability change."),yield(y=(0,ye.Z)(function*(w){const T=ze(w);T.wu.add(4),yield ky(T),T.yu.set("Unknown"),T.wu.delete(4),yield X0(T)}),function(w){return y.apply(this,arguments)})(d))}))}),this.yu=new CR(r,i)}}function X0(n){return ES.apply(this,arguments)}function ES(){return ES=(0,ye.Z)(function*(n){if(Gc(n))for(const e of n.mu)yield e(!0)}),ES.apply(this,arguments)}function ky(n){return wS.apply(this,arguments)}function wS(){return wS=(0,ye.Z)(function*(n){for(const e of n.mu)yield e(!1)}),wS.apply(this,arguments)}function aC(n,e){const t=ze(n);t._u.has(e.targetId)||(t._u.set(e.targetId,e),CS(t)?IS(t):Ly(t).Oo()&&bS(t,e))}function eE(n,e){const t=ze(n),r=Ly(t);t._u.delete(e),r.Oo()&&Gx(t,e),0===t._u.size&&(r.Oo()?r.$o():Gc(t)&&t.yu.set("Unknown"))}function bS(n,e){n.pu.Mt(e.targetId),Ly(n).Ho(e)}function Gx(n,e){n.pu.Mt(e),Ly(n).Jo(e)}function IS(n){n.pu=new T0({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),se:e=>n._u.get(e)||null}),Ly(n).start(),n.yu.cu()}function CS(n){return Gc(n)&&!Ly(n).ko()&&n._u.size>0}function Gc(n){return 0===ze(n).wu.size}function zx(n){n.pu=void 0}function TR(n){return DS.apply(this,arguments)}function DS(){return DS=(0,ye.Z)(function*(n){n._u.forEach((e,t)=>{bS(n,e)})}),DS.apply(this,arguments)}function SR(n,e){return TS.apply(this,arguments)}function TS(){return TS=(0,ye.Z)(function*(n,e){zx(n),CS(n)?(n.yu.lu(e),IS(n)):n.yu.set("Unknown")}),TS.apply(this,arguments)}function AR(n,e,t){return SS.apply(this,arguments)}function SS(){return SS=(0,ye.Z)(function*(n,e,t){if(n.yu.set("Online"),e instanceof D0&&2===e.state&&e.cause)try{yield(r=(0,ye.Z)(function*(i,l){const d=l.cause;for(const p of l.targetIds)i._u.has(p)&&(yield i.remoteSyncer.rejectListen(p,d),i._u.delete(p),i.pu.removeTarget(p))}),function(i,l){return r.apply(this,arguments)})(n,e)}catch(r){Pe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield lC(n,r)}else if(e instanceof $p?n.pu.Gt(e):e instanceof RI?n.pu.Yt(e):n.pu.Wt(e),!t.isEqual(Nt.min()))try{const r=yield Ox(n.localStore);t.compareTo(r)>=0&&(yield function(i,l){const d=i.pu.te(l);return d.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const w=i._u.get(y);w&&i._u.set(y,w.withResumeToken(p.resumeToken,l))}}),d.targetMismatches.forEach(p=>{const y=i._u.get(p);if(!y)return;i._u.set(p,y.withResumeToken(kr.EMPTY_BYTE_STRING,y.snapshotVersion)),Gx(i,p);const w=new ua(y.target,p,1,y.sequenceNumber);bS(i,w)}),i.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(r){Pe("RemoteStore","Failed to raise snapshot:",r),yield lC(n,r)}var r}),SS.apply(this,arguments)}function lC(n,e,t){return AS.apply(this,arguments)}function AS(){return AS=(0,ye.Z)(function*(n,e,t){if(!Pc(e))throw e;n.wu.add(1),yield ky(n),n.yu.set("Offline"),t||(t=()=>Ox(n.localStore)),n.asyncQueue.enqueueRetryable((0,ye.Z)(function*(){Pe("RemoteStore","Retrying IndexedDB access"),yield t(),n.wu.delete(1),yield X0(n)}))}),AS.apply(this,arguments)}function qx(n,e){return e().catch(t=>lC(n,t,e))}function Fy(n){return MS.apply(this,arguments)}function MS(){return MS=(0,ye.Z)(function*(n){const e=ze(n),t=Gh(e);let r=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;MR(e);)try{const i=yield fR(e.localStore,r);if(null===i){0===e.du.length&&t.$o();break}r=i.batchId,xR(e,i)}catch(i){yield lC(e,i)}Wx(e)&&Zx(e)}),MS.apply(this,arguments)}function MR(n){return Gc(n)&&n.du.length<10}function xR(n,e){n.du.push(e);const t=Gh(n);t.Oo()&&t.Xo&&t.Zo(e.mutations)}function Wx(n){return Gc(n)&&!Gh(n).ko()&&n.du.length>0}function Zx(n){Gh(n).start()}function NR(n){return xS.apply(this,arguments)}function xS(){return xS=(0,ye.Z)(function*(n){Gh(n).nu()}),xS.apply(this,arguments)}function PR(n){return NS.apply(this,arguments)}function NS(){return NS=(0,ye.Z)(function*(n){const e=Gh(n);for(const t of n.du)e.Zo(t.mutations)}),NS.apply(this,arguments)}function OR(n,e,t){return PS.apply(this,arguments)}function PS(){return PS=(0,ye.Z)(function*(n,e,t){const r=n.du.shift(),i=$0.from(r,e,t);yield qx(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Fy(n)}),PS.apply(this,arguments)}function RR(n,e){return OS.apply(this,arguments)}function OS(){return OS=(0,ye.Z)(function*(n,e){var t;e&&Gh(n).Xo&&(yield(t=(0,ye.Z)(function*(r,i){if(MI(l=i.code)&&l!==ce.ABORTED){const d=r.du.shift();Gh(r).Fo(),yield qx(r,()=>r.remoteSyncer.rejectFailedWrite(d.batchId,i)),yield Fy(r)}var l}),function(r,i){return t.apply(this,arguments)})(n,e)),Wx(n)&&Zx(n)}),OS.apply(this,arguments)}function Kx(n,e){return RS.apply(this,arguments)}function RS(){return RS=(0,ye.Z)(function*(n,e){const t=ze(n);t.asyncQueue.verifyOperationInProgress(),Pe("RemoteStore","RemoteStore received new credentials");const r=Gc(t);t.wu.add(3),yield ky(t),r&&t.yu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.wu.delete(3),yield X0(t)}),RS.apply(this,arguments)}function kS(n,e){return FS.apply(this,arguments)}function FS(){return FS=(0,ye.Z)(function*(n,e){const t=ze(n);e?(t.wu.delete(2),yield X0(t)):e||(t.wu.add(2),yield ky(t),t.yu.set("Unknown"))}),FS.apply(this,arguments)}function Ly(n){return n.Iu||(n.Iu=function(e,t,r){const i=ze(e);return i.iu(),new ER(t,i.So,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:TR.bind(null,n),Zr:SR.bind(null,n),zo:AR.bind(null,n)}),n.mu.push(function(){var e=(0,ye.Z)(function*(t){t?(n.Iu.Fo(),CS(n)?IS(n):n.yu.set("Unknown")):(yield n.Iu.stop(),zx(n))});return function(t){return e.apply(this,arguments)}}())),n.Iu}function Gh(n){return n.Tu||(n.Tu=function(e,t,r){const i=ze(e);return i.iu(),new wR(t,i.So,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:NR.bind(null,n),Zr:RR.bind(null,n),eu:PR.bind(null,n),tu:OR.bind(null,n)}),n.mu.push(function(){var e=(0,ye.Z)(function*(t){t?(n.Tu.Fo(),yield Fy(n)):(yield n.Tu.stop(),n.du.length>0&&(Pe("RemoteStore",`Stopping write stream with ${n.du.length} pending writes`),n.du=[]))});return function(t){return e.apply(this,arguments)}}())),n.Tu}class LS{constructor(e,t,r,i,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=l,this.deferred=new Mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,r,i,l){const d=Date.now()+r,p=new LS(e,t,d,i,l);return p.start(r),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ne(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vy(n,e){if(_r("AsyncQueue",`${e}: ${n}`),Pc(n))return new Ne(ce.UNAVAILABLE,`${e}: ${n}`);throw n}class Uy{constructor(e){this.comparator=e?(t,r)=>e(t,r)||qe.comparator(t.key,r.key):(t,r)=>qe.comparator(t.key,r.key),this.keyedMap=Vc(),this.sortedSet=new $n(this.comparator)}static emptySet(e){return new Uy(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Uy)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,l=r.getNext().key;if(!i.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Uy;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class Yx{constructor(){this.Eu=new $n(qe.comparator)}track(e){const t=e.doc.key,r=this.Eu.get(t);r?0!==e.type&&3===r.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==r.type?this.Eu=this.Eu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Eu=this.Eu.remove(t):1===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):st():this.Eu=this.Eu.insert(t,e)}Au(){const e=[];return this.Eu.inorderTraversal((t,r)=>{e.push(r)}),e}}class By{constructor(e,t,r,i,l,d,p,y,w){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=l,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=w}static fromInitialDocuments(e,t,r,i,l){const d=[];return t.forEach(p=>{d.push({type:0,doc:p})}),new By(e,t,Uy.emptySet(t),d,r,i,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class kR{constructor(){this.Ru=void 0,this.listeners=[]}}class FR{constructor(){this.queries=new rl(e=>_0(e),Fp),this.onlineState="Unknown",this.bu=new Set}}function VS(n,e){return US.apply(this,arguments)}function US(){return US=(0,ye.Z)(function*(n,e){const t=ze(n),r=e.query;let i=!1,l=t.queries.get(r);if(l||(i=!0,l=new kR),i)try{l.Ru=yield t.onListen(r)}catch(d){const p=Vy(d,`Initialization of query '${v0(e.query)}' failed`);return void e.onError(p)}t.queries.set(r,l),l.listeners.push(e),e.Pu(t.onlineState),l.Ru&&e.vu(l.Ru)&&HS(t)}),US.apply(this,arguments)}function BS(n,e){return jS.apply(this,arguments)}function jS(){return jS=(0,ye.Z)(function*(n,e){const t=ze(n),r=e.query;let i=!1;const l=t.queries.get(r);if(l){const d=l.listeners.indexOf(e);d>=0&&(l.listeners.splice(d,1),i=0===l.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),jS.apply(this,arguments)}function LR(n,e){const t=ze(n);let r=!1;for(const i of e){const d=t.queries.get(i.query);if(d){for(const p of d.listeners)p.vu(i)&&(r=!0);d.Ru=i}}r&&HS(t)}function VR(n,e,t){const r=ze(n),i=r.queries.get(e);if(i)for(const l of i.listeners)l.onError(t);r.queries.delete(e)}function HS(n){n.bu.forEach(e=>{e.next()})}class $S{constructor(e,t,r){this.query=e,this.Vu=t,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=r||{}}vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new By(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Su?this.Cu(e)&&(this.Vu.next(e),t=!0):this.xu(e,this.onlineState)&&(this.Nu(e),t=!0),this.Du=e,t}onError(e){this.Vu.error(e)}Pu(e){this.onlineState=e;let t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}xu(e,t){return!e.fromCache||(!this.options.ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Cu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(e){e=By.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Su=!0,this.Vu.next(e)}}class UR{constructor(e,t){this.payload=e,this.byteLength=t}Ou(){return"metadata"in this.payload}}class Qx{constructor(e){this.It=e}Ji(e){return Co(this.It,e)}Yi(e){return e.metadata.exists?R0(this.It,e.document,!1):An.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return Kr(e)}}class BR{constructor(e,t,r){this.Mu=e,this.localStore=t,this.It=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Jx(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=on.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,r=new Qx(this.It);for(const i of e)if(i.metadata.queries){const l=r.Ji(i.metadata.name);for(const d of i.metadata.queries){const p=(t.get(d)||Ht()).add(l);t.set(d,p)}}return t}complete(){var e=this;return(0,ye.Z)(function*(){const t=yield function pR(n,e,t,r){return hS.apply(this,arguments)}(e.localStore,new Qx(e.It),e.documents,e.Mu.id),r=e.$u(e.documents);for(const i of e.queries)yield gR(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function Jx(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class Xx{constructor(e){this.key=e}}class eN{constructor(e){this.key=e}}class tN{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Ht(),this.mutatedKeys=Ht(),this.Gu=w0(e),this.Qu=new Uy(this.Gu)}get ju(){return this.Uu}Wu(e,t){const r=t?t.zu:new Yx,i=t?t.Qu:this.Qu;let l=t?t.mutatedKeys:this.mutatedKeys,d=i,p=!1;const y="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,w="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((T,M)=>{const F=i.get(T),U=yy(this.query,M)?M:null,q=!!F&&this.mutatedKeys.has(F.key),le=!!U&&(U.hasLocalMutations||this.mutatedKeys.has(U.key)&&U.hasCommittedMutations);let _e=!1;F&&U?F.data.isEqual(U.data)?q!==le&&(r.track({type:3,doc:U}),_e=!0):this.Hu(F,U)||(r.track({type:2,doc:U}),_e=!0,(y&&this.Gu(U,y)>0||w&&this.Gu(U,w)<0)&&(p=!0)):!F&&U?(r.track({type:0,doc:U}),_e=!0):F&&!U&&(r.track({type:1,doc:F}),_e=!0,(y||w)&&(p=!0)),_e&&(U?(d=d.add(U),l=le?l.add(T):l.delete(T)):(d=d.delete(T),l=l.delete(T)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const T="F"===this.query.limitType?d.last():d.first();d=d.delete(T.key),l=l.delete(T.key),r.track({type:1,doc:T})}return{Qu:d,zu:r,$i:p,mutatedKeys:l}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const l=e.zu.Au();l.sort((w,T)=>function(M,F){const U=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return st()}};return U(M)-U(F)}(w.type,T.type)||this.Gu(w.doc,T.doc)),this.Ju(r);const d=t?this.Yu():[],p=0===this.Ku.size&&this.current?1:0,y=p!==this.qu;return this.qu=p,0!==l.length||y?{snapshot:new By(this.query,e.Qu,i,l,e.mutatedKeys,0===p,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:d}:{Xu:d}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new Yx,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Ht(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new eN(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new Xx(r))}),t}tc(e){this.Uu=e.Hi,this.Ku=Ht();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return By.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class jR{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class HR{constructor(e){this.key=e,this.nc=!1}}class $R{constructor(e,t,r,i,l,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=l,this.maxConcurrentLimboResolutions=d,this.sc={},this.ic=new rl(p=>_0(p),Fp),this.rc=new Map,this.oc=new Set,this.uc=new $n(qe.comparator),this.cc=new Map,this.ac=new sS,this.hc={},this.lc=new Map,this.fc=al.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function GR(n,e){return GS.apply(this,arguments)}function GS(){return GS=(0,ye.Z)(function*(n,e){const t=fA(n);let r,i;const l=t.ic.get(e);if(l)r=l.targetId,t.sharedClientState.addLocalQueryTarget(r),i=l.view.ec();else{const d=yield Oy(t.localStore,Ei(e));t.isPrimaryClient&&aC(t.remoteStore,d);const p=t.sharedClientState.addLocalQueryTarget(d.targetId);r=d.targetId,i=yield zS(t,e,r,"current"===p,d.resumeToken)}return i}),GS.apply(this,arguments)}function zS(n,e,t,r,i){return qS.apply(this,arguments)}function qS(){return qS=(0,ye.Z)(function*(n,e,t,r,i){n._c=(M,F,U)=>{return(q=(0,ye.Z)(function*(le,_e,Ye,at){let gt=_e.view.Wu(Ye);gt.$i&&(gt=yield rC(le.localStore,_e.query,!1).then(({documents:Pt})=>_e.view.Wu(Pt,gt)));const ct=at&&at.targetChanges.get(_e.targetId),St=_e.view.applyChanges(gt,le.isPrimaryClient,ct);return nA(le,_e.targetId,St.Xu),St.snapshot}),function(le,_e,Ye,at){return q.apply(this,arguments)})(n,M,F,U);var q};const l=yield rC(n.localStore,e,!0),d=new tN(e,l.Hi),p=d.Wu(l.documents),y=Vh.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),w=d.applyChanges(p,n.isPrimaryClient,y);nA(n,t,w.Xu);const T=new jR(e,t,d);return n.ic.set(e,T),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),w.snapshot}),qS.apply(this,arguments)}function zR(n,e){return WS.apply(this,arguments)}function WS(){return WS=(0,ye.Z)(function*(n,e){const t=ze(n),r=t.ic.get(e),i=t.rc.get(r.targetId);if(i.length>1)return t.rc.set(r.targetId,i.filter(l=>!Fp(l,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Ry(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),eE(t.remoteStore,r.targetId),jy(t,r.targetId)}).catch(Ja))):(jy(t,r.targetId),yield Ry(t.localStore,r.targetId,!0))}),WS.apply(this,arguments)}function ZS(){return ZS=(0,ye.Z)(function*(n,e,t){const r=pA(n);try{const i=yield function(l,d){const p=ze(l),y=Ln.now(),w=d.reduce((F,U)=>F.add(U.key),Ht());let T,M;return p.persistence.runTransaction("Locally write mutations","readwrite",F=>{let U=zn(),q=Ht();return p.Gi.getEntries(F,w).next(le=>{U=le,U.forEach((_e,Ye)=>{Ye.isValidDocument()||(q=q.add(_e))})}).next(()=>p.localDocuments.getOverlayedDocuments(F,U)).next(le=>{T=le;const _e=[];for(const Ye of d){const at=LT(Ye,T.get(Ye.key).overlayedDocument);null!=at&&_e.push(new zs(Ye.key,at,p0(at.value.mapValue),er.exists(!0)))}return p.mutationQueue.addMutationBatch(F,y,_e,d)}).next(le=>{M=le;const _e=le.applyToLocalDocumentSet(T,q);return p.documentOverlayCache.saveOverlays(F,le.batchId,_e)})}).then(()=>({batchId:M.batchId,changes:NI(T)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,d,p){let y=l.hc[l.currentUser.toKey()];y||(y=new $n(Vt)),y=y.insert(d,p),l.hc[l.currentUser.toKey()]=y}(r,i.batchId,t),yield zc(r,i.changes),yield Fy(r.remoteStore)}catch(i){const l=Vy(i,"Failed to persist write");t.reject(l)}}),ZS.apply(this,arguments)}function nN(n,e){return KS.apply(this,arguments)}function KS(){return KS=(0,ye.Z)(function*(n,e){const t=ze(n);try{const r=yield hR(t.localStore,e);e.targetChanges.forEach((i,l)=>{const d=t.cc.get(l);d&&(Tt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?d.nc=!0:i.modifiedDocuments.size>0?Tt(d.nc):i.removedDocuments.size>0&&(Tt(d.nc),d.nc=!1))}),yield zc(t,r,e)}catch(r){yield Ja(r)}}),KS.apply(this,arguments)}function rN(n,e,t){const r=ze(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ic.forEach((l,d)=>{const p=d.view.Pu(e);p.snapshot&&i.push(p.snapshot)}),function(l,d){const p=ze(l);p.onlineState=d;let y=!1;p.queries.forEach((w,T)=>{for(const M of T.listeners)M.Pu(d)&&(y=!0)}),y&&HS(p)}(r.eventManager,e),i.length&&r.sc.zo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function WR(n,e,t){return YS.apply(this,arguments)}function YS(){return YS=(0,ye.Z)(function*(n,e,t){const r=ze(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.cc.get(e),l=i&&i.key;if(l){let d=new $n(qe.comparator);d=d.insert(l,An.newNoDocument(l,Nt.min()));const p=Ht().add(l),y=new Hp(Nt.min(),new Map,new Dn(Vt),d,p);yield nN(r,y),r.uc=r.uc.remove(l),r.cc.delete(e),rA(r)}else yield Ry(r.localStore,e,!1).then(()=>jy(r,e,t)).catch(Ja)}),YS.apply(this,arguments)}function ZR(n,e){return QS.apply(this,arguments)}function QS(){return QS=(0,ye.Z)(function*(n,e){const t=ze(n),r=e.batch.batchId;try{const i=yield dR(t.localStore,e);tA(t,r,null),eA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield zc(t,i)}catch(i){yield Ja(i)}}),QS.apply(this,arguments)}function KR(n,e,t){return JS.apply(this,arguments)}function JS(){return JS=(0,ye.Z)(function*(n,e,t){const r=ze(n);try{const i=yield function(l,d){const p=ze(l);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let w;return p.mutationQueue.lookupMutationBatch(y,d).next(T=>(Tt(null!==T),w=T.keys(),p.mutationQueue.removeMutationBatch(y,T))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,w,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,w)).next(()=>p.localDocuments.getDocuments(y,w))})}(r.localStore,e);tA(r,e,t),eA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield zc(r,i)}catch(i){yield Ja(i)}}),JS.apply(this,arguments)}function XS(){return XS=(0,ye.Z)(function*(n,e){const t=ze(n);Gc(t.remoteStore)||Pe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(l){const d=ze(l);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",p=>d.mutationQueue.getHighestUnacknowledgedBatchId(p))}(t.localStore);if(-1===r)return void e.resolve();const i=t.lc.get(r)||[];i.push(e),t.lc.set(r,i)}catch(r){const i=Vy(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),XS.apply(this,arguments)}function eA(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function tA(n,e,t){const r=ze(n);let i=r.hc[r.currentUser.toKey()];if(i){const l=i.get(e);l&&(t?l.reject(t):l.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function jy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.rc.get(e))n.ic.delete(r),t&&n.sc.wc(r,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(r=>{n.ac.containsKey(r)||iN(n,r)})}function iN(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(eE(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),rA(n))}function nA(n,e,t){for(const r of t)r instanceof Xx?(n.ac.addReference(r.key,e),QR(n,r)):r instanceof eN?(Pe("SyncEngine","Document no longer in limbo: "+r.key),n.ac.removeReference(r.key,e),n.ac.containsKey(r.key)||iN(n,r.key)):st()}function QR(n,e){const t=e.key,r=t.path.canonicalString();n.uc.get(t)||n.oc.has(r)||(Pe("SyncEngine","New document in limbo: "+t),n.oc.add(r),rA(n))}function rA(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new qe(on.fromString(e)),r=n.fc.next();n.cc.set(r,new HR(t)),n.uc=n.uc.insert(t,r),aC(n.remoteStore,new ua(Ei(Oh(t.path)),r,2,zi.at))}}function zc(n,e,t){return iA.apply(this,arguments)}function iA(){return iA=(0,ye.Z)(function*(n,e,t){const r=ze(n),i=[],l=[],d=[];var p;r.ic.isEmpty()||(r.ic.forEach((p,y)=>{d.push(r._c(y,e,t).then(w=>{if((w||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(y.targetId,w?.fromCache?"not-current":"current"),w){i.push(w);const T=uS.Ci(y.targetId,w);l.push(T)}}))}),yield Promise.all(d),r.sc.zo(i),yield(p=(0,ye.Z)(function*(y,w){const T=ze(y);try{yield T.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>ie.forEach(w,F=>ie.forEach(F.Si,U=>T.persistence.referenceDelegate.addReference(M,F.targetId,U)).next(()=>ie.forEach(F.Di,U=>T.persistence.referenceDelegate.removeReference(M,F.targetId,U)))))}catch(M){if(!Pc(M))throw M;Pe("LocalStore","Failed to update sequence numbers: "+M)}for(const M of w){const F=M.targetId;if(!M.fromCache){const U=T.Ui.get(F),le=U.withLastLimboFreeSnapshotVersion(U.snapshotVersion);T.Ui=T.Ui.insert(F,le)}}}),function(y,w){return p.apply(this,arguments)})(r.localStore,l))}),iA.apply(this,arguments)}function JR(n,e){return sA.apply(this,arguments)}function sA(){return sA=(0,ye.Z)(function*(n,e){const t=ze(n);if(!t.currentUser.isEqual(e)){Pe("SyncEngine","User change. New user:",e.toKey());const r=yield Px(t.localStore,e);t.currentUser=e,(i=t).lc.forEach(d=>{d.forEach(p=>{p.reject(new Ne(ce.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.lc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield zc(t,r.ji)}var i}),sA.apply(this,arguments)}function XR(n,e){const t=ze(n),r=t.cc.get(e);if(r&&r.nc)return Ht().add(r.key);{let i=Ht();const l=t.rc.get(e);if(!l)return i;for(const d of l){const p=t.ic.get(d);i=i.unionWith(p.view.ju)}return i}}function e1(n,e){return oA.apply(this,arguments)}function oA(){return oA=(0,ye.Z)(function*(n,e){const t=ze(n),r=yield rC(t.localStore,e.query,!0),i=e.view.tc(r);return t.isPrimaryClient&&nA(t,e.targetId,i.Xu),i}),oA.apply(this,arguments)}function t1(n,e){return aA.apply(this,arguments)}function aA(){return aA=(0,ye.Z)(function*(n,e){const t=ze(n);return Fx(t.localStore,e).then(r=>zc(t,r))}),aA.apply(this,arguments)}function n1(n,e,t,r){return lA.apply(this,arguments)}function lA(){return lA=(0,ye.Z)(function*(n,e,t,r){const i=ze(n),l=yield function(d,p){const y=ze(d),w=ze(y.mutationQueue);return y.persistence.runTransaction("Lookup mutation documents","readonly",T=>w.Tn(T,p).next(M=>M?y.localDocuments.getDocuments(T,M):ie.resolve(null)))}(i.localStore,e);var p;null!==l?("pending"===t?yield Fy(i.remoteStore):"acknowledged"===t||"rejected"===t?(tA(i,e,r||null),eA(i,e),p=e,ze(ze(i.localStore).mutationQueue).An(p)):st(),yield zc(i,l)):Pe("SyncEngine","Cannot apply mutation batch with id: "+e)}),lA.apply(this,arguments)}function uA(){return uA=(0,ye.Z)(function*(n,e){const t=ze(n);if(fA(t),pA(t),!0===e&&!0!==t.dc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield sN(t,r.toArray());t.dc=!0,yield kS(t.remoteStore,!0);for(const l of i)aC(t.remoteStore,l)}else if(!1===e&&!1!==t.dc){const r=[];let i=Promise.resolve();t.rc.forEach((l,d)=>{t.sharedClientState.isLocalQueryTarget(d)?r.push(d):i=i.then(()=>(jy(t,d),Ry(t.localStore,d,!0))),eE(t.remoteStore,d)}),yield i,yield sN(t,r),function(l){const d=ze(l);d.cc.forEach((p,y)=>{eE(d.remoteStore,y)}),d.ac.fs(),d.cc=new Map,d.uc=new $n(qe.comparator)}(t),t.dc=!1,yield kS(t.remoteStore,!1)}}),uA.apply(this,arguments)}function sN(n,e,t){return cA.apply(this,arguments)}function cA(){return cA=(0,ye.Z)(function*(n,e,t){const r=ze(n),i=[],l=[];for(const d of e){let p;const y=r.rc.get(d);if(y&&0!==y.length){p=yield Oy(r.localStore,Ei(y[0]));for(const w of y){const T=r.ic.get(w),M=yield e1(r,T);M.snapshot&&l.push(M.snapshot)}}else{const w=yield kx(r.localStore,d);p=yield Oy(r.localStore,w),yield zS(r,oN(w),d,!1,p.resumeToken)}i.push(p)}return r.sc.zo(l),i}),cA.apply(this,arguments)}function oN(n){return _I(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function i1(n){const e=ze(n);return ze(ze(e.localStore).persistence).vi()}function s1(n,e,t,r){return dA.apply(this,arguments)}function dA(){return dA=(0,ye.Z)(function*(n,e,t,r){const i=ze(n);if(i.dc)return void Pe("SyncEngine","Ignoring unexpected query state notification.");const l=i.rc.get(e);if(l&&l.length>0)switch(t){case"current":case"not-current":{const d=yield Fx(i.localStore,E0(l[0])),p=Hp.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,kr.EMPTY_BYTE_STRING);yield zc(i,d,p);break}case"rejected":yield Ry(i.localStore,e,!0),jy(i,e,r);break;default:st()}}),dA.apply(this,arguments)}function o1(n,e,t){return hA.apply(this,arguments)}function hA(){return hA=(0,ye.Z)(function*(n,e,t){const r=fA(n);if(r.dc){for(const i of e){if(r.rc.has(i)){Pe("SyncEngine","Adding an already active target "+i);continue}const l=yield kx(r.localStore,i),d=yield Oy(r.localStore,l);yield zS(r,oN(l),d.targetId,!1,d.resumeToken),aC(r.remoteStore,d)}for(const i of t)r.rc.has(i)&&(yield Ry(r.localStore,i,!1).then(()=>{eE(r.remoteStore,i),jy(r,i)}).catch(Ja))}}),hA.apply(this,arguments)}function fA(n){const e=ze(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=nN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=XR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=WR.bind(null,e),e.sc.zo=LR.bind(null,e.eventManager),e.sc.wc=VR.bind(null,e.eventManager),e}function pA(n){const e=ze(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ZR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=KR.bind(null,e),e}class aN{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ye.Z)(function*(){t.It=J0(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return Nx(this.persistence,new xx,e.initialUser,this.It)}yc(e){return new Ax(tC.Bs,this.It)}gc(e){return new Bx}terminate(){var e=this;return(0,ye.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class lN extends aN{constructor(e,t,r){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,ye.Z)(function*(){yield t().call(r,e),yield r.Ac.initialize(r,e),yield pA(r.Ac.syncEngine),yield Fy(r.Ac.remoteStore),yield r.persistence.li(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return Nx(this.persistence,new xx,e.initialUser,this.It)}Tc(e,t){return new Z0(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const r=new Op(t,this.persistence);return new CT(e.asyncQueue,r)}yc(e){const t=lS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?We.withCacheSize(this.cacheSizeBytes):We.DEFAULT;return new aS(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,Hx(),oC(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(e){return new Bx}}class l1 extends lN{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,ye.Z)(function*(){yield t().call(r,e);const i=r.Ac.syncEngine;r.sharedClientState instanceof yS&&(r.sharedClientState.syncEngine={Fr:n1.bind(null,i),$r:s1.bind(null,i),Br:o1.bind(null,i),vi:i1.bind(null,i),Mr:t1.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.li(function(){var l=(0,ye.Z)(function*(d){yield function r1(n,e){return uA.apply(this,arguments)}(r.Ac.syncEngine,d),r.gcScheduler&&(d&&!r.gcScheduler.started?r.gcScheduler.start():d||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(d&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():d||r.indexBackfillerScheduler.stop())});return function(d){return l.apply(this,arguments)}}())})()}gc(e){const t=Hx();if(!yS.C(t))throw new Ne(ce.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=lS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new yS(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class gA{initialize(e,t){var r=this;return(0,ye.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>rN(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=JR.bind(null,r.syncEngine),yield kS(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new FR}createDatastore(e){const t=J0(e.databaseInfo.databaseId),r=new vR(e.databaseInfo);return new bR(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,l=p=>rN(this.syncEngine,p,0),d=jx.C()?new jx:new mR,new DR(t,r,i,l,d);var t,r,i,l,d}createSyncEngine(e,t){return function(r,i,l,d,p,y,w){const T=new $R(r,i,l,d,p,y);return w&&(T.dc=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ye.Z)(function*(t){const r=ze(t);Pe("RemoteStore","RemoteStore shutting down."),r.wu.add(5),yield ky(r),r.gu.shutdown(),r.yu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function mA(n,e,t){if(!t)throw new Ne(ce.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function uN(n,e,t,r){if(!0===e&&!0===r)throw new Ne(ce.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function cN(n){if(!qe.isDocumentKey(n))throw new Ne(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function dN(n){if(qe.isDocumentKey(n))throw new Ne(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function uC(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":st()}function an(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ne(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=uC(n);throw new Ne(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function hN(n,e){if(e<=0)throw new Ne(ce.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}const fN=new Map;class pN{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ne(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ne(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,uN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class tE{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pN({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ne(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ne(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pN(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new _T;switch(t.type){case"gapi":return new r0(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ne(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=fN.get(e);t&&(Pe("ComponentProvider","Removing Datastore"),fN.delete(e),t.terminate())}(this),Promise.resolve()}}class tr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new tr(this.firestore,e,this._key)}}class Wi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Wi(this.firestore,e,this._query)}}class Mu extends Wi{constructor(e,t,r){super(e,t,Oh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new tr(this.firestore,null,new qe(e))}withConverter(e){return new Mu(this.firestore,e,this._path)}}function mN(n,e,...t){if(n=(0,Qt.m9)(n),mA("collection","path",e),n instanceof tE){const r=on.fromString(e,...t);return dN(r),new Mu(n,null,r)}{if(!(n instanceof tr||n instanceof Mu))throw new Ne(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(on.fromString(e,...t));return dN(r),new Mu(n.firestore,null,r)}}function cC(n,e,...t){if(n=(0,Qt.m9)(n),1===arguments.length&&(e=Xb.R()),mA("doc","path",e),n instanceof tE){const r=on.fromString(e,...t);return cN(r),new tr(n,null,new qe(r))}{if(!(n instanceof tr||n instanceof Mu))throw new Ne(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(on.fromString(e,...t));return cN(r),new tr(n.firestore,n instanceof Mu?n.converter:null,new qe(r))}}function yN(n,e){return n=(0,Qt.m9)(n),e=(0,Qt.m9)(e),(n instanceof tr||n instanceof Mu)&&(e instanceof tr||e instanceof Mu)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function yA(n,e){return n=(0,Qt.m9)(n),e=(0,Qt.m9)(e),n instanceof Wi&&e instanceof Wi&&n.firestore===e.firestore&&Fp(n._query,e._query)&&n.converter===e.converter}function _N(n,e=10240){let t=0;return{read:()=>(0,ye.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,ye.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class dC{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):_r("Uncaught Error in snapshot listener:",e)}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class c1{constructor(e,t){this.Pc=e,this.It=t,this.metadata=new Mr,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(r=>{r&&r.Ou()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,ye.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,ye.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,ye.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const r=e.vc.decode(t),i=Number(r);isNaN(i)&&e.Dc(`length string (${r}) is not valid number`);const l=yield e.Cc(i);return new UR(JSON.parse(l),t.length+i)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,ye.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Cc(e){var t=this;return(0,ye.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const r=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,ye.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class f1{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ye.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ne(ce.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,ye.Z)(function*(l,d){const p=ze(l),y=wy(p.It)+"/documents",w={documents:d.map(U=>Ey(p.It,U))},T=yield p._o("BatchGetDocuments",y,w,d.length),M=new Map;T.forEach(U=>{const q=function LI(n,e){return"found"in e?function(t,r){Tt(!!r.found);const i=Co(t,r.found.name),l=Kr(r.found.updateTime),d=new vi({mapValue:{fields:r.found.fields}});return An.newFoundDocument(i,l,d)}(n,e):"missing"in e?function(t,r){Tt(!!r.missing),Tt(!!r.readTime);const i=Co(t,r.missing),l=Kr(r.readTime);return An.newNoDocument(i,l)}(n,e):st()}(p.It,U);M.set(q.key.toString(),q)});const F=[];return d.forEach(U=>{const q=M.get(U.toString());Tt(!!q),F.push(q)}),F}),function(l,d){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Bp(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ye.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const l=qe.fromPath(i);e.mutations.push(new I0(l,e.precondition(l)))}),yield(r=(0,ye.Z)(function*(i,l){const d=ze(i),p=wy(d.It)+"/documents",y={writes:l.map(w=>Uh(d.It,w))};yield d.ao("Commit",p,y)}),function(i,l){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw st();t=Nt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Ne(ce.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Nt.min())?er.exists(!1):er.updateTime(t):er.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Nt.min()))throw new Ne(ce.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return er.updateTime(t)}return er.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class p1{constructor(e,t,r,i,l){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=l,this.kc=r.maxAttempts,this.No=new _S(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.No.Ro((0,ye.Z)(function*(){const t=new f1(e.datastore),r=e.Mc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(l=>{e.Fc(l)}))}).catch(i=>{e.Fc(i)})}))}Mc(e){try{const t=this.updateFunction(e);return!Th(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!MI(t)}return!1}}class g1{constructor(e,t,r,i){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Wr.UNAUTHENTICATED,this.clientId=Xb.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var d=(0,ye.Z)(function*(p){Pe("FirestoreClient","Received user=",p.uid),yield l.authCredentialListener(p),l.user=p});return function(p){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(r,d=>(Pe("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var e=this;return(0,ye.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ne(ce.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ye.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Vy(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function vN(n,e){return _A.apply(this,arguments)}function _A(){return _A=(0,ye.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Pe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,ye.Z)(function*(l){r.isEqual(l)||(yield Px(e.localStore,l),r=l)});return function(l){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),_A.apply(this,arguments)}function EN(n,e){return vA.apply(this,arguments)}function vA(){return vA=(0,ye.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield EA(n);Pe("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>Kx(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,l)=>Kx(e.remoteStore,l)),n.onlineComponents=e}),vA.apply(this,arguments)}function EA(n){return wA.apply(this,arguments)}function wA(){return wA=(0,ye.Z)(function*(n){return n.offlineComponents||(Pe("FirestoreClient","Using default OfflineComponentProvider"),yield vN(n,new aN)),n.offlineComponents}),wA.apply(this,arguments)}function hC(n){return bA.apply(this,arguments)}function bA(){return bA=(0,ye.Z)(function*(n){return n.onlineComponents||(Pe("FirestoreClient","Using default OnlineComponentProvider"),yield EN(n,new gA)),n.onlineComponents}),bA.apply(this,arguments)}function wN(n){return EA(n).then(e=>e.persistence)}function fC(n){return EA(n).then(e=>e.localStore)}function IA(n){return hC(n).then(e=>e.remoteStore)}function CA(n){return hC(n).then(e=>e.syncEngine)}function Hy(n){return DA.apply(this,arguments)}function DA(){return DA=(0,ye.Z)(function*(n){const e=yield hC(n),t=e.eventManager;return t.onListen=GR.bind(null,e.syncEngine),t.onUnlisten=zR.bind(null,e.syncEngine),t}),DA.apply(this,arguments)}function IN(n,e,t={}){const r=new Mr;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(i,l,d,p,y){const w=new dC({next:M=>{l.enqueueAndForget(()=>BS(i,T));const F=M.docs.has(d);!F&&M.fromCache?y.reject(new Ne(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&M.fromCache&&p&&"server"===p.source?y.reject(new Ne(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(M)},error:M=>y.reject(M)}),T=new $S(Oh(d.path),w,{includeMetadataChanges:!0,ku:!0});return VS(i,T)}(yield Hy(n),n.asyncQueue,e,t,r)})),r.promise}function CN(n,e,t={}){const r=new Mr;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(i,l,d,p,y){const w=new dC({next:M=>{l.enqueueAndForget(()=>BS(i,T)),M.fromCache&&"server"===p.source?y.reject(new Ne(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(M)},error:M=>y.reject(M)}),T=new $S(d,w,{includeMetadataChanges:!0,ku:!0});return VS(i,T)}(yield Hy(n),n.asyncQueue,e,t,r)})),r.promise}class I1{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.No=new _S(this,"async_queue_retry"),this.Wc=()=>{const t=oC();t&&Pe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.No.Po()};const e=oC();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const t=oC();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const t=new Mr;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,ye.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.No.reset()}catch(t){if(!Pc(t))throw t;Pe("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.No.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{throw this.Kc=r,this.Gc=!1,_r("INTERNAL UNHANDLED ERROR: ",function(l){let d=l.message||"";return l.stack&&(d=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),d}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=t,t}enqueueAfterDelay(e,t,r){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const i=LS.createAndSchedule(this,e,t,r,l=>this.Yc(l));return this.qc.push(i),i}zc(){this.Kc&&st()}verifyOperationInProgress(){}Xc(){var e=this;return(0,ye.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.qc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.qc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.qc.indexOf(e);this.qc.splice(t,1)}}function TA(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class C1{constructor(){this._progressObserver={},this._taskCompletionResolver=new Mr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class nr extends tE{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new I1,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||DN(this),this._firestoreClient.terminate()}}function Lr(n){return n._firestoreClient||DN(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function DN(n){var e;const t=n._freezeSettings(),r=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new c0(n._databaseId,l,n._persistenceKey,(p=t).host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,p.useFetchStreams));var l,p;n._firestoreClient=new g1(n._authCredentials,n._appCheckCredentials,n._queue,r)}function TN(n,e,t){const r=new Mr;return n.asyncQueue.enqueue((0,ye.Z)(function*(){try{yield vN(n,t),yield EN(n,e),r.resolve()}catch(i){const l=i;if(!("FirebaseError"===(d=l).name?d.code===ce.FAILED_PRECONDITION||d.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&d instanceof DOMException)||22===d.code||20===d.code||11===d.code))throw l;Nc("Error enabling offline persistence. Falling back to persistence disabled: "+l),r.reject(l)}var d})).then(()=>r.promise)}function SN(n){if(n._initialized||n._terminated)throw new Ne(ce.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class xu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xu(kr.fromBase64String(e))}catch(t){throw new Ne(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new xu(kr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class qc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ne(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Wp{constructor(e){this._methodName=e}}class pC{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ne(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ne(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Vt(this._lat,e._lat)||Vt(this._long,e._long)}}const R1=/^__.*__$/;class k1{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new zs(e,this.data,this.fieldMask,t,this.fieldTransforms):new Lh(e,this.data,t,this.fieldTransforms)}}class AN{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new zs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function MN(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw st()}}class gC{constructor(e,t,r,i,l,d){this.settings=e,this.databaseId=t,this.It=r,this.ignoreUndefinedProperties=i,void 0===l&&this.na(),this.fieldTransforms=l||[],this.fieldMask=d||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new gC(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return _C(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(MN(this.sa)&&R1.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class F1{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=r||J0(e)}da(e,t,r,i=!1){return new gC({sa:e,methodName:t,fa:r,path:vr.emptyPath(),oa:!1,la:i},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Zp(n){const e=n._freezeSettings(),t=J0(n._databaseId);return new F1(n._databaseId,!!e.ignoreUndefinedProperties,t)}function mC(n,e,t,r,i,l={}){const d=n.da(l.merge||l.mergeFields?2:0,e,t,i);xA("Data must be an object, but it was:",d,r);const p=PN(r,d);let y,w;if(l.merge)y=new yi(d.fieldMask),w=d.fieldTransforms;else if(l.mergeFields){const T=[];for(const M of l.mergeFields){const F=NA(e,M,t);if(!d.contains(F))throw new Ne(ce.INVALID_ARGUMENT,`Field '${F}' is specified in your field mask but missing from your input data.`);RN(T,F)||T.push(F)}y=new yi(T),w=d.fieldTransforms.filter(M=>y.covers(M.field))}else y=null,w=d.fieldTransforms;return new k1(new vi(p),y,w)}class nE extends Wp{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof nE}}function xN(n,e,t){return new gC({sa:3,fa:e.settings.fa,methodName:n._methodName,oa:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class SA extends Wp{_toFieldTransform(e){return new Su(e.path,new Vp)}isEqual(e){return e instanceof SA}}class L1 extends Wp{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=xN(this,e,!0),r=this._a.map(l=>Kp(l,t)),i=new Rh(r);return new Su(e.path,i)}isEqual(e){return this===e}}class V1 extends Wp{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=xN(this,e,!0),r=this._a.map(l=>Kp(l,t)),i=new kh(r);return new Su(e.path,i)}isEqual(e){return this===e}}class U1 extends Wp{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new nl(e.It,PT(e.It,this.wa));return new Su(e.path,t)}isEqual(e){return this===e}}function AA(n,e,t,r){const i=n.da(1,e,t);xA("Data must be an object, but it was:",i,r);const l=[],d=vi.empty();mi(r,(y,w)=>{const T=yC(e,y,t);w=(0,Qt.m9)(w);const M=i.ca(T);if(w instanceof nE)l.push(T);else{const F=Kp(w,M);null!=F&&(l.push(T),d.set(T,F))}});const p=new yi(l);return new AN(d,p,i.fieldTransforms)}function MA(n,e,t,r,i,l){const d=n.da(1,e,t),p=[NA(e,r,t)],y=[i];if(l.length%2!=0)throw new Ne(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let F=0;F<l.length;F+=2)p.push(NA(e,l[F])),y.push(l[F+1]);const w=[],T=vi.empty();for(let F=p.length-1;F>=0;--F)if(!RN(w,p[F])){const U=p[F];let q=y[F];q=(0,Qt.m9)(q);const le=d.ca(U);if(q instanceof nE)w.push(U);else{const _e=Kp(q,le);null!=_e&&(w.push(U),T.set(U,_e))}}const M=new yi(w);return new AN(T,M,d.fieldTransforms)}function NN(n,e,t,r=!1){return Kp(t,n.da(r?4:3,e))}function Kp(n,e){if(ON(n=(0,Qt.m9)(n)))return xA("Unsupported field value:",e,n),PN(n,e);if(n instanceof Wp)return function(t,r){if(!MN(r.sa))throw r.ha(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,r){const i=[];let l=0;for(const d of t){let p=Kp(d,r.aa(l));null==p&&(p={nullValue:"NULL_VALUE"}),i.push(p),l++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,Qt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return PT(r.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Ln.fromDate(t);return{timestampValue:vy(r.It,i)}}if(t instanceof Ln){const i=new Ln(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:vy(r.It,i)}}if(t instanceof pC)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof xu)return{bytesValue:FI(r.It,t._byteString)};if(t instanceof tr){const i=r.databaseId,l=t.firestore._databaseId;if(!l.isEqual(i))throw r.ha(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:M0(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ha(`Unsupported field value: ${uC(t)}`)}(n,e)}function PN(n,e){const t={};return oI(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):mi(n,(r,i)=>{const l=Kp(i,e.ra(r));null!=l&&(t[r]=l)}),{mapValue:{fields:t}}}function ON(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Ln||n instanceof pC||n instanceof xu||n instanceof tr||n instanceof Wp)}function xA(n,e,t){if(!ON(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=uC(t);throw e.ha("an object"===r?n+" a custom object":n+" "+r)}var r}function NA(n,e,t){if((e=(0,Qt.m9)(e))instanceof qc)return e._internalPath;if("string"==typeof e)return yC(n,e);throw _C("Field path arguments must be of type string or ",n,!1,void 0,t)}const B1=new RegExp("[~\\*/\\[\\]]");function yC(n,e,t){if(e.search(B1)>=0)throw _C(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new qc(...e.split("."))._internalPath}catch{throw _C(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function _C(n,e,t,r,i){const l=r&&!r.isEmpty(),d=void 0!==i;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(l||d)&&(y+=" (found",l&&(y+=` in field ${r}`),d&&(y+=` in document ${i}`),y+=")"),new Ne(ce.INVALID_ARGUMENT,p+n+y)}function RN(n,e){return n.some(t=>t.isEqual(e))}class rE{constructor(e,t,r,i,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new tr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new j1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(vC("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class j1 extends rE{data(){return super.data()}}function vC(n,e){return"string"==typeof e?yC(n,e):e instanceof qc?e._internalPath:e._delegate._internalPath}function kN(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ne(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class iE{}function zh(n,...e){for(const t of e)n=t._apply(n);return n}class H1 extends iE{constructor(e,t,r){super(),this.ma=e,this.ga=t,this.ya=r,this.type="where"}_apply(e){const t=Zp(e.firestore),r=function(i,l,d,p,y,w,T){let M;if(y.isKeyField()){if("array-contains"===w||"array-contains-any"===w)throw new Ne(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if("in"===w||"not-in"===w){jN(T,w);const U=[];for(const q of T)U.push(BN(p,i,q));M={arrayValue:{values:U}}}else M=BN(p,i,T)}else"in"!==w&&"not-in"!==w&&"array-contains-any"!==w||jN(T,w),M=NN(d,"where",T,"in"===w||"not-in"===w);const F=Zr.create(y,w,M);return function(U,q){if(q.dt()){const _e=gy(U);if(null!==_e&&!_e.isEqual(q.field))throw new Ne(ce.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${_e.toString()}' and '${q.field.toString()}'`);const Ye=py(U);null!==Ye&&HN(0,q.field,Ye)}const le=function(_e,Ye){for(const at of _e.filters)if(Ye.indexOf(at.op)>=0)return at.op;return null}(U,function(_e){switch(_e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(q.op));if(null!==le)throw new Ne(ce.INVALID_ARGUMENT,le===q.op?`Invalid query. You cannot use more than one '${q.op.toString()}' filter.`:`Invalid query. You cannot use '${q.op.toString()}' filters with '${le.toString()}' filters.`)}(i,F),F}(e._query,0,t,e.firestore._databaseId,this.ma,this.ga,this.ya);return new Wi(e.firestore,e.converter,function(i,l){const d=i.filters.concat([l]);return new Tu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),d,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class G1 extends iE{constructor(e,t){super(),this.ma=e,this.pa=t,this.type="orderBy"}_apply(e){const t=function(r,i,l){if(null!==r.startAt)throw new Ne(ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Ne(ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new Fc(i,l);return function(p,y){if(null===py(p)){const w=gy(p);null!==w&&HN(0,w,y.field)}}(r,d),d}(e._query,this.ma,this.pa);return new Wi(e.firestore,e.converter,function(r,i){const l=r.explicitOrderBy.concat([i]);return new Tu(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class FN extends iE{constructor(e,t,r){super(),this.type=e,this.Ia=t,this.Ta=r}_apply(e){return new Wi(e.firestore,e.converter,my(e._query,this.Ia,this.Ta))}}class LN extends iE{constructor(e,t,r){super(),this.type=e,this.Ea=t,this.Aa=r}_apply(e){const t=UN(e,this.type,this.Ea,this.Aa);return new Wi(e.firestore,e.converter,(i=t,new Tu((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class VN extends iE{constructor(e,t,r){super(),this.type=e,this.Ea=t,this.Aa=r}_apply(e){const t=UN(e,this.type,this.Ea,this.Aa);return new Wi(e.firestore,e.converter,(i=t,new Tu((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function UN(n,e,t,r){if(t[0]=(0,Qt.m9)(t[0]),t[0]instanceof rE)return function(i,l,d,p,y){if(!p)throw new Ne(ce.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const w=[];for(const T of Lc(i))if(T.field.isKeyField())w.push(Cu(l,p.key));else{const M=p.data.field(T.field);if(u0(M))throw new Ne(ce.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+T.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===M){const F=T.field.canonicalString();throw new Ne(ce.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${F}' (used as the orderBy) does not exist.`)}w.push(M)}return new Du(w,y)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Zp(n.firestore);return function(l,d,p,y,w,T){const M=l.explicitOrderBy;if(w.length>M.length)throw new Ne(ce.INVALID_ARGUMENT,`Too many arguments provided to ${y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const F=[];for(let U=0;U<w.length;U++){const q=w[U];if(M[U].field.isKeyField()){if("string"!=typeof q)throw new Ne(ce.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${y}(), but got a ${typeof q}`);if(!y0(l)&&-1!==q.indexOf("/"))throw new Ne(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${y}() must be a plain document ID, but '${q}' contains a slash.`);const le=l.path.child(on.fromString(q));if(!qe.isDocumentKey(le))throw new Ne(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${y}() must result in a valid document path, but '${le}' is not because it contains an odd number of segments.`);const _e=new qe(le);F.push(Cu(d,_e))}else{const le=NN(p,y,q);F.push(le)}}return new Du(F,T)}(n._query,n.firestore._databaseId,i,e,t,r)}}function BN(n,e,t){if("string"==typeof(t=(0,Qt.m9)(t))){if(""===t)throw new Ne(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!y0(e)&&-1!==t.indexOf("/"))throw new Ne(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(on.fromString(t));if(!qe.isDocumentKey(r))throw new Ne(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Cu(n,new qe(r))}if(t instanceof tr)return Cu(n,t._key);throw new Ne(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${uC(t)}.`)}function jN(n,e){if(!Array.isArray(n)||0===n.length)throw new Ne(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Ne(ce.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function HN(n,e,t){if(!t.isEqual(e))throw new Ne(ce.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class PA{convertValue(e,t="none"){switch(Rc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Gn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(bu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw st()}}convertObject(e,t){const r={};return mi(e.fields,(i,l)=>{r[i]=this.convertValue(l,t)}),r}convertGeoPoint(e){return new pC(Gn(e.latitude),Gn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=uI(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(oy(e));default:return null}}convertTimestamp(e){const t=el(e);return new Ln(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=on.fromString(e);Tt(KT(r));const i=new oa(r.get(1),r.get(3)),l=new qe(r.popFirst(5));return i.isEqual(t)||_r(`Document ${l} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function EC(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class J1 extends PA{constructor(e){super(),this.firestore=e}convertBytes(e){return new xu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new tr(this.firestore,null,t)}}class Yp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Wc extends rE{constructor(e,t,r,i,l,d){super(e,t,r,i,d),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new sE(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(vC("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class sE extends Wc{data(e={}){return super.data(e)}}class qh{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Yp(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new sE(this._firestore,this._userDataWriter,r.key,r,new Yp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ne(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(d=>({type:"added",doc:new sE(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Yp(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:l++}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(d=>i||3!==d.type).map(d=>{const p=new sE(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Yp(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let y=-1,w=-1;return 0!==d.type&&(y=l.indexOf(d.doc.key),l=l.delete(d.doc.key)),1!==d.type&&(l=l.add(d.doc),w=l.indexOf(d.doc.key)),{type:X1(d.type),doc:p,oldIndex:y,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function X1(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return st()}}function $N(n,e){return n instanceof Wc&&e instanceof Wc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof qh&&e instanceof qh&&n._firestore===e._firestore&&yA(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Wh extends PA{constructor(e){super(),this.firestore=e}convertBytes(e){return new xu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new tr(this.firestore,null,t)}}function GN(n,e,t){n=an(n,tr);const r=an(n.firestore,nr),i=EC(n.converter,e,t);return $y(r,[mC(Zp(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,er.none())])}function zN(n,e,t,...r){n=an(n,tr);const i=an(n.firestore,nr),l=Zp(i);let d;return d="string"==typeof(e=(0,Qt.m9)(e))||e instanceof qc?MA(l,"updateDoc",n._key,e,t,r):AA(l,"updateDoc",n._key,e),$y(i,[d.toMutation(n._key,er.exists(!0))])}function qN(n,...e){var t,r,i;n=(0,Qt.m9)(n);let l={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||TA(e[d])||(l=e[d],d++);const p={includeMetadataChanges:l.includeMetadataChanges};if(TA(e[d])){const M=e[d];e[d]=null===(t=M.next)||void 0===t?void 0:t.bind(M),e[d+1]=null===(r=M.error)||void 0===r?void 0:r.bind(M),e[d+2]=null===(i=M.complete)||void 0===i?void 0:i.bind(M)}let y,w,T;if(n instanceof tr)w=an(n.firestore,nr),T=Oh(n._key.path),y={next:M=>{e[d]&&e[d](OA(w,n,M))},error:e[d+1],complete:e[d+2]};else{const M=an(n,Wi);w=an(M.firestore,nr),T=M._query;const F=new Wh(w);y={next:U=>{e[d]&&e[d](new qh(w,F,M,U))},error:e[d+1],complete:e[d+2]},kN(n._query)}return function(M,F,U,q){const le=new dC(q),_e=new $S(F,le,U);return M.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return VS(yield Hy(M),_e)})),()=>{le.bc(),M.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return BS(yield Hy(M),_e)}))}}(Lr(w),T,p,y)}function $y(n,e){return function(t,r){const i=new Mr;return t.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function qR(n,e,t){return ZS.apply(this,arguments)}(yield CA(t),r,i)})),i.promise}(Lr(n),e)}function OA(n,e,t){const r=t.docs.get(e._key),i=new Wh(n);return new Wc(n,i,e._key,r,new Yp(t.hasPendingWrites,t.fromCache),e.converter)}const uk={maxAttempts:5};class WN{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Zp(e)}set(e,t,r){this._verifyNotCommitted();const i=Zh(e,this._firestore),l=EC(i.converter,t,r),d=mC(this._dataReader,"WriteBatch.set",i._key,l,null!==i.converter,r);return this._mutations.push(d.toMutation(i._key,er.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const l=Zh(e,this._firestore);let d;return d="string"==typeof(t=(0,Qt.m9)(t))||t instanceof qc?MA(this._dataReader,"WriteBatch.update",l._key,t,r,i):AA(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(d.toMutation(l._key,er.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Zh(e,this._firestore);return this._mutations=this._mutations.concat(new Bp(t._key,er.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ne(ce.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Zh(n,e){if((n=(0,Qt.m9)(n)).firestore!==e)throw new Ne(ce.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class ck extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Zp(e)}get(e){const t=Zh(e,this._firestore),r=new J1(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return st();const l=i[0];if(l.isFoundDocument())return new rE(this._firestore,r,l.key,l,t.converter);if(l.isNoDocument())return new rE(this._firestore,r,t._key,null,t.converter);throw st()})}set(e,t,r){const i=Zh(e,this._firestore),l=EC(i.converter,t,r),d=mC(this._dataReader,"Transaction.set",i._key,l,null!==i.converter,r);return this._transaction.set(i._key,d),this}update(e,t,r,...i){const l=Zh(e,this._firestore);let d;return d="string"==typeof(t=(0,Qt.m9)(t))||t instanceof qc?MA(this._dataReader,"Transaction.update",l._key,t,r,i):AA(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,d),this}delete(e){const t=Zh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Zh(e,this._firestore),r=new Wh(this._firestore);return super.get(e).then(i=>new Wc(this._firestore,r,t._key,i._document,new Yp(!1,!1),t.converter))}}function RA(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ne("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function KN(){if(typeof Uint8Array>"u")throw new Ne("unimplemented","Uint8Arrays are not available in this environment.")}function YN(){if(!function DT(){return typeof atob<"u"}())throw new Ne("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Eh=Hs.SDK_VERSION,(0,Hs._registerComponent)(new Ya.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const l=t.getProvider("app").getImmediate(),d=new nr(new vT(t.getProvider("auth-internal")),new Qb(t.getProvider("app-check-internal")),function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Ne(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new oa(p.options.projectId,y)}(l,r),l);return i=Object.assign({useFetchStreams:e},i),d._setSettings(i),d},"PUBLIC").setMultipleInstances(!0)),(0,Hs.registerVersion)(Zb,"3.7.1",n),(0,Hs.registerVersion)(Zb,"3.7.1","esm2017")}();class oE{constructor(e){this._delegate=e}static fromBase64String(e){return YN(),new oE(xu.fromBase64String(e))}static fromUint8Array(e){return KN(),new oE(xu.fromUint8Array(e))}toBase64(){return YN(),this._delegate.toBase64()}toUint8Array(){return KN(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function kA(n){return function vk(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class Ek{enableIndexedDbPersistence(e,t){return function T1(n,e){SN(n=an(n,nr));const t=Lr(n),r=n._freezeSettings(),i=new gA;return TN(t,i,new lN(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function S1(n){SN(n=an(n,nr));const e=Lr(n),t=n._freezeSettings(),r=new gA;return TN(e,r,new l1(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function A1(n){if(n._initialized&&!n._terminated)throw new Ne(ce.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Mr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ye.Z)(function*(){try{yield(t=(0,ye.Z)(function*(r){if(!Gs.C())return Promise.resolve();const i=r+"main";yield Gs.delete(i)}),function(r){return t.apply(this,arguments)})(lS(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class QN{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof oa||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Nc("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function gN(n,e,t,r={}){var i;const l=(n=an(n,tE))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&Nc("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let d,p;if("string"==typeof r.mockUserToken)d=r.mockUserToken,p=Wr.MOCK_USER;else{d=(0,Qt.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new Ne(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Wr(y)}n._authCredentials=new n0(new ty(d,p))}}(this._delegate,e,t,r)}enableNetwork(){return function x1(n){return function m1(n){return n.asyncQueue.enqueue((0,ye.Z)(function*(){const e=yield wN(n),t=yield IA(n);return e.setNetworkEnabled(!0),function(r){const i=ze(r);return i.wu.delete(0),X0(i)}(t)}))}(Lr(n=an(n,nr)))}(this._delegate)}disableNetwork(){return function N1(n){return function y1(n){return n.asyncQueue.enqueue((0,ye.Z)(function*(){const e=yield wN(n),t=yield IA(n);return e.setNetworkEnabled(!1),(r=(0,ye.Z)(function*(i){const l=ze(i);l.wu.add(0),yield ky(l),l.yu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(Lr(n=an(n,nr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,uN("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function M1(n){return function(e){const t=new Mr;return e.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function YR(n,e){return XS.apply(this,arguments)}(yield CA(e),t)})),t.promise}(Lr(n=an(n,nr)))}(this._delegate)}onSnapshotsInSync(e){return function lk(n,e){return function E1(n,e){const t=new dC(e);return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return r=yield Hy(n),i=t,ze(r).bu.add(i),void i.next();var r,i})),()=>{t.bc(),n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return r=yield Hy(n),i=t,void ze(r).bu.delete(i);var r,i}))}}(Lr(n=an(n,nr)),TA(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ne("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Gy(this,mN(this._delegate,e))}catch(t){throw vs(t,"collection()","Firestore.collection()")}}doc(e){try{return new da(this,cC(this._delegate,e))}catch(t){throw vs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Es(this,function u1(n,e){if(n=an(n,tE),mA("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ne(ce.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Wi(n,null,(t=e,new Tu(on.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw vs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function dk(n,e,t){n=an(n,nr);const r=Object.assign(Object.assign({},uk),t);return function(i){if(i.maxAttempts<1)throw new Ne(ce.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,l,d){const p=new Mr;return i.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){const y=yield function bN(n){return hC(n).then(e=>e.datastore)}(i);new p1(i.asyncQueue,y,d,l,p).run()})),p.promise}(Lr(n),i=>e(new ck(n,i)),r)}(this._delegate,t=>e(new JN(this,t)))}batch(){return Lr(this._delegate),new XN(new WN(this._delegate,e=>$y(this._delegate,e)))}loadBundle(e){return function P1(n,e){const t=Lr(n=an(n,nr)),r=new C1;return function w1(n,e,t,r){const i=function(l,d){let p;return p="string"==typeof l?(new TextEncoder).encode(l):l,y=function(y,w){if(y instanceof Uint8Array)return _N(y,w);if(y instanceof ArrayBuffer)return _N(new Uint8Array(y),w);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(p),new c1(y,d);var y}(t,J0(e));n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){!function a1(n,e,t){const r=ze(n);var i;(i=(0,ye.Z)(function*(l,d,p){try{const y=yield d.getMetadata();if(yield function(F,U){const q=ze(F),le=Kr(U.createTime);return q.persistence.runTransaction("hasNewerBundle","readonly",_e=>q.Ns.getBundleMetadata(_e,U.id)).then(_e=>!!_e&&_e.createTime.compareTo(le)>=0)}(l.localStore,y))return yield d.close(),p._completeWith({taskState:"Success",documentsLoaded:(F=y).totalDocuments,bytesLoaded:F.totalBytes,totalDocuments:F.totalDocuments,totalBytes:F.totalBytes}),Promise.resolve(new Set);p._updateProgress(Jx(y));const w=new BR(y,l.localStore,d.It);let T=yield d.mc();for(;T;){const F=yield w.Fu(T);F&&p._updateProgress(F),T=yield d.mc()}const M=yield w.complete();return yield zc(l,M.Lu,void 0),yield function(F,U){const q=ze(F);return q.persistence.runTransaction("Save bundle","readwrite",le=>q.Ns.saveBundleMetadata(le,U))}(l.localStore,y),p._completeWith(M.progress),Promise.resolve(M.Bu)}catch(y){return Nc("SyncEngine",`Loading bundle failed with ${y}`),p._failWith(y),Promise.resolve(new Set)}var F}),function(l,d,p){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield CA(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function O1(n,e){return function b1(n,e){return n.asyncQueue.enqueue((0,ye.Z)(function*(){return function(t,r){const i=ze(t);return i.persistence.runTransaction("Get named query","readonly",l=>i.Ns.getNamedQuery(l,r))}(yield fC(n),e)}))}(Lr(n=an(n,nr)),e).then(t=>t?new Wi(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Es(this,t):null)}}class wC extends PA{constructor(e){super(),this.firestore=e}convertBytes(e){return new oE(new xu(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return da.forKey(t,this.firestore,null)}}class JN{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new wC(e)}get(e){const t=Jp(e);return this._delegate.get(t).then(r=>new aE(this._firestore,new Wc(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Jp(e);return r?(RA("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const l=Jp(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...i),this}delete(e){const t=Jp(e);return this._delegate.delete(t),this}}class XN{constructor(e){this._delegate=e}set(e,t,r){const i=Jp(e);return r?(RA("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const l=Jp(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...i),this}delete(e){const t=Jp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Qp{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new sE(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new lE(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Qp.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let l=i.get(t);return l||(l=new Qp(e,new wC(e),t),i.set(t,l)),l}}Qp.INSTANCES=new WeakMap;class da{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new wC(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Ne("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new da(t,new tr(t._delegate,r,new qe(e)))}static forKey(e,t,r){return new da(t,new tr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Gy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Gy(this.firestore,mN(this._delegate,e))}catch(t){throw vs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Qt.m9)(e))instanceof tr&&yN(this._delegate,e)}set(e,t){t=RA("DocumentReference.set",t);try{return t?GN(this._delegate,e,t):GN(this._delegate,e)}catch(r){throw vs(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?zN(this._delegate,e):zN(this._delegate,e,t,...r)}catch(i){throw vs(i,"updateDoc()","DocumentReference.update()")}}delete(){return function ok(n){return $y(an(n.firestore,nr),[new Bp(n._key,er.none())])}(this._delegate)}onSnapshot(...e){const t=eP(e),r=tP(e,i=>new aE(this.firestore,new Wc(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return qN(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function tk(n){n=an(n,tr);const e=an(n.firestore,nr),t=Lr(e),r=new Wh(e);return function _1(n,e){const t=new Mr;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return(r=(0,ye.Z)(function*(i,l,d){try{const p=yield function(y,w){const T=ze(y);return T.persistence.runTransaction("read document","readonly",M=>T.localDocuments.getDocument(M,w))}(i,l);p.isFoundDocument()?d.resolve(p):p.isNoDocument()?d.resolve(null):d.reject(new Ne(ce.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(p){const y=Vy(p,`Failed to get document '${l} from cache`);d.reject(y)}}),function(i,l,d){return r.apply(this,arguments)})(yield fC(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Wc(e,r,n._key,i,new Yp(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function nk(n){n=an(n,tr);const e=an(n.firestore,nr);return IN(Lr(e),n._key,{source:"server"}).then(t=>OA(e,n,t))}(this._delegate):function ek(n){n=an(n,tr);const e=an(n.firestore,nr);return IN(Lr(e),n._key).then(t=>OA(e,n,t))}(this._delegate),t.then(r=>new aE(this.firestore,new Wc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new da(this.firestore,this._delegate.withConverter(e?Qp.getInstance(this.firestore,e):null))}}function vs(n,e,t){return n.message=n.message.replace(e,t),n}function eP(n){for(const e of n)if("object"==typeof e&&!kA(e))return e;return{}}function tP(n,e){var t,r;let i;return i=kA(n[0])?n[0]:kA(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{i.next&&i.next(e(l))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class aE{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new da(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return $N(this._delegate,e._delegate)}}class lE extends aE{data(e){const t=this._delegate.data(e);return function wh(n,e){n||st()}(void 0!==t),t}}class Es{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new wC(e)}where(e,t,r){try{return new Es(this.firestore,zh(this._delegate,function $1(n,e,t){const r=e,i=vC("where",n);return new H1(i,r,t)}(e,t,r)))}catch(i){throw vs(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Es(this.firestore,zh(this._delegate,function z1(n,e="asc"){const t=e,r=vC("orderBy",n);return new G1(r,t)}(e,t)))}catch(r){throw vs(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Es(this.firestore,zh(this._delegate,function q1(n){return hN("limit",n),new FN("limit",n,"F")}(e)))}catch(t){throw vs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Es(this.firestore,zh(this._delegate,function W1(n){return hN("limitToLast",n),new FN("limitToLast",n,"L")}(e)))}catch(t){throw vs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Es(this.firestore,zh(this._delegate,function Z1(...n){return new LN("startAt",n,!0)}(...e)))}catch(t){throw vs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Es(this.firestore,zh(this._delegate,function K1(...n){return new LN("startAfter",n,!1)}(...e)))}catch(t){throw vs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Es(this.firestore,zh(this._delegate,function Y1(...n){return new VN("endBefore",n,!1)}(...e)))}catch(t){throw vs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Es(this.firestore,zh(this._delegate,function Q1(...n){return new VN("endAt",n,!0)}(...e)))}catch(t){throw vs(t,"endAt()","Query.endAt()")}}isEqual(e){return yA(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function ik(n){n=an(n,Wi);const e=an(n.firestore,nr),t=Lr(e),r=new Wh(e);return function v1(n,e){const t=new Mr;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return(r=(0,ye.Z)(function*(i,l,d){try{const p=yield rC(i,l,!0),y=new tN(l,p.Hi),w=y.Wu(p.documents),T=y.applyChanges(w,!1);d.resolve(T.snapshot)}catch(p){const y=Vy(p,`Failed to execute query '${l} against cache`);d.reject(y)}}),function(i,l,d){return r.apply(this,arguments)})(yield fC(n),e,t);var r})),t.promise}(t,n._query).then(i=>new qh(e,r,n,i))}(this._delegate):"server"===e?.source?function sk(n){n=an(n,Wi);const e=an(n.firestore,nr),t=Lr(e),r=new Wh(e);return CN(t,n._query,{source:"server"}).then(i=>new qh(e,r,n,i))}(this._delegate):function rk(n){n=an(n,Wi);const e=an(n.firestore,nr),t=Lr(e),r=new Wh(e);return kN(n._query),CN(t,n._query).then(i=>new qh(e,r,n,i))}(this._delegate),t.then(r=>new FA(this.firestore,new qh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=eP(e),r=tP(e,i=>new FA(this.firestore,new qh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return qN(this._delegate,t,r)}withConverter(e){return new Es(this.firestore,this._delegate.withConverter(e?Qp.getInstance(this.firestore,e):null))}}class bk{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new lE(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class FA{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Es(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new lE(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new bk(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new lE(this._firestore,r))})}isEqual(e){return $N(this._delegate,e._delegate)}}class Gy extends Es{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new da(this.firestore,e):null}doc(e){try{return new da(this.firestore,void 0===e?cC(this._delegate):cC(this._delegate,e))}catch(t){throw vs(t,"doc()","CollectionReference.doc()")}}add(e){return function ak(n,e){const t=an(n.firestore,nr),r=cC(n),i=EC(n.converter,e);return $y(t,[mC(Zp(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,er.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new da(this.firestore,t))}isEqual(e){return yN(this._delegate,e._delegate)}withConverter(e){return new Gy(this.firestore,this._delegate.withConverter(e?Qp.getInstance(this.firestore,e):null))}}function Jp(n){return an(n,tr)}class LA{constructor(...e){this._delegate=new qc(...e)}static documentId(){return new LA(vr.keyField().canonicalString())}isEqual(e){return(e=(0,Qt.m9)(e))instanceof qc&&this._delegate._internalPath.isEqual(e._internalPath)}}class Xp{constructor(e){this._delegate=e}static serverTimestamp(){const e=function fk(){return new SA("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Xp(e)}static delete(){const e=function hk(){return new nE("deleteField")}();return e._methodName="FieldValue.delete",new Xp(e)}static arrayUnion(...e){const t=function pk(...n){return new L1("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Xp(t)}static arrayRemove(...e){const t=function gk(...n){return new V1("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Xp(t)}static increment(e){const t=function mk(n){return new U1("increment",n)}(e);return t._methodName="FieldValue.increment",new Xp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Ik={Firestore:QN,GeoPoint:pC,Timestamp:Ln,Blob:oE,Transaction:JN,WriteBatch:XN,DocumentReference:da,DocumentSnapshot:aE,Query:Es,QueryDocumentSnapshot:lE,QuerySnapshot:FA,CollectionReference:Gy,FieldPath:LA,FieldValue:Xp,setLogLevel:function wk(n){!function Kb(n){sa.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function Dk(n){(function Ck(n,e){n.INTERNAL.registerComponent(new Ya.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},Ik)))})(n,(e,t)=>new QN(e,t,new Ek)),n.registerVersion("@firebase/firestore-compat","0.2.1")}(nv.Z);var Tk=k(6451),bC=k(5363),Sk=k(6063);class Ak extends un.x{constructor(e=1/0,t=1/0,r=Sk.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:l,_windowTime:d}=this;t||(r.push(e),!i&&r.push(l.now()+d)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,l=i.slice();for(let d=0;d<l.length&&!e.closed;d+=r?1:2)e.next(l[d]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,l=(i?1:2)*e;if(e<1/0&&l<r.length&&r.splice(0,r.length-l),!i){const d=t.now();let p=0;for(let y=1;y<r.length&&r[y]<=d;y+=2)p=y;p&&r.splice(0,p+1)}}}var Mk=k(3099);function nP(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,Mk.B)({connector:()=>new Ak(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function rP(n,e){return(0,Mi.m)(e)?zt(()=>n,e):zt(()=>n)}var VA=k(9468);k(5867);const sP=new Map,Rk={activated:!1,tokenObservers:[]},kk={initialized:!1,enabled:!1};function bi(n){return sP.get(n)||Rk}function ha(n,e){sP.set(n,e)}function CC(){return kk}class Bk{constructor(e,t,r,i,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=i,i>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ye.Z)(function*(){t.stop();try{t.pending=new Qt.BH,yield function jk(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Qt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const ws=new Qt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function aP(n){if(!bi(n).activated)throw ws.create("use-before-activation",{appName:n.name})}function HA(n,e){return $A.apply(this,arguments)}function $A(){return $A=(0,ye.Z)(function*({url:n,body:e},t){var r,i;const l={"Content-Type":"application/json"},d=t.getImmediate({optional:!0});if(d){const U=yield d.getHeartbeatsHeader();U&&(l["X-Firebase-Client"]=U)}const p={method:"POST",body:JSON.stringify(e),headers:l};let y,w;try{y=yield fetch(n,p)}catch(U){throw ws.create("fetch-network-error",{originalErrorMessage:null===(r=U)||void 0===r?void 0:r.message})}if(200!==y.status)throw ws.create("fetch-status-error",{httpStatus:y.status});try{w=yield y.json()}catch(U){throw ws.create("fetch-parse-error",{originalErrorMessage:null===(i=U)||void 0===i?void 0:i.message})}const T=w.ttl.match(/^([\d.]+)(s)$/);if(!T||!T[2]||isNaN(Number(T[1])))throw ws.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${w.ttl}`});const M=1e3*Number(T[1]),F=Date.now();return{token:w.token,expireTimeMillis:F+M,issuedAtTimeMillis:F}}),$A.apply(this,arguments)}function zk(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const uE="firebase-app-check-store";let SC=null;function uP(){return SC||(SC=new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=i=>{n(i.target.result)},r.onerror=i=>{var l;e(ws.create("storage-open",{originalErrorMessage:null===(l=i.target.error)||void 0===l?void 0:l.message}))},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(uE,{keyPath:"compositeKey"})}}catch(r){e(ws.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}}),SC)}function GA(){return GA=(0,ye.Z)(function*(n,e){const r=(yield uP()).transaction(uE,"readwrite"),l=r.objectStore(uE).put({compositeKey:n,value:e});return new Promise((d,p)=>{l.onsuccess=y=>{d()},r.onerror=y=>{var w;p(ws.create("storage-set",{originalErrorMessage:null===(w=y.target.error)||void 0===w?void 0:w.message}))}})}),GA.apply(this,arguments)}const cE=new ps.Yd("@firebase/app-check");function WA(n,e){return(0,Qt.hl)()?function Kk(n,e){return function cP(n,e){return GA.apply(this,arguments)}(function hP(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{cE.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function fP(){return CC().enabled}function pP(){return KA.apply(this,arguments)}function KA(){return KA=(0,ye.Z)(function*(){const n=CC();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),KA.apply(this,arguments)}const tF={error:"UNKNOWN_ERROR"};function nF(n){return Qt.US.encodeString(JSON.stringify(n),!1)}function AC(n){return YA.apply(this,arguments)}function YA(){return YA=(0,ye.Z)(function*(n,e=!1){const t=n.app;aP(t);const r=bi(t);let l,i=r.token;if(i&&!zy(i)&&(ha(t,Object.assign(Object.assign({},r),{token:void 0})),i=void 0),!i){const y=yield r.cachedTokenPromise;y&&(zy(y)?i=y:yield WA(t,void 0))}if(!e&&i&&zy(i))return{token:i.token};let p,d=!1;if(fP()){r.exchangeTokenPromise||(r.exchangeTokenPromise=HA(zk(t,yield pP()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),d=!0);const y=yield r.exchangeTokenPromise;return yield WA(t,y),ha(t,Object.assign(Object.assign({},r),{token:y})),{token:y.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),d=!0),i=yield r.exchangeTokenPromise}catch(y){"appCheck/throttled"===y.code?cE.warn(y.message):cE.error(y),l=y}return i?l?p=zy(i)?{token:i.token,internalError:l}:yP(l):(p={token:i.token},ha(t,Object.assign(Object.assign({},r),{token:i})),yield WA(t,i)):p=yP(l),d&&mP(t,p),p}),YA.apply(this,arguments)}function JA(n,e){const t=bi(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),ha(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function gP(n){const{app:e}=n,t=bi(e);let r=t.tokenRefresher;r||(r=function rF(n){const{app:e}=n;return new Bk((0,ye.Z)(function*(){let r;if(r=bi(e).token?yield AC(n,!0):yield AC(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=bi(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),ha(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function mP(n,e){const t=bi(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function zy(n){return n.expireTimeMillis-Date.now()>0}function yP(n){return{token:nF(tF),error:n}}class iF{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=bi(this.app);for(const t of e)JA(this.app,t.next);return Promise.resolve()}}const DP="app-check-internal";!function _F(){(0,Hs._registerComponent)(new Ya.wA("app-check",n=>function sF(n,e){return new iF(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(DP).initialize()})),(0,Hs._registerComponent)(new Ya.wA(DP,n=>function oF(n){return{getToken:e=>AC(n,e),addTokenListener:e=>function QA(n,e,t,r){const{app:i}=n,l=bi(i),d={next:t,error:r,type:e};if(ha(i,Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,d]})),l.token&&zy(l.token)){const p=l.token;Promise.resolve().then(()=>{t({token:p.token}),gP(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>gP(n))}(n,"INTERNAL",e),removeTokenListener:e=>JA(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Hs.registerVersion)("@firebase/app-check","0.5.15")}();class nM{constructor(){return(0,Sr.vb)("app-check")}}typeof window<"u"&&window,k(127);const SP=new u.OlP("angularfire2.auth.use-emulator"),AP=new u.OlP("angularfire2.auth.settings"),MP=new u.OlP("angularfire2.auth.tenant-id"),xP=new u.OlP("angularfire2.auth.langugage-code"),NP=new u.OlP("angularfire2.auth.use-device-language"),PP=new u.OlP("angularfire.auth.persistence"),OP=(n,e,t,r,i,l,d,p)=>(0,ni.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const y=e.runOutsideAngular(()=>n.auth());if(t&&y.useEmulator(...t),r&&(y.tenantId=r),y.languageCode=i,l&&y.useDeviceLanguage(),d)for(const[w,T]of Object.entries(d))y.settings[w]=T;return p&&y.setPersistence(p),y},[t,r,i,l,d,p]);let RP=(()=>{class n{constructor(t,r,i,l,d,p,y,w,T,M,F,U){const q=new un.x,le=rt(void 0).pipe((0,bC.Q)(d.outsideAngular),zt(()=>l.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,9545)))),(0,bt.U)(()=>(0,ni.on)(t,l,r)),(0,bt.U)(_e=>OP(_e,l,p,w,T,M,y,F)),nP({bufferSize:1,refCount:!1}));if(Cr(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=rt(null);else{le.pipe(Ie()).subscribe();const Ye=le.pipe(zt(ct=>ct.getRedirectResult().then(St=>St,()=>null)),Sr.iC,nP({bufferSize:1,refCount:!1})),at=le.pipe(zt(ct=>new Dr.y(St=>({unsubscribe:l.runOutsideAngular(()=>ct.onAuthStateChanged(Pt=>St.next(Pt),Pt=>St.error(Pt),()=>St.complete()))})))),gt=le.pipe(zt(ct=>new Dr.y(St=>({unsubscribe:l.runOutsideAngular(()=>ct.onIdTokenChanged(Pt=>St.next(Pt),Pt=>St.error(Pt),()=>St.complete()))}))));this.authState=Ye.pipe(rP(at),(0,VA.R)(d.outsideAngular),(0,bC.Q)(d.insideAngular)),this.user=Ye.pipe(rP(gt),(0,VA.R)(d.outsideAngular),(0,bC.Q)(d.insideAngular)),this.idToken=this.user.pipe(zt(ct=>ct?(0,sn.D)(ct.getIdToken()):rt(null))),this.idTokenResult=this.user.pipe(zt(ct=>ct?(0,sn.D)(ct.getIdTokenResult()):rt(null))),this.credential=(0,Tk.T)(Ye,q,this.authState.pipe(D(ct=>!ct))).pipe((0,bt.U)(ct=>ct?.user?ct:null),(0,VA.R)(d.outsideAngular),(0,bC.Q)(d.insideAngular))}return(0,ni.pX)(this,le,l,{spy:{apply:(_e,Ye,at)=>{(_e.startsWith("signIn")||_e.startsWith("createUser"))&&at.then(gt=>q.next(gt))}}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ni.Dh),u.LFG(ni.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Sr.HU),u.LFG(SP,8),u.LFG(AP,8),u.LFG(MP,8),u.LFG(xP,8),u.LFG(NP,8),u.LFG(PP,8),u.LFG(nM,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function kP(n,e){return function CF(n,e=ta.z){return new Dr.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function iM(n,e){return kP(n,e).pipe((0,bt.U)(t=>({payload:t,type:"query"})))}function xC(n,e){return iM(n,e).pipe(C(void 0),zr(),(0,bt.U)(([t,r])=>{const i=r.payload.docChanges(),l=i.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((d,p)=>{const y=i.find(T=>T.doc.ref.isEqual(d.ref)),w=t?.payload.docs.find(T=>T.ref.isEqual(d.ref));y&&JSON.stringify(y.doc.metadata)===JSON.stringify(d.metadata)||!y&&w&&JSON.stringify(w.metadata)===JSON.stringify(d.metadata)||l.push({type:"modified",payload:{oldIndex:p,newIndex:p,type:"modified",doc:d}})}),l}))}function FP(n,e,t){return xC(n,t).pipe(ut((r,i)=>function TF(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function SF(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return sM(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return sM(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return sM(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(l=>l.payload),e),[]),function Tc(n,e=mr.y){return n=n??Em,(0,jn.e)((t,r)=>{let i,l=!0;t.subscribe((0,lr.x)(r,d=>{const p=e(d);(l||!n(i,p))&&(l=!1,i=p,r.next(d))}))})}(),(0,bt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function sM(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function LP(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class VP{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=xC(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,bt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(C(void 0),zr(),D(([r,i])=>i.length>0||!r),(0,bt.U)(([r,i])=>i),Sr.iC)}auditTrail(e){return this.stateChanges(e).pipe(ut((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=LP(e);return FP(this.query,t,this.afs.schedulers.outsideAngular).pipe(Sr.iC)}valueChanges(e={}){return iM(this.query,this.afs.schedulers.outsideAngular).pipe((0,bt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Sr.iC)}get(e){return(0,sn.D)(this.query.get(e)).pipe(Sr.iC)}add(e){return this.ref.add(e)}doc(e){return new UP(this.ref.doc(e),this.afs)}}class UP{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:l}=BP(r,t);return new VP(i,l,this.afs)}snapshotChanges(){return function DF(n,e){return kP(n,e).pipe(C(void 0),zr(),(0,bt.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Sr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,bt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,sn.D)(this.ref.get(e)).pipe(Sr.iC)}}class AF{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?xC(this.query,this.afs.schedulers.outsideAngular).pipe((0,bt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),D(t=>t.length>0),Sr.iC):xC(this.query,this.afs.schedulers.outsideAngular).pipe(Sr.iC)}auditTrail(e){return this.stateChanges(e).pipe(ut((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=LP(e);return FP(this.query,t,this.afs.schedulers.outsideAngular).pipe(Sr.iC)}valueChanges(e={}){return iM(this.query,this.afs.schedulers.outsideAngular).pipe((0,bt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),Sr.iC)}get(e){return(0,sn.D)(this.query.get(e)).pipe(Sr.iC)}}const MF=new u.OlP("angularfire2.enableFirestorePersistence"),xF=new u.OlP("angularfire2.firestore.persistenceSettings"),NF=new u.OlP("angularfire2.firestore.settings"),PF=new u.OlP("angularfire2.firestore.use-emulator");function BP(n,e=(t=>t)){return{query:e(n),ref:n}}let OF=(()=>{class n{constructor(t,r,i,l,d,p,y,w,T,M,F,U,q,le,_e,Ye,at){this.schedulers=y;const gt=(0,ni.on)(t,p,r),ct=T;M&&OP(gt,p,F,q,le,_e,U,Ye),[this.firestore,this.persistenceEnabled$]=(0,ni.cc)(`${gt.name}.firestore`,"AngularFirestore",gt.name,()=>{const St=p.runOutsideAngular(()=>gt.firestore());if(l&&St.settings(l),ct&&St.useEmulator(...ct),i&&!Cr(d)){const Pt=()=>{try{return(0,sn.D)(St.enablePersistence(w||void 0).then(()=>!0,()=>!1))}catch(dn){return typeof console<"u"&&console.warn(dn),rt(!1)}};return[St,p.runOutsideAngular(Pt)]}return[St,rt(!1)]},[l,ct,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:d}=BP(i,r),p=this.schedulers.ngZone.run(()=>l);return new VP(p,d,this)}collectionGroup(t,r){const i=r||(d=>d),l=this.firestore.collectionGroup(t);return new AF(i(l),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new UP(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ni.Dh),u.LFG(ni.xv,8),u.LFG(MF,8),u.LFG(NF,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Sr.HU),u.LFG(xF,8),u.LFG(PF,8),u.LFG(RP,8),u.LFG(SP,8),u.LFG(AP,8),u.LFG(MP,8),u.LFG(xP,8),u.LFG(NP,8),u.LFG(PP,8),u.LFG(nM,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),NC=(()=>{class n{constructor(t){this.firestore=t}agregarproducto(t){return this.firestore.collection("productos").add(t)}getProducts(){return this.firestore.collection("productos",t=>t.orderBy("table","asc")).snapshotChanges()}deleteProducts(t){return this.firestore.collection("productos").doc(t).delete()}deleteAllProducts(){this.firestore.collection("productos").snapshotChanges().subscribe(i=>{i.forEach(l=>{this.firestore.collection("productos").doc(l.payload.doc.id).delete()})})}getProducto(t){return this.firestore.collection("productos").doc(t).snapshotChanges()}update(t,r){return this.firestore.collection("productos").doc(t).update(r)}ajustarProducto(t){return this.firestore.collection("ajustes").add(t)}obtenerAjuste(t){return this.firestore.collection("ajustes").doc(t).snapshotChanges()}obtProductos(){return this.firestore.collection("ajustes").snapshotChanges()}updatex(t,r){return this.firestore.collection("ajustes").doc(t).update(r)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(OF))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jP=(()=>{class n{constructor(t,r,i,l){this.fb=t,this._servicio=r,this.aRouter=i,this.router=l,this.adjustProduct=this.fb.group({sabor01:[""],sabor02:[""],sabor03:[""],sabor04:[""],sabor05:[""],sabor06:[""],sabor07:[""],sabor08:[""],sabor09:[""],sabor10:[""],sabor11:[""],sabor12:[""]}),this.id=this.aRouter.snapshot.paramMap.get("id")}ngOnInit(){this.ajustesImp()}ajustar(){null===this.id?this.ajustarAddProduct():this.ajustesEdit(this.id)}ajustarAddProduct(){const t={sabor01:this.adjustProduct.value.sabor01,sabor02:this.adjustProduct.value.sabor02,sabor03:this.adjustProduct.value.sabor03,sabor04:this.adjustProduct.value.sabor04,sabor05:this.adjustProduct.value.sabor05,sabor06:this.adjustProduct.value.sabor06,sabor07:this.adjustProduct.value.sabor07,sabor08:this.adjustProduct.value.sabor08,sabor09:this.adjustProduct.value.sabor09,sabor10:this.adjustProduct.value.sabor10,sabor11:this.adjustProduct.value.sabor11,sabor12:this.adjustProduct.value.sabor12};console.log(t),this._servicio.ajustarProducto(t).then(()=>{console.log("registrado con exito")})}ajustesEdit(t){this._servicio.updatex(t,{sabor01:this.adjustProduct.value.sabor01,sabor02:this.adjustProduct.value.sabor02,sabor03:this.adjustProduct.value.sabor03,sabor04:this.adjustProduct.value.sabor04,sabor05:this.adjustProduct.value.sabor05,sabor06:this.adjustProduct.value.sabor06,sabor07:this.adjustProduct.value.sabor07,sabor08:this.adjustProduct.value.sabor08,sabor09:this.adjustProduct.value.sabor09,sabor10:this.adjustProduct.value.sabor10,sabor11:this.adjustProduct.value.sabor11,sabor12:this.adjustProduct.value.sabor12}).then(()=>{}),this.router.navigate(["/mod"])}ajustesImp(){null!==this.id&&this._servicio.obtenerAjuste(this.id).subscribe(t=>{this.adjustProduct.setValue({sabor01:t.payload.data().sabor01,sabor02:t.payload.data().sabor02,sabor03:t.payload.data().sabor03,sabor04:t.payload.data().sabor04,sabor05:t.payload.data().sabor05,sabor06:t.payload.data().sabor06,sabor07:t.payload.data().sabor07,sabor08:t.payload.data().sabor08,sabor09:t.payload.data().sabor09,sabor10:t.payload.data().sabor10,sabor11:t.payload.data().sabor11,sabor12:t.payload.data().sabor12})})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Ww),u.Y36(NC),u.Y36(Hi),u.Y36(Tr))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-adjust"]],decls:34,vars:1,consts:[[1,"contenedor"],[3,"formGroup","ngSubmit"],[1,"flavors"],[1,"col"],["type","text","placeholder","sabor01","formControlName","sabor01",1,""],["type","text","placeholder","sabor02","formControlName","sabor02",1,""],["type","text","placeholder","sabor03","formControlName","sabor03",1,""],["type","text","placeholder","sabor04","formControlName","sabor04",1,""],["type","text","placeholder","sabor05","formControlName","sabor05",1,""],["type","text","placeholder","sabor06","formControlName","sabor06",1,""],["type","text","placeholder","sabor07","formControlName","sabor07",1,""],["type","text","placeholder","sabor08","formControlName","sabor08",1,""],["type","text","placeholder","sabor09","formControlName","sabor09",1,""],["type","text","placeholder","sabor10","formControlName","sabor10",1,""],["type","text","placeholder","sabor11","formControlName","sabor11",1,""],["type","text","placeholder","sabor12","formControlName","sabor12",1,""],[1,"mt-3","text-center"],["type","text","routerLink","/mod",1,"btn","btn-secondary","btn-lg","mr-3"],["type","submit",1,"btn","btn-dark","btn-lg"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"form",1),u.NdJ("ngSubmit",function(){return r.ajustar()}),u.TgZ(2,"div",2)(3,"h3"),u._uU(4,"ajustar sabores"),u.qZA(),u.TgZ(5,"div",3),u._UZ(6,"input",4),u.qZA(),u.TgZ(7,"div",3),u._UZ(8,"input",5),u.qZA(),u.TgZ(9,"div",3),u._UZ(10,"input",6),u.qZA(),u.TgZ(11,"div",3),u._UZ(12,"input",7),u.qZA(),u.TgZ(13,"div",3),u._UZ(14,"input",8),u.qZA(),u.TgZ(15,"div",3),u._UZ(16,"input",9),u.qZA(),u.TgZ(17,"div",3),u._UZ(18,"input",10),u.qZA(),u.TgZ(19,"div",3),u._UZ(20,"input",11),u.qZA(),u.TgZ(21,"div",3),u._UZ(22,"input",12),u.qZA(),u.TgZ(23,"div",3),u._UZ(24,"input",13),u.qZA(),u.TgZ(25,"div",3),u._UZ(26,"input",14),u.qZA(),u.TgZ(27,"div",3),u._UZ(28,"input",15),u.qZA()(),u.TgZ(29,"div",16)(30,"button",17),u._uU(31,"Regresar"),u.qZA(),u.TgZ(32,"button",18),u._uU(33,"Aceptar"),u.qZA()()()()),2&t&&(u.xp6(1),u.Q6J("formGroup",r.adjustProduct))},dependencies:[ru,pm,su,Gf,zf,Yf,nh]}),n})();class HP{}const Zc="*";function $P(n,e){return{type:7,name:n,definitions:e,options:{}}}function PC(n,e=null){return{type:4,styles:e,timings:n}}function GP(n,e=null){return{type:2,steps:n,options:e}}function eg(n){return{type:6,styles:n,offset:null}}function oM(n,e,t){return{type:0,name:n,styles:e,options:t}}function OC(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function zP(n,e=null){return{type:8,animation:n,options:e}}function qP(n,e=null){return{type:10,animation:n,options:e}}function WP(n){Promise.resolve().then(n)}class dE{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){WP(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class ZP{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const l=this.players.length;0==l?WP(()=>this._onFinish()):this.players.forEach(d=>{d.onDone(()=>{++t==l&&this._onFinish()}),d.onDestroy(()=>{++r==l&&this._onDestroy()}),d.onStart(()=>{++i==l&&this._onStart()})}),this.totalTime=this.players.reduce((d,p)=>Math.max(d,p.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const KP=["toast-component",""];function kF(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",5),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.remove())}),u.TgZ(1,"span",6),u._uU(2,"\xd7"),u.qZA()()}}function FF(n,e){if(1&n&&(u.ynx(0),u._uU(1),u.BQk()),2&n){const t=u.oxw(2);u.xp6(1),u.hij("[",t.duplicatesCount+1,"]")}}function LF(n,e){if(1&n&&(u.TgZ(0,"div"),u._uU(1),u.YNc(2,FF,2,1,"ng-container",4),u.qZA()),2&n){const t=u.oxw();u.Tol(t.options.titleClass),u.uIk("aria-label",t.title),u.xp6(1),u.hij(" ",t.title," "),u.xp6(1),u.Q6J("ngIf",t.duplicatesCount)}}function VF(n,e){if(1&n&&u._UZ(0,"div",7),2&n){const t=u.oxw();u.Tol(t.options.messageClass),u.Q6J("innerHTML",t.message,u.oJD)}}function UF(n,e){if(1&n&&(u.TgZ(0,"div",8),u._uU(1),u.qZA()),2&n){const t=u.oxw();u.Tol(t.options.messageClass),u.uIk("aria-label",t.message),u.xp6(1),u.hij(" ",t.message," ")}}function BF(n,e){if(1&n&&(u.TgZ(0,"div"),u._UZ(1,"div",9),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Udp("width",t.width+"%")}}class WF{constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class KF{constructor(e){this._overlayRef=e,this.duplicatesCount=0,this._afterClosed=new un.x,this._activate=new un.x,this._manualClose=new un.x,this._resetTimeout=new un.x,this._countDuplicate=new un.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}class RC{constructor(e,t,r,i,l,d){this.toastId=e,this.config=t,this.message=r,this.title=i,this.toastType=l,this.toastRef=d,this._onTap=new un.x,this._onAction=new un.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const QP=new u.OlP("ToastConfig");class YF extends class ZF{attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}{constructor(e,t,r){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=r}attachComponentPortal(e,t){const r=this._componentFactoryResolver.resolveComponentFactory(e.component);let i;return i=r.create(e.injector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(i),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(i)),i}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}class QF{constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}}let JF=(()=>{class n{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),this._containerElement=t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ae))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),XF=(()=>{class n{constructor(t,r,i,l){this._overlayContainer=t,this._componentFactoryResolver=r,this._appRef=i,this._document=l,this._paneElements=new Map}create(t,r){return this._createOverlayRef(this.getPaneElement(t,r))}getPaneElement(t="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[t]||(this._paneElements.get(r)[t]=this._createPaneElement(t,r)),this._paneElements.get(r)[t]}_createPaneElement(t,r){const i=this._document.createElement("div");return i.id="toast-container",i.classList.add(t),i.classList.add("toast-container"),r?r.getContainerElement().appendChild(i):this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalHost(t){return new YF(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new QF(this._createPortalHost(t))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(JF),u.LFG(u._Vd),u.LFG(u.z2F),u.LFG(ae))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kC=(()=>{class n{constructor(t,r,i,l,d){this.overlay=r,this._injector=i,this.sanitizer=l,this.ngZone=d,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...t.default,...t.config},t.config.iconClasses&&(this.toastrConfig.iconClasses={...t.default.iconClasses,...t.config.iconClasses})}show(t,r,i={},l=""){return this._preBuildNotification(l,t,r,this.applyConfig(i))}success(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,r,this.applyConfig(i))}error(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,r,this.applyConfig(i))}info(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,r,this.applyConfig(i))}warning(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,r,this.applyConfig(i))}clear(t){for(const r of this.toasts)if(void 0!==t){if(r.toastId===t)return void r.toastRef.manualClose()}else r.toastRef.manualClose()}remove(t){const r=this._findToast(t);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const i=this.toasts[this.currentlyActive].toastRef;i.isInactive()||(this.currentlyActive=this.currentlyActive+1,i.activate())}return!0}findDuplicate(t="",r="",i,l){const{includeTitleDuplicates:d}=this.toastrConfig;for(const p of this.toasts){const y=d&&p.title===t;if((!d||y)&&p.message===r)return p.toastRef.onDuplicate(i,l),p}return null}applyConfig(t={}){return{...this.toastrConfig,...t}}_findToast(t){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===t)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(t,r,i,l){return l.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,r,i,l)):this._buildNotification(t,r,i,l)}_buildNotification(t,r,i,l){if(!l.toastComponent)throw new Error("toastComponent required");const d=this.findDuplicate(i,r,this.toastrConfig.resetTimeoutOnDuplicate&&l.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&i||r)&&this.toastrConfig.preventDuplicates&&null!==d)return d;this.previousToastMessage=r;let p=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(p=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const y=this.overlay.create(l.positionClass,this.overlayContainer);this.index=this.index+1;let w=r;r&&l.enableHtml&&(w=this.sanitizer.sanitize(u.q3G.HTML,r));const T=new KF(y),M=new RC(this.index,l,w,i,t,T),U=u.zs3.create({providers:[{provide:RC,useValue:M}],parent:this._injector}),q=new WF(l.toastComponent,U),le=y.attach(q,l.newestOnTop);T.componentInstance=le.instance;const _e={toastId:this.index,title:i||"",message:r||"",toastRef:T,onShown:T.afterActivate(),onHidden:T.afterClosed(),onTap:M.onTap(),onAction:M.onAction(),portal:le};return p||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{_e.toastRef.activate()})),this.toasts.push(_e),_e}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(QP),u.LFG(XF),u.LFG(u.zs3),u.LFG(Fa),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const eL={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null,toastComponent:(()=>{class n{constructor(t,r,i){this.toastrService=t,this.toastPackage=r,this.ngZone=i,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(l=>{this.duplicatesCount=l})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),r)):this.timeout=setTimeout(()=>t(),r)}outsideInterval(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),r)):this.intervalId=setInterval(()=>t(),r)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(kC),u.Y36(RC),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,r){1&t&&u.NdJ("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&t&&(u.d8E("@flyInOut",r.state),u.Tol(r.toastClasses),u.Udp("display",r.displayStyle))},attrs:KP,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,r){1&t&&(u.YNc(0,kF,3,0,"button",0),u.YNc(1,LF,3,5,"div",1),u.YNc(2,VF,1,3,"div",2),u.YNc(3,UF,2,4,"div",3),u.YNc(4,BF,2,2,"div",4)),2&t&&(u.Q6J("ngIf",r.options.closeButton),u.xp6(1),u.Q6J("ngIf",r.title),u.xp6(1),u.Q6J("ngIf",r.message&&r.options.enableHtml),u.xp6(1),u.Q6J("ngIf",r.message&&!r.options.enableHtml),u.xp6(1),u.Q6J("ngIf",r.options.progressBar))},dependencies:[Mn],encapsulation:2,data:{animation:[$P("flyInOut",[oM("inactive",eg({opacity:0})),oM("active",eg({opacity:1})),oM("removed",eg({opacity:0})),OC("inactive => active",PC("{{ easeTime }}ms {{ easing }}")),OC("active => removed",PC("{{ easeTime }}ms {{ easing }}"))])]}}),n})()};let tL=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[{provide:QP,useValue:{default:eL,config:t}}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Vi]}),n})();function nL(n,e){1&n&&(u.TgZ(0,"div",23)(1,"span",24),u._uU(2,"Loading..."),u.qZA()())}function rL(n,e){1&n&&(u.TgZ(0,"span"),u._uU(1,"TODOS LOS CAMPOS SON OBLIGATORIOS"),u.qZA())}function iL(n,e){if(1&n&&(u.TgZ(0,"option",25),u._uU(1),u.qZA()),2&n){const t=e.$implicit;u.Q6J("ngValue",t),u.xp6(1),u.hij(" ",t," ")}}function sL(n,e){if(1&n&&(u.TgZ(0,"option",25),u._uU(1),u.qZA()),2&n){const t=e.$implicit;u.Q6J("ngValue",t.nombre),u.xp6(1),u.hij(" ",t.nombre," ")}}function oL(n,e){if(1&n&&(u.TgZ(0,"option",25),u._uU(1),u.qZA()),2&n){const t=e.$implicit;u.Q6J("ngValue",t),u.xp6(1),u.hij(" ",t," ")}}function aL(n,e){if(1&n&&(u.TgZ(0,"option",25),u._uU(1),u.qZA()),2&n){const t=e.$implicit;u.Q6J("ngValue",t),u.xp6(1),u.hij(" ",t," ")}}function lL(n,e){if(1&n&&(u.TgZ(0,"option",25),u._uU(1),u.qZA()),2&n){const t=e.$implicit;u.Q6J("ngValue",t),u.xp6(1),u.hij(" ",t," ")}}let JP=(()=>{class n{constructor(t,r,i,l,d){this.fb=t,this._Servicio=r,this.router=i,this.toastr=l,this.aRouter=d,this.subbmited=!1,this.loading=!1,this.titleChange="Agregar Producto",this.mesa=["Mesa #1","Mesa #2","Mesa #3","Mesa #4","Mesa #5"],this.productos=["","Ensalada peque\xf1a"," Ensalada Grande","Estrella","Banana Split","Fresa Split","Copa cereza","Copa Oreo","Copa queso","Copa Arequipe","Banano Queso","Copa kiwi","helado chocorramo","Helado corazon","Malteada","Milo","Sunday","Michelada de soda","Fresas con chocolate","Maracumango","Brownie con helado","Cholado","Combo Tentacion","Paleta de agua","Paleta mango biche","cono","helado casero","chococono"],this.prices=[700,1e3,1700,2e3,2500,4e3,4200,5e3,5500,5600,6500,7e3,7500,8500,9500,1e4,10500,11e3],this.products=[{nombre:"Ensalada peque\xf1a",precio:6500},{nombre:"Ensalada Grande",precio:1e4},{nombre:"Banana Split",precio:7500},{nombre:"Fresa Split",precio:8500},{nombre:"Copa cereza",precio:8500},{nombre:"Copa Oreo",precio:8500},{nombre:"Copa queso",precio:8500},{nombre:"Copa Arequipe",precio:8500},{nombre:"helado chocorramo",precio:5e3},{nombre:"Helado corazon",precio:6500},{nombre:"malteada",precio:8e3},{nombre:"Fresas con chocolate",precio:8e3},{nombre:"Maracumango",precio:8500},{nombre:"Cholado",precio:4500},{nombre:"Combo Tentacion",precio:11e3},{nombre:"Paleta de agua",precio:700},{nombre:"Paleta mango biche",precio:1200},{nombre:"cono",precio:2e3},{nombre:"helado casero",precio:1500},{nombre:"chococono",precio:2500}],this.flavors=[],this.createProduct=this.fb.group({table:["",Bf.required],product:["",Bf.required],flavor:[""],flavor2:[""],flavor3:[""],price:["",Bf.required],note:["",Bf.maxLength(30)]}),this.id=this.aRouter.snapshot.paramMap.get("id")}ngOnInit(){this.EXeditProducto(),this.obtener()}agregarEditarProducto(){this.subbmited=!0,!this.createProduct.invalid&&(null===this.id?this.agregarProducto():this.editarProducto(this.id))}agregarProducto(){const t={table:this.createProduct.value.table,product:this.createProduct.value.product,flavor:this.createProduct.value.flavor,flavor2:this.createProduct.value.flavor2,flavor3:this.createProduct.value.flavor3,price:this.createProduct.value.price,note:this.createProduct.value.note,fechaCreacion:new Date,fechaActualizacion:new Date};this.loading=!0,this._Servicio.agregarproducto(t).then(()=>{this.toastr.success("Agregado con exito!!","Producto Agregado"),this.loading=!1,this.router.navigate(["/"])}).catch(r=>{console.log(r)})}editarProducto(t){this.loading=!0;const r={table:this.createProduct.value.table,product:this.createProduct.value.product,flavor:this.createProduct.value.flavor,flavor2:this.createProduct.value.flavor2,flavor3:this.createProduct.value.flavor3,price:this.createProduct.value.price,note:this.createProduct.value.note,fechaActualizacion:new Date};this._Servicio.update(t,r).then(()=>{this.loading=!1,this.toastr.info("Producto modificado con exito","Actualizacio Exitosa")}),this.router.navigate(["/"])}EXeditProducto(){null!==this.id&&(this.titleChange="Editar Producto",this.loading=!0,this._Servicio.getProducto(this.id).subscribe(t=>{this.loading=!1,this.createProduct.setValue({table:t.payload.data().table,product:t.payload.data().product,flavor:t.payload.data().flavor,flavor2:t.payload.data().flavor2,flavor3:t.payload.data().flavor3,price:t.payload.data().price,note:t.payload.data().note})}))}obtener(){this._Servicio.obtProductos().subscribe(t=>{this.flavors=[],t.forEach(r=>{this.flavors.push(" "),this.flavors.push(r.payload.doc.data().sabor01,r.payload.doc.data().sabor02,r.payload.doc.data().sabor03,r.payload.doc.data().sabor04,r.payload.doc.data().sabor05,r.payload.doc.data().sabor06,r.payload.doc.data().sabor07,r.payload.doc.data().sabor08,r.payload.doc.data().sabor09,r.payload.doc.data().sabor10,r.payload.doc.data().sabor11,r.payload.doc.data().sabor12)}),this.flavors=this.flavors.filter(r=>Boolean(r))})}onProductSelected(t){const d=t.target.value.match(/^[\d]+:\s*(.*)$/)[1],p=this.products.find(y=>y.nombre===d);console.log(p?.precio),this.selectedProductPrice=p?.precio}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Ww),u.Y36(NC),u.Y36(Tr),u.Y36(kC),u.Y36(Hi))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-create-product"]],decls:46,vars:10,consts:[[1,"add"],[1,""],[1,"card","text-white","bg-secondary","mb-3",2,"max-width","25rem"],[1,"card-header","text-center"],["class","spn spinner-border","role","status",4,"ngIf"],[1,"card-body"],[4,"ngIf"],[1,"mt-4","content-select",3,"formGroup","ngSubmit"],[1,"selector"],["id","table","formControlName","table"],[3,"ngValue",4,"ngFor","ngForOf"],["id","product","formControlName","product",3,"change"],[1,"flavors"],[1,"sabor"],["id","flavor","formControlName","flavor"],["id","flavor2","formControlName","flavor2"],["id","flavor3","formControlName","flavor3"],["type","number","formControlName","price",1,"form-control","mt-2","text-center",3,"ngModel","ngModelChange"],[1,"col"],["type","text","placeholder","Agregar nota","formControlName","note",1,"form-control","mt-2","text-center"],[1,"mt-3","text-center"],["type","text","routerLink","/",1,"btn","btn-secondary","btn-lg","mr-3"],["type","submit",1,"btn","btn-dark","btn-lg"],["role","status",1,"spn","spinner-border"],[1,"visually-hidden"],[3,"ngValue"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",1)(3,"div",2)(4,"h3",3),u._uU(5),u.YNc(6,nL,3,0,"div",4),u.qZA(),u.TgZ(7,"div",5),u.YNc(8,rL,2,0,"span",6),u.TgZ(9,"form",7),u.NdJ("ngSubmit",function(){return r.agregarEditarProducto()}),u.TgZ(10,"div",8)(11,"p"),u._uU(12,"Elegir Mesa"),u.qZA(),u.TgZ(13,"select",9),u.YNc(14,iL,2,2,"option",10),u.qZA(),u.TgZ(15,"p"),u._uU(16,"Elegir Producto"),u.qZA(),u.TgZ(17,"select",11),u.NdJ("change",function(l){return r.onProductSelected(l)}),u.YNc(18,sL,2,2,"option",10),u.qZA()(),u.TgZ(19,"div",12)(20,"div",13)(21,"p"),u._uU(22,"Sabor 1"),u.qZA(),u.TgZ(23,"select",14),u.YNc(24,oL,2,2,"option",10),u.qZA()(),u.TgZ(25,"div",13)(26,"p"),u._uU(27,"Sabor 2"),u.qZA(),u.TgZ(28,"select",15),u.YNc(29,aL,2,2,"option",10),u.qZA()(),u.TgZ(30,"div",13)(31,"p"),u._uU(32,"Sabor 3"),u.qZA(),u.TgZ(33,"select",16),u.YNc(34,lL,2,2,"option",10),u.qZA()()(),u.TgZ(35,"div",8)(36,"p"),u._uU(37,"Precio"),u.qZA(),u.TgZ(38,"input",17),u.NdJ("ngModelChange",function(l){return r.selectedProductPrice=l}),u.qZA()(),u.TgZ(39,"div",18),u._UZ(40,"input",19),u.qZA(),u.TgZ(41,"div",20)(42,"button",21),u._uU(43," Regresar "),u.qZA(),u.TgZ(44,"button",22),u._uU(45,"Aceptar"),u.qZA()()()()()()()()),2&t&&(u.xp6(5),u.hij(" ",r.titleChange," "),u.xp6(1),u.Q6J("ngIf",r.loading),u.xp6(2),u.Q6J("ngIf",r.subbmited&&r.createProduct.invalid),u.xp6(1),u.Q6J("formGroup",r.createProduct),u.xp6(5),u.Q6J("ngForOf",r.mesa),u.xp6(4),u.Q6J("ngForOf",r.products),u.xp6(6),u.Q6J("ngForOf",r.flavors),u.xp6(5),u.Q6J("ngForOf",r.flavors),u.xp6(5),u.Q6J("ngForOf",r.flavors),u.xp6(4),u.Q6J("ngModel",r.selectedProductPrice))},dependencies:[Qi,Mn,ru,pm,J_,Qf,su,Kf,Q_,Gf,zf,Yf,nh],styles:['@charset "UTF-8";.btn[_ngcontent-%COMP%]{margin-right:12px}.spn[_ngcontent-%COMP%]{float:right}.content-select[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{appearance:none;-webkit-appearance:none;-moz-appearance:none}.content-select[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]::-ms-expand{display:none}.content-select[_ngcontent-%COMP%]{max-width:340px}.content-select[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{margin:5px;text-align:center;display:inline-block;width:100%;cursor:pointer;padding:7px 10px;height:42px;outline:0;border:0;background:rgba(240,240,240,.137254902);color:#f8f8f8;font-size:1em;color:#fbf9f9;font-family:Quicksand,sans-serif;border:2px solid rgba(240,240,240,.2);border-radius:12px;position:relative;transition:all .25s ease}.content-select[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:hover{background:#de0d8e}.content-select[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;right:20px;top:calc(50% - 13px);width:16px;height:16px;display:block;border-left:4px solid #f007c9;border-bottom:4px solid #d10feb;transform:rotate(-45deg);transition:all .25s ease}.content-select[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{margin-top:3px}.flavors[_ngcontent-%COMP%]{display:flex;gap:1em}.flavors[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .selector[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;margin-top:12px;margin-bottom:0}.sabor[_ngcontent-%COMP%]{width:33%}.add[_ngcontent-%COMP%]{margin-top:12px;display:flex;justify-content:center;flex-wrap:wrap}']}),n})(),Zt=(()=>{class n{static addClass(t,r){t.classList?t.classList.add(r):t.className+=" "+r}static addMultipleClasses(t,r){if(t.classList){let i=r.trim().split(" ");for(let l=0;l<i.length;l++)t.classList.add(i[l])}else{let i=r.split(" ");for(let l=0;l<i.length;l++)t.className+=" "+i[l]}}static removeClass(t,r){t.classList?t.classList.remove(r):t.className=t.className.replace(new RegExp("(^|\\b)"+r.split(" ").join("|")+"(\\b|$)","gi")," ")}static hasClass(t,r){return t.classList?t.classList.contains(r):new RegExp("(^| )"+r+"( |$)","gi").test(t.className)}static siblings(t){return Array.prototype.filter.call(t.parentNode.children,function(r){return r!==t})}static find(t,r){return Array.from(t.querySelectorAll(r))}static findSingle(t,r){return t?t.querySelector(r):null}static index(t){let r=t.parentNode.childNodes,i=0;for(var l=0;l<r.length;l++){if(r[l]==t)return i;1==r[l].nodeType&&i++}return-1}static indexWithinGroup(t,r){let i=t.parentNode?t.parentNode.childNodes:[],l=0;for(var d=0;d<i.length;d++){if(i[d]==t)return l;i[d].attributes&&i[d].attributes[r]&&1==i[d].nodeType&&l++}return-1}static relativePosition(t,r){let i=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t);const l=r.offsetHeight,d=r.getBoundingClientRect(),p=this.getViewport();let y,w;d.top+l+i.height>p.height?(y=-1*i.height,t.style.transformOrigin="bottom",d.top+y<0&&(y=-1*d.top)):(y=l,t.style.transformOrigin="top"),w=i.width>p.width?-1*d.left:d.left+i.width>p.width?-1*(d.left+i.width-p.width):0,t.style.top=y+"px",t.style.left=w+"px"}static absolutePosition(t,r){let U,q,i=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),l=i.height,d=i.width,p=r.offsetHeight,y=r.offsetWidth,w=r.getBoundingClientRect(),T=this.getWindowScrollTop(),M=this.getWindowScrollLeft(),F=this.getViewport();w.top+p+l>F.height?(U=w.top+T-l,t.style.transformOrigin="bottom",U<0&&(U=T)):(U=p+w.top+T,t.style.transformOrigin="top"),q=w.left+d>F.width?Math.max(0,w.left+M+y-d):w.left+M,t.style.top=U+"px",t.style.left=q+"px"}static getParents(t,r=[]){return null===t.parentNode?r:this.getParents(t.parentNode,r.concat([t.parentNode]))}static getScrollableParents(t){let r=[];if(t){let i=this.getParents(t);const l=/(auto|scroll)/,d=p=>{let y=window.getComputedStyle(p,null);return l.test(y.getPropertyValue("overflow"))||l.test(y.getPropertyValue("overflowX"))||l.test(y.getPropertyValue("overflowY"))};for(let p of i){let y=1===p.nodeType&&p.dataset.scrollselectors;if(y){let w=y.split(",");for(let T of w){let M=this.findSingle(p,T);M&&d(M)&&r.push(M)}}9!==p.nodeType&&d(p)&&r.push(p)}}return r}static getHiddenElementOuterHeight(t){t.style.visibility="hidden",t.style.display="block";let r=t.offsetHeight;return t.style.display="none",t.style.visibility="visible",r}static getHiddenElementOuterWidth(t){t.style.visibility="hidden",t.style.display="block";let r=t.offsetWidth;return t.style.display="none",t.style.visibility="visible",r}static getHiddenElementDimensions(t){let r={};return t.style.visibility="hidden",t.style.display="block",r.width=t.offsetWidth,r.height=t.offsetHeight,t.style.display="none",t.style.visibility="visible",r}static scrollInView(t,r){let i=getComputedStyle(t).getPropertyValue("borderTopWidth"),l=i?parseFloat(i):0,d=getComputedStyle(t).getPropertyValue("paddingTop"),p=d?parseFloat(d):0,y=t.getBoundingClientRect(),T=r.getBoundingClientRect().top+document.body.scrollTop-(y.top+document.body.scrollTop)-l-p,M=t.scrollTop,F=t.clientHeight,U=this.getOuterHeight(r);T<0?t.scrollTop=M+T:T+U>F&&(t.scrollTop=M+T-F+U)}static fadeIn(t,r){t.style.opacity=0;let i=+new Date,l=0,d=function(){l=+t.style.opacity.replace(",",".")+((new Date).getTime()-i)/r,t.style.opacity=l,i=+new Date,+l<1&&(window.requestAnimationFrame&&requestAnimationFrame(d)||setTimeout(d,16))};d()}static fadeOut(t,r){var i=1,p=50/r;let y=setInterval(()=>{(i-=p)<=0&&(i=0,clearInterval(y)),t.style.opacity=i},50)}static getWindowScrollTop(){let t=document.documentElement;return(window.pageYOffset||t.scrollTop)-(t.clientTop||0)}static getWindowScrollLeft(){let t=document.documentElement;return(window.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}static matches(t,r){var i=Element.prototype;return(i.matches||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||function(d){return-1!==[].indexOf.call(document.querySelectorAll(d),this)}).call(t,r)}static getOuterWidth(t,r){let i=t.offsetWidth;if(r){let l=getComputedStyle(t);i+=parseFloat(l.marginLeft)+parseFloat(l.marginRight)}return i}static getHorizontalPadding(t){let r=getComputedStyle(t);return parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)}static getHorizontalMargin(t){let r=getComputedStyle(t);return parseFloat(r.marginLeft)+parseFloat(r.marginRight)}static innerWidth(t){let r=t.offsetWidth,i=getComputedStyle(t);return r+=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight),r}static width(t){let r=t.offsetWidth,i=getComputedStyle(t);return r-=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight),r}static getInnerHeight(t){let r=t.offsetHeight,i=getComputedStyle(t);return r+=parseFloat(i.paddingTop)+parseFloat(i.paddingBottom),r}static getOuterHeight(t,r){let i=t.offsetHeight;if(r){let l=getComputedStyle(t);i+=parseFloat(l.marginTop)+parseFloat(l.marginBottom)}return i}static getHeight(t){let r=t.offsetHeight,i=getComputedStyle(t);return r-=parseFloat(i.paddingTop)+parseFloat(i.paddingBottom)+parseFloat(i.borderTopWidth)+parseFloat(i.borderBottomWidth),r}static getWidth(t){let r=t.offsetWidth,i=getComputedStyle(t);return r-=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)+parseFloat(i.borderLeftWidth)+parseFloat(i.borderRightWidth),r}static getViewport(){let t=window,r=document,i=r.documentElement,l=r.getElementsByTagName("body")[0];return{width:t.innerWidth||i.clientWidth||l.clientWidth,height:t.innerHeight||i.clientHeight||l.clientHeight}}static getOffset(t){var r=t.getBoundingClientRect();return{top:r.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:r.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(t,r){let i=t.parentNode;if(!i)throw"Can't replace element";return i.replaceChild(r,t)}static getUserAgent(){return navigator.userAgent}static isIE(){var t=window.navigator.userAgent;return t.indexOf("MSIE ")>0||(t.indexOf("Trident/")>0?(t.indexOf("rv:"),!0):t.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}static appendChild(t,r){if(this.isElement(r))r.appendChild(t);else{if(!r.el||!r.el.nativeElement)throw"Cannot append "+r+" to "+t;r.el.nativeElement.appendChild(t)}}static removeChild(t,r){if(this.isElement(r))r.removeChild(t);else{if(!r.el||!r.el.nativeElement)throw"Cannot remove "+t+" from "+r;r.el.nativeElement.removeChild(t)}}static removeElement(t){"remove"in Element.prototype?t.remove():t.parentNode.removeChild(t)}static isElement(t){return"object"==typeof HTMLElement?t instanceof HTMLElement:t&&"object"==typeof t&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName}static calculateScrollbarWidth(t){if(t){let r=getComputedStyle(t);return t.offsetWidth-t.clientWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let r=document.createElement("div");r.className="p-scrollbar-measure",document.body.appendChild(r);let i=r.offsetWidth-r.clientWidth;return document.body.removeChild(r),this.calculatedScrollbarWidth=i,i}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let t=document.createElement("div");t.className="p-scrollbar-measure",document.body.appendChild(t);let r=t.offsetHeight-t.clientHeight;return document.body.removeChild(t),this.calculatedScrollbarWidth=r,r}static invokeElementMethod(t,r,i){t[r].apply(t,i)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let t=this.resolveUserAgent();this.browser={},t.browser&&(this.browser[t.browser]=!0,this.browser.version=t.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let t=navigator.userAgent.toLowerCase(),r=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:r[1]||"",version:r[2]||"0"}}static isInteger(t){return Number.isInteger?Number.isInteger(t):"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}static isHidden(t){return null===t.offsetParent}static getFocusableElements(t){let r=n.find(t,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'),i=[];for(let l of r)"none"!=getComputedStyle(l).display&&"hidden"!=getComputedStyle(l).visibility&&i.push(l);return i}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}}return n.zindex=1e3,n.calculatedScrollbarWidth=null,n.calculatedScrollbarHeight=null,n})();const XP=["*"];let Zi=(()=>{class n{}return n.STARTS_WITH="startsWith",n.CONTAINS="contains",n.NOT_CONTAINS="notContains",n.ENDS_WITH="endsWith",n.EQUALS="equals",n.NOT_EQUALS="notEquals",n.IN="in",n.LESS_THAN="lt",n.LESS_THAN_OR_EQUAL_TO="lte",n.GREATER_THAN="gt",n.GREATER_THAN_OR_EQUAL_TO="gte",n.BETWEEN="between",n.IS="is",n.IS_NOT="isNot",n.BEFORE="before",n.AFTER="after",n.DATE_IS="dateIs",n.DATE_IS_NOT="dateIsNot",n.DATE_BEFORE="dateBefore",n.DATE_AFTER="dateAfter",n})(),eO=(()=>{class n{constructor(){this.ripple=!1,this.filterMatchModeOptions={text:[Zi.STARTS_WITH,Zi.CONTAINS,Zi.NOT_CONTAINS,Zi.ENDS_WITH,Zi.EQUALS,Zi.NOT_EQUALS],numeric:[Zi.EQUALS,Zi.NOT_EQUALS,Zi.LESS_THAN,Zi.LESS_THAN_OR_EQUAL_TO,Zi.GREATER_THAN,Zi.GREATER_THAN_OR_EQUAL_TO],date:[Zi.DATE_IS,Zi.DATE_IS_NOT,Zi.DATE_BEFORE,Zi.DATE_AFTER]},this.translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateFormat:"mm/dd/yy",today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",emptyFilterMessage:"No results found"},this.zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100},this.translationSource=new un.x,this.translationObserver=this.translationSource.asObservable()}getTranslation(t){return this.translation[t]}setTranslation(t){this.translation=Object.assign(Object.assign({},this.translation),t),this.translationSource.next(this.translation)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),uL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["p-header"]],ngContentSelectors:XP,decls:1,vars:0,template:function(t,r){1&t&&(u.F$t(),u.Hsn(0))},encapsulation:2}),n})(),cL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["p-footer"]],ngContentSelectors:XP,decls:1,vars:0,template:function(t,r){1&t&&(u.F$t(),u.Hsn(0))},encapsulation:2}),n})(),dL=(()=>{class n{constructor(t){this.template=t}getType(){return this.name}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}}),n})(),hL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Vi]]}),n})(),fL=(()=>{class n{constructor(t){this.el=t}onkeydown(t){if(!0!==this.pFocusTrapDisabled){t.preventDefault();let r=Zt.getFocusableElements(this.el.nativeElement);if(r&&r.length>0)if(r[0].ownerDocument.activeElement){let i=r.indexOf(r[0].ownerDocument.activeElement);t.shiftKey?-1==i||0===i?r[r.length-1].focus():r[i-1].focus():-1==i||i===r.length-1?r[0].focus():r[i+1].focus()}else r[0].focus()}}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["","pFocusTrap",""]],hostAttrs:[1,"p-element"],hostBindings:function(t,r){1&t&&u.NdJ("keydown.tab",function(l){return r.onkeydown(l)})("keydown.shift.tab",function(l){return r.onkeydown(l)})},inputs:{pFocusTrapDisabled:"pFocusTrapDisabled"}}),n})(),pL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Vi]]}),n})(),gL=(()=>{class n{constructor(t,r,i){this.el=t,this.zone=r,this.config=i}ngAfterViewInit(){this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.onMouseDown.bind(this),this.el.nativeElement.addEventListener("mousedown",this.mouseDownListener)})}onMouseDown(t){let r=this.getInk();if(!r||"none"===getComputedStyle(r,null).display)return;if(Zt.removeClass(r,"p-ink-active"),!Zt.getHeight(r)&&!Zt.getWidth(r)){let p=Math.max(Zt.getOuterWidth(this.el.nativeElement),Zt.getOuterHeight(this.el.nativeElement));r.style.height=p+"px",r.style.width=p+"px"}let i=Zt.getOffset(this.el.nativeElement),l=t.pageX-i.left+document.body.scrollTop-Zt.getWidth(r)/2,d=t.pageY-i.top+document.body.scrollLeft-Zt.getHeight(r)/2;r.style.top=d+"px",r.style.left=l+"px",Zt.addClass(r,"p-ink-active")}getInk(){for(let t=0;t<this.el.nativeElement.children.length;t++)if(-1!==this.el.nativeElement.children[t].className.indexOf("p-ink"))return this.el.nativeElement.children[t];return null}resetInk(){let t=this.getInk();t&&Zt.removeClass(t,"p-ink-active")}onAnimationEnd(t){Zt.removeClass(t.currentTarget,"p-ink-active")}create(){let t=document.createElement("span");t.className="p-ink",this.el.nativeElement.appendChild(t),this.animationListener=this.onAnimationEnd.bind(this),t.addEventListener("animationend",this.animationListener)}remove(){let t=this.getInk();t&&(this.el.nativeElement.removeEventListener("mousedown",this.mouseDownListener),t.removeEventListener("animationend",this.animationListener),Zt.removeElement(t))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.R0b),u.Y36(eO,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"]}),n})(),mL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Vi]]}),n})();var tO=0,nO=function _L(){let n=[];const i=l=>l&&parseInt(l.style.zIndex,10)||0;return{get:i,set:(l,d,p)=>{d&&(d.style.zIndex=String(((l,d)=>{let p=n.length>0?n[n.length-1]:{key:l,value:d},y=p.value+(p.key===l?0:d)+1;return n.push({key:l,value:y}),y})(l,p)))},clear:l=>{l&&((l=>{n=n.filter(d=>d.value!==l)})(i(l)),l.style.zIndex="")},getCurrent:()=>n.length>0?n[n.length-1].value:0}}();const vL=["titlebar"],EL=["content"],wL=["footer"];function bL(n,e){if(1&n&&(u.TgZ(0,"span",17),u._uU(1),u.qZA()),2&n){const t=u.oxw(4);u.uIk("id",t.id+"-label"),u.xp6(1),u.Oqu(t.header)}}function IL(n,e){if(1&n&&(u.TgZ(0,"span",17),u.Hsn(1,1),u.qZA()),2&n){const t=u.oxw(4);u.uIk("id",t.id+"-label")}}function CL(n,e){1&n&&u.GkF(0)}const DL=function(){return{"p-dialog-header-icon p-dialog-header-maximize p-link":!0}};function TL(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",18),u.NdJ("click",function(){u.CHM(t);const i=u.oxw(4);return u.KtG(i.maximize())})("keydown.enter",function(){u.CHM(t);const i=u.oxw(4);return u.KtG(i.maximize())}),u._UZ(1,"span",19),u.qZA()}if(2&n){const t=u.oxw(4);u.Q6J("ngClass",u.DdM(2,DL)),u.xp6(1),u.Q6J("ngClass",t.maximized?t.minimizeIcon:t.maximizeIcon)}}const SL=function(){return{"p-dialog-header-icon p-dialog-header-close p-link":!0}};function AL(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",20),u.NdJ("click",function(i){u.CHM(t);const l=u.oxw(4);return u.KtG(l.close(i))})("keydown.enter",function(i){u.CHM(t);const l=u.oxw(4);return u.KtG(l.close(i))}),u._UZ(1,"span",21),u.qZA()}if(2&n){const t=u.oxw(4);u.Q6J("ngClass",u.DdM(4,SL)),u.uIk("aria-label",t.closeAriaLabel)("tabindex",t.closeTabindex),u.xp6(1),u.Q6J("ngClass",t.closeIcon)}}function ML(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",11,12),u.NdJ("mousedown",function(i){u.CHM(t);const l=u.oxw(3);return u.KtG(l.initDrag(i))}),u.YNc(2,bL,2,2,"span",13),u.YNc(3,IL,2,1,"span",13),u.YNc(4,CL,1,0,"ng-container",8),u.TgZ(5,"div",14),u.YNc(6,TL,2,3,"button",15),u.YNc(7,AL,2,5,"button",16),u.qZA()()}if(2&n){const t=u.oxw(3);u.xp6(2),u.Q6J("ngIf",!t.headerFacet&&!t.headerTemplate),u.xp6(1),u.Q6J("ngIf",t.headerFacet),u.xp6(1),u.Q6J("ngTemplateOutlet",t.headerTemplate),u.xp6(2),u.Q6J("ngIf",t.maximizable),u.xp6(1),u.Q6J("ngIf",t.closable)}}function xL(n,e){1&n&&u.GkF(0)}function NL(n,e){1&n&&u.GkF(0)}function PL(n,e){if(1&n&&(u.TgZ(0,"div",22,23),u.Hsn(2,2),u.YNc(3,NL,1,0,"ng-container",8),u.qZA()),2&n){const t=u.oxw(3);u.xp6(3),u.Q6J("ngTemplateOutlet",t.footerTemplate)}}function OL(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",24),u.NdJ("mousedown",function(i){u.CHM(t);const l=u.oxw(3);return u.KtG(l.initResize(i))}),u.qZA()}}const RL=function(n,e,t,r){return{"p-dialog p-component":!0,"p-dialog-rtl":n,"p-dialog-draggable":e,"p-dialog-resizable":t,"p-dialog-maximized":r}},kL=function(n,e){return{transform:n,transition:e}},FL=function(n){return{value:"visible",params:n}};function LL(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",3,4),u.NdJ("@animation.start",function(i){u.CHM(t);const l=u.oxw(2);return u.KtG(l.onAnimationStart(i))})("@animation.done",function(i){u.CHM(t);const l=u.oxw(2);return u.KtG(l.onAnimationEnd(i))}),u.YNc(2,ML,8,5,"div",5),u.TgZ(3,"div",6,7),u.Hsn(5),u.YNc(6,xL,1,0,"ng-container",8),u.qZA(),u.YNc(7,PL,4,1,"div",9),u.YNc(8,OL,1,0,"div",10),u.qZA()}if(2&n){const t=u.oxw(2);u.Tol(t.styleClass),u.Q6J("ngClass",u.l5B(15,RL,t.rtl,t.draggable,t.resizable,t.maximized))("ngStyle",t.style)("pFocusTrapDisabled",!1===t.focusTrap)("@animation",u.VKq(23,FL,u.WLB(20,kL,t.transformOptions,t.transitionOptions))),u.uIk("aria-labelledby",t.id+"-label"),u.xp6(2),u.Q6J("ngIf",t.showHeader),u.xp6(1),u.Tol(t.contentStyleClass),u.Q6J("ngClass","p-dialog-content")("ngStyle",t.contentStyle),u.xp6(3),u.Q6J("ngTemplateOutlet",t.contentTemplate),u.xp6(1),u.Q6J("ngIf",t.footerFacet||t.footerTemplate),u.xp6(1),u.Q6J("ngIf",t.resizable)}}const VL=function(n,e,t,r,i,l,d,p,y,w){return{"p-dialog-mask":!0,"p-component-overlay p-component-overlay-enter":n,"p-dialog-mask-scrollblocker":e,"p-dialog-left":t,"p-dialog-right":r,"p-dialog-top":i,"p-dialog-top-left":l,"p-dialog-top-right":d,"p-dialog-bottom":p,"p-dialog-bottom-left":y,"p-dialog-bottom-right":w}};function UL(n,e){if(1&n&&(u.TgZ(0,"div",1),u.YNc(1,LL,9,25,"div",2),u.qZA()),2&n){const t=u.oxw();u.Tol(t.maskStyleClass),u.Q6J("ngClass",u.rFY(4,VL,[t.modal,t.modal||t.blockScroll,"left"===t.position,"right"===t.position,"top"===t.position,"topleft"===t.position||"top-left"===t.position,"topright"===t.position||"top-right"===t.position,"bottom"===t.position,"bottomleft"===t.position||"bottom-left"===t.position,"bottomright"===t.position||"bottom-right"===t.position])),u.xp6(1),u.Q6J("ngIf",t.visible)}}const BL=["*",[["p-header"]],[["p-footer"]]],jL=["*","p-header","p-footer"],HL=zP([eg({transform:"{{transform}}",opacity:0}),PC("{{transition}}")]),$L=zP([PC("{{transition}}",eg({transform:"{{transform}}",opacity:0}))]);let GL=(()=>{class n{constructor(t,r,i,l,d){this.el=t,this.renderer=r,this.zone=i,this.cd=l,this.config=d,this.draggable=!0,this.resizable=!0,this.closeOnEscape=!0,this.closable=!0,this.showHeader=!0,this.blockScroll=!1,this.autoZIndex=!0,this.baseZIndex=0,this.minX=0,this.minY=0,this.focusOnShow=!0,this.keepInViewport=!0,this.focusTrap=!0,this.transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)",this.closeIcon="pi pi-times",this.closeTabindex="-1",this.minimizeIcon="pi pi-window-minimize",this.maximizeIcon="pi pi-window-maximize",this.onShow=new u.vpe,this.onHide=new u.vpe,this.visibleChange=new u.vpe,this.onResizeInit=new u.vpe,this.onResizeEnd=new u.vpe,this.onDragEnd=new u.vpe,this.onMaximize=new u.vpe,this.id=function yL(){return"pr_id_"+ ++tO}(),this._style={},this._position="center",this.transformOptions="scale(0.7)"}get positionLeft(){return 0}set positionLeft(t){console.log("positionLeft property is deprecated.")}get positionTop(){return 0}set positionTop(t){console.log("positionTop property is deprecated.")}get responsive(){return!1}set responsive(t){console.log("Responsive property is deprecated.")}get breakpoint(){return 649}set breakpoint(t){console.log("Breakpoint property is not utilized and deprecated, use breakpoints or CSS media queries instead.")}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"header":this.headerTemplate=t.template;break;case"content":default:this.contentTemplate=t.template;break;case"footer":this.footerTemplate=t.template}})}ngOnInit(){this.breakpoints&&this.createStyle()}get visible(){return this._visible}set visible(t){this._visible=t,this._visible&&!this.maskVisible&&(this.maskVisible=!0)}get style(){return this._style}set style(t){t&&(this._style=Object.assign({},t),this.originalStyle=t)}get position(){return this._position}set position(t){switch(this._position=t,t){case"topleft":case"bottomleft":case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"topright":case"bottomright":case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break;default:this.transformOptions="scale(0.7)"}}focus(){let t=Zt.findSingle(this.container,"[autofocus]");t&&this.zone.runOutsideAngular(()=>{setTimeout(()=>t.focus(),5)})}close(t){this.visibleChange.emit(!1),t.preventDefault()}enableModality(){this.closable&&this.dismissableMask&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",t=>{this.wrapper&&this.wrapper.isSameNode(t.target)&&this.close(t)})),this.modal&&Zt.addClass(document.body,"p-overflow-hidden")}disableModality(){this.wrapper&&(this.dismissableMask&&this.unbindMaskClickListener(),this.modal&&Zt.removeClass(document.body,"p-overflow-hidden"),this.cd.destroyed||this.cd.detectChanges())}maximize(){this.maximized=!this.maximized,!this.modal&&!this.blockScroll&&(this.maximized?Zt.addClass(document.body,"p-overflow-hidden"):Zt.removeClass(document.body,"p-overflow-hidden")),this.onMaximize.emit({maximized:this.maximized})}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}moveOnTop(){this.autoZIndex&&(nO.set("modal",this.container,this.baseZIndex+this.config.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1))}createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let t="";for(let r in this.breakpoints)t+=`\n                    @media screen and (max-width: ${r}) {\n                        .p-dialog[${this.id}] {\n                            width: ${this.breakpoints[r]} !important;\n                        }\n                    }\n                `;this.styleElement.innerHTML=t}}initDrag(t){Zt.hasClass(t.target,"p-dialog-header-icon")||Zt.hasClass(t.target.parentElement,"p-dialog-header-icon")||this.draggable&&(this.dragging=!0,this.lastPageX=t.pageX,this.lastPageY=t.pageY,this.container.style.margin="0",Zt.addClass(document.body,"p-unselectable-text"))}onKeydown(t){if(this.focusTrap&&9===t.which){t.preventDefault();let r=Zt.getFocusableElements(this.container);if(r&&r.length>0)if(r[0].ownerDocument.activeElement){let i=r.indexOf(r[0].ownerDocument.activeElement);t.shiftKey?-1==i||0===i?r[r.length-1].focus():r[i-1].focus():-1==i||i===r.length-1?r[0].focus():r[i+1].focus()}else r[0].focus()}}onDrag(t){if(this.dragging){let r=Zt.getOuterWidth(this.container),i=Zt.getOuterHeight(this.container),l=t.pageX-this.lastPageX,d=t.pageY-this.lastPageY,p=Zt.getOffset(this.container),y=p.left+l,w=p.top+d,T=Zt.getViewport();this.container.style.position="fixed",this.keepInViewport?(y>=this.minX&&y+r<T.width&&(this._style.left=y+"px",this.lastPageX=t.pageX,this.container.style.left=y+"px"),w>=this.minY&&w+i<T.height&&(this._style.top=w+"px",this.lastPageY=t.pageY,this.container.style.top=w+"px")):(this.lastPageX=t.pageX,this.container.style.left=y+"px",this.lastPageY=t.pageY,this.container.style.top=w+"px")}}endDrag(t){this.dragging&&(this.dragging=!1,Zt.removeClass(document.body,"p-unselectable-text"),this.cd.detectChanges(),this.onDragEnd.emit(t))}resetPosition(){this.container.style.position="",this.container.style.left="",this.container.style.top="",this.container.style.margin=""}center(){this.resetPosition()}initResize(t){this.resizable&&(this.resizing=!0,this.lastPageX=t.pageX,this.lastPageY=t.pageY,Zt.addClass(document.body,"p-unselectable-text"),this.onResizeInit.emit(t))}onResize(t){if(this.resizing){let r=t.pageX-this.lastPageX,i=t.pageY-this.lastPageY,l=Zt.getOuterWidth(this.container),d=Zt.getOuterHeight(this.container),p=Zt.getOuterHeight(this.contentViewChild.nativeElement),y=l+r,w=d+i,T=this.container.style.minWidth,M=this.container.style.minHeight,F=Zt.getOffset(this.container),U=Zt.getViewport();(!parseInt(this.container.style.top)||!parseInt(this.container.style.left))&&(y+=r,w+=i),(!T||y>parseInt(T))&&F.left+y<U.width&&(this._style.width=y+"px",this.container.style.width=this._style.width),(!M||w>parseInt(M))&&F.top+w<U.height&&(this.contentViewChild.nativeElement.style.height=p+w-d+"px",this._style.height&&(this._style.height=w+"px",this.container.style.height=this._style.height)),this.lastPageX=t.pageX,this.lastPageY=t.pageY}}resizeEnd(t){this.resizing&&(this.resizing=!1,Zt.removeClass(document.body,"p-unselectable-text"),this.onResizeEnd.emit(t))}bindGlobalListeners(){this.draggable&&(this.bindDocumentDragListener(),this.bindDocumentDragEndListener()),this.resizable&&this.bindDocumentResizeListeners(),this.closeOnEscape&&this.closable&&this.bindDocumentEscapeListener()}unbindGlobalListeners(){this.unbindDocumentDragListener(),this.unbindDocumentDragEndListener(),this.unbindDocumentResizeListeners(),this.unbindDocumentEscapeListener()}bindDocumentDragListener(){this.zone.runOutsideAngular(()=>{this.documentDragListener=this.onDrag.bind(this),window.document.addEventListener("mousemove",this.documentDragListener)})}unbindDocumentDragListener(){this.documentDragListener&&(window.document.removeEventListener("mousemove",this.documentDragListener),this.documentDragListener=null)}bindDocumentDragEndListener(){this.zone.runOutsideAngular(()=>{this.documentDragEndListener=this.endDrag.bind(this),window.document.addEventListener("mouseup",this.documentDragEndListener)})}unbindDocumentDragEndListener(){this.documentDragEndListener&&(window.document.removeEventListener("mouseup",this.documentDragEndListener),this.documentDragEndListener=null)}bindDocumentResizeListeners(){this.zone.runOutsideAngular(()=>{this.documentResizeListener=this.onResize.bind(this),this.documentResizeEndListener=this.resizeEnd.bind(this),window.document.addEventListener("mousemove",this.documentResizeListener),window.document.addEventListener("mouseup",this.documentResizeEndListener)})}unbindDocumentResizeListeners(){this.documentResizeListener&&this.documentResizeEndListener&&(window.document.removeEventListener("mousemove",this.documentResizeListener),window.document.removeEventListener("mouseup",this.documentResizeEndListener),this.documentResizeListener=null,this.documentResizeEndListener=null)}bindDocumentEscapeListener(){this.documentEscapeListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","keydown",r=>{27==r.which&&this.close(r)})}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.wrapper):Zt.appendChild(this.wrapper,this.appendTo))}restoreAppend(){this.container&&this.appendTo&&this.el.nativeElement.appendChild(this.wrapper)}onAnimationStart(t){switch(t.toState){case"visible":this.container=t.element,this.wrapper=this.container.parentElement,this.appendContainer(),this.moveOnTop(),this.bindGlobalListeners(),this.container.setAttribute(this.id,""),this.modal&&this.enableModality(),!this.modal&&this.blockScroll&&Zt.addClass(document.body,"p-overflow-hidden"),this.focusOnShow&&this.focus();break;case"void":this.modal&&Zt.addClass(this.wrapper,"p-component-overlay-leave")}}onAnimationEnd(t){switch(t.toState){case"void":this.onContainerDestroy(),this.onHide.emit({});break;case"visible":this.onShow.emit({})}}onContainerDestroy(){this.unbindGlobalListeners(),this.dragging=!1,this.maskVisible=!1,this.maximized&&(Zt.removeClass(document.body,"p-overflow-hidden"),this.maximized=!1),this.modal&&this.disableModality(),this.blockScroll&&Zt.removeClass(document.body,"p-overflow-hidden"),this.container&&this.autoZIndex&&nO.clear(this.container),this.container=null,this.wrapper=null,this._style=this.originalStyle?Object.assign({},this.originalStyle):{}}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.container&&(this.restoreAppend(),this.onContainerDestroy()),this.destroyStyle()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(u.R0b),u.Y36(u.sBO),u.Y36(eO))},n.\u0275cmp=u.Xpm({type:n,selectors:[["p-dialog"]],contentQueries:function(t,r,i){if(1&t&&(u.Suo(i,uL,5),u.Suo(i,cL,5),u.Suo(i,dL,4)),2&t){let l;u.iGM(l=u.CRH())&&(r.headerFacet=l.first),u.iGM(l=u.CRH())&&(r.footerFacet=l.first),u.iGM(l=u.CRH())&&(r.templates=l)}},viewQuery:function(t,r){if(1&t&&(u.Gf(vL,5),u.Gf(EL,5),u.Gf(wL,5)),2&t){let i;u.iGM(i=u.CRH())&&(r.headerViewChild=i.first),u.iGM(i=u.CRH())&&(r.contentViewChild=i.first),u.iGM(i=u.CRH())&&(r.footerViewChild=i.first)}},hostAttrs:[1,"p-element"],inputs:{header:"header",draggable:"draggable",resizable:"resizable",positionLeft:"positionLeft",positionTop:"positionTop",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",modal:"modal",closeOnEscape:"closeOnEscape",dismissableMask:"dismissableMask",rtl:"rtl",closable:"closable",responsive:"responsive",appendTo:"appendTo",breakpoints:"breakpoints",styleClass:"styleClass",maskStyleClass:"maskStyleClass",showHeader:"showHeader",breakpoint:"breakpoint",blockScroll:"blockScroll",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",minX:"minX",minY:"minY",focusOnShow:"focusOnShow",maximizable:"maximizable",keepInViewport:"keepInViewport",focusTrap:"focusTrap",transitionOptions:"transitionOptions",closeIcon:"closeIcon",closeAriaLabel:"closeAriaLabel",closeTabindex:"closeTabindex",minimizeIcon:"minimizeIcon",maximizeIcon:"maximizeIcon",visible:"visible",style:"style",position:"position"},outputs:{onShow:"onShow",onHide:"onHide",visibleChange:"visibleChange",onResizeInit:"onResizeInit",onResizeEnd:"onResizeEnd",onDragEnd:"onDragEnd",onMaximize:"onMaximize"},ngContentSelectors:jL,decls:1,vars:1,consts:[[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","class","pFocusTrapDisabled",4,"ngIf"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","pFocusTrapDisabled"],["container",""],["class","p-dialog-header",3,"mousedown",4,"ngIf"],[3,"ngClass","ngStyle"],["content",""],[4,"ngTemplateOutlet"],["class","p-dialog-footer",4,"ngIf"],["class","p-resizable-handle","style","z-index: 90;",3,"mousedown",4,"ngIf"],[1,"p-dialog-header",3,"mousedown"],["titlebar",""],["class","p-dialog-title",4,"ngIf"],[1,"p-dialog-header-icons"],["type","button","tabindex","-1","pRipple","",3,"ngClass","click","keydown.enter",4,"ngIf"],["type","button","pRipple","",3,"ngClass","click","keydown.enter",4,"ngIf"],[1,"p-dialog-title"],["type","button","tabindex","-1","pRipple","",3,"ngClass","click","keydown.enter"],[1,"p-dialog-header-maximize-icon",3,"ngClass"],["type","button","pRipple","",3,"ngClass","click","keydown.enter"],[1,"p-dialog-header-close-icon",3,"ngClass"],[1,"p-dialog-footer"],["footer",""],[1,"p-resizable-handle",2,"z-index","90",3,"mousedown"]],template:function(t,r){1&t&&(u.F$t(BL),u.YNc(0,UL,2,15,"div",0)),2&t&&u.Q6J("ngIf",r.maskVisible)},dependencies:[Mn,fn,fL,Xc,dl,gL],styles:[".p-dialog-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none}.p-dialog,.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;max-height:90%;transform:scale(1);position:relative}.p-dialog-content{overflow-y:auto;flex-grow:1}.p-dialog-header{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{display:flex;align-items:center}.p-dialog .p-dialog-header-icon{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-top .p-dialog{margin:.75rem;transform:translateZ(0)}.p-dialog-maximized{transition:none;transform:none;width:100vw!important;height:100vh!important;top:0!important;left:0!important;max-height:100%;height:100%}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top,.p-dialog-top-left{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start}.p-dialog-top-right{justify-content:flex-end;align-items:flex-start}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{justify-content:flex-start;align-items:flex-end}.p-dialog-bottom-right{justify-content:flex-end;align-items:flex-end}.p-dialog .p-resizable-handle{position:absolute;font-size:.1px;display:block;cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.p-confirm-dialog .p-dialog-content{display:flex;align-items:center}"],encapsulation:2,data:{animation:[$P("animation",[OC("void => visible",[qP(HL)]),OC("visible => void",[qP($L)])])]},changeDetection:0}),n})(),zL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Vi,pL,mL],hL]}),n})();function qL(n,e){1&n&&(u.TgZ(0,"h5",22),u._uU(1," No hay productos agregados "),u.qZA())}const WL=function(n){return["/edit-product/",n]};function ZL(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"tr",26)(1,"td",27),u._uU(2),u.qZA(),u.TgZ(3,"td",28),u._uU(4),u.qZA(),u.TgZ(5,"td",29),u._uU(6),u._UZ(7,"br"),u._uU(8),u._UZ(9,"br"),u._uU(10),u.qZA(),u.TgZ(11,"td",30),u._uU(12),u.ALo(13,"currency"),u.qZA(),u.TgZ(14,"td",31),u._uU(15),u.qZA(),u.TgZ(16,"td",32),u._UZ(17,"i",33),u.TgZ(18,"i",34),u.NdJ("click",function(){const l=u.CHM(t).$implicit,d=u.oxw(2);return u.KtG(d.eliminarProducto(l.id))}),u.qZA()()()}if(2&n){const t=e.$implicit;u.xp6(2),u.Oqu(t.table),u.xp6(2),u.Oqu(t.product),u.xp6(2),u.hij(" ",t.flavor,""),u.xp6(2),u.Oqu(t.flavor2),u.xp6(2),u.hij("",t.flavor3," "),u.xp6(2),u.hij(" $",u.gM2(13,8,t.price," ","symbol","3.0")," "),u.xp6(3),u.Oqu(t.note),u.xp6(2),u.Q6J("routerLink",u.VKq(13,WL,t.id))}}function KL(n,e){if(1&n&&(u.TgZ(0,"table",23)(1,"thead")(2,"th",24),u._uU(3,"Mesa"),u.qZA(),u.TgZ(4,"th",24),u._uU(5,"Producto"),u.qZA(),u.TgZ(6,"th",24),u._uU(7,"Sabor(es)"),u.qZA(),u.TgZ(8,"th",24),u._uU(9,"Precio"),u.qZA(),u.TgZ(10,"th",24),u._uU(11,"Nota"),u.qZA(),u._UZ(12,"th",24),u.qZA(),u.TgZ(13,"tbody"),u.YNc(14,ZL,19,15,"tr",25),u.qZA()()),2&n){const t=u.oxw();u.xp6(14),u.Q6J("ngForOf",t.productos)}}const rO=function(){return{width:"50%"}};let YL=(()=>{class n{constructor(t,r){this._services=t,this.toastr=r,this.productos=[],this.sumas=[],this.total=0,this.all=[],this.displayModal=!1,this.displayModal2=!1,this.resultado=0}ngOnInit(){this.getProducts()}getProducts(){this._services.getProducts().subscribe(t=>{0===t.length?(this.buttonDisabled=!0,this.total=0):this.buttonDisabled=!1,this.productos=[],t.forEach(r=>{this.productos.push({id:r.payload.doc.id,...r.payload.doc.data()});const i=this.productos.reduce((l,d)=>l+d.price,0);this.total=i})})}eliminarProducto(t){this._services.deleteProducts(t).then(()=>{this.toastr.error("El producto fue eliminado con exito","Producto eliminado"),this.valorRestado=null,this.resultado=0,console.log("deleted...")}).catch(r=>{console.log(r)})}borrarTodo(){this._services.deleteAllProducts(),this.displayModal2=!1,this.total=0,this.valorRestado=null,this.resultado=0}showDialog(){this.displayModal=!0}showDialog2(){this.displayModal2=!0}onDialogHide(){this.displayModal=!1,this.displayModal2=!1}restarValor(){this.resultado=this.valorRestado>=this.total?Math.abs(this.total-this.valorRestado):0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(NC),u.Y36(kC))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-list-products"]],decls:45,vars:37,consts:[[1,"contenedor","mt-4"],[1,"card"],[1,"prod"],[1,"h5"],[1,"float"],["routerLink","/create-product",1,"btn","btn-dark","btn-lg"],["class","mt-5",4,"ngIf"],[1,"options"],[1,"total"],[1,"btn","btn-success",2,"background-color","green","padding","5px 19px","margin-bottom","12px",3,"disabled","click"],["header","Detalles del pago:",1,"modificar-modal",3,"visible","modal","responsive","dismissableMask","visibleChange"],[2,"margin","6px"],["type","number",3,"ngModel","ngModelChange"],[1,"botones"],[1,"btn","btn-success",2,"background-color","rgb(222, 73, 96)","padding","1px 6px","margin-bottom","12px",3,"click"],[1,"btn","btn-success",2,"background-color","rgb(31, 21, 239)","padding","5px 10px","margin-bottom","12px"],[2,"text-align","center"],[1,"btn","btn-danger",2,"background-color","red","padding","5px 19px",3,"disabled","click"],["header","\xbfEstas seguro?",1,"modificar-modal","mover",3,"visible","modal","responsive","dismissableMask","visibleChange"],[1,"btn","btn-success",2,"background-color","rgb(209, 149, 19)","padding","3px","margin-top","11px","margin-bottom","30px",3,"click"],[1,"btn","btn-success",2,"background-color","rgb(140, 31, 63)","padding","3px","margin-top","11px","margin-bottom","30px",3,"click"],["class","table",4,"ngIf"],[1,"mt-5"],[1,"table"],[1,"th"],["class","tr",4,"ngFor","ngForOf"],[1,"tr"],["data-label","Mesa:",1,"td"],["data-label","Producto:",1,"td"],["data-label","Sabor(es):",1,"td"],["data-label","Precio:",1,"td"],["data-label","Agregar Nota:",1,"td"],[2,"padding-left","173px","border-bottom","1px solid"],[1,"fas","fa-edit","fa-lg","text-info",3,"routerLink"],[1,"fas","fa-trash-alt","fa-lg","text-danger","mt-2",3,"click"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),u._uU(4,"LISTA DE PRODUCTOS"),u.qZA(),u.TgZ(5,"div",4)(6,"button",5),u._uU(7," Agregar "),u.qZA()(),u._UZ(8,"br"),u.YNc(9,qL,2,0,"h5",6),u.TgZ(10,"div",7)(11,"div",8)(12,"span"),u._uU(13),u.ALo(14,"currency"),u.qZA()(),u.TgZ(15,"div")(16,"button",9),u.NdJ("click",function(){return r.showDialog()}),u._uU(17," Pagar "),u.qZA(),u.TgZ(18,"p-dialog",10),u.NdJ("visibleChange",function(l){return r.displayModal=l}),u.TgZ(19,"span"),u._uU(20),u.ALo(21,"currency"),u.qZA(),u.TgZ(22,"p"),u._uU(23),u.ALo(24,"currency"),u.qZA(),u.TgZ(25,"label",11),u._uU(26,"\xbfpagan con $$$? "),u.TgZ(27,"input",12),u.NdJ("ngModelChange",function(l){return r.valorRestado=l})("ngModelChange",function(){return r.restarValor()}),u.qZA()(),u.TgZ(28,"div",13)(29,"button",14),u.NdJ("click",function(){return r.onDialogHide()}),u._uU(30," Cancelar "),u.qZA(),u.TgZ(31,"button",15),u._uU(32," Registrar "),u.qZA()()()(),u.TgZ(33,"div",16)(34,"button",17),u.NdJ("click",function(){return r.showDialog2()}),u._uU(35," Eliminar Productos "),u.qZA(),u.TgZ(36,"p-dialog",18),u.NdJ("visibleChange",function(l){return r.displayModal2=l}),u.TgZ(37,"span"),u._uU(38,"Al hacer esto eliminaras todos los productos agregados sin registrar."),u.qZA(),u.TgZ(39,"div",13)(40,"button",19),u.NdJ("click",function(){return r.onDialogHide()}),u._uU(41," Cancelar "),u.qZA(),u.TgZ(42,"button",20),u.NdJ("click",function(){return r.borrarTodo()}),u._uU(43," Borrar productos "),u.qZA()()()()(),u.YNc(44,KL,15,1,"table",21),u.qZA()()()),2&t&&(u.xp6(9),u.Q6J("ngIf",0==r.productos.length),u.xp6(4),u.hij("Total: ",u.gM2(14,20,r.total," ","symbol","3.0")," "),u.xp6(3),u.Q6J("disabled",r.buttonDisabled),u.xp6(2),u.Akn(u.DdM(35,rO)),u.Q6J("visible",r.displayModal)("modal",!0)("responsive",!0)("dismissableMask",!0),u.xp6(2),u.hij("Total: $",u.gM2(21,25,r.total," ","symbol","3.0")," "),u.xp6(3),u.hij(" Devuelta: $",u.gM2(24,30,r.resultado," ","symbol","3.0")," "),u.xp6(4),u.Q6J("ngModel",r.valorRestado),u.xp6(7),u.Q6J("disabled",r.buttonDisabled),u.xp6(2),u.Akn(u.DdM(36,rO)),u.Q6J("visible",r.displayModal2)("modal",!0)("responsive",!0)("dismissableMask",!0),u.xp6(8),u.Q6J("ngIf",r.productos.length>0))},dependencies:[Qi,Mn,ru,su,Kf,Gf,GL,G_,Ns],styles:[".float[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-right:6px}.h5[_ngcontent-%COMP%]{position:relative;bottom:33px;left:16px}.options[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly}i[_ngcontent-%COMP%]{cursor:pointer}.fas[_ngcontent-%COMP%]{margin-right:12px}.botones[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:31px}.table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:3px 15px;text-align:center;font-size:16px}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#92c9e6;color:#fff}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#d9ff0026}@media (max-width: 500px){.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{display:none}.table[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:block;width:100%}.table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{margin-bottom:15px}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-left:50%;text-align:left;position:relative}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{content:attr(data-label);position:absolute;left:0;width:50%;padding-left:15px;font-size:15px;font-weight:700;text-align:left}.total[_ngcontent-%COMP%]{border:1px solid aquamarine;border-radius:6px;height:35px;padding:4px;background-color:#f8f87d;color:#f0f}}"]}),n})();function QL(n,e){if(1&n&&(u.TgZ(0,"div"),u._uU(1),u.qZA()),2&n){const t=u.oxw().$implicit;u.xp6(1),u.hij("sabor 1: ",t.sabor01," ")}}function JL(n,e){}function XL(n,e){if(1&n&&(u.TgZ(0,"div"),u._uU(1),u.qZA()),2&n){const t=u.oxw().$implicit;u.xp6(1),u.hij("sabor 2: ",t.sabor02," ")}}function eV(n,e){}function tV(n,e){if(1&n&&(u.TgZ(0,"div"),u._uU(1),u.qZA()),2&n){const t=u.oxw().$implicit;u.xp6(1),u.hij("sabor 3: ",t.sabor03," ")}}function nV(n,e){}function rV(n,e){if(1&n&&(u.TgZ(0,"div"),u._uU(1),u.qZA()),2&n){const t=u.oxw().$implicit;u.xp6(1),u.hij("sabor 4: ",t.sabor04," ")}}function iV(n,e){}function sV(n,e){if(1&n&&(u.TgZ(0,"div"),u._uU(1),u.qZA()),2&n){const t=u.oxw().$implicit;u.xp6(1),u.hij("sabor 5: ",t.sabor05," ")}}function oV(n,e){}function aV(n,e){if(1&n&&(u.TgZ(0,"div"),u._uU(1),u.qZA()),2&n){const t=u.oxw().$implicit;u.xp6(1),u.hij("sabor 6 ",t.sabor06," ")}}function lV(n,e){}function uV(n,e){if(1&n&&(u.TgZ(0,"div"),u._uU(1),u.qZA()),2&n){const t=u.oxw().$implicit;u.xp6(1),u.hij("sabor 7: ",t.sabor07," ")}}function cV(n,e){}function dV(n,e){if(1&n&&(u.TgZ(0,"div"),u._uU(1),u.qZA()),2&n){const t=u.oxw().$implicit;u.xp6(1),u.hij("sabor 8: ",t.sabor08," ")}}function hV(n,e){}function fV(n,e){if(1&n&&(u.TgZ(0,"div"),u._uU(1),u.qZA()),2&n){const t=u.oxw().$implicit;u.xp6(1),u.hij("sabor 9: ",t.sabor09," ")}}function pV(n,e){}function gV(n,e){if(1&n&&(u.TgZ(0,"div"),u._uU(1),u.qZA()),2&n){const t=u.oxw().$implicit;u.xp6(1),u.hij("sabor 10: ",t.sabor10," ")}}function mV(n,e){}function yV(n,e){if(1&n&&(u.TgZ(0,"div"),u._uU(1),u.qZA()),2&n){const t=u.oxw().$implicit;u.xp6(1),u.hij("sabor 11: ",t.sabor11," ")}}function _V(n,e){}function vV(n,e){if(1&n&&(u.TgZ(0,"div"),u._uU(1),u.qZA()),2&n){const t=u.oxw().$implicit;u.xp6(1),u.hij("sabor 12: ",t.sabor12," ")}}const EV=function(n){return["/adjust/",n]};function wV(n,e){if(1&n&&(u.TgZ(0,"div"),u.YNc(1,QL,2,1,"div",1),u.YNc(2,JL,0,0,"ng-template",null,2,u.W1O),u.YNc(4,XL,2,1,"div",1),u.YNc(5,eV,0,0,"ng-template",null,2,u.W1O),u.YNc(7,tV,2,1,"div",1),u.YNc(8,nV,0,0,"ng-template",null,2,u.W1O),u.YNc(10,rV,2,1,"div",1),u.YNc(11,iV,0,0,"ng-template",null,2,u.W1O),u.YNc(13,sV,2,1,"div",1),u.YNc(14,oV,0,0,"ng-template",null,2,u.W1O),u.YNc(16,aV,2,1,"div",1),u.YNc(17,lV,0,0,"ng-template",null,2,u.W1O),u.YNc(19,uV,2,1,"div",1),u.YNc(20,cV,0,0,"ng-template",null,2,u.W1O),u.YNc(22,dV,2,1,"div",1),u.YNc(23,hV,0,0,"ng-template",null,2,u.W1O),u.YNc(25,fV,2,1,"div",1),u.YNc(26,pV,0,0,"ng-template",null,2,u.W1O),u.YNc(28,gV,2,1,"div",1),u.YNc(29,mV,0,0,"ng-template",null,2,u.W1O),u.YNc(31,yV,2,1,"div",1),u.YNc(32,_V,0,0,"ng-template",null,2,u.W1O),u.YNc(34,vV,2,1,"div",1),u.TgZ(35,"div"),u._UZ(36,"i",3),u.qZA(),u.TgZ(37,"button",4),u._uU(38,"Regresar"),u.qZA()()),2&n){const t=e.$implicit,r=u.MAs(3);u.xp6(1),u.Q6J("ngIf",""!==t.sabor01)("ngIfElse",r),u.xp6(3),u.Q6J("ngIf",""!==t.sabor02)("ngIfElse",r),u.xp6(3),u.Q6J("ngIf",""!==t.sabor03)("ngIfElse",r),u.xp6(3),u.Q6J("ngIf",""!==t.sabor04)("ngIfElse",r),u.xp6(3),u.Q6J("ngIf",""!==t.sabor05)("ngIfElse",r),u.xp6(3),u.Q6J("ngIf",""!==t.sabor06)("ngIfElse",r),u.xp6(3),u.Q6J("ngIf",""!==t.sabor07)("ngIfElse",r),u.xp6(3),u.Q6J("ngIf",""!==t.sabor08)("ngIfElse",r),u.xp6(3),u.Q6J("ngIf",""!==t.sabor09)("ngIfElse",r),u.xp6(3),u.Q6J("ngIf",""!==t.sabor10)("ngIfElse",r),u.xp6(3),u.Q6J("ngIf",""!==t.sabor11)("ngIfElse",r),u.xp6(3),u.Q6J("ngIf",""!==t.sabor12)("ngIfElse",r),u.xp6(2),u.Q6J("routerLink",u.VKq(25,EV,t.id))}}const bV=[{path:"",redirectTo:"list-products",pathMatch:"full"},{path:"list-products",component:YL},{path:"create-product",component:JP},{path:"edit-product/:id",component:JP},{path:"mod",component:(()=>{class n{constructor(t){this._service=t,this.ajustes=[]}ngOnInit(){this.getAdjust()}getAdjust(){this._service.obtProductos().subscribe(t=>{this.ajustes=[],t.forEach(r=>{this.ajustes.push({id:r.payload.doc.id,...r.payload.doc.data()})})})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(NC))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-modificar"]],decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],["elseBlock",""],[1,"fas","fa-edit","fa-lg","text-danger",3,"routerLink"],["type","text","routerLink","/",1,"btn","btn-secondary","btn-lg","mr-3"]],template:function(t,r){1&t&&(u.TgZ(0,"div"),u.YNc(1,wV,39,27,"div",0),u.qZA()),2&t&&(u.xp6(1),u.Q6J("ngForOf",r.ajustes))},dependencies:[Qi,Mn,ru],styles:["div[_ngcontent-%COMP%]{margin:8px}"]}),n})()},{path:"crear",component:jP},{path:"adjust/:id",component:jP},{path:"**",redirectTo:"list-products",pathMatch:"full"}];let IV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[JE.forRoot(bV),JE]}),n})();const iO=function(){return["/mod/"]};let CV=(()=>{class n{constructor(){this.today=new Date,this.date=new Date(2021,1,21)}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-navbar"]],decls:18,vars:8,consts:[[1,"nav"],[2,"margin-left","12px","margin-top","6px"],["type","checkbox","id","nav__checkbox",1,"nav__checkbox"],["for","nav__checkbox",1,"nav__toggle"],["src","https://www.clipartmax.com/png/full/36-365828_navbar-toggle-icon-menu-hamburger-png-white.png",1,"hamburger"],[1,"close"],[1,"nav__menu"],[2,"color","rgba(255, 255, 255, 0)"],[2,"color","white",3,"routerLink"],[2,"color","white","position","relative","left","44%",3,"routerLink"]],template:function(t,r){1&t&&(u.TgZ(0,"nav",0)(1,"span",1),u._uU(2),u.ALo(3,"date"),u.qZA(),u._UZ(4,"input",2),u.TgZ(5,"label",3),u._UZ(6,"img",4),u.TgZ(7,"span",5),u._uU(8,"X"),u.qZA()(),u.TgZ(9,"ul",6)(10,"li")(11,"span",7),u._uU(12," B "),u.qZA()(),u.TgZ(13,"li")(14,"a",8),u._uU(15,"Ver registros"),u.qZA(),u.TgZ(16,"a",9),u._uU(17,"Ajustar sabores"),u.qZA()()()()),2&t&&(u.xp6(2),u.Oqu(u.xi3(3,3,r.today,"d, MMM y, EEEE h:mm:ss a")),u.xp6(12),u.Q6J("routerLink",u.DdM(6,iO)),u.xp6(2),u.Q6J("routerLink",u.DdM(7,iO)))},dependencies:[vc,Xh],styles:[".navbar[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap}.adjust[_ngcontent-%COMP%]{margin-right:10px;cursor:pointer}.nav[_ngcontent-%COMP%]{border-bottom:1px solid rgb(254,252,252)}.nav__toggle[_ngcontent-%COMP%]{position:absolute;cursor:pointer;margin:0rem 1rem;right:0}.close[_ngcontent-%COMP%]{margin-top:8px;margin-left:4px;font-size:34px}.close[_ngcontent-%COMP%], input[type=checkbox][_ngcontent-%COMP%]{display:none}.hamburger[_ngcontent-%COMP%]{margin-top:12px;width:30px;height:30px}.menu[_ngcontent-%COMP%]{position:relative;left:170px}.nav__menu[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin:1rem}li[_ngcontent-%COMP%]{list-style:none;display:none}li[_ngcontent-%COMP%]:first-child{margin-right:auto;display:block}.nav__menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:initial;font-size:1.2rem}#nav__checkbox[_ngcontent-%COMP%]:checked ~ ul.nav__menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:block}#nav__checkbox[_ngcontent-%COMP%]:checked ~ label.nav__toggle[_ngcontent-%COMP%]   .hamburger[_ngcontent-%COMP%]{display:none}#nav__checkbox[_ngcontent-%COMP%]:checked ~ label.nav__toggle[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{display:block}@media only screen and (min-width: 768px){.nav__toggle[_ngcontent-%COMP%]{display:none}.nav__menu[_ngcontent-%COMP%]{flex-direction:row}.nav__menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:block}}"]}),n})(),DV=(()=>{class n{constructor(){this.title="IceCreamShop"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(t,r){1&t&&u._UZ(0,"app-navbar")(1,"router-outlet")},dependencies:[xf,CV]}),n})();const sO_firebase={apiKey:"AIzaSyDM-VLc0vP957ORl88fcEiciO4cPQJIFsc",authDomain:"icecreamproducts-ad8db.firebaseapp.com",projectId:"icecreamproducts-ad8db",storageBucket:"icecreamproducts-ad8db.appspot.com",messagingSenderId:"1033061040970",appId:"1:1033061040970:web:3a76ddad9e9b3e854277b3"};function oO(n){return new u.vHH(3e3,!1)}function oU(){return typeof window<"u"&&typeof window.document<"u"}function lM(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Kh(n){switch(n.length){case 0:return new dE;case 1:return n[0];default:return new ZP(n)}}function aO(n,e,t,r,i=new Map,l=new Map){const d=[],p=[];let y=-1,w=null;if(r.forEach(T=>{const M=T.get("offset"),F=M==y,U=F&&w||new Map;T.forEach((q,le)=>{let _e=le,Ye=q;if("offset"!==le)switch(_e=e.normalizePropertyName(_e,d),Ye){case"!":Ye=i.get(le);break;case Zc:Ye=l.get(le);break;default:Ye=e.normalizeStyleValue(le,_e,Ye,d)}U.set(_e,Ye)}),F||p.push(U),w=U,y=M}),d.length)throw function ZV(n){return new u.vHH(3502,!1)}();return p}function uM(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&cM(t,"start",n)));break;case"done":n.onDone(()=>r(t&&cM(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&cM(t,"destroy",n)))}}function cM(n,e,t){const l=dM(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),d=n._data;return null!=d&&(l._data=d),l}function dM(n,e,t,r,i="",l=0,d){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:l,disabled:!!d}}function Do(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function lO(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let hM=(n,e)=>!1,uO=(n,e,t)=>[],cO=null;function fM(n){const e=n.parentNode||n.host;return e===cO?null:e}(lM()||typeof Element<"u")&&(oU()?(cO=(()=>document.documentElement)(),hM=(n,e)=>{for(;e;){if(e===n)return!0;e=fM(e)}return!1}):hM=(n,e)=>n.contains(e),uO=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let tg=null,dO=!1;const hO=hM,fO=uO;let pO=(()=>{class n{validateStyleProperty(t){return function lU(n){tg||(tg=function uU(){return typeof document<"u"?document.body:null}()||{},dO=!!tg.style&&"WebkitAppearance"in tg.style);let e=!0;return tg.style&&!function aU(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in tg.style,!e&&dO&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in tg.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return hO(t,r)}getParentElement(t){return fM(t)}query(t,r,i){return fO(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,l,d,p=[],y){return new dE(i,l)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),pM=(()=>{class n{}return n.NOOP=new pO,n})();const gM="ng-enter",FC="ng-leave",LC="ng-trigger",VC=".ng-trigger",mO="ng-animating",mM=".ng-animating";function Kc(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:yM(parseFloat(e[1]),e[2])}function yM(n,e){return"s"===e?1e3*n:n}function UC(n,e,t){return n.hasOwnProperty("duration")?n:function hU(n,e,t){let i,l=0,d="";if("string"==typeof n){const p=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===p)return e.push(oO()),{duration:0,delay:0,easing:""};i=yM(parseFloat(p[1]),p[2]);const y=p[3];null!=y&&(l=yM(parseFloat(y),p[4]));const w=p[5];w&&(d=w)}else i=n;if(!t){let p=!1,y=e.length;i<0&&(e.push(function TV(){return new u.vHH(3100,!1)}()),p=!0),l<0&&(e.push(function SV(){return new u.vHH(3101,!1)}()),p=!0),p&&e.splice(y,0,oO())}return{duration:i,delay:l,easing:d}}(n,e,t)}function hE(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function yO(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Yh(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function vO(n,e,t){return t?e+":"+t+";":""}function EO(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=vO(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=vO(0,mU(t),n.style[t]));n.setAttribute("style",e)}function Nu(n,e,t){n.style&&(e.forEach((r,i)=>{const l=vM(i);t&&!t.has(i)&&t.set(i,n.style[l]),n.style[l]=r}),lM()&&EO(n))}function ng(n,e){n.style&&(e.forEach((t,r)=>{const i=vM(r);n.style[i]=""}),lM()&&EO(n))}function fE(n){return Array.isArray(n)?1==n.length?n[0]:GP(n):n}const _M=new RegExp("{{\\s*(.+?)\\s*}}","g");function wO(n){let e=[];if("string"==typeof n){let t;for(;t=_M.exec(n);)e.push(t[1]);_M.lastIndex=0}return e}function pE(n,e,t){const r=n.toString(),i=r.replace(_M,(l,d)=>{let p=e[d];return null==p&&(t.push(function MV(n){return new u.vHH(3003,!1)}()),p=""),p.toString()});return i==r?n:i}function BC(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const gU=/-+([a-z0-9])/g;function vM(n){return n.replace(gU,(...e)=>e[1].toUpperCase())}function mU(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function To(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function xV(n){return new u.vHH(3004,!1)}()}}function bO(n,e){return window.getComputedStyle(n)[e]}function bU(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function IU(n,e,t){if(":"==n[0]){const y=function CU(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function GV(n){return new u.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof y)return void e.push(y);n=y}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function $V(n){return new u.vHH(3015,!1)}()),e;const i=r[1],l=r[2],d=r[3];e.push(IO(i,d));"<"==l[0]&&!("*"==i&&"*"==d)&&e.push(IO(d,i))}(r,t,e)):t.push(n),t}const GC=new Set(["true","1"]),zC=new Set(["false","0"]);function IO(n,e){const t=GC.has(n)||zC.has(n),r=GC.has(e)||zC.has(e);return(i,l)=>{let d="*"==n||n==i,p="*"==e||e==l;return!d&&t&&"boolean"==typeof i&&(d=i?GC.has(n):zC.has(n)),!p&&r&&"boolean"==typeof l&&(p=l?GC.has(e):zC.has(e)),d&&p}}const DU=new RegExp("s*:selfs*,?","g");function EM(n,e,t,r){return new TU(n).build(e,t,r)}class TU{constructor(e){this._driver=e}build(e,t,r){const i=new MU(t);return this._resetContextStyleTimingState(i),To(this,fE(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const l=[],d=[];return"@"==e.name.charAt(0)&&t.errors.push(function PV(){return new u.vHH(3006,!1)}()),e.definitions.forEach(p=>{if(this._resetContextStyleTimingState(t),0==p.type){const y=p,w=y.name;w.toString().split(/\s*,\s*/).forEach(T=>{y.name=T,l.push(this.visitState(y,t))}),y.name=w}else if(1==p.type){const y=this.visitTransition(p,t);r+=y.queryCount,i+=y.depCount,d.push(y)}else t.errors.push(function OV(){return new u.vHH(3007,!1)}())}),{type:7,name:e.name,states:l,transitions:d,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const l=new Set,d=i||{};r.styles.forEach(p=>{p instanceof Map&&p.forEach(y=>{wO(y).forEach(w=>{d.hasOwnProperty(w)||l.add(w)})})}),l.size&&(BC(l.values()),t.errors.push(function RV(n,e){return new u.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=To(this,fE(e.animation),t);return{type:1,matchers:bU(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:rg(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>To(this,r,t)),options:rg(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const l=e.steps.map(d=>{t.currentTime=r;const p=To(this,d,t);return i=Math.max(i,t.currentTime),p});return t.currentTime=i,{type:3,steps:l,options:rg(e.options)}}visitAnimate(e,t){const r=function NU(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return wM(UC(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(l=>"{"==l.charAt(0)&&"{"==l.charAt(1))){const l=wM(0,0,"");return l.dynamic=!0,l.strValue=t,l}const i=UC(t,e);return wM(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,l=e.styles?e.styles:eg({});if(5==l.type)i=this.visitKeyframes(l,t);else{let d=e.styles,p=!1;if(!d){p=!0;const w={};r.easing&&(w.easing=r.easing),d=eg(w)}t.currentTime+=r.duration+r.delay;const y=this.visitStyle(d,t);y.isEmptyStep=p,i=y}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let p of i)"string"==typeof p?p===Zc?r.push(p):t.errors.push(new u.vHH(3002,!1)):r.push(yO(p));let l=!1,d=null;return r.forEach(p=>{if(p instanceof Map&&(p.has("easing")&&(d=p.get("easing"),p.delete("easing")),!l))for(let y of p.values())if(y.toString().indexOf("{{")>=0){l=!0;break}}),{type:6,styles:r,easing:d,offset:e.offset,containsDynamicStyles:l,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,l=t.currentTime;r&&l>0&&(l-=r.duration+r.delay),e.styles.forEach(d=>{"string"!=typeof d&&d.forEach((p,y)=>{const w=t.collectedStyles.get(t.currentQuerySelector),T=w.get(y);let M=!0;T&&(l!=i&&l>=T.startTime&&i<=T.endTime&&(t.errors.push(function FV(n,e,t,r,i){return new u.vHH(3010,!1)}()),M=!1),l=T.startTime),M&&w.set(y,{startTime:l,endTime:i}),t.options&&function pU(n,e,t){const r=e.params||{},i=wO(n);i.length&&i.forEach(l=>{r.hasOwnProperty(l)||t.push(function AV(n){return new u.vHH(3001,!1)}())})}(p,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function LV(){return new u.vHH(3011,!1)}()),r;let l=0;const d=[];let p=!1,y=!1,w=0;const T=e.steps.map(Ye=>{const at=this._makeStyleAst(Ye,t);let gt=null!=at.offset?at.offset:function xU(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(at.styles),ct=0;return null!=gt&&(l++,ct=at.offset=gt),y=y||ct<0||ct>1,p=p||ct<w,w=ct,d.push(ct),at});y&&t.errors.push(function VV(){return new u.vHH(3012,!1)}()),p&&t.errors.push(function UV(){return new u.vHH(3200,!1)}());const M=e.steps.length;let F=0;l>0&&l<M?t.errors.push(function BV(){return new u.vHH(3202,!1)}()):0==l&&(F=1/(M-1));const U=M-1,q=t.currentTime,le=t.currentAnimateTimings,_e=le.duration;return T.forEach((Ye,at)=>{const gt=F>0?at==U?1:F*at:d[at],ct=gt*_e;t.currentTime=q+le.delay+ct,le.duration=ct,this._validateStyleAst(Ye,t),Ye.offset=gt,r.styles.push(Ye)}),r}visitReference(e,t){return{type:8,animation:To(this,fE(e.animation),t),options:rg(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:rg(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:rg(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[l,d]=function SU(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(DU,"")),n=n.replace(/@\*/g,VC).replace(/@\w+/g,t=>VC+"-"+t.slice(1)).replace(/:animating/g,mM),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+l:l,Do(t.collectedStyles,t.currentQuerySelector,new Map);const p=To(this,fE(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:l,limit:i.limit||0,optional:!!i.optional,includeSelf:d,animation:p,originalSelector:e.selector,options:rg(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function jV(){return new u.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:UC(e.timings,t.errors,!0);return{type:12,animation:To(this,fE(e.animation),t),timings:r,options:null}}}class MU{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function rg(n){return n?(n=hE(n)).params&&(n.params=function AU(n){return n?hE(n):null}(n.params)):n={},n}function wM(n,e,t){return{duration:n,delay:e,easing:t}}function bM(n,e,t,r,i,l,d=null,p=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:l,totalTime:i+l,easing:d,subTimeline:p}}class qC{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const RU=new RegExp(":enter","g"),FU=new RegExp(":leave","g");function IM(n,e,t,r,i,l=new Map,d=new Map,p,y,w=[]){return(new LU).buildKeyframes(n,e,t,r,i,l,d,p,y,w)}class LU{buildKeyframes(e,t,r,i,l,d,p,y,w,T=[]){w=w||new qC;const M=new CM(e,t,w,i,l,T,[]);M.options=y;const F=y.delay?Kc(y.delay):0;M.currentTimeline.delayNextStep(F),M.currentTimeline.setStyles([d],null,M.errors,y),To(this,r,M);const U=M.timelines.filter(q=>q.containsAnimation());if(U.length&&p.size){let q;for(let le=U.length-1;le>=0;le--){const _e=U[le];if(_e.element===t){q=_e;break}}q&&!q.allowOnlyTimelineStyles()&&q.setStyles([p],null,M.errors,y)}return U.length?U.map(q=>q.buildKeyframes()):[bM(t,[],[],[],0,F,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),l=t.currentTimeline.currentTime,d=this._visitSubInstructions(r,i,i.options);l!=d&&t.transformIntoNewTimeline(d)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const l=i?.delay;if(l){const d="number"==typeof l?l:Kc(pE(l,i?.params??{},t.errors));r.delayNextStep(d)}}}_visitSubInstructions(e,t,r){let l=t.currentTimeline.currentTime;const d=null!=r.duration?Kc(r.duration):null,p=null!=r.delay?Kc(r.delay):null;return 0!==d&&e.forEach(y=>{const w=t.appendInstructionToTimeline(y,d,p);l=Math.max(l,w.duration+w.delay)}),l}visitReference(e,t){t.updateOptions(e.options,!0),To(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const l=e.options;if(l&&(l.params||l.delay)&&(i=t.createSubContext(l),i.transformIntoNewTimeline(),null!=l.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=WC);const d=Kc(l.delay);i.delayNextStep(d)}e.steps.length&&(e.steps.forEach(d=>To(this,d,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const l=e.options&&e.options.delay?Kc(e.options.delay):0;e.steps.forEach(d=>{const p=t.createSubContext(e.options);l&&p.delayNextStep(l),To(this,d,p),i=Math.max(i,p.currentTimeline.currentTime),r.push(p.currentTimeline)}),r.forEach(d=>t.currentTimeline.mergeTimelineCollectedStyles(d)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return UC(t.params?pE(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const l=e.style;5==l.type?this.visitKeyframes(l,t):(t.incrementTime(r.duration),this.visitStyle(l,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const l=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(l):r.setStyles(e.styles,l,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,l=r.duration,p=t.createSubContext().currentTimeline;p.easing=r.easing,e.styles.forEach(y=>{p.forwardTime((y.offset||0)*l),p.setStyles(y.styles,y.easing,t.errors,t.options),p.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(p),t.transformIntoNewTimeline(i+l),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},l=i.delay?Kc(i.delay):0;l&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=WC);let d=r;const p=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=p.length;let y=null;p.forEach((w,T)=>{t.currentQueryIndex=T;const M=t.createSubContext(e.options,w);l&&M.delayNextStep(l),w===t.element&&(y=M.currentTimeline),To(this,e.animation,M),M.currentTimeline.applyStylesToKeyframe(),d=Math.max(d,M.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(d),y&&(t.currentTimeline.mergeTimelineCollectedStyles(y),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,l=e.timings,d=Math.abs(l.duration),p=d*(t.currentQueryTotal-1);let y=d*t.currentQueryIndex;switch(l.duration<0?"reverse":l.easing){case"reverse":y=p-y;break;case"full":y=r.currentStaggerTime}const T=t.currentTimeline;y&&T.delayNextStep(y);const M=T.currentTime;To(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-M+(i.startTime-r.currentTimeline.startTime)}}const WC={};class CM{constructor(e,t,r,i,l,d,p,y){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=l,this.errors=d,this.timelines=p,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=WC,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=y||new ZC(this._driver,t,0),p.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Kc(r.duration)),null!=r.delay&&(i.delay=Kc(r.delay));const l=r.params;if(l){let d=i.params;d||(d=this.options.params={}),Object.keys(l).forEach(p=>{(!t||!d.hasOwnProperty(p))&&(d[p]=pE(l[p],d,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,l=new CM(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return l.previousNode=this.previousNode,l.currentAnimateTimings=this.currentAnimateTimings,l.options=this._copyOptions(),l.updateOptions(e),l.currentQueryIndex=this.currentQueryIndex,l.currentQueryTotal=this.currentQueryTotal,l.parentContext=this,this.subContextCount++,l}transformIntoNewTimeline(e){return this.previousNode=WC,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},l=new VU(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(l),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,l,d){let p=[];if(i&&p.push(this.element),e.length>0){e=(e=e.replace(RU,"."+this._enterClassName)).replace(FU,"."+this._leaveClassName);let w=this._driver.query(this.element,e,1!=r);0!==r&&(w=r<0?w.slice(w.length+r,w.length):w.slice(0,r)),p.push(...w)}return!l&&0==p.length&&d.push(function HV(n){return new u.vHH(3014,!1)}()),p}}class ZC{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new ZC(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Zc),this._currentKeyframe.set(t,Zc);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const l=i&&i.params||{},d=function UU(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let l of r)t.set(l,Zc)}else Yh(i,t)}),t}(e,this._globalTimelineStyles);for(let[p,y]of d){const w=pE(y,l,r);this._pendingStyles.set(p,w),this._localTimelineStyles.has(p)||this._backFill.set(p,this._globalTimelineStyles.get(p)??Zc),this._updateStyle(p,w)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((p,y)=>{const w=Yh(p,new Map,this._backFill);w.forEach((T,M)=>{"!"===T?e.add(M):T===Zc&&t.add(M)}),r||w.set("offset",y/this.duration),i.push(w)});const l=e.size?BC(e.values()):[],d=t.size?BC(t.values()):[];if(r){const p=i[0],y=new Map(p);p.set("offset",0),y.set("offset",1),i=[p,y]}return bM(this.element,i,l,d,this.duration,this.startTime,this.easing,!1)}}class VU extends ZC{constructor(e,t,r,i,l,d,p=!1){super(e,t,d.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=l,this._stretchStartingKeyframe=p,this.timings={duration:d.duration,delay:d.delay,easing:d.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const l=[],d=r+t,p=t/d,y=Yh(e[0]);y.set("offset",0),l.push(y);const w=Yh(e[0]);w.set("offset",TO(p)),l.push(w);const T=e.length-1;for(let M=1;M<=T;M++){let F=Yh(e[M]);const U=F.get("offset");F.set("offset",TO((t+U*r)/d)),l.push(F)}r=d,t=0,i="",e=l}return bM(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function TO(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class DM{}const BU=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class jU extends DM{normalizePropertyName(e,t){return vM(e)}normalizeStyleValue(e,t,r,i){let l="";const d=r.toString().trim();if(BU.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)l="px";else{const p=r.match(/^[+-]?[\d\.]+([a-z]*)$/);p&&0==p[1].length&&i.push(function NV(n,e){return new u.vHH(3005,!1)}())}return d+l}}function SO(n,e,t,r,i,l,d,p,y,w,T,M,F){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:l,toState:r,toStyles:d,timelines:p,queriedElements:y,preStyleProps:w,postStyleProps:T,totalTime:M,errors:F}}const TM={};class AO{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function HU(n,e,t,r,i){return n.some(l=>l(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,l,d,p,y,w,T){const M=[],F=this.ast.options&&this.ast.options.params||TM,q=this.buildStyles(r,p&&p.params||TM,M),le=y&&y.params||TM,_e=this.buildStyles(i,le,M),Ye=new Set,at=new Map,gt=new Map,ct="void"===i,St={params:$U(le,F),delay:this.ast.options?.delay},Pt=T?[]:IM(e,t,this.ast.animation,l,d,q,_e,St,w,M);let dn=0;if(Pt.forEach(Yc=>{dn=Math.max(Yc.duration+Yc.delay,dn)}),M.length)return SO(t,this._triggerName,r,i,ct,q,_e,[],[],at,gt,dn,M);Pt.forEach(Yc=>{const Qc=Yc.element,$O=Do(at,Qc,new Set);Yc.preStyleProps.forEach(ig=>$O.add(ig));const mE=Do(gt,Qc,new Set);Yc.postStyleProps.forEach(ig=>mE.add(ig)),Qc!==t&&Ye.add(Qc)});const bs=BC(Ye.values());return SO(t,this._triggerName,r,i,ct,q,_e,Pt,bs,at,gt,dn)}}function $U(n,e){const t=hE(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class GU{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=hE(this.defaultParams);return Object.keys(e).forEach(l=>{const d=e[l];null!==d&&(i[l]=d)}),this.styles.styles.forEach(l=>{"string"!=typeof l&&l.forEach((d,p)=>{d&&(d=pE(d,i,t));const y=this.normalizer.normalizePropertyName(p,t);d=this.normalizer.normalizeStyleValue(p,y,d,t),r.set(y,d)})}),r}}class qU{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new GU(i.style,i.options&&i.options.params||{},r))}),MO(this.states,"true","1"),MO(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new AO(e,i,this.states))}),this.fallbackTransition=function WU(n,e,t){return new AO(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(d,p)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(d=>d.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function MO(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const ZU=new qC;class KU{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],l=EM(this._driver,t,r,[]);if(r.length)throw function KV(n){return new u.vHH(3503,!1)}();this._animations.set(e,l)}_buildPlayer(e,t,r){const i=e.element,l=aO(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,l,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],l=this._animations.get(e);let d;const p=new Map;if(l?(d=IM(this._driver,t,l,gM,FC,new Map,new Map,r,ZU,i),d.forEach(T=>{const M=Do(p,T.element,new Map);T.postStyleProps.forEach(F=>M.set(F,null))})):(i.push(function YV(){return new u.vHH(3300,!1)}()),d=[]),i.length)throw function QV(n){return new u.vHH(3504,!1)}();p.forEach((T,M)=>{T.forEach((F,U)=>{T.set(U,this._driver.computeStyle(M,U,Zc))})});const w=Kh(d.map(T=>{const M=p.get(T.element);return this._buildPlayer(T,new Map,M)}));return this._playersById.set(e,w),w.onDestroy(()=>this.destroy(e)),this.players.push(w),w}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function JV(n){return new u.vHH(3301,!1)}();return t}listen(e,t,r,i){const l=dM(t,"","","");return uM(this._getPlayer(e),r,l,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const l=this._getPlayer(e);switch(r){case"play":l.play();break;case"pause":l.pause();break;case"reset":l.reset();break;case"restart":l.restart();break;case"finish":l.finish();break;case"init":l.init();break;case"setPosition":l.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const xO="ng-animate-queued",SM="ng-animate-disabled",e2=[],NO={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},t2={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},fa="__ng_removed";class AM{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function s2(n){return n??null}(r?e.value:e),r){const l=hE(e);delete l.value,this.options=l}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const gE="void",MM=new AM(gE);class n2{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,pa(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function XV(n,e){return new u.vHH(3302,!1)}();if(null==r||0==r.length)throw function eU(n){return new u.vHH(3303,!1)}();if(!function o2(n){return"start"==n||"done"==n}(r))throw function tU(n,e){return new u.vHH(3400,!1)}();const l=Do(this._elementListeners,e,[]),d={name:t,phase:r,callback:i};l.push(d);const p=Do(this._engine.statesByElement,e,new Map);return p.has(t)||(pa(e,LC),pa(e,LC+"-"+t),p.set(t,MM)),()=>{this._engine.afterFlush(()=>{const y=l.indexOf(d);y>=0&&l.splice(y,1),this._triggers.has(t)||p.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function nU(n){return new u.vHH(3401,!1)}();return t}trigger(e,t,r,i=!0){const l=this._getTrigger(t),d=new xM(this.id,t,e);let p=this._engine.statesByElement.get(e);p||(pa(e,LC),pa(e,LC+"-"+t),this._engine.statesByElement.set(e,p=new Map));let y=p.get(t);const w=new AM(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&y&&w.absorbOptions(y.options),p.set(t,w),y||(y=MM),w.value!==gE&&y.value===w.value){if(!function u2(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const l=t[i];if(!e.hasOwnProperty(l)||n[l]!==e[l])return!1}return!0}(y.params,w.params)){const le=[],_e=l.matchStyles(y.value,y.params,le),Ye=l.matchStyles(w.value,w.params,le);le.length?this._engine.reportError(le):this._engine.afterFlush(()=>{ng(e,_e),Nu(e,Ye)})}return}const F=Do(this._engine.playersByElement,e,[]);F.forEach(le=>{le.namespaceId==this.id&&le.triggerName==t&&le.queued&&le.destroy()});let U=l.matchTransition(y.value,w.value,e,w.params),q=!1;if(!U){if(!i)return;U=l.fallbackTransition,q=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:U,fromState:y,toState:w,player:d,isFallbackTransition:q}),q||(pa(e,xO),d.onStart(()=>{qy(e,xO)})),d.onDone(()=>{let le=this.players.indexOf(d);le>=0&&this.players.splice(le,1);const _e=this._engine.playersByElement.get(e);if(_e){let Ye=_e.indexOf(d);Ye>=0&&_e.splice(Ye,1)}}),this.players.push(d),F.push(d),d}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,VC,!0);r.forEach(i=>{if(i[fa])return;const l=this._engine.fetchNamespacesByElement(i);l.size?l.forEach(d=>d.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const l=this._engine.statesByElement.get(e),d=new Map;if(l){const p=[];if(l.forEach((y,w)=>{if(d.set(w,y.value),this._triggers.has(w)){const T=this.trigger(e,w,gE,i);T&&p.push(T)}}),p.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,d),r&&Kh(p).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(l=>{const d=l.name;if(i.has(d))return;i.add(d);const y=this._triggers.get(d).fallbackTransition,w=r.get(d)||MM,T=new AM(gE),M=new xM(this.id,d,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:d,transition:y,fromState:w,toState:T,player:M,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const l=r.players.length?r.playersByQueriedElement.get(e):[];if(l&&l.length)i=!0;else{let d=e;for(;d=d.parentNode;)if(r.statesByElement.get(d)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const l=e[fa];(!l||l===NO)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){pa(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const l=r.element,d=this._elementListeners.get(l);d&&d.forEach(p=>{if(p.name==r.triggerName){const y=dM(l,r.triggerName,r.fromState.value,r.toState.value);y._data=e,uM(r.player,p.phase,y,p.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const l=r.transition.ast.depCount,d=i.transition.ast.depCount;return 0==l||0==d?l-d:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class r2{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,l)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new n2(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let d=!1,p=this.driver.getParentElement(t);for(;p;){const y=i.get(p);if(y){const w=r.indexOf(y);r.splice(w+1,0,e),d=!0;break}p=this.driver.getParentElement(p)}d||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const l=this._fetchNamespace(i.namespaceId);l&&t.add(l)}return t}trigger(e,t,r,i){if(KC(t)){const l=this._fetchNamespace(e);if(l)return l.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!KC(t))return;const l=t[fa];if(l&&l.setForRemoval){l.setForRemoval=!1,l.setForMove=!0;const d=this.collectedLeaveElements.indexOf(t);d>=0&&this.collectedLeaveElements.splice(d,1)}if(e){const d=this._fetchNamespace(e);d&&d.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),pa(e,SM)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),qy(e,SM))}removeNode(e,t,r,i){if(KC(t)){const l=e?this._fetchNamespace(e):null;if(l?l.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const d=this.namespacesByHostElement.get(t);d&&d.id!==e&&d.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,l){this.collectedLeaveElements.push(t),t[fa]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:l}}listen(e,t,r,i,l){return KC(t)?this._fetchNamespace(e).listen(t,r,i,l):()=>{}}_buildInstruction(e,t,r,i,l){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,l)}destroyInnerAnimations(e){let t=this.driver.query(e,VC,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,mM,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Kh(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[fa];if(t&&t.setForRemoval){if(e[fa]=NO,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(SM)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)pa(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Kh(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function rU(n){return new u.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new qC,i=[],l=new Map,d=[],p=new Map,y=new Map,w=new Map,T=new Set;this.disabledNodes.forEach(pt=>{T.add(pt);const At=this.driver.query(pt,".ng-animate-queued",!0);for(let Rt=0;Rt<At.length;Rt++)T.add(At[Rt])});const M=this.bodyNode,F=Array.from(this.statesByElement.keys()),U=RO(F,this.collectedEnterElements),q=new Map;let le=0;U.forEach((pt,At)=>{const Rt=gM+le++;q.set(At,Rt),pt.forEach(yn=>pa(yn,Rt))});const _e=[],Ye=new Set,at=new Set;for(let pt=0;pt<this.collectedLeaveElements.length;pt++){const At=this.collectedLeaveElements[pt],Rt=At[fa];Rt&&Rt.setForRemoval&&(_e.push(At),Ye.add(At),Rt.hasAnimation?this.driver.query(At,".ng-star-inserted",!0).forEach(yn=>Ye.add(yn)):at.add(At))}const gt=new Map,ct=RO(F,Array.from(Ye));ct.forEach((pt,At)=>{const Rt=FC+le++;gt.set(At,Rt),pt.forEach(yn=>pa(yn,Rt))}),e.push(()=>{U.forEach((pt,At)=>{const Rt=q.get(At);pt.forEach(yn=>qy(yn,Rt))}),ct.forEach((pt,At)=>{const Rt=gt.get(At);pt.forEach(yn=>qy(yn,Rt))}),_e.forEach(pt=>{this.processLeaveNode(pt)})});const St=[],Pt=[];for(let pt=this._namespaceList.length-1;pt>=0;pt--)this._namespaceList[pt].drainQueuedTransitions(t).forEach(Rt=>{const yn=Rt.player,Ii=Rt.element;if(St.push(yn),this.collectedEnterElements.length){const Ki=Ii[fa];if(Ki&&Ki.setForMove){if(Ki.previousTriggersValues&&Ki.previousTriggersValues.has(Rt.triggerName)){const sg=Ki.previousTriggersValues.get(Rt.triggerName),ga=this.statesByElement.get(Rt.element);if(ga&&ga.has(Rt.triggerName)){const JC=ga.get(Rt.triggerName);JC.value=sg,ga.set(Rt.triggerName,JC)}}return void yn.destroy()}}const Pu=!M||!this.driver.containsElement(M,Ii),So=gt.get(Ii),Qh=q.get(Ii),wr=this._buildInstruction(Rt,r,Qh,So,Pu);if(wr.errors&&wr.errors.length)return void Pt.push(wr);if(Pu)return yn.onStart(()=>ng(Ii,wr.fromStyles)),yn.onDestroy(()=>Nu(Ii,wr.toStyles)),void i.push(yn);if(Rt.isFallbackTransition)return yn.onStart(()=>ng(Ii,wr.fromStyles)),yn.onDestroy(()=>Nu(Ii,wr.toStyles)),void i.push(yn);const qO=[];wr.timelines.forEach(Ki=>{Ki.stretchStartingKeyframe=!0,this.disabledNodes.has(Ki.element)||qO.push(Ki)}),wr.timelines=qO,r.append(Ii,wr.timelines),d.push({instruction:wr,player:yn,element:Ii}),wr.queriedElements.forEach(Ki=>Do(p,Ki,[]).push(yn)),wr.preStyleProps.forEach((Ki,sg)=>{if(Ki.size){let ga=y.get(sg);ga||y.set(sg,ga=new Set),Ki.forEach((JC,OM)=>ga.add(OM))}}),wr.postStyleProps.forEach((Ki,sg)=>{let ga=w.get(sg);ga||w.set(sg,ga=new Set),Ki.forEach((JC,OM)=>ga.add(OM))})});if(Pt.length){const pt=[];Pt.forEach(At=>{pt.push(function iU(n,e){return new u.vHH(3505,!1)}())}),St.forEach(At=>At.destroy()),this.reportError(pt)}const dn=new Map,bs=new Map;d.forEach(pt=>{const At=pt.element;r.has(At)&&(bs.set(At,At),this._beforeAnimationBuild(pt.player.namespaceId,pt.instruction,dn))}),i.forEach(pt=>{const At=pt.element;this._getPreviousPlayers(At,!1,pt.namespaceId,pt.triggerName,null).forEach(yn=>{Do(dn,At,[]).push(yn),yn.destroy()})});const Yc=_e.filter(pt=>FO(pt,y,w)),Qc=new Map;OO(Qc,this.driver,at,w,Zc).forEach(pt=>{FO(pt,y,w)&&Yc.push(pt)});const mE=new Map;U.forEach((pt,At)=>{OO(mE,this.driver,new Set(pt),y,"!")}),Yc.forEach(pt=>{const At=Qc.get(pt),Rt=mE.get(pt);Qc.set(pt,new Map([...Array.from(At?.entries()??[]),...Array.from(Rt?.entries()??[])]))});const ig=[],GO=[],zO={};d.forEach(pt=>{const{element:At,player:Rt,instruction:yn}=pt;if(r.has(At)){if(T.has(At))return Rt.onDestroy(()=>Nu(At,yn.toStyles)),Rt.disabled=!0,Rt.overrideTotalTime(yn.totalTime),void i.push(Rt);let Ii=zO;if(bs.size>1){let So=At;const Qh=[];for(;So=So.parentNode;){const wr=bs.get(So);if(wr){Ii=wr;break}Qh.push(So)}Qh.forEach(wr=>bs.set(wr,Ii))}const Pu=this._buildAnimation(Rt.namespaceId,yn,dn,l,mE,Qc);if(Rt.setRealPlayer(Pu),Ii===zO)ig.push(Rt);else{const So=this.playersByElement.get(Ii);So&&So.length&&(Rt.parentPlayer=Kh(So)),i.push(Rt)}}else ng(At,yn.fromStyles),Rt.onDestroy(()=>Nu(At,yn.toStyles)),GO.push(Rt),T.has(At)&&i.push(Rt)}),GO.forEach(pt=>{const At=l.get(pt.element);if(At&&At.length){const Rt=Kh(At);pt.setRealPlayer(Rt)}}),i.forEach(pt=>{pt.parentPlayer?pt.syncPlayerEvents(pt.parentPlayer):pt.destroy()});for(let pt=0;pt<_e.length;pt++){const At=_e[pt],Rt=At[fa];if(qy(At,FC),Rt&&Rt.hasAnimation)continue;let yn=[];if(p.size){let Pu=p.get(At);Pu&&Pu.length&&yn.push(...Pu);let So=this.driver.query(At,mM,!0);for(let Qh=0;Qh<So.length;Qh++){let wr=p.get(So[Qh]);wr&&wr.length&&yn.push(...wr)}}const Ii=yn.filter(Pu=>!Pu.destroyed);Ii.length?a2(this,At,Ii):this.processLeaveNode(At)}return _e.length=0,ig.forEach(pt=>{this.players.push(pt),pt.onDone(()=>{pt.destroy();const At=this.players.indexOf(pt);this.players.splice(At,1)}),pt.play()}),ig}elementContainsData(e,t){let r=!1;const i=t[fa];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,l){let d=[];if(t){const p=this.playersByQueriedElement.get(e);p&&(d=p)}else{const p=this.playersByElement.get(e);if(p){const y=!l||l==gE;p.forEach(w=>{w.queued||!y&&w.triggerName!=i||d.push(w)})}}return(r||i)&&(d=d.filter(p=>!(r&&r!=p.namespaceId||i&&i!=p.triggerName))),d}_beforeAnimationBuild(e,t,r){const l=t.element,d=t.isRemovalTransition?void 0:e,p=t.isRemovalTransition?void 0:t.triggerName;for(const y of t.timelines){const w=y.element,T=w!==l,M=Do(r,w,[]);this._getPreviousPlayers(w,T,d,p,t.toState).forEach(U=>{const q=U.getRealPlayer();q.beforeDestroy&&q.beforeDestroy(),U.destroy(),M.push(U)})}ng(l,t.fromStyles)}_buildAnimation(e,t,r,i,l,d){const p=t.triggerName,y=t.element,w=[],T=new Set,M=new Set,F=t.timelines.map(q=>{const le=q.element;T.add(le);const _e=le[fa];if(_e&&_e.removedBeforeQueried)return new dE(q.duration,q.delay);const Ye=le!==y,at=function l2(n){const e=[];return kO(n,e),e}((r.get(le)||e2).map(dn=>dn.getRealPlayer())).filter(dn=>!!dn.element&&dn.element===le),gt=l.get(le),ct=d.get(le),St=aO(0,this._normalizer,0,q.keyframes,gt,ct),Pt=this._buildPlayer(q,St,at);if(q.subTimeline&&i&&M.add(le),Ye){const dn=new xM(e,p,le);dn.setRealPlayer(Pt),w.push(dn)}return Pt});w.forEach(q=>{Do(this.playersByQueriedElement,q.element,[]).push(q),q.onDone(()=>function i2(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,q.element,q))}),T.forEach(q=>pa(q,mO));const U=Kh(F);return U.onDestroy(()=>{T.forEach(q=>qy(q,mO)),Nu(y,t.toStyles)}),M.forEach(q=>{Do(i,q,[]).push(U)}),U}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new dE(e.duration,e.delay)}}class xM{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new dE,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>uM(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Do(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function KC(n){return n&&1===n.nodeType}function PO(n,e){const t=n.style.display;return n.style.display=e??"none",t}function OO(n,e,t,r,i){const l=[];t.forEach(y=>l.push(PO(y)));const d=[];r.forEach((y,w)=>{const T=new Map;y.forEach(M=>{const F=e.computeStyle(w,M,i);T.set(M,F),(!F||0==F.length)&&(w[fa]=t2,d.push(w))}),n.set(w,T)});let p=0;return t.forEach(y=>PO(y,l[p++])),d}function RO(n,e){const t=new Map;if(n.forEach(p=>t.set(p,[])),0==e.length)return t;const i=new Set(e),l=new Map;function d(p){if(!p)return 1;let y=l.get(p);if(y)return y;const w=p.parentNode;return y=t.has(w)?w:i.has(w)?1:d(w),l.set(p,y),y}return e.forEach(p=>{const y=d(p);1!==y&&t.get(y).push(p)}),t}function pa(n,e){n.classList?.add(e)}function qy(n,e){n.classList?.remove(e)}function a2(n,e,t){Kh(t).onDone(()=>n.processLeaveNode(e))}function kO(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof ZP?kO(r.players,e):e.push(r)}}function FO(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(l=>i.add(l)):e.set(n,r),t.delete(n),!0}class YC{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,l)=>{},this._transitionEngine=new r2(e,t,r),this._timelineEngine=new KU(e,t,r),this._transitionEngine.onRemovalComplete=(i,l)=>this.onRemovalComplete(i,l)}registerTrigger(e,t,r,i,l){const d=e+"-"+i;let p=this._triggerCache[d];if(!p){const y=[],T=EM(this._driver,l,y,[]);if(y.length)throw function WV(n,e){return new u.vHH(3404,!1)}();p=function zU(n,e,t){return new qU(n,e,t)}(i,T,this._normalizer),this._triggerCache[d]=p}this._transitionEngine.registerTrigger(t,i,p)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[l,d]=lO(r);this._timelineEngine.command(l,t,d,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,l){if("@"==r.charAt(0)){const[d,p]=lO(r);return this._timelineEngine.listen(d,t,p,l)}return this._transitionEngine.listen(e,t,r,i,l)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let d2=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let l=n.initialStylesByElement.get(t);l||n.initialStylesByElement.set(t,l=new Map),this._initialStyles=l}start(){this._state<1&&(this._startStyles&&Nu(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Nu(this._element,this._initialStyles),this._endStyles&&(Nu(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(ng(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ng(this._element,this._endStyles),this._endStyles=null),Nu(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function NM(n){let e=null;return n.forEach((t,r)=>{(function h2(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class LO{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:bO(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class f2{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return hO(e,t)}getParentElement(e){return fM(e)}query(e,t,r){return fO(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,l,d=[]){const y={duration:r,delay:i,fill:0==i?"both":"forwards"};l&&(y.easing=l);const w=new Map,T=d.filter(U=>U instanceof LO);(function yU(n,e){return 0===n||0===e})(r,i)&&T.forEach(U=>{U.currentSnapshot.forEach((q,le)=>w.set(le,q))});let M=function fU(n){return n.length?n[0]instanceof Map?n:n.map(e=>yO(e)):[]}(t).map(U=>Yh(U));M=function _U(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((l,d)=>{r.has(d)||i.push(d),r.set(d,l)}),i.length)for(let l=1;l<e.length;l++){let d=e[l];i.forEach(p=>d.set(p,bO(n,p)))}}return e}(e,M,w);const F=function c2(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=NM(e[0]),e.length>1&&(r=NM(e[e.length-1]))):e instanceof Map&&(t=NM(e)),t||r?new d2(n,t,r):null}(e,M);return new LO(e,M,y,F)}}let p2=(()=>{class n extends HP{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:u.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?GP(t):t;return VO(this._renderer,null,r,"register",[i]),new g2(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(ae))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class g2 extends class RF{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new m2(this._id,e,t||{},this._renderer)}}class m2{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return VO(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function VO(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const UO="@.disabled";let y2=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(l,d)=>{const p=d?.parentNode(l);p&&d.removeChild(p,l)}}createRenderer(t,r){const l=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let T=this._rendererCache.get(l);return T||(T=new BO("",l,this.engine),this._rendererCache.set(l,T)),T}const d=r.id,p=r.id+"-"+this._currentId;this._currentId++,this.engine.register(p,t);const y=T=>{Array.isArray(T)?T.forEach(y):this.engine.registerTrigger(d,p,t,T.name,T)};return r.data.animation.forEach(y),new _2(this,p,l,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(l=>{const[d,p]=l;d(p)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(YC),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class BO{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==UO?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class _2 extends BO{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==UO?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function v2(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let l=t.slice(1),d="";return"@"!=l.charAt(0)&&([l,d]=function E2(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(l)),this.engine.listen(this.namespaceId,i,l,d,p=>{this.factory.scheduleListenerCallback(p._data||-1,r,p)})}return this.delegate.listen(e,t,r)}}let w2=(()=>{class n extends YC{constructor(t,r,i,l){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ae),u.LFG(pM),u.LFG(DM),u.LFG(u.z2F))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const jO=[{provide:HP,useClass:p2},{provide:DM,useFactory:function b2(){return new jU}},{provide:YC,useClass:w2},{provide:u.FYo,useFactory:function I2(n,e,t){return new y2(n,e,t)},deps:[ro,YC,u.R0b]}],PM=[{provide:pM,useFactory:()=>new f2},{provide:u.QbO,useValue:"BrowserAnimations"},...jO],HO=[{provide:pM,useClass:pO},{provide:u.QbO,useValue:"NoopAnimations"},...jO];let C2=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?HO:PM}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:PM,imports:[Vl]}),n})();const qn=void 0;!function Un(n,e,t){(0,u.dwT)(n,e,t)}(["es",[["a.\xa0m.","p.\xa0m."],qn,qn],qn,[["D","L","M","X","J","V","S"],["dom","lun","mar","mi\xe9","jue","vie","s\xe1b"],["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],["DO","LU","MA","MI","JU","VI","SA"]],qn,[["E","F","M","A","M","J","J","A","S","O","N","D"],["ene","feb","mar","abr","may","jun","jul","ago","sept","oct","nov","dic"],["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]],qn,[["a. C.","d. C."],qn,["antes de Cristo","despu\xe9s de Cristo"]],1,[6,0],["d/M/yy","d MMM y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["H:mm","H:mm:ss","H:mm:ss z","H:mm:ss (zzzz)"],["{1}, {0}",qn,qn,qn],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","euro",{AUD:[qn,"$"],BRL:[qn,"R$"],BYN:[qn,"\u0440."],CAD:[qn,"$"],CNY:[qn,"\xa5"],EGP:[],ESP:["\u20a7"],GBP:[qn,"\xa3"],HKD:[qn,"$"],ILS:[qn,"\u20aa"],INR:[qn,"\u20b9"],JPY:[qn,"\xa5"],KRW:[qn,"\u20a9"],MXN:[qn,"$"],NZD:[qn,"$"],PHP:[qn,"\u20b1"],RON:[qn,"L"],THB:["\u0e3f"],TWD:[qn,"NT$"],USD:["US$","$"],XAF:[],XCD:[qn,"$"],XOF:[]},"ltr",function D2(n){const e=n,t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length,i=parseInt(n.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return 1===e?1:0===i&&0!==t&&t%1e6==0&&0===r||!(i>=0&&i<=5)?4:5}],"es");let T2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n,bootstrap:[DV]}),n.\u0275inj=u.cJS({providers:[{provide:u.soG,useValue:"es"}],imports:[Vl,IV,ni.hO.initializeApp(sO_firebase),qw,C2,zL,nT,tL.forRoot({timeOut:4e3,positionClass:"toast-bottom-right",preventDuplicates:!0})]}),n})();(0,u.G48)(),Ll().bootstrapModule(T2).catch(n=>console.error(n))},5867:(dt,Ae,k)=>{k.d(Ae,{C6:()=>u.getApps,Mq:()=>u.getApp});var u=k(9681);(0,u.registerVersion)("firebase","9.12.1","app")},127:(dt,Ae,k)=>{k.d(Ae,{Z:()=>u.Z});var u=k(3942);u.Z.registerVersion("firebase","9.12.1","app-compat")},9545:(dt,Ae,k)=>{k.r(Ae);var u=k(5861),ee=k(3942),O=k(2090),se=k(9681),re=k(1877),de=k(655),ae=k(4859);const be=function Le(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},nt=function xe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},me=new O.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Xe=new re.Yd("@firebase/auth");function ot(_,...f){Xe.logLevel<=re.in.ERROR&&Xe.error(`Auth (${se.SDK_VERSION}): ${_}`,...f)}function Me(_,...f){throw je(_,...f)}function Ee(_,...f){return je(_,...f)}function Ce(_,f,m){const E=Object.assign(Object.assign({},nt()),{[f]:m});return new O.LL("auth","Firebase",E).create(f,{appName:_.name})}function Be(_,f,m){if(!(f instanceof m))throw m.name!==f.constructor.name&&Me(_,"argument-error"),Ce(_,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function je(_,...f){if("string"!=typeof _){const m=f[0],E=[...f.slice(1)];return E[0]&&(E[0].appName=_.name),_._errorFactory.create(m,...E)}return me.create(_,...f)}function B(_,f,...m){if(!_)throw je(f,...m)}function ge(_){const f="INTERNAL ASSERTION FAILED: "+_;throw ot(f),new Error(f)}function W(_,f){_||ge(f)}const J=new Map;function ne(_){W(_ instanceof Function,"Expected a class definition");let f=J.get(_);return f?(W(f instanceof _,"Instance stored in cache mismatched with class"),f):(f=new _,J.set(_,f),f)}function Oe(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function mt(){return"http:"===en()||"https:"===en()}function en(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class hn{constructor(f,m){this.shortDelay=f,this.longDelay=m,W(m>f,"Short delay should be less than long delay!"),this.isMobile=(0,O.uI)()||(0,O.b$)()}get(){return function Gt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(mt()||(0,O.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function wn(_,f){W(_.emulator,"Emulator should always be set here");const{url:m}=_.emulator;return f?`${m}${f.startsWith("/")?f.slice(1):f}`:m}class Jt{static initialize(f,m,E){this.fetchImpl=f,m&&(this.headersImpl=m),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ge("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ge("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ge("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const tn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Vr=new hn(3e4,6e4);function Ft(_,f){return _.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:_.tenantId}):f}function gn(_,f,m,E){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,u.Z)(function*(_,f,m,E,A={}){return Ci(_,A,(0,u.Z)(function*(){let P={},z={};E&&("GET"===f?z=E:P={body:JSON.stringify(E)});const ue=(0,O.xO)(Object.assign({key:_.config.apiKey},z)).slice(1),Fe=yield _._getAdditionalHeaders();return Fe["Content-Type"]="application/json",_.languageCode&&(Fe["X-Firebase-Locale"]=_.languageCode),Jt.fetch()(Di(_,_.config.apiHost,m,ue),Object.assign({method:f,headers:Fe,referrerPolicy:"no-referrer"},P))}))})).apply(this,arguments)}function Ci(_,f,m){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,u.Z)(function*(_,f,m){_._canInitEmulator=!1;const E=Object.assign(Object.assign({},tn),f);try{const A=new oi(_),P=yield Promise.race([m(),A.promise]);A.clearNetworkTimeout();const z=yield P.json();if("needConfirmation"in z)throw ai(_,"account-exists-with-different-credential",z);if(P.ok&&!("errorMessage"in z))return z;{const ue=P.ok?z.errorMessage:z.error.message,[Fe,Je]=ue.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Fe)throw ai(_,"credential-already-in-use",z);if("EMAIL_EXISTS"===Fe)throw ai(_,"email-already-in-use",z);if("USER_DISABLED"===Fe)throw ai(_,"user-disabled",z);const vt=E[Fe]||Fe.toLowerCase().replace(/[_\s]+/g,"-");if(Je)throw Ce(_,vt,Je);Me(_,vt)}}catch(A){if(A instanceof O.ZR)throw A;Me(_,"network-request-failed")}})).apply(this,arguments)}function Yr(_,f,m,E){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,u.Z)(function*(_,f,m,E,A={}){const P=yield gn(_,f,m,E,A);return"mfaPendingCredential"in P&&Me(_,"multi-factor-auth-required",{_serverResponse:P}),P})).apply(this,arguments)}function Di(_,f,m,E){const A=`${f}${m}?${E}`;return _.config.emulator?wn(_.config,A):`${_.config.apiScheme}://${A}`}class oi{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((m,E)=>{this.timer=setTimeout(()=>E(Ee(this.auth,"network-request-failed")),Vr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ai(_,f,m){const E={appName:_.name};m.email&&(E.email=m.email),m.phoneNumber&&(E.phoneNumber=m.phoneNumber);const A=Ee(_,f,E);return A.customData._tokenResponse=m,A}function Ke(){return(Ke=(0,u.Z)(function*(_,f){return gn(_,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function Nr(_,f){return Is.apply(this,arguments)}function Is(){return(Is=(0,u.Z)(function*(_,f){return gn(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function rr(_,f){return li.apply(this,arguments)}function li(){return(li=(0,u.Z)(function*(_,f){return gn(_,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function Ri(_){if(_)try{const f=new Date(Number(_));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function vn(){return(vn=(0,u.Z)(function*(_,f=!1){const m=(0,O.m9)(_),E=yield m.getIdToken(f),A=lt(E);B(A&&A.exp&&A.auth_time&&A.iat,m.auth,"internal-error");const P="object"==typeof A.firebase?A.firebase:void 0,z=P?.sign_in_provider;return{claims:A,token:E,authTime:Ri(yt(A.auth_time)),issuedAtTime:Ri(yt(A.iat)),expirationTime:Ri(yt(A.exp)),signInProvider:z||null,signInSecondFactor:P?.sign_in_second_factor||null}})).apply(this,arguments)}function yt(_){return 1e3*Number(_)}function lt(_){var f;const[m,E,A]=_.split(".");if(void 0===m||void 0===E||void 0===A)return ot("JWT malformed, contained fewer than 3 sections"),null;try{const P=(0,O.tV)(E);return P?JSON.parse(P):(ot("Failed to decode base64 JWT payload"),null)}catch(P){return ot("Caught error parsing JWT payload as JSON",null===(f=P)||void 0===f?void 0:f.toString()),null}}function br(_,f){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,u.Z)(function*(_,f,m=!1){if(m)return f;try{return yield f}catch(E){throw E instanceof O.ZR&&Qr(E)&&_.auth.currentUser===_&&(yield _.auth.signOut()),E}})).apply(this,arguments)}function Qr({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class xt{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var m;if(f){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const A=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,A)}}schedule(f=!1){var m=this;if(!this.isRunning)return;const E=this.getInterval(f);this.timerId=setTimeout((0,u.Z)(function*(){yield m.iteration()}),E)}iteration(){var f=this;return(0,u.Z)(function*(){var m;try{yield f.user.getIdToken(!0)}catch(E){return void("auth/network-request-failed"===(null===(m=E)||void 0===m?void 0:m.code)&&f.schedule(!0))}f.schedule()})()}}class Cs{constructor(f,m){this.createdAt=f,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ri(this.lastLoginAt),this.creationTime=Ri(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function nn(_){return ki.apply(this,arguments)}function ki(){return(ki=(0,u.Z)(function*(_){var f;const m=_.auth,E=yield _.getIdToken(),A=yield br(_,rr(m,{idToken:E}));B(A?.users.length,m,"internal-error");const P=A.users[0];_._notifyReloadListener(P);const z=null!==(f=P.providerUserInfo)&&void 0!==f&&f.length?tt(P.providerUserInfo):[],ue=Br(_.providerData,z),vt=!!_.isAnonymous&&!(_.email&&P.passwordHash||ue?.length),_t={uid:P.localId,displayName:P.displayName||null,photoURL:P.photoUrl||null,email:P.email||null,emailVerified:P.emailVerified||!1,phoneNumber:P.phoneNumber||null,tenantId:P.tenantId||null,providerData:ue,metadata:new Cs(P.createdAt,P.lastLoginAt),isAnonymous:vt};Object.assign(_,_t)})).apply(this,arguments)}function ir(){return(ir=(0,u.Z)(function*(_){const f=(0,O.m9)(_);yield nn(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function Br(_,f){return[..._.filter(E=>!f.some(A=>A.providerId===E.providerId)),...f]}function tt(_){return _.map(f=>{var{providerId:m}=f,E=(0,de._T)(f,["providerId"]);return{providerId:m,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function et(){return(et=(0,u.Z)(function*(_,f){const m=yield Ci(_,{},(0,u.Z)(function*(){const E=(0,O.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:A,apiKey:P}=_.config,z=Di(_,A,"/v1/token",`key=${P}`),ue=yield _._getAdditionalHeaders();return ue["Content-Type"]="application/x-www-form-urlencoded",Jt.fetch()(z,{method:"POST",headers:ue,body:E})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Dt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){B(f.idToken,"internal-error"),B(typeof f.idToken<"u","internal-error"),B(typeof f.refreshToken<"u","internal-error");const m="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function ln(_){const f=lt(_);return B(f,"internal-error"),B(typeof f.exp<"u","internal-error"),B(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,m)}getToken(f,m=!1){var E=this;return(0,u.Z)(function*(){return B(!E.accessToken||E.refreshToken,f,"user-token-expired"),m||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(f,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,m){var E=this;return(0,u.Z)(function*(){const{accessToken:A,refreshToken:P,expiresIn:z}=yield function De(_,f){return et.apply(this,arguments)}(f,m);E.updateTokensAndExpiration(A,P,Number(z))})()}updateTokensAndExpiration(f,m,E){this.refreshToken=m||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(f,m){const{refreshToken:E,accessToken:A,expirationTime:P}=m,z=new Dt;return E&&(B("string"==typeof E,"internal-error",{appName:f}),z.refreshToken=E),A&&(B("string"==typeof A,"internal-error",{appName:f}),z.accessToken=A),P&&(B("number"==typeof P,"internal-error",{appName:f}),z.expirationTime=P),z}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new Dt,this.toJSON())}_performRefresh(){return ge("not implemented")}}function It(_,f){B("string"==typeof _||typeof _>"u","internal-error",{appName:f})}class Ut{constructor(f){var{uid:m,auth:E,stsTokenManager:A}=f,P=(0,de._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new xt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=E,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=P.displayName||null,this.email=P.email||null,this.emailVerified=P.emailVerified||!1,this.phoneNumber=P.phoneNumber||null,this.photoURL=P.photoURL||null,this.isAnonymous=P.isAnonymous||!1,this.tenantId=P.tenantId||null,this.providerData=P.providerData?[...P.providerData]:[],this.metadata=new Cs(P.createdAt||void 0,P.lastLoginAt||void 0)}getIdToken(f){var m=this;return(0,u.Z)(function*(){const E=yield br(m,m.stsTokenManager.getToken(m.auth,f));return B(E,m.auth,"internal-error"),m.accessToken!==E&&(m.accessToken=E,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),E})()}getIdTokenResult(f){return function Wn(_){return vn.apply(this,arguments)}(this,f)}reload(){return function rn(_){return ir.apply(this,arguments)}(this)}_assign(f){this!==f&&(B(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(m=>Object.assign({},m)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new Ut(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){B(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,m=!1){var E=this;return(0,u.Z)(function*(){let A=!1;f.idToken&&f.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(f),A=!0),m&&(yield nn(E)),yield E.auth._persistUserIfCurrent(E),A&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var f=this;return(0,u.Z)(function*(){const m=yield f.getIdToken();return yield br(f,function ma(_,f){return Ke.apply(this,arguments)}(f.auth,{idToken:m})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,m){var E,A,P,z,ue,Fe,Je,vt;const _t=null!==(E=m.displayName)&&void 0!==E?E:void 0,Xn=null!==(A=m.email)&&void 0!==A?A:void 0,Nn=null!==(P=m.phoneNumber)&&void 0!==P?P:void 0,jd=null!==(z=m.photoURL)&&void 0!==z?z:void 0,pc=null!==(ue=m.tenantId)&&void 0!==ue?ue:void 0,gc=null!==(Fe=m._redirectEventId)&&void 0!==Fe?Fe:void 0,a_=null!==(Je=m.createdAt)&&void 0!==Je?Je:void 0,kg=null!==(vt=m.lastLoginAt)&&void 0!==vt?vt:void 0,{uid:mc,emailVerified:l_,isAnonymous:u_,providerData:Qo,stsTokenManager:Za}=m;B(mc&&Za,f,"internal-error");const Nf=Dt.fromJSON(this.name,Za);B("string"==typeof mc,f,"internal-error"),It(_t,f.name),It(Xn,f.name),B("boolean"==typeof l_,f,"internal-error"),B("boolean"==typeof u_,f,"internal-error"),It(Nn,f.name),It(jd,f.name),It(pc,f.name),It(gc,f.name),It(a_,f.name),It(kg,f.name);const Hd=new Ut({uid:mc,auth:f,email:Xn,emailVerified:l_,displayName:_t,isAnonymous:u_,photoURL:jd,phoneNumber:Nn,tenantId:pc,stsTokenManager:Nf,createdAt:a_,lastLoginAt:kg});return Qo&&Array.isArray(Qo)&&(Hd.providerData=Qo.map(nu=>Object.assign({},nu))),gc&&(Hd._redirectEventId=gc),Hd}static _fromIdTokenResponse(f,m,E=!1){return(0,u.Z)(function*(){const A=new Dt;A.updateFromServerResponse(m);const P=new Ut({uid:m.localId,auth:f,stsTokenManager:A,isAnonymous:E});return yield nn(P),P})()}}const V=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(m,E){var A=this;return(0,u.Z)(function*(){A.storage[m]=E})()}_get(m){var E=this;return(0,u.Z)(function*(){const A=E.storage[m];return void 0===A?null:A})()}_remove(m){var E=this;return(0,u.Z)(function*(){delete E.storage[m]})()}_addListener(m,E){}_removeListener(m,E){}}return _.type="NONE",_})();function Z(_,f,m){return`firebase:${_}:${f}:${m}`}class we{constructor(f,m,E){this.persistence=f,this.auth=m,this.userKey=E;const{config:A,name:P}=this.auth;this.fullUserKey=Z(this.userKey,A.apiKey,P),this.fullPersistenceKey=Z("persistence",A.apiKey,P),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,u.Z)(function*(){const m=yield f.persistence._get(f.fullUserKey);return m?Ut._fromJSON(f.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var m=this;return(0,u.Z)(function*(){if(m.persistence===f)return;const E=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=f,E?m.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,m,E="authUser"){return(0,u.Z)(function*(){if(!m.length)return new we(ne(V),f,E);const A=(yield Promise.all(m.map(function(){var Je=(0,u.Z)(function*(vt){if(yield vt._isAvailable())return vt});return function(vt){return Je.apply(this,arguments)}}()))).filter(Je=>Je);let P=A[0]||ne(V);const z=Z(E,f.config.apiKey,f.name);let ue=null;for(const Je of m)try{const vt=yield Je._get(z);if(vt){const _t=Ut._fromJSON(f,vt);Je!==P&&(ue=_t),P=Je;break}}catch{}const Fe=A.filter(Je=>Je._shouldAllowMigration);return P._shouldAllowMigration&&Fe.length?(P=Fe[0],ue&&(yield P._set(z,ue.toJSON())),yield Promise.all(m.map(function(){var Je=(0,u.Z)(function*(vt){if(vt!==P)try{yield vt._remove(z)}catch{}});return function(vt){return Je.apply(this,arguments)}}())),new we(P,f,E)):new we(P,f,E)})()}}function Q(_){const f=_.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(_n(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if($e(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Ve(f))return"Blackberry";if(He(f))return"Webos";if(ht(f))return"Safari";if((f.includes("chrome/")||Xt(f))&&!f.includes("edge/"))return"Chrome";if(Kt(f))return"Android";{const E=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===E?.length)return E[1]}return"Other"}function $e(_=(0,O.z$)()){return/firefox\//i.test(_)}function ht(_=(0,O.z$)()){const f=_.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function Xt(_=(0,O.z$)()){return/crios\//i.test(_)}function _n(_=(0,O.z$)()){return/iemobile/i.test(_)}function Kt(_=(0,O.z$)()){return/android/i.test(_)}function Ve(_=(0,O.z$)()){return/blackberry/i.test(_)}function He(_=(0,O.z$)()){return/webos/i.test(_)}function $t(_=(0,O.z$)()){return/iphone|ipad|ipod/i.test(_)||/macintosh/i.test(_)&&/mobile/i.test(_)}function Zs(_=(0,O.z$)()){return $t(_)||Kt(_)||He(_)||Ve(_)||/windows phone/i.test(_)||_n(_)}function Ds(_,f=[]){let m;switch(_){case"Browser":m=Q((0,O.z$)());break;case"Worker":m=`${Q((0,O.z$)())}-${_}`;break;default:m=_}const E=f.length?f.join(","):"FirebaseCore-web";return`${m}/JsCore/${se.SDK_VERSION}/${E}`}class Ao{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,m){const E=P=>new Promise((z,ue)=>{try{z(f(P))}catch(Fe){ue(Fe)}});E.onAbort=m,this.queue.push(E);const A=this.queue.length-1;return()=>{this.queue[A]=()=>Promise.resolve()}}runMiddleware(f){var m=this;return(0,u.Z)(function*(){var E;if(m.auth.currentUser===f)return;const A=[];try{for(const P of m.queue)yield P(f),P.onAbort&&A.push(P.onAbort)}catch(P){A.reverse();for(const z of A)try{z()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:null===(E=P)||void 0===E?void 0:E.message})}})()}}class Bt{constructor(f,m,E){this.app=f,this.heartbeatServiceProvider=m,this.config=E,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ks(this),this.idTokenSubscription=new Ks(this),this.beforeStateQueue=new Ao(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=me,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=E.sdkClientVersion}_initializeWithPersistence(f,m){var E=this;return m&&(this._popupRedirectResolver=ne(m)),this._initializationPromise=this.queue((0,u.Z)(function*(){var A,P;if(!E._deleted&&(E.persistenceManager=yield we.create(E,f),!E._deleted)){if(null!==(A=E._popupRedirectResolver)&&void 0!==A&&A._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch{}yield E.initializeCurrentUser(m),E.lastNotifiedUid=(null===(P=E.currentUser)||void 0===P?void 0:P.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,u.Z)(function*(){if(f._deleted)return;const m=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||m){if(f.currentUser&&m&&f.currentUser.uid===m.uid)return f._currentUser._assign(m),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(m,!0)}})()}initializeCurrentUser(f){var m=this;return(0,u.Z)(function*(){var E;const A=yield m.assertedPersistence.getCurrentUser();let P=A,z=!1;if(f&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const ue=null===(E=m.redirectUser)||void 0===E?void 0:E._redirectEventId,Fe=P?._redirectEventId,Je=yield m.tryRedirectSignIn(f);(!ue||ue===Fe)&&Je?.user&&(P=Je.user,z=!0)}if(!P)return m.directlySetCurrentUser(null);if(!P._redirectEventId){if(z)try{yield m.beforeStateQueue.runMiddleware(P)}catch(ue){P=A,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(ue))}return P?m.reloadAndSetCurrentUserOrClear(P):m.directlySetCurrentUser(null)}return B(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===P._redirectEventId?m.directlySetCurrentUser(P):m.reloadAndSetCurrentUserOrClear(P)})()}tryRedirectSignIn(f){var m=this;return(0,u.Z)(function*(){let E=null;try{E=yield m._popupRedirectResolver._completeRedirectFn(m,f,!0)}catch{yield m._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(f){var m=this;return(0,u.Z)(function*(){var E;try{yield nn(f)}catch(A){if("auth/network-request-failed"!==(null===(E=A)||void 0===E?void 0:E.code))return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function Ze(){if(typeof navigator>"u")return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var f=this;return(0,u.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var m=this;return(0,u.Z)(function*(){const E=f?(0,O.m9)(f):null;return E&&B(E.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(E&&E._clone(m))})()}_updateCurrentUser(f,m=!1){var E=this;return(0,u.Z)(function*(){if(!E._deleted)return f&&B(E.tenantId===f.tenantId,E,"tenant-id-mismatch"),m||(yield E.beforeStateQueue.runMiddleware(f)),E.queue((0,u.Z)(function*(){yield E.directlySetCurrentUser(f),E.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,u.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var m=this;return this.queue((0,u.Z)(function*(){yield m.assertedPersistence.setPersistence(ne(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new O.LL("auth","Firebase",f())}onAuthStateChanged(f,m,E){return this.registerStateListener(this.authStateSubscription,f,m,E)}beforeAuthStateChanged(f,m){return this.beforeStateQueue.pushCallback(f,m)}onIdTokenChanged(f,m,E){return this.registerStateListener(this.idTokenSubscription,f,m,E)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,m){var E=this;return(0,u.Z)(function*(){const A=yield E.getOrInitRedirectPersistenceManager(m);return null===f?A.removeCurrentUser():A.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var m=this;return(0,u.Z)(function*(){if(!m.redirectPersistenceManager){const E=f&&ne(f)||m._popupRedirectResolver;B(E,m,"argument-error"),m.redirectPersistenceManager=yield we.create(m,[ne(E._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(f){var m=this;return(0,u.Z)(function*(){var E,A;return m._isInitialized&&(yield m.queue((0,u.Z)(function*(){}))),(null===(E=m._currentUser)||void 0===E?void 0:E._redirectEventId)===f?m._currentUser:(null===(A=m.redirectUser)||void 0===A?void 0:A._redirectEventId)===f?m.redirectUser:null})()}_persistUserIfCurrent(f){var m=this;return(0,u.Z)(function*(){if(f===m.currentUser)return m.queue((0,u.Z)(function*(){return m.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(m=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,m,E,A){if(this._deleted)return()=>{};const P="function"==typeof m?m:m.next.bind(m),z=this._isInitialized?Promise.resolve():this._initializationPromise;return B(z,this,"internal-error"),z.then(()=>P(this.currentUser)),"function"==typeof m?f.addObserver(m,E,A):f.addObserver(m)}directlySetCurrentUser(f){var m=this;return(0,u.Z)(function*(){m.currentUser&&m.currentUser!==f&&m._currentUser._stopProactiveRefresh(),f&&m.isProactiveRefreshEnabled&&f._startProactiveRefresh(),m.currentUser=f,f?yield m.assertedPersistence.setCurrentUser(f):yield m.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return B(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=Ds(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,u.Z)(function*(){var m;const E={"X-Client-Version":f.clientVersion};f.app.options.appId&&(E["X-Firebase-gmpid"]=f.app.options.appId);const A=yield null===(m=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return A&&(E["X-Firebase-Client"]=A),E})()}}function Tn(_){return(0,O.m9)(_)}class Ks{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,O.ne)(m=>this.observer=m)}get next(){return B(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Fi(_){const f=_.indexOf(":");return f<0?"":_.substr(0,f+1)}function Ts(_){if(!_)return null;const f=Number(_);return isNaN(f)?null:f}class Ir{constructor(f,m){this.providerId=f,this.signInMethod=m}toJSON(){return ge("not implemented")}_getIdTokenResponse(f){return ge("not implemented")}_linkToIdToken(f,m){return ge("not implemented")}_getReauthenticationResolver(f){return ge("not implemented")}}function Un(_,f){return ul.apply(this,arguments)}function ul(){return(ul=(0,u.Z)(function*(_,f){return gn(_,"POST","/v1/accounts:resetPassword",Ft(_,f))})).apply(this,arguments)}function fn(_,f){return Ou.apply(this,arguments)}function Ou(){return(Ou=(0,u.Z)(function*(_,f){return gn(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Ru(_,f){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,u.Z)(function*(_,f){return gn(_,"POST","/v1/accounts:update",Ft(_,f))})).apply(this,arguments)}function Qi(){return(Qi=(0,u.Z)(function*(_,f){return Yr(_,"POST","/v1/accounts:signInWithPassword",Ft(_,f))})).apply(this,arguments)}function As(_,f){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,u.Z)(function*(_,f){return gn(_,"POST","/v1/accounts:sendOobCode",Ft(_,f))})).apply(this,arguments)}function Mn(_,f){return ku.apply(this,arguments)}function ku(){return(ku=(0,u.Z)(function*(_,f){return As(_,f)})).apply(this,arguments)}function fr(_,f){return jr.apply(this,arguments)}function jr(){return(jr=(0,u.Z)(function*(_,f){return As(_,f)})).apply(this,arguments)}function cl(_,f){return _a.apply(this,arguments)}function _a(){return(_a=(0,u.Z)(function*(_,f){return As(_,f)})).apply(this,arguments)}function Fu(_,f){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,u.Z)(function*(_,f){return As(_,f)})).apply(this,arguments)}function Jc(){return(Jc=(0,u.Z)(function*(_,f){return Yr(_,"POST","/v1/accounts:signInWithEmailLink",Ft(_,f))})).apply(this,arguments)}function dl(){return(dl=(0,u.Z)(function*(_,f){return Yr(_,"POST","/v1/accounts:signInWithEmailLink",Ft(_,f))})).apply(this,arguments)}class Lu extends Ir{constructor(f,m,E,A=null){super("password",E),this._email=f,this._password=m,this._tenantId=A}static _fromEmailAndPassword(f,m){return new Lu(f,m,"password")}static _fromEmailAndCode(f,m,E=null){return new Lu(f,m,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(f){var m=this;return(0,u.Z)(function*(){switch(m.signInMethod){case"password":return function ya(_,f){return Qi.apply(this,arguments)}(f,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function Jh(_,f){return Jc.apply(this,arguments)}(f,{email:m._email,oobCode:m._password});default:Me(f,"internal-error")}})()}_linkToIdToken(f,m){var E=this;return(0,u.Z)(function*(){switch(E.signInMethod){case"password":return fn(f,{idToken:m,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function Xc(_,f){return dl.apply(this,arguments)}(f,{idToken:m,email:E._email,oobCode:E._password});default:Me(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function or(_,f){return ed.apply(this,arguments)}function ed(){return(ed=(0,u.Z)(function*(_,f){return Yr(_,"POST","/v1/accounts:signInWithIdp",Ft(_,f))})).apply(this,arguments)}class Ji extends Ir{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const m=new Ji(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(m.idToken=f.idToken),f.accessToken&&(m.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(m.nonce=f.nonce),f.pendingToken&&(m.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(m.accessToken=f.oauthToken,m.secret=f.oauthTokenSecret):Me("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:E,signInMethod:A}=m,P=(0,de._T)(m,["providerId","signInMethod"]);if(!E||!A)return null;const z=new Ji(E,A);return z.idToken=P.idToken||void 0,z.accessToken=P.accessToken||void 0,z.secret=P.secret,z.nonce=P.nonce,z.pendingToken=P.pendingToken||null,z}_getIdTokenResponse(f){return or(f,this.buildRequest())}_linkToIdToken(f,m){const E=this.buildRequest();return E.idToken=m,or(f,E)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,or(f,m)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),f.postBody=(0,O.xO)(m)}return f}}function ag(_,f){return td.apply(this,arguments)}function td(){return(td=(0,u.Z)(function*(_,f){return gn(_,"POST","/v1/accounts:sendVerificationCode",Ft(_,f))})).apply(this,arguments)}function Ms(){return(Ms=(0,u.Z)(function*(_,f){return Yr(_,"POST","/v1/accounts:signInWithPhoneNumber",Ft(_,f))})).apply(this,arguments)}function nd(){return(nd=(0,u.Z)(function*(_,f){const m=yield Yr(_,"POST","/v1/accounts:signInWithPhoneNumber",Ft(_,f));if(m.temporaryProof)throw ai(_,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const ug={USER_NOT_FOUND:"user-not-found"};function rd(){return(rd=(0,u.Z)(function*(_,f){return Yr(_,"POST","/v1/accounts:signInWithPhoneNumber",Ft(_,Object.assign(Object.assign({},f),{operation:"REAUTH"})),ug)})).apply(this,arguments)}class xs extends Ir{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,m){return new xs({verificationId:f,verificationCode:m})}static _fromTokenResponse(f,m){return new xs({phoneNumber:f,temporaryProof:m})}_getIdTokenResponse(f){return function Vu(_,f){return Ms.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,m){return function lg(_,f){return nd.apply(this,arguments)}(f,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function Xh(_,f){return rd.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:m,verificationId:E,verificationCode:A}=this.params;return f&&m?{temporaryProof:f,phoneNumber:m}:{sessionInfo:E,code:A}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:m,verificationCode:E,phoneNumber:A,temporaryProof:P}=f;return E||m||A||P?new xs({verificationId:m,verificationCode:E,phoneNumber:A,temporaryProof:P}):null}}class hl{constructor(f){var m,E,A,P,z,ue;const Fe=(0,O.zd)((0,O.pd)(f)),Je=null!==(m=Fe.apiKey)&&void 0!==m?m:null,vt=null!==(E=Fe.oobCode)&&void 0!==E?E:null,_t=function id(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(A=Fe.mode)&&void 0!==A?A:null);B(Je&&vt&&_t,"argument-error"),this.apiKey=Je,this.operation=_t,this.code=vt,this.continueUrl=null!==(P=Fe.continueUrl)&&void 0!==P?P:null,this.languageCode=null!==(z=Fe.languageCode)&&void 0!==z?z:null,this.tenantId=null!==(ue=Fe.tenantId)&&void 0!==ue?ue:null}static parseLink(f){const m=function sd(_){const f=(0,O.zd)((0,O.pd)(_)).link,m=f?(0,O.zd)((0,O.pd)(f)).deep_link_id:null,E=(0,O.zd)((0,O.pd)(_)).deep_link_id;return(E?(0,O.zd)((0,O.pd)(E)).link:null)||E||m||f||_}(f);try{return new hl(m)}catch{return null}}}let Li=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(m,E){return Lu._fromEmailAndPassword(m,E)}static credentialWithLink(m,E){const A=hl.parseLink(E);return B(A,"argument-error"),Lu._fromEmailAndCode(m,A.code,A.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class Xi{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class es extends Xi{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Ns extends es{static credentialFromJSON(f){const m="string"==typeof f?JSON.parse(f):f;return B("providerId"in m&&"signInMethod"in m,"argument-error"),Ji._fromParams(m)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return B(f.idToken||f.accessToken,"argument-error"),Ji._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Ns.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Ns.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:m,oauthAccessToken:E,oauthTokenSecret:A,pendingToken:P,nonce:z,providerId:ue}=f;if(!E&&!A&&!m&&!P||!ue)return null;try{return new Ns(ue)._credential({idToken:m,accessToken:E,nonce:z,pendingToken:P})}catch{return null}}}let va=(()=>{class _ extends es{constructor(){super("facebook.com")}static credential(m){return Ji._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return _.credential(m.oauthAccessToken)}catch{return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),fl=(()=>{class _ extends es{constructor(){super("google.com"),this.addScope("profile")}static credential(m,E){return Ji._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:E})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:E,oauthAccessToken:A}=m;if(!E&&!A)return null;try{return _.credential(E,A)}catch{return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),Uu=(()=>{class _ extends es{constructor(){super("github.com")}static credential(m){return Ji._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return _.credential(m.oauthAccessToken)}catch{return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class Vi extends Ir{constructor(f,m){super(f,f),this.pendingToken=m}_getIdTokenResponse(f){return or(f,this.buildRequest())}_linkToIdToken(f,m){const E=this.buildRequest();return E.idToken=m,or(f,E)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,or(f,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:E,signInMethod:A,pendingToken:P}=m;return E&&A&&P&&E===A?new Vi(E,P):null}static _create(f,m){return new Vi(f,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ui extends Xi{constructor(f){B(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return ui.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return ui.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const m=Vi.fromJSON(f);return B(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:m,providerId:E}=f;if(!m||!E)return null;try{return Vi._create(E,m)}catch{return null}}}let Xr=(()=>{class _ extends es{constructor(){super("twitter.com")}static credential(m,E){return Ji._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:E})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:E,oauthTokenSecret:A}=m;if(!E||!A)return null;try{return _.credential(E,A)}catch{return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function Mo(_,f){return od.apply(this,arguments)}function od(){return(od=(0,u.Z)(function*(_,f){return Yr(_,"POST","/v1/accounts:signUp",Ft(_,f))})).apply(this,arguments)}class Cr{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,m,E,A=!1){return(0,u.Z)(function*(){const P=yield Ut._fromIdTokenResponse(f,E,A),z=nf(E);return new Cr({user:P,providerId:z,_tokenResponse:E,operationType:m})})()}static _forOperation(f,m,E){return(0,u.Z)(function*(){yield f._updateTokensIfNecessary(E,!0);const A=nf(E);return new Cr({user:f,providerId:A,_tokenResponse:E,operationType:m})})()}}function nf(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function Pn(){return(Pn=(0,u.Z)(function*(_){var f;const m=Tn(_);if(yield m._initializationPromise,null!==(f=m.currentUser)&&void 0!==f&&f.isAnonymous)return new Cr({user:m.currentUser,providerId:null,operationType:"signIn"});const E=yield Mo(m,{returnSecureToken:!0}),A=yield Cr._fromIdTokenResponse(m,"signIn",E,!0);return yield m._updateCurrentUser(A.user),A})).apply(this,arguments)}class pl extends O.ZR{constructor(f,m,E,A){var P;super(m.code,m.message),this.operationType=E,this.user=A,Object.setPrototypeOf(this,pl.prototype),this.customData={appName:f.name,tenantId:null!==(P=f.tenantId)&&void 0!==P?P:void 0,_serverResponse:m.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(f,m,E,A){return new pl(f,m,E,A)}}function sf(_,f,m,E){return("reauthenticate"===f?m._getReauthenticationResolver(_):m._getIdTokenResponse(_)).catch(P=>{throw"auth/multi-factor-auth-required"===P.code?pl._fromErrorAndOperation(_,P,f,E):P})}function ci(_){return new Set(_.map(({providerId:f})=>f).filter(f=>!!f))}function gl(){return(gl=(0,u.Z)(function*(_,f){const m=(0,O.m9)(_);yield Yt(!0,m,f);const{providerUserInfo:E}=yield Nr(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[f]}),A=ci(E||[]);return m.providerData=m.providerData.filter(P=>A.has(P.providerId)),A.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function xo(_,f){return ns.apply(this,arguments)}function ns(){return(ns=(0,u.Z)(function*(_,f,m=!1){const E=yield br(_,f._linkToIdToken(_.auth,yield _.getIdToken()),m);return Cr._forOperation(_,"link",E)})).apply(this,arguments)}function Yt(_,f,m){return ml.apply(this,arguments)}function ml(){return(ml=(0,u.Z)(function*(_,f,m){yield nn(f);const A=!1===_?"provider-already-linked":"no-such-provider";B(ci(f.providerData).has(m)===_,f.auth,A)})).apply(this,arguments)}function Qs(_,f){return yl.apply(this,arguments)}function yl(){return(yl=(0,u.Z)(function*(_,f,m=!1){var E;const{auth:A}=_,P="reauthenticate";try{const z=yield br(_,sf(A,P,f,_),m);B(z.idToken,A,"internal-error");const ue=lt(z.idToken);B(ue,A,"internal-error");const{sub:Fe}=ue;return B(_.uid===Fe,A,"user-mismatch"),Cr._forOperation(_,P,z)}catch(z){throw"auth/user-not-found"===(null===(E=z)||void 0===E?void 0:E.code)&&Me(A,"user-mismatch"),z}})).apply(this,arguments)}function Si(_,f){return _l.apply(this,arguments)}function _l(){return(_l=(0,u.Z)(function*(_,f,m=!1){const E="signIn",A=yield sf(_,E,f),P=yield Cr._fromIdTokenResponse(_,E,A);return m||(yield _._updateCurrentUser(P.user)),P})).apply(this,arguments)}function xn(_,f){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,u.Z)(function*(_,f){return Si(Tn(_),f)})).apply(this,arguments)}function vl(_,f){return af.apply(this,arguments)}function af(){return(af=(0,u.Z)(function*(_,f){const m=(0,O.m9)(_);return yield Yt(!1,m,f.providerId),xo(m,f)})).apply(this,arguments)}function El(_,f){return wl.apply(this,arguments)}function wl(){return(wl=(0,u.Z)(function*(_,f){return Qs((0,O.m9)(_),f)})).apply(this,arguments)}function Bu(_,f){return rs.apply(this,arguments)}function rs(){return(rs=(0,u.Z)(function*(_,f){return Yr(_,"POST","/v1/accounts:signInWithCustomToken",Ft(_,f))})).apply(this,arguments)}function Ea(){return(Ea=(0,u.Z)(function*(_,f){const m=Tn(_),E=yield Bu(m,{token:f,returnSecureToken:!0}),A=yield Cr._fromIdTokenResponse(m,"signIn",E);return yield m._updateCurrentUser(A.user),A})).apply(this,arguments)}class Te{constructor(f,m){this.factorId=f,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(f,m){return"phoneInfo"in m?qt._fromServerResponse(f,m):Me(f,"internal-error")}}class qt extends Te{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,m){return new qt(m)}}function bl(_,f,m){var E;B((null===(E=m.url)||void 0===E?void 0:E.length)>0,_,"invalid-continue-uri"),B(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),f.continueUrl=m.url,f.dynamicLinkDomain=m.dynamicLinkDomain,f.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(B(m.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),f.iOSBundleId=m.iOS.bundleId),m.android&&(B(m.android.packageName.length>0,_,"missing-android-pkg-name"),f.androidInstallApp=m.android.installApp,f.androidMinimumVersionCode=m.android.minimumVersion,f.androidPackageName=m.android.packageName)}function On(){return(On=(0,u.Z)(function*(_,f,m){const E=(0,O.m9)(_),A={requestType:"PASSWORD_RESET",email:f};m&&bl(E,A,m),yield fr(E,A)})).apply(this,arguments)}function No(){return(No=(0,u.Z)(function*(_,f,m){yield Un((0,O.m9)(_),{oobCode:f,newPassword:m})})).apply(this,arguments)}function wa(){return(wa=(0,u.Z)(function*(_,f){yield Ru((0,O.m9)(_),{oobCode:f})})).apply(this,arguments)}function ba(_,f){return Hu.apply(this,arguments)}function Hu(){return(Hu=(0,u.Z)(function*(_,f){const m=(0,O.m9)(_),E=yield Un(m,{oobCode:f}),A=E.requestType;switch(B(A,m,"internal-error"),A){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":B(E.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":B(E.mfaInfo,m,"internal-error");default:B(E.email,m,"internal-error")}let P=null;return E.mfaInfo&&(P=Te._fromServerResponse(Tn(m),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:P},operation:A}})).apply(this,arguments)}function ad(){return(ad=(0,u.Z)(function*(_,f){const{data:m}=yield ba((0,O.m9)(_),f);return m.email})).apply(this,arguments)}function Rn(){return(Rn=(0,u.Z)(function*(_,f,m){const E=Tn(_),A=yield Mo(E,{returnSecureToken:!0,email:f,password:m}),P=yield Cr._fromIdTokenResponse(E,"signIn",A);return yield E._updateCurrentUser(P.user),P})).apply(this,arguments)}function Js(){return(Js=(0,u.Z)(function*(_,f,m){const E=(0,O.m9)(_),A={requestType:"EMAIL_SIGNIN",email:f};B(m.handleCodeInApp,E,"argument-error"),m&&bl(E,A,m),yield cl(E,A)})).apply(this,arguments)}function Ca(){return(Ca=(0,u.Z)(function*(_,f,m){const E=(0,O.m9)(_),A=Li.credentialWithLink(f,m||Oe());return B(A._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),xn(E,A)})).apply(this,arguments)}function dg(_,f){return zu.apply(this,arguments)}function zu(){return(zu=(0,u.Z)(function*(_,f){return gn(_,"POST","/v1/accounts:createAuthUri",Ft(_,f))})).apply(this,arguments)}function Da(){return(Da=(0,u.Z)(function*(_,f){const E={identifier:f,continueUri:mt()?Oe():"http://localhost"},{signinMethods:A}=yield dg((0,O.m9)(_),E);return A||[]})).apply(this,arguments)}function Ta(){return(Ta=(0,u.Z)(function*(_,f){const m=(0,O.m9)(_),A={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};f&&bl(m.auth,A,f);const{email:P}=yield Mn(m.auth,A);P!==_.email&&(yield _.reload())})).apply(this,arguments)}function Tl(){return(Tl=(0,u.Z)(function*(_,f,m){const E=(0,O.m9)(_),P={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:f};m&&bl(E.auth,P,m);const{email:z}=yield Fu(E.auth,P);z!==_.email&&(yield _.reload())})).apply(this,arguments)}function Sl(_,f){return Zu.apply(this,arguments)}function Zu(){return(Zu=(0,u.Z)(function*(_,f){return gn(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Yu(){return(Yu=(0,u.Z)(function*(_,{displayName:f,photoURL:m}){if(void 0===f&&void 0===m)return;const E=(0,O.m9)(_),P={idToken:yield E.getIdToken(),displayName:f,photoUrl:m,returnSecureToken:!0},z=yield br(E,Sl(E.auth,P));E.displayName=z.displayName||null,E.photoURL=z.photoUrl||null;const ue=E.providerData.find(({providerId:Fe})=>"password"===Fe);ue&&(ue.displayName=E.displayName,ue.photoURL=E.photoURL),yield E._updateTokensIfNecessary(z)})).apply(this,arguments)}function eo(_,f,m){return Al.apply(this,arguments)}function Al(){return(Al=(0,u.Z)(function*(_,f,m){const{auth:E}=_,P={idToken:yield _.getIdToken(),returnSecureToken:!0};f&&(P.email=f),m&&(P.password=m);const z=yield br(_,fn(E,P));yield _._updateTokensIfNecessary(z,!0)})).apply(this,arguments)}class ei{constructor(f,m,E={}){this.isNewUser=f,this.providerId=m,this.profile=E}}class In extends ei{constructor(f,m,E,A){super(f,m,E),this.username=A}}class ud extends ei{constructor(f,m){super(f,"facebook.com",m)}}class Qu extends In{constructor(f,m){super(f,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class lf extends ei{constructor(f,m){super(f,"google.com",m)}}class Ju extends In{constructor(f,m,E){super(f,"twitter.com",m,E)}}function Ml(_){const{user:f,_tokenResponse:m}=_;return f.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function ar(_){var f,m;if(!_)return null;const{providerId:E}=_,A=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},P=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!E&&_?.idToken){const z=null===(m=null===(f=lt(_.idToken))||void 0===f?void 0:f.firebase)||void 0===m?void 0:m.sign_in_provider;if(z)return new ei(P,"anonymous"!==z&&"custom"!==z?z:null)}if(!E)return null;switch(E){case"facebook.com":return new ud(P,A);case"github.com":return new Qu(P,A);case"google.com":return new lf(P,A);case"twitter.com":return new Ju(P,A,_.screenName||null);case"custom":case"anonymous":return new ei(P,null);default:return new ei(P,E,A)}}(m)}class no{constructor(f,m,E){this.type=f,this.credential=m,this.auth=E}static _fromIdtoken(f,m){return new no("enroll",f,m)}static _fromMfaPendingCredential(f){return new no("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var m,E;if(f?.multiFactorSession){if(null!==(m=f.multiFactorSession)&&void 0!==m&&m.pendingCredential)return no._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(E=f.multiFactorSession)&&void 0!==E&&E.idToken)return no._fromIdtoken(f.multiFactorSession.idToken)}return null}}class Nl{constructor(f,m,E){this.session=f,this.hints=m,this.signInResolver=E}static _fromError(f,m){const E=Tn(f),A=m.customData._serverResponse,P=(A.mfaInfo||[]).map(ue=>Te._fromServerResponse(E,ue));B(A.mfaPendingCredential,E,"internal-error");const z=no._fromMfaPendingCredential(A.mfaPendingCredential);return new Nl(z,P,function(){var ue=(0,u.Z)(function*(Fe){const Je=yield Fe._process(E,z);delete A.mfaInfo,delete A.mfaPendingCredential;const vt=Object.assign(Object.assign({},A),{idToken:Je.idToken,refreshToken:Je.refreshToken});switch(m.operationType){case"signIn":const _t=yield Cr._fromIdTokenResponse(E,m.operationType,vt);return yield E._updateCurrentUser(_t.user),_t;case"reauthenticate":return B(m.user,E,"internal-error"),Cr._forOperation(m.user,m.operationType,vt);default:Me(E,"internal-error")}});return function(Fe){return ue.apply(this,arguments)}}())}resolveSignIn(f){var m=this;return(0,u.Z)(function*(){return m.signInResolver(f)})()}}function Pl(_,f){return gn(_,"POST","/v2/accounts/mfaEnrollment:start",Ft(_,f))}class uf{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(E=>Te._fromServerResponse(f.auth,E)))})}static _fromUser(f){return new uf(f)}getSession(){var f=this;return(0,u.Z)(function*(){return no._fromIdtoken(yield f.user.getIdToken(),f.user.auth)})()}enroll(f,m){var E=this;return(0,u.Z)(function*(){const A=f,P=yield E.getSession(),z=yield br(E.user,A._process(E.user.auth,P,m));return yield E.user._updateTokensIfNecessary(z),E.user.reload()})()}unenroll(f){var m=this;return(0,u.Z)(function*(){var E;const A="string"==typeof f?f:f.uid,P=yield m.user.getIdToken(),z=yield br(m.user,function fd(_,f){return gn(_,"POST","/v2/accounts/mfaEnrollment:withdraw",Ft(_,f))}(m.user.auth,{idToken:P,mfaEnrollmentId:A}));m.enrolledFactors=m.enrolledFactors.filter(({uid:ue})=>ue!==A),yield m.user._updateTokensIfNecessary(z);try{yield m.user.reload()}catch(ue){if("auth/user-token-expired"!==(null===(E=ue)||void 0===E?void 0:E.code))throw ue}})()}}const ro=new WeakMap,io="__sak";class Rl{constructor(f,m){this.storageRetriever=f,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(io,"1"),this.storage.removeItem(io),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,m){return this.storage.setItem(f,JSON.stringify(m)),Promise.resolve()}_get(f){const m=this.storage.getItem(f);return Promise.resolve(m?JSON.parse(m):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const Aa=(()=>{class _ extends Rl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,E)=>this.onStorageEvent(m,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Sa(){const _=(0,O.z$)();return ht(_)||$t(_)}()&&function bn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Zs(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const E of Object.keys(this.listeners)){const A=this.storage.getItem(E),P=this.localCache[E];A!==P&&m(E,P,A)}}onStorageEvent(m,E=!1){if(!m.key)return void this.forAllChangedKeys((ue,Fe,Je)=>{this.notifyListeners(ue,Je)});const A=m.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ue=this.storage.getItem(A);if(m.newValue!==ue)null!==m.newValue?this.storage.setItem(A,m.newValue):this.storage.removeItem(A);else if(this.localCache[A]===m.newValue&&!E)return}const P=()=>{const ue=this.storage.getItem(A);!E&&this.localCache[A]===ue||this.notifyListeners(A,ue)},z=this.storage.getItem(A);!function sr(){return(0,O.w1)()&&10===document.documentMode}()||z===m.newValue||m.newValue===m.oldValue?P():setTimeout(P,10)}notifyListeners(m,E){this.localCache[m]=E;const A=this.listeners[m];if(A)for(const P of Array.from(A))P(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,E,A)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:E,newValue:A}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(E)}_removeListener(m,E){this.listeners[m]&&(this.listeners[m].delete(E),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,E){var A=()=>super._set,P=this;return(0,u.Z)(function*(){yield A().call(P,m,E),P.localCache[m]=JSON.stringify(E)})()}_get(m){var E=()=>super._get,A=this;return(0,u.Z)(function*(){const P=yield E().call(A,m);return A.localCache[m]=JSON.stringify(P),P})()}_remove(m){var E=()=>super._remove,A=this;return(0,u.Z)(function*(){yield E().call(A,m),delete A.localCache[m]})()}}return _.type="LOCAL",_})(),Bi=(()=>{class _ extends Rl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,E){}_removeListener(m,E){}}return _.type="SESSION",_})();let md=(()=>{class _{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const E=this.receivers.find(P=>P.isListeningto(m));if(E)return E;const A=new _(m);return this.receivers.push(A),A}isListeningto(m){return this.eventTarget===m}handleEvent(m){var E=this;return(0,u.Z)(function*(){const A=m,{eventId:P,eventType:z,data:ue}=A.data,Fe=E.handlersMap[z];if(!Fe?.size)return;A.ports[0].postMessage({status:"ack",eventId:P,eventType:z});const Je=Array.from(Fe).map(function(){var _t=(0,u.Z)(function*(Xn){return Xn(A.origin,ue)});return function(Xn){return _t.apply(this,arguments)}}()),vt=yield function xa(_){return Promise.all(_.map(function(){var f=(0,u.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(E){return{fulfilled:!1,reason:E}}});return function(m){return f.apply(this,arguments)}}()))}(Je);A.ports[0].postMessage({status:"done",eventId:P,eventType:z,response:vt})})()}_subscribe(m,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(E)}_unsubscribe(m,E){this.handlersMap[m]&&E&&this.handlersMap[m].delete(E),(!E||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function Na(_="",f=10){let m="";for(let E=0;E<f;E++)m+=Math.floor(10*Math.random());return _+m}class Xu{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,m,E=50){var A=this;return(0,u.Z)(function*(){const P=typeof MessageChannel<"u"?new MessageChannel:null;if(!P)throw new Error("connection_unavailable");let z,ue;return new Promise((Fe,Je)=>{const vt=Na("",20);P.port1.start();const _t=setTimeout(()=>{Je(new Error("unsupported_event"))},E);ue={messageChannel:P,onMessage(Xn){const Nn=Xn;if(Nn.data.eventId===vt)switch(Nn.data.status){case"ack":clearTimeout(_t),z=setTimeout(()=>{Je(new Error("timeout"))},3e3);break;case"done":clearTimeout(z),Fe(Nn.data.response);break;default:clearTimeout(_t),clearTimeout(z),Je(new Error("invalid_response"))}}},A.handlers.add(ue),P.port1.addEventListener("message",ue.onMessage),A.target.postMessage({eventType:f,eventId:vt,data:m},[P.port2])}).finally(()=>{ue&&A.removeMessageHandler(ue)})})()}}function Bn(){return window}function kl(){return typeof Bn().WorkerGlobalScope<"u"&&"function"==typeof Bn().importScripts}function Pa(){return(Pa=(0,u.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Rs="firebaseLocalStorageDb",ks="firebaseLocalStorage",Vl="fbase_key";class oo{constructor(f){this.request=f}toPromise(){return new Promise((f,m)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Oa(_,f){return _.transaction([ks],f?"readwrite":"readonly").objectStore(ks)}function ko(){const _=indexedDB.open(Rs,1);return new Promise((f,m)=>{_.addEventListener("error",()=>{m(_.error)}),_.addEventListener("upgradeneeded",()=>{const E=_.result;try{E.createObjectStore(ks,{keyPath:Vl})}catch(A){m(A)}}),_.addEventListener("success",(0,u.Z)(function*(){const E=_.result;E.objectStoreNames.contains(ks)?f(E):(E.close(),yield function _d(){const _=indexedDB.deleteDatabase(Rs);return new oo(_).toPromise()}(),f(yield ko()))}))})}function ss(_,f,m){return ec.apply(this,arguments)}function ec(){return(ec=(0,u.Z)(function*(_,f,m){const E=Oa(_,!0).put({[Vl]:f,value:m});return new oo(E).toPromise()})).apply(this,arguments)}function Ra(){return(Ra=(0,u.Z)(function*(_,f){const m=Oa(_,!1).get(f),E=yield new oo(m).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function ao(_,f){const m=Oa(_,!0).delete(f);return new oo(m).toPromise()}const Fo=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,u.Z)(function*(){return m.db||(m.db=yield ko()),m.db})()}_withRetries(m){var E=this;return(0,u.Z)(function*(){let A=0;for(;;)try{const P=yield E._openDb();return yield m(P)}catch(P){if(A++>3)throw P;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,u.Z)(function*(){return kl()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,u.Z)(function*(){m.receiver=md._getInstance(function Ll(){return kl()?self:null}()),m.receiver._subscribe("keyChanged",function(){var E=(0,u.Z)(function*(A,P){return{keyProcessed:(yield m._poll()).includes(P.key)}});return function(A,P){return E.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var E=(0,u.Z)(function*(A,P){return["keyChanged"]});return function(A,P){return E.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,u.Z)(function*(){var E,A;if(m.activeServiceWorker=yield function so(){return Pa.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Xu(m.activeServiceWorker);const P=yield m.sender._send("ping",{},800);!P||(null===(E=P[0])||void 0===E?void 0:E.fulfilled)&&(null===(A=P[0])||void 0===A?void 0:A.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var E=this;return(0,u.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function Fl(){var _;return(null===(_=navigator?.serviceWorker)||void 0===_?void 0:_.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:m},E.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const m=yield ko();return yield ss(m,io,"1"),yield ao(m,io),!0}catch{}return!1})()}_withPendingWrite(m){var E=this;return(0,u.Z)(function*(){E.pendingWrites++;try{yield m()}finally{E.pendingWrites--}})()}_set(m,E){var A=this;return(0,u.Z)(function*(){return A._withPendingWrite((0,u.Z)(function*(){return yield A._withRetries(P=>ss(P,m,E)),A.localCache[m]=E,A.notifyServiceWorker(m)}))})()}_get(m){var E=this;return(0,u.Z)(function*(){const A=yield E._withRetries(P=>function Ul(_,f){return Ra.apply(this,arguments)}(P,m));return E.localCache[m]=A,A})()}_remove(m){var E=this;return(0,u.Z)(function*(){return E._withPendingWrite((0,u.Z)(function*(){return yield E._withRetries(A=>ao(A,m)),delete E.localCache[m],E.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,u.Z)(function*(){const E=yield m._withRetries(z=>{const ue=Oa(z,!1).getAll();return new oo(ue).toPromise()});if(!E)return[];if(0!==m.pendingWrites)return[];const A=[],P=new Set;for(const{fbase_key:z,value:ue}of E)P.add(z),JSON.stringify(m.localCache[z])!==JSON.stringify(ue)&&(m.notifyListeners(z,ue),A.push(z));for(const z of Object.keys(m.localCache))m.localCache[z]&&!P.has(z)&&(m.notifyListeners(z,null),A.push(z));return A})()}notifyListeners(m,E){this.localCache[m]=E;const A=this.listeners[m];if(A)for(const P of Array.from(A))P(E)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(E)}_removeListener(m,E){this.listeners[m]&&(this.listeners[m].delete(E),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function Lo(_,f){return gn(_,"POST","/v2/accounts/mfaSignIn:start",Ft(_,f))}function Fs(){return(Fs=(0,u.Z)(function*(_){return(yield gn(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Uo(_){return new Promise((f,m)=>{const E=document.createElement("script");E.setAttribute("src",_),E.onload=f,E.onerror=A=>{const P=Ee("internal-error");P.customData=A,m(P)},E.type="text/javascript",E.charset="UTF-8",function Vo(){var _,f;return null!==(f=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==f?f:document}().appendChild(E)})}function Hl(_){return`__${_}${Math.floor(1e6*Math.random())}`}const ka=1e12;class En{constructor(f){this.auth=f,this.counter=ka,this._widgets=new Map}render(f,m){const E=this.counter;return this._widgets.set(E,new hg(f,this.auth.name,m||{})),this.counter++,E}reset(f){var m;const E=f||ka;null===(m=this._widgets.get(E))||void 0===m||m.delete(),this._widgets.delete(E)}getResponse(f){var m;return(null===(m=this._widgets.get(f||ka))||void 0===m?void 0:m.getResponse())||""}execute(f){var m=this;return(0,u.Z)(function*(){var E;return null===(E=m._widgets.get(f||ka))||void 0===E||E.execute(),""})()}}class hg{constructor(f,m,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const A="string"==typeof f?document.getElementById(f):f;B(A,"argument-error",{appName:m}),this.container=A,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Wy(_){const f=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<_;E++)f.push(m.charAt(Math.floor(Math.random()*m.length)));return f.join("")}(50);const{callback:f,"expired-callback":m}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const fg=Hl("rcb"),Zy=new hn(3e4,6e4);class cf{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=Bn().grecaptcha)||void 0===f||!f.render)}load(f,m=""){return B(function yE(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(m),f,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(Bn().grecaptcha):new Promise((E,A)=>{const P=Bn().setTimeout(()=>{A(Ee(f,"network-request-failed"))},Zy.get());Bn()[fg]=()=>{Bn().clearTimeout(P),delete Bn()[fg];const ue=Bn().grecaptcha;if(!ue)return void A(Ee(f,"internal-error"));const Fe=ue.render;ue.render=(Je,vt)=>{const _t=Fe(Je,vt);return this.counter++,_t},this.hostLanguage=m,E(ue)},Uo(`https://www.google.com/recaptcha/api.js??${(0,O.xO)({onload:fg,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(P),A(Ee(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var m;return!(null===(m=Bn().grecaptcha)||void 0===m||!m.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Fa{load(f){return(0,u.Z)(function*(){return new En(f)})()}clearedOneInstance(){}}const pg="recaptcha",gg={theme:"light",type:"image"};class gr{constructor(f,m=Object.assign({},gg),E){this.parameters=m,this.type=pg,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Tn(E),this.isInvisible="invisible"===this.parameters.size,B(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const A="string"==typeof f?document.getElementById(f):f;B(A,this.auth,"argument-error"),this.container=A,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Fa:new cf,this.validateStartingState()}verify(){var f=this;return(0,u.Z)(function*(){f.assertNotDestroyed();const m=yield f.render(),E=f.getAssertedRecaptcha();return E.getResponse(m)||new Promise(P=>{const z=ue=>{!ue||(f.tokenChangeListeners.delete(z),P(ue))};f.tokenChangeListeners.add(z),f.isInvisible&&E.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){B(!this.parameters.sitekey,this.auth,"argument-error"),B(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),B(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return m=>{if(this.tokenChangeListeners.forEach(E=>E(m)),"function"==typeof f)f(m);else if("string"==typeof f){const E=Bn()[f];"function"==typeof E&&E(m)}}}assertNotDestroyed(){B(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,u.Z)(function*(){if(yield f.init(),!f.widgetId){let m=f.container;if(!f.isInvisible){const E=document.createElement("div");m.appendChild(E),m=E}f.widgetId=f.getAssertedRecaptcha().render(m,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,u.Z)(function*(){B(mt()&&!kl(),f.auth,"internal-error"),yield function ni(){let _=null;return new Promise(f=>{"complete"!==document.readyState?(_=()=>f(),window.addEventListener("load",_)):f()}).catch(f=>{throw _&&window.removeEventListener("load",_),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const m=yield function ti(_){return Fs.apply(this,arguments)}(f.auth);B(m,f.auth,"internal-error"),f.parameters.sitekey=m})()}getAssertedRecaptcha(){return B(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class sn{constructor(f,m){this.verificationId=f,this.onConfirmation=m}confirm(f){const m=xs._fromVerification(this.verificationId,f);return this.onConfirmation(m)}}function rt(){return(rt=(0,u.Z)(function*(_,f,m){const E=Tn(_),A=yield Dr(E,f,(0,O.m9)(m));return new sn(A,P=>xn(E,P))})).apply(this,arguments)}function Fn(){return(Fn=(0,u.Z)(function*(_,f,m){const E=(0,O.m9)(_);yield Yt(!1,E,"phone");const A=yield Dr(E.auth,f,(0,O.m9)(m));return new sn(A,P=>vl(E,P))})).apply(this,arguments)}function as(){return(as=(0,u.Z)(function*(_,f,m){const E=(0,O.m9)(_),A=yield Dr(E.auth,f,(0,O.m9)(m));return new sn(A,P=>El(E,P))})).apply(this,arguments)}function Dr(_,f,m){return $l.apply(this,arguments)}function $l(){return($l=(0,u.Z)(function*(_,f,m){var E;const A=yield m.verify();try{let P;if(B("string"==typeof A,_,"argument-error"),B(m.type===pg,_,"argument-error"),P="string"==typeof f?{phoneNumber:f}:f,"session"in P){const z=P.session;if("phoneNumber"in P)return B("enroll"===z.type,_,"internal-error"),(yield Pl(_,{idToken:z.credential,phoneEnrollmentInfo:{phoneNumber:P.phoneNumber,recaptchaToken:A}})).phoneSessionInfo.sessionInfo;{B("signin"===z.type,_,"internal-error");const ue=(null===(E=P.multiFactorHint)||void 0===E?void 0:E.uid)||P.multiFactorUid;return B(ue,_,"missing-multi-factor-info"),(yield Lo(_,{mfaPendingCredential:z.credential,mfaEnrollmentId:ue,phoneSignInInfo:{recaptchaToken:A}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:z}=yield ag(_,{phoneNumber:P.phoneNumber,recaptchaToken:A});return z}}finally{m._reset()}})).apply(this,arguments)}function nc(){return(nc=(0,u.Z)(function*(_,f){yield xo((0,O.m9)(_),f)})).apply(this,arguments)}let Gl=(()=>{class _{constructor(m){this.providerId=_.PROVIDER_ID,this.auth=Tn(m)}verifyPhoneNumber(m,E){return Dr(this.auth,m,(0,O.m9)(E))}static credential(m,E){return xs._fromVerification(m,E)}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:E,temporaryProof:A}=m;return E&&A?xs._fromTokenResponse(E,A):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function uo(_,f){return f?ne(f):(B(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class zl extends Ir{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return or(f,this._buildIdpRequest())}_linkToIdToken(f,m){return or(f,this._buildIdpRequest(m))}_getReauthenticationResolver(f){return or(f,this._buildIdpRequest())}_buildIdpRequest(f){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(m.idToken=f),m}}function mr(_){return Si(_.auth,new zl(_),_.bypassAuthState)}function bt(_){const{auth:f,user:m}=_;return B(m,f,"internal-error"),Qs(m,new zl(_),_.bypassAuthState)}function Ls(_){return ql.apply(this,arguments)}function ql(){return(ql=(0,u.Z)(function*(_){const{auth:f,user:m}=_;return B(m,f,"internal-error"),xo(m,new zl(_),_.bypassAuthState)})).apply(this,arguments)}class Ho{constructor(f,m,E,A,P=!1){this.auth=f,this.resolver=E,this.user=A,this.bypassAuthState=P,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var f=this;return new Promise(function(){var m=(0,u.Z)(function*(E,A){f.pendingPromise={resolve:E,reject:A};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(P){f.reject(P)}});return function(E,A){return m.apply(this,arguments)}}())}onAuthEvent(f){var m=this;return(0,u.Z)(function*(){const{urlResponse:E,sessionId:A,postBody:P,tenantId:z,error:ue,type:Fe}=f;if(ue)return void m.reject(ue);const Je={auth:m.auth,requestUri:E,sessionId:A,tenantId:z||void 0,postBody:P||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Fe)(Je))}catch(vt){m.reject(vt)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return mr;case"linkViaPopup":case"linkViaRedirect":return Ls;case"reauthViaPopup":case"reauthViaRedirect":return bt;default:Me(this.auth,"internal-error")}}resolve(f){W(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){W(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Wl=new hn(2e3,1e4);function La(){return(La=(0,u.Z)(function*(_,f,m){const E=Tn(_);Be(_,f,Xi);const A=uo(E,m);return new $o(E,"signInViaPopup",f,A).executeNotNull()})).apply(this,arguments)}function Ed(){return(Ed=(0,u.Z)(function*(_,f,m){const E=(0,O.m9)(_);Be(E.auth,f,Xi);const A=uo(E.auth,m);return new $o(E.auth,"reauthViaPopup",f,A,E).executeNotNull()})).apply(this,arguments)}function ls(){return(ls=(0,u.Z)(function*(_,f,m){const E=(0,O.m9)(_);Be(E.auth,f,Xi);const A=uo(E.auth,m);return new $o(E.auth,"linkViaPopup",f,A,E).executeNotNull()})).apply(this,arguments)}let $o=(()=>{class _ extends Ho{constructor(m,E,A,P,z){super(m,E,P,z),this.provider=A,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var m=this;return(0,u.Z)(function*(){const E=yield m.execute();return B(E,m.auth,"internal-error"),E})()}onExecution(){var m=this;return(0,u.Z)(function*(){W(1===m.filter.length,"Popup operations only handle one event");const E=Na();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],E),m.authWindow.associatedEvent=E,m.resolver._originValidation(m.auth).catch(A=>{m.reject(A)}),m.resolver._isIframeWebStorageSupported(m.auth,A=>{A||m.reject(Ee(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Ee(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const m=()=>{var E,A;this.pollId=null!==(A=null===(E=this.authWindow)||void 0===E?void 0:E.window)&&void 0!==A&&A.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ee(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,Wl.get())};m()}}return _.currentPopupAction=null,_})();const ri=new Map;class Zl extends Ho{constructor(f,m,E=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,E),this.eventId=null}execute(){var f=()=>super.execute,m=this;return(0,u.Z)(function*(){let E=ri.get(m.auth._key());if(!E){try{const P=(yield function Kl(_,f){return Mi.apply(this,arguments)}(m.resolver,m.auth))?yield f().call(m):null;E=()=>Promise.resolve(P)}catch(A){E=()=>Promise.reject(A)}ri.set(m.auth._key(),E)}return m.bypassAuthState||ri.set(m.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(f){var m=()=>super.onAuthEvent,E=this;return(0,u.Z)(function*(){if("signInViaRedirect"===f.type)return m().call(E,f);if("unknown"!==f.type){if(f.eventId){const A=yield E.auth._redirectUserForId(f.eventId);if(A)return E.user=A,m().call(E,f);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function Mi(){return(Mi=(0,u.Z)(function*(_,f){const m=rc(f),E=ji(_);if(!(yield E._isAvailable()))return!1;const A="true"===(yield E._get(m));return yield E._remove(m),A})).apply(this,arguments)}function ho(_,f){return Or.apply(this,arguments)}function Or(){return(Or=(0,u.Z)(function*(_,f){return ji(_)._set(rc(f),"true")})).apply(this,arguments)}function jn(_,f){ri.set(_._key(),f)}function ji(_){return ne(_._redirectPersistence)}function rc(_){return Z("pendingRedirect",_.config.apiKey,_.name)}function C(){return(C=(0,u.Z)(function*(_,f,m){const E=Tn(_);Be(_,f,Xi);const A=uo(E,m);return yield ho(A,E),A._openRedirect(E,f,"signInViaRedirect")})).apply(this,arguments)}function L(){return(L=(0,u.Z)(function*(_,f,m){const E=(0,O.m9)(_);Be(E.auth,f,Xi);const A=uo(E.auth,m);yield ho(A,E.auth);const P=yield ut(E);return A._openRedirect(E.auth,f,"reauthViaRedirect",P)})).apply(this,arguments)}function Ie(){return(Ie=(0,u.Z)(function*(_,f,m){const E=(0,O.m9)(_);Be(E.auth,f,Xi);const A=uo(E.auth,m);yield Yt(!1,E,f.providerId),yield ho(A,E.auth);const P=yield ut(E);return A._openRedirect(E.auth,f,"linkViaRedirect",P)})).apply(this,arguments)}function Qe(){return(Qe=(0,u.Z)(function*(_,f){return yield Tn(_)._initializationPromise,ft(_,f,!1)})).apply(this,arguments)}function ft(_,f){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,u.Z)(function*(_,f,m=!1){const E=Tn(_),A=uo(E,f),z=yield new Zl(E,A,m).execute();return z&&!m&&(delete z.user._redirectEventId,yield E._persistUserIfCurrent(z.user),yield E._setRedirectUser(null,f)),z})).apply(this,arguments)}function ut(_){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,u.Z)(function*(_){const f=Na(`${_.uid}:::`);return _._redirectEventId=f,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),f})).apply(this,arguments)}class Go{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let m=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(f,E)&&(m=!0,this.sendToConsumer(f,E),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function Ot(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return us(_);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=f,m=!0)),m}sendToConsumer(f,m){var E;if(f.error&&!us(f)){const A=(null===(E=f.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";m.onError(Ee(this.auth,A))}else m.onAuthEvent(f)}isEventForConsumer(f,m){const E=null===m.eventId||!!f.eventId&&f.eventId===m.eventId;return m.filter.includes(f.type)&&E}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(zo(f))}saveEventToCache(f){this.cachedEventUids.add(zo(f)),this.lastProcessedEventTime=Date.now()}}function zo(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(f=>f).join("-")}function us({type:_,error:f}){return"unknown"===_&&"auth/no-auth-event"===f?.code}function hi(_){return fo.apply(this,arguments)}function fo(){return(fo=(0,u.Z)(function*(_,f={}){return gn(_,"GET","/v1/projects",f)})).apply(this,arguments)}const xi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,po=/^https?/;function cs(){return(cs=(0,u.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:f}=yield hi(_);for(const m of f)try{if(yg(m))return}catch{}Me(_,"unauthorized-domain")})).apply(this,arguments)}function yg(_){const f=Oe(),{protocol:m,hostname:E}=new URL(f);if(_.startsWith("chrome-extension://")){const z=new URL(_);return""===z.hostname&&""===E?"chrome-extension:"===m&&_.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===m&&z.hostname===E}if(!po.test(m))return!1;if(xi.test(_))return E===_;const A=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+A+"|"+A+")$","i").test(E)}const _g=new hn(3e4,6e4);function ff(){const _=Bn().___jsl;if(_?.H)for(const f of Object.keys(_.H))if(_.H[f].r=_.H[f].r||[],_.H[f].L=_.H[f].L||[],_.H[f].r=[..._.H[f].L],_.CP)for(let m=0;m<_.CP.length;m++)_.CP[m]=null}let Yn=null;function qo(_){return Yn=Yn||function pf(_){return new Promise((f,m)=>{var E,A,P;function z(){ff(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{ff(),m(Ee(_,"network-request-failed"))},timeout:_g.get()})}if(null!==(A=null===(E=Bn().gapi)||void 0===E?void 0:E.iframes)&&void 0!==A&&A.Iframe)f(gapi.iframes.getContext());else{if(null===(P=Bn().gapi)||void 0===P||!P.load){const ue=Hl("iframefcb");return Bn()[ue]=()=>{gapi.load?z():m(Ee(_,"network-request-failed"))},Uo(`https://apis.google.com/js/api.js?onload=${ue}`).catch(Fe=>m(Fe))}z()}}).catch(f=>{throw Yn=null,f})}(_),Yn}const Id=new hn(5e3,15e3),Yy={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Cd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Qy(_){const f=_.config;B(f.authDomain,_,"auth-domain-config-required");const m=f.emulator?wn(f,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,E={apiKey:f.apiKey,appName:_.name,v:se.SDK_VERSION},A=Cd.get(_.config.apiHost);A&&(E.eid=A);const P=_._getFrameworks();return P.length&&(E.fw=P.join(",")),`${m}?${(0,O.xO)(E).slice(1)}`}function Yl(){return Yl=(0,u.Z)(function*(_){const f=yield qo(_),m=Bn().gapi;return B(m,_,"internal-error"),f.open({where:document.body,url:Qy(_),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Yy,dontclear:!0},E=>new Promise(function(){var A=(0,u.Z)(function*(P,z){yield E.restyle({setHideOnLeave:!1});const ue=Ee(_,"network-request-failed"),Fe=Bn().setTimeout(()=>{z(ue)},Id.get());function Je(){Bn().clearTimeout(Fe),P(E)}E.ping(Je).then(Je,()=>{z(ue)})});return function(P,z){return A.apply(this,arguments)}}()))}),Yl.apply(this,arguments)}const Dd={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class go{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ds(_,f,m,E,A,P){B(_.config.authDomain,_,"auth-domain-config-required"),B(_.config.apiKey,_,"invalid-api-key");const z={apiKey:_.config.apiKey,appName:_.name,authType:m,redirectUrl:E,v:se.SDK_VERSION,eventId:A};if(f instanceof Xi){f.setDefaultLanguage(_.languageCode),z.providerId=f.providerId||"",(0,O.xb)(f.getCustomParameters())||(z.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Fe,Je]of Object.entries(P||{}))z[Fe]=Je}if(f instanceof es){const Fe=f.getScopes().filter(Je=>""!==Je);Fe.length>0&&(z.scopes=Fe.join(","))}_.tenantId&&(z.tid=_.tenantId);const ue=z;for(const Fe of Object.keys(ue))void 0===ue[Fe]&&delete ue[Fe];return`${function Jy({config:_}){return _.emulator?wn(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,O.xO)(ue).slice(1)}`}const Ql="webStorageSupport";class hs extends class Sd{constructor(f){this.factorId=f}_process(f,m,E){switch(m.type){case"enroll":return this._finalizeEnroll(f,m.credential,E);case"signin":return this._finalizeSignIn(f,m.credential);default:return ge("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new hs(f)}_finalizeEnroll(f,m,E){return function Ol(_,f){return gn(_,"POST","/v2/accounts/mfaEnrollment:finalize",Ft(_,f))}(f,{idToken:m,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,m){return function jl(_,f){return gn(_,"POST","/v2/accounts/mfaSignIn:finalize",Ft(_,f))}(f,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Zo=(()=>{class _{constructor(){}static assertion(m){return hs._fromCredential(m)}}return _.FACTOR_ID="phone",_})();var sc="@firebase/auth",vf="0.20.10";class wg{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var m=this;return(0,u.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const m=this.auth.onIdTokenChanged(E=>{var A;f((null===(A=E)||void 0===A?void 0:A.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,m),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const m=this.internalListeners.get(f);!m||(this.internalListeners.delete(f),m(),this.updateProactiveRefresh())}assertAuthConfigured(){B(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ja(){return window}function Vs(){return(Vs=(0,u.Z)(function*(_,f,m){var E;const{BuildInfo:A}=ja();W(f.sessionId,"AuthEvent did not contain a session ID");const P=yield Ef(f.sessionId),z={};return $t()?z.ibi=A.packageName:Kt()?z.apn=A.packageName:Me(_,"operation-not-supported-in-this-environment"),A.displayName&&(z.appDisplayName=A.displayName),z.sessionId=P,ds(_,m,f.type,void 0,null!==(E=f.eventId)&&void 0!==E?E:void 0,z)})).apply(this,arguments)}function Us(){return(Us=(0,u.Z)(function*(_){const{BuildInfo:f}=ja(),m={};$t()?m.iosBundleId=f.packageName:Kt()?m.androidPackageName=f.packageName:Me(_,"operation-not-supported-in-this-environment"),yield hi(_,m)})).apply(this,arguments)}function Cg(){return(Cg=(0,u.Z)(function*(_,f,m){const{cordova:E}=ja();let A=()=>{};try{yield new Promise((P,z)=>{let ue=null;function Fe(){var _t;P();const Xn=null===(_t=E.plugins.browsertab)||void 0===_t?void 0:_t.close;"function"==typeof Xn&&Xn(),"function"==typeof m?.close&&m.close()}function Je(){ue||(ue=window.setTimeout(()=>{z(Ee(_,"redirect-cancelled-by-user"))},2e3))}function vt(){"visible"===document?.visibilityState&&Je()}f.addPassiveListener(Fe),document.addEventListener("resume",Je,!1),Kt()&&document.addEventListener("visibilitychange",vt,!1),A=()=>{f.removePassiveListener(Fe),document.removeEventListener("resume",Je,!1),document.removeEventListener("visibilitychange",vt,!1),ue&&window.clearTimeout(ue)}})}finally{A()}})).apply(this,arguments)}function Ef(_){return mo.apply(this,arguments)}function mo(){return(mo=(0,u.Z)(function*(_){const f=xd(_),m=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(m)).map(A=>A.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function xd(_){if(W(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(_);const f=new ArrayBuffer(_.length),m=new Uint8Array(f);for(let E=0;E<_.length;E++)m[E]=_.charCodeAt(E);return m}(0,O.Pz)("authIdTokenMaxAge"),function e_(_){(0,se._registerComponent)(new ae.wA("auth",(f,{options:m})=>{const E=f.getProvider("app").getImmediate(),A=f.getProvider("heartbeat"),{apiKey:P,authDomain:z}=E.options;return((ue,Fe)=>{B(P&&!P.includes(":"),"invalid-api-key",{appName:ue.name}),B(!z?.includes(":"),"argument-error",{appName:ue.name});const Je={apiKey:P,authDomain:z,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ds(_)},vt=new Bt(ue,Fe,Je);return function Re(_,f){const m=f?.persistence||[],E=(Array.isArray(m)?m:[m]).map(ne);f?.errorMap&&_._updateErrorMap(f.errorMap),_._initializeWithPersistence(E,f?.popupRedirectResolver)}(vt,m),vt})(E,A)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,m,E)=>{f.getProvider("auth-internal").initialize()})),(0,se._registerComponent)(new ae.wA("auth-internal",f=>{const m=Tn(f.getProvider("auth").getImmediate());return new wg(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,se.registerVersion)(sc,vf,function Xy(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,se.registerVersion)(sc,vf,"esm2017")}("Browser");class wf extends Go{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(f)),super.onEvent(f)}initialized(){var f=this;return(0,u.Z)(function*(){yield f.initPromise})()}}function Ha(_){return bf.apply(this,arguments)}function bf(){return(bf=(0,u.Z)(function*(_){const f=yield Nd()._get($a(_));return f&&(yield Nd()._remove($a(_))),f})).apply(this,arguments)}function lc(){const _=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const E=Math.floor(Math.random()*f.length);_.push(f.charAt(E))}return _.join("")}function Nd(){return ne(Aa)}function $a(_){return Z("authEvent",_.config.apiKey,_.name)}function Ga(_){if(!_?.includes("?"))return{};const[f,...m]=_.split("?");return(0,O.zd)(m.join("?"))}function Bs(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ee("no-auth-event")}}function Rd(){var _;return(null===(_=self?.location)||void 0===_?void 0:_.protocol)||null}function Jl(_=(0,O.z$)()){return!("file:"!==Rd()&&"ionic:"!==Rd()&&"capacitor:"!==Rd()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function Pg(){try{const _=self.localStorage,f=Na();if(_)return _.setItem(f,"1"),_.removeItem(f),!function Ng(_=(0,O.z$)()){return function Mg(){return(0,O.w1)()&&11===document?.documentMode}()||function xg(_=(0,O.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,O.hl)()}catch{return kd()&&(0,O.hl)()}return!1}function kd(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Fd(){return(function wE(){return"http:"===Rd()||"https:"===Rd()}()||(0,O.ru)()||Jl())&&!function Df(){return(0,O.b$)()||(0,O.UG)()}()&&Pg()&&!kd()}function Ld(){return Jl()&&typeof document<"u"}function Tf(){return(Tf=(0,u.Z)(function*(){return!!Ld()&&new Promise(_=>{const f=setTimeout(()=>{_(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),_(!0)})})})).apply(this,arguments)}const $r={LOCAL:"local",NONE:"none",SESSION:"session"},Ko=B,Gr="persistence";function eu(_){return qa.apply(this,arguments)}function qa(){return(qa=(0,u.Z)(function*(_){yield _._initializationPromise;const f=Hi(),m=Z(Gr,_.config.apiKey,_.name);f&&f.setItem(m,_._getPersistence())})).apply(this,arguments)}function Hi(){var _;try{return(null===(_=function Vd(){return typeof window<"u"?window:null}())||void 0===_?void 0:_.sessionStorage)||null}catch{return null}}const cc=B;class fi{constructor(){this.browserResolver=ne(class ic{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Bi,this._completeRedirectFn=ft,this._overrideRedirectResult=jn}_openPopup(f,m,E,A){var P=this;return(0,u.Z)(function*(){var z;W(null===(z=P.eventManagers[f._key()])||void 0===z?void 0:z.manager,"_initialize() not called before _openPopup()");const ue=ds(f,m,E,Oe(),A);return function mf(_,f,m,E=500,A=600){const P=Math.max((window.screen.availHeight-A)/2,0).toString(),z=Math.max((window.screen.availWidth-E)/2,0).toString();let ue="";const Fe=Object.assign(Object.assign({},Dd),{width:E.toString(),height:A.toString(),top:P,left:z}),Je=(0,O.z$)().toLowerCase();m&&(ue=Xt(Je)?"_blank":m),$e(Je)&&(f=f||"http://localhost",Fe.scrollbars="yes");const vt=Object.entries(Fe).reduce((Xn,[Nn,jd])=>`${Xn}${Nn}=${jd},`,"");if(function Jr(_=(0,O.z$)()){var f;return $t(_)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(Je)&&"_self"!==ue)return function Wo(_,f){const m=document.createElement("a");m.href=_,m.target=f;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(E)}(f||"",ue),new go(null);const _t=window.open(f||"",ue,vt);B(_t,_,"popup-blocked");try{_t.focus()}catch{}return new go(_t)}(f,ue,Na())})()}_openRedirect(f,m,E,A){var P=this;return(0,u.Z)(function*(){return yield P._originValidation(f),function Ai(_){Bn().location.href=_}(ds(f,m,E,Oe(),A)),new Promise(()=>{})})()}_initialize(f){const m=f._key();if(this.eventManagers[m]){const{manager:A,promise:P}=this.eventManagers[m];return A?Promise.resolve(A):(W(P,"If manager is not set, promise should be"),P)}const E=this.initAndGetManager(f);return this.eventManagers[m]={promise:E},E.catch(()=>{delete this.eventManagers[m]}),E}initAndGetManager(f){var m=this;return(0,u.Z)(function*(){const E=yield function gf(_){return Yl.apply(this,arguments)}(f),A=new Go(f);return E.register("authEvent",P=>(B(P?.authEvent,f,"invalid-auth-event"),{status:A.onEvent(P.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[f._key()]={manager:A},m.iframes[f._key()]=E,A})()}_isIframeWebStorageSupported(f,m){this.iframes[f._key()].send(Ql,{type:Ql},A=>{var P;const z=null===(P=A?.[0])||void 0===P?void 0:P[Ql];void 0!==z&&m(!!z),Me(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function bd(_){return cs.apply(this,arguments)}(f)),this.originValidationPromises[m]}get _shouldInitProactively(){return Zs()||ht()||$t()}}),this.cordovaResolver=ne(class Pd{constructor(){this._redirectPersistence=Bi,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ft,this._overrideRedirectResult=jn}_initialize(f){var m=this;return(0,u.Z)(function*(){const E=f._key();let A=m.eventManagers.get(E);return A||(A=new wf(f),m.eventManagers.set(E,A),m.attachCallbackListeners(f,A)),A})()}_openPopup(f){Me(f,"operation-not-supported-in-this-environment")}_openRedirect(f,m,E,A){var P=this;return(0,u.Z)(function*(){!function EE(_){var f,m,E,A,P,z,ue,Fe,Je,vt;const _t=ja();B("function"==typeof(null===(f=_t?.universalLinks)||void 0===f?void 0:f.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),B(typeof(null===(m=_t?.BuildInfo)||void 0===m?void 0:m.packageName)<"u",_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),B("function"==typeof(null===(P=null===(A=null===(E=_t?.cordova)||void 0===E?void 0:E.plugins)||void 0===A?void 0:A.browsertab)||void 0===P?void 0:P.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),B("function"==typeof(null===(Fe=null===(ue=null===(z=_t?.cordova)||void 0===z?void 0:z.plugins)||void 0===ue?void 0:ue.browsertab)||void 0===Fe?void 0:Fe.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),B("function"==typeof(null===(vt=null===(Je=_t?.cordova)||void 0===Je?void 0:Je.InAppBrowser)||void 0===vt?void 0:vt.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const z=yield P._initialize(f);yield z.initialized(),z.resetRedirect(),function wd(){ri.clear()}(),yield P._originValidation(f);const ue=function Dg(_,f,m=null){return{type:f,eventId:m,urlResponse:null,sessionId:lc(),postBody:null,tenantId:_.tenantId,error:Ee(_,"no-auth-event")}}(f,E,A);yield function Tg(_,f){return Nd()._set($a(_),f)}(f,ue);const Fe=yield function fs(_,f,m){return Vs.apply(this,arguments)}(f,ue,m),Je=yield function Md(_){const{cordova:f}=ja();return new Promise(m=>{f.plugins.browsertab.isAvailable(E=>{let A=null;E?f.plugins.browsertab.openUrl(_):A=f.InAppBrowser.open(_,function hr(_=(0,O.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),m(A)})})}(Fe);return function XC(_,f,m){return Cg.apply(this,arguments)}(f,z,Je)})()}_isIframeWebStorageSupported(f,m){throw new Error("Method not implemented.")}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Ig(_){return Us.apply(this,arguments)}(f)),this.originValidationPromises[m]}attachCallbackListeners(f,m){const{universalLinks:E,handleOpenURL:A,BuildInfo:P}=ja(),z=setTimeout((0,u.Z)(function*(){yield Ha(f),m.onEvent(Bs())}),500),ue=function(){var vt=(0,u.Z)(function*(_t){clearTimeout(z);const Xn=yield Ha(f);let Nn=null;Xn&&_t?.url&&(Nn=function Sg(_,f){var m,E;const A=function Qn(_){const f=Ga(_),m=f.link?decodeURIComponent(f.link):void 0,E=Ga(m).link,A=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return Ga(A).link||A||E||m||_}(f);if(A.includes("/__/auth/callback")){const P=Ga(A),z=P.firebaseError?function uc(_){try{return JSON.parse(_)}catch{return null}}(decodeURIComponent(P.firebaseError)):null,ue=null===(E=null===(m=z?.code)||void 0===m?void 0:m.split("auth/"))||void 0===E?void 0:E[1],Fe=ue?Ee(ue):null;return Fe?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:Fe,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:A,postBody:null}}return null}(Xn,_t.url)),m.onEvent(Nn||Bs())});return function(Xn){return vt.apply(this,arguments)}}();typeof E<"u"&&"function"==typeof E.subscribe&&E.subscribe(null,ue);const Fe=A,Je=`${P.packageName.toLowerCase()}://`;ja().handleOpenURL=function(){var vt=(0,u.Z)(function*(_t){if(_t.toLowerCase().startsWith(Je)&&ue({url:_t}),"function"==typeof Fe)try{Fe(_t)}catch(Xn){console.error(Xn)}});return function(_t){return vt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Bi,this._completeRedirectFn=ft,this._overrideRedirectResult=jn}_initialize(f){var m=this;return(0,u.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,m,E,A){var P=this;return(0,u.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._openPopup(f,m,E,A)})()}_openRedirect(f,m,E,A){var P=this;return(0,u.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._openRedirect(f,m,E,A)})()}_isIframeWebStorageSupported(f,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,m)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return Ld()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return cc(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,u.Z)(function*(){if(f.underlyingResolver)return;const m=yield function i_(){return Tf.apply(this,arguments)}();f.underlyingResolver=m?f.cordovaResolver:f.browserResolver})()}}function tu(_){return _.unwrap()}function Sf(_){return dc(_)}function dc(_){const{_tokenResponse:f}=_ instanceof O.ZR?_.customData:_;if(!f)return null;if(!(_ instanceof O.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return Gl.credentialFromResult(_);const m=f.providerId;if(!m||"password"===m)return null;let E;switch(m){case"google.com":E=fl;break;case"facebook.com":E=va;break;case"github.com":E=Uu;break;case"twitter.com":E=Xr;break;default:const{oauthIdToken:A,oauthAccessToken:P,oauthTokenSecret:z,pendingToken:ue,nonce:Fe}=f;return P||z||A||ue?ue?m.startsWith("saml.")?Vi._create(m,ue):Ji._fromParams({providerId:m,signInMethod:m,pendingToken:ue,idToken:A,accessToken:P}):new Ns(m).credential({idToken:A,accessToken:P,rawNonce:Fe}):null}return _ instanceof O.ZR?E.credentialFromError(_):E.credentialFromResult(_)}function Jn(_,f){return f.catch(m=>{throw m instanceof O.ZR&&function Og(_,f){var m,E;const A=null===(m=f.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===(null===(E=f)||void 0===E?void 0:E.code))f.resolver=new o_(_,function kn(_,f){var m;const E=(0,O.m9)(_),A=f;return B(f.customData.operationType,E,"argument-error"),B(null===(m=A.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,E,"argument-error"),Nl._fromError(E,A)}(_,f));else if(A){const P=dc(f),z=f;P&&(z.credential=P,z.tenantId=A.tenantId||void 0,z.email=A.email||void 0,z.phoneNumber=A.phoneNumber||void 0)}}(_,m),m}).then(m=>{const A=m.user;return{operationType:m.operationType,credential:Sf(m),additionalUserInfo:Ml(m),user:yo.getOrCreate(A)}})}function Af(_,f){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,u.Z)(function*(_,f){const m=yield f;return{verificationId:m.verificationId,confirm:E=>Jn(_,m.confirm(E))}})).apply(this,arguments)}class o_{constructor(f,m){this.resolver=m,this.auth=function Ud(_){return _.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return Jn(tu(this.auth),this.resolver.resolveSignIn(f))}}class yo{constructor(f){this._delegate=f,this.multiFactor=function Ro(_){const f=(0,O.m9)(_);return ro.has(f)||ro.set(f,uf._fromUser(f)),ro.get(f)}(f)}static getOrCreate(f){return yo.USER_MAP.has(f)||yo.USER_MAP.set(f,new yo(f)),yo.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var m=this;return(0,u.Z)(function*(){return Jn(m.auth,vl(m._delegate,f))})()}linkWithPhoneNumber(f,m){var E=this;return(0,u.Z)(function*(){return Af(E.auth,function un(_,f,m){return Fn.apply(this,arguments)}(E._delegate,f,m))})()}linkWithPopup(f){var m=this;return(0,u.Z)(function*(){return Jn(m.auth,function hf(_,f,m){return ls.apply(this,arguments)}(m._delegate,f,fi))})()}linkWithRedirect(f){var m=this;return(0,u.Z)(function*(){return yield eu(Tn(m.auth)),function Y(_,f,m){return function oe(_,f,m){return Ie.apply(this,arguments)}(_,f,m)}(m._delegate,f,fi)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var m=this;return(0,u.Z)(function*(){return Jn(m.auth,El(m._delegate,f))})()}reauthenticateWithPhoneNumber(f,m){return Af(this.auth,function vd(_,f,m){return as.apply(this,arguments)}(this._delegate,f,m))}reauthenticateWithPopup(f){return Jn(this.auth,function df(_,f,m){return Ed.apply(this,arguments)}(this._delegate,f,fi))}reauthenticateWithRedirect(f){var m=this;return(0,u.Z)(function*(){return yield eu(Tn(m.auth)),function D(_,f,m){return function x(_,f,m){return L.apply(this,arguments)}(_,f,m)}(m._delegate,f,fi)})()}sendEmailVerification(f){return function qu(_,f){return Ta.apply(this,arguments)}(this._delegate,f)}unlink(f){var m=this;return(0,u.Z)(function*(){return yield function Hr(_,f){return gl.apply(this,arguments)}(m._delegate,f),m})()}updateEmail(f){return function ld(_,f){return eo((0,O.m9)(_),f,null)}(this._delegate,f)}updatePassword(f){return function Xs(_,f){return eo((0,O.m9)(_),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function mg(_,f){return nc.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function Ku(_,f){return Yu.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,m){return function Wu(_,f,m){return Tl.apply(this,arguments)}(this._delegate,f,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}yo.USER_MAP=new WeakMap;const _o=B;let Mf=(()=>{class _{constructor(m,E){if(this.app=m,E.isInitialized())return this._delegate=E.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:A}=m.options;_o(A,"invalid-api-key",{appName:m.name}),_o(A,"invalid-api-key",{appName:m.name});const P=typeof window<"u"?fi:void 0;this._delegate=E.initialize({options:{persistence:Rg(A,m.name),popupRedirectResolver:P}}),this._delegate._updateErrorMap(be),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?yo.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,E){!function ll(_,f,m){const E=Tn(_);B(E._canInitEmulator,E,"emulator-config-failed"),B(/^https?:\/\//.test(f),E,"invalid-emulator-scheme");const A=!!m?.disableWarnings,P=Fi(f),{host:z,port:ue}=function Kn(_){const f=Fi(_),m=/(\/\/)?([^?#/]+)/.exec(_.substr(f.length));if(!m)return{host:"",port:null};const E=m[2].split("@").pop()||"",A=/^(\[[^\]]+\])(:|$)/.exec(E);if(A){const P=A[1];return{host:P,port:Ts(E.substr(P.length+1))}}{const[P,z]=E.split(":");return{host:P,port:Ts(z)}}}(f);E.config.emulator={url:`${P}//${z}${null===ue?"":`:${ue}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:z,port:ue,protocol:P.replace(":",""),options:Object.freeze({disableWarnings:A})}),A||function Ss(){function _(){const f=document.createElement("p"),m=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,m,E)}applyActionCode(m){return function di(_,f){return wa.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return ba(this._delegate,m)}confirmPasswordReset(m,E){return function Cl(_,f,m){return No.apply(this,arguments)}(this._delegate,m,E)}createUserWithEmailAndPassword(m,E){var A=this;return(0,u.Z)(function*(){return Jn(A._delegate,function Ia(_,f,m){return Rn.apply(this,arguments)}(A._delegate,m,E))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function Dl(_,f){return Da.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function is(_,f){return"EMAIL_SIGNIN"===hl.parseLink(f)?.operation}(0,m)}getRedirectResult(){var m=this;return(0,u.Z)(function*(){_o(Fd(),m._delegate,"operation-not-supported-in-this-environment");const E=yield function Ue(_,f){return Qe.apply(this,arguments)}(m._delegate,fi);return E?Jn(m._delegate,Promise.resolve(E)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function Cf(_,f){Tn(_)._logFramework(f)}(this._delegate,m)}onAuthStateChanged(m,E,A){const{next:P,error:z,complete:ue}=Bd(m,E,A);return this._delegate.onAuthStateChanged(P,z,ue)}onIdTokenChanged(m,E,A){const{next:P,error:z,complete:ue}=Bd(m,E,A);return this._delegate.onIdTokenChanged(P,z,ue)}sendSignInLinkToEmail(m,E){return function Gu(_,f,m){return Js.apply(this,arguments)}(this._delegate,m,E)}sendPasswordResetEmail(m,E){return function Il(_,f,m){return On.apply(this,arguments)}(this._delegate,m,E||void 0)}setPersistence(m){var E=this;return(0,u.Z)(function*(){let A;switch(function Xl(_,f){Ko(Object.values($r).includes(f),_,"invalid-persistence-type"),(0,O.b$)()?Ko(f!==$r.SESSION,_,"unsupported-persistence-type"):(0,O.UG)()?Ko(f===$r.NONE,_,"unsupported-persistence-type"):kd()?Ko(f===$r.NONE||f===$r.LOCAL&&(0,O.hl)(),_,"unsupported-persistence-type"):Ko(f===$r.NONE||Pg(),_,"unsupported-persistence-type")}(E._delegate,m),m){case $r.SESSION:A=Bi;break;case $r.LOCAL:A=(yield ne(Fo)._isAvailable())?Fo:Aa;break;case $r.NONE:A=V;break;default:return Me("argument-error",{appName:E._delegate.name})}return E._delegate.setPersistence(A)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return Jn(this._delegate,function rf(_){return Pn.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return Jn(this._delegate,xn(this._delegate,m))}signInWithCustomToken(m){return Jn(this._delegate,function ju(_,f){return Ea.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,E){return Jn(this._delegate,function Ui(_,f,m){return xn((0,O.m9)(_),Li.credential(f,m))}(this._delegate,m,E))}signInWithEmailLink(m,E){return Jn(this._delegate,function cg(_,f,m){return Ca.apply(this,arguments)}(this._delegate,m,E))}signInWithPhoneNumber(m,E){return Af(this._delegate,function jo(_,f,m){return rt.apply(this,arguments)}(this._delegate,m,E))}signInWithPopup(m){var E=this;return(0,u.Z)(function*(){return _o(Fd(),E._delegate,"operation-not-supported-in-this-environment"),Jn(E._delegate,function lr(_,f,m){return La.apply(this,arguments)}(E._delegate,m,fi))})()}signInWithRedirect(m){var E=this;return(0,u.Z)(function*(){return _o(Fd(),E._delegate,"operation-not-supported-in-this-environment"),yield eu(E._delegate),function zt(_,f,m){return function Va(_,f,m){return C.apply(this,arguments)}(_,f,m)}(E._delegate,m,fi)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function $u(_,f){return ad.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=$r,_})();function Bd(_,f,m){let E=_;"function"!=typeof _&&({next:E,error:f,complete:m}=_);const A=E;return{next:z=>A(z&&yo.getOrCreate(z)),error:f,complete:m}}function Rg(_,f){const m=function s_(_,f){const m=Hi();if(!m)return[];const E=Z(Gr,_,f);switch(m.getItem(E)){case $r.NONE:return[V];case $r.LOCAL:return[Fo,Bi];case $r.SESSION:return[Bi];default:return[]}}(_,f);if(typeof self<"u"&&!m.includes(Fo)&&m.push(Fo),typeof window<"u")for(const E of[Aa,Bi])m.includes(E)||m.push(E);return m.includes(V)||m.push(V),m}class hc{constructor(){this.providerId="phone",this._delegate=new Gl(tu(ee.Z.auth()))}static credential(f,m){return Gl.credential(f,m)}verifyPhoneNumber(f,m){return this._delegate.verifyPhoneNumber(f,m)}unwrap(){return this._delegate}}hc.PHONE_SIGN_IN_METHOD=Gl.PHONE_SIGN_IN_METHOD,hc.PROVIDER_ID=Gl.PROVIDER_ID;const bE=B;class fc{constructor(f,m,E=ee.Z.app()){var A;bE(null===(A=E.options)||void 0===A?void 0:A.apiKey,"invalid-api-key",{appName:E.name}),this._delegate=new gr(f,m,E.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function xf(_){_.INTERNAL.registerComponent(new ae.wA("auth-compat",f=>{const m=f.getProvider("app-compat").getImmediate(),E=f.getProvider("auth");return new Mf(m,E)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Li,FacebookAuthProvider:va,GithubAuthProvider:Uu,GoogleAuthProvider:fl,OAuthProvider:Ns,SAMLAuthProvider:ui,PhoneAuthProvider:hc,PhoneMultiFactorGenerator:Zo,RecaptchaVerifier:fc,TwitterAuthProvider:Xr,Auth:Mf,AuthCredential:Ir,Error:O.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.2.23")}(ee.Z)},9751:(dt,Ae,k)=>{k.d(Ae,{y:()=>he});var u=k(2961),ee=k(727),O=k(8822),se=k(9635),re=k(2416),de=k(576),ae=k(2806);let he=(()=>{class K{constructor(xe){xe&&(this._subscribe=xe)}lift(xe){const be=new K;return be.source=this,be.operator=xe,be}subscribe(xe,be,nt){const me=function H(K){return K&&K instanceof u.Lv||function j(K){return K&&(0,de.m)(K.next)&&(0,de.m)(K.error)&&(0,de.m)(K.complete)}(K)&&(0,ee.Nn)(K)}(xe)?xe:new u.Hp(xe,be,nt);return(0,ae.x)(()=>{const{operator:pe,source:Xe}=this;me.add(pe?pe.call(me,Xe):Xe?this._subscribe(me):this._trySubscribe(me))}),me}_trySubscribe(xe){try{return this._subscribe(xe)}catch(be){xe.error(be)}}forEach(xe,be){return new(be=fe(be))((nt,me)=>{const pe=new u.Hp({next:Xe=>{try{xe(Xe)}catch(ot){me(ot),pe.unsubscribe()}},error:me,complete:nt});this.subscribe(pe)})}_subscribe(xe){var be;return null===(be=this.source)||void 0===be?void 0:be.subscribe(xe)}[O.L](){return this}pipe(...xe){return(0,se.U)(xe)(this)}toPromise(xe){return new(xe=fe(xe))((be,nt)=>{let me;this.subscribe(pe=>me=pe,pe=>nt(pe),()=>be(me))})}}return K.create=Le=>new K(Le),K})();function fe(K){var Le;return null!==(Le=K??re.v.Promise)&&void 0!==Le?Le:Promise}},7579:(dt,Ae,k)=>{k.d(Ae,{x:()=>ae});var u=k(9751),ee=k(727);const se=(0,k(3888).d)(fe=>function(){fe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var re=k(8737),de=k(2806);let ae=(()=>{class fe extends u.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(H){const K=new he(this,this);return K.operator=H,K}_throwIfClosed(){if(this.closed)throw new se}next(H){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const K of this.currentObservers)K.next(H)}})}error(H){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=H;const{observers:K}=this;for(;K.length;)K.shift().error(H)}})}complete(){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:H}=this;for(;H.length;)H.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var H;return(null===(H=this.observers)||void 0===H?void 0:H.length)>0}_trySubscribe(H){return this._throwIfClosed(),super._trySubscribe(H)}_subscribe(H){return this._throwIfClosed(),this._checkFinalizedStatuses(H),this._innerSubscribe(H)}_innerSubscribe(H){const{hasError:K,isStopped:Le,observers:xe}=this;return K||Le?ee.Lc:(this.currentObservers=null,xe.push(H),new ee.w0(()=>{this.currentObservers=null,(0,re.P)(xe,H)}))}_checkFinalizedStatuses(H){const{hasError:K,thrownError:Le,isStopped:xe}=this;K?H.error(Le):xe&&H.complete()}asObservable(){const H=new u.y;return H.source=this,H}}return fe.create=(j,H)=>new he(j,H),fe})();class he extends ae{constructor(j,H){super(),this.destination=j,this.source=H}next(j){var H,K;null===(K=null===(H=this.destination)||void 0===H?void 0:H.next)||void 0===K||K.call(H,j)}error(j){var H,K;null===(K=null===(H=this.destination)||void 0===H?void 0:H.error)||void 0===K||K.call(H,j)}complete(){var j,H;null===(H=null===(j=this.destination)||void 0===j?void 0:j.complete)||void 0===H||H.call(j)}_subscribe(j){var H,K;return null!==(K=null===(H=this.source)||void 0===H?void 0:H.subscribe(j))&&void 0!==K?K:ee.Lc}}},2961:(dt,Ae,k)=>{k.d(Ae,{Hp:()=>nt,Lv:()=>K});var u=k(576),ee=k(727),O=k(2416),se=k(7849);function re(){}const de=fe("C",void 0,void 0);function fe(Me,Ee,Ce){return{kind:Me,value:Ee,error:Ce}}var j=k(3410),H=k(2806);class K extends ee.w0{constructor(Ee){super(),this.isStopped=!1,Ee?(this.destination=Ee,(0,ee.Nn)(Ee)&&Ee.add(this)):this.destination=ot}static create(Ee,Ce,Be){return new nt(Ee,Ce,Be)}next(Ee){this.isStopped?Xe(function he(Me){return fe("N",Me,void 0)}(Ee),this):this._next(Ee)}error(Ee){this.isStopped?Xe(function ae(Me){return fe("E",void 0,Me)}(Ee),this):(this.isStopped=!0,this._error(Ee))}complete(){this.isStopped?Xe(de,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ee){this.destination.next(Ee)}_error(Ee){try{this.destination.error(Ee)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Le=Function.prototype.bind;function xe(Me,Ee){return Le.call(Me,Ee)}class be{constructor(Ee){this.partialObserver=Ee}next(Ee){const{partialObserver:Ce}=this;if(Ce.next)try{Ce.next(Ee)}catch(Be){me(Be)}}error(Ee){const{partialObserver:Ce}=this;if(Ce.error)try{Ce.error(Ee)}catch(Be){me(Be)}else me(Ee)}complete(){const{partialObserver:Ee}=this;if(Ee.complete)try{Ee.complete()}catch(Ce){me(Ce)}}}class nt extends K{constructor(Ee,Ce,Be){let je;if(super(),(0,u.m)(Ee)||!Ee)je={next:Ee??void 0,error:Ce??void 0,complete:Be??void 0};else{let B;this&&O.v.useDeprecatedNextContext?(B=Object.create(Ee),B.unsubscribe=()=>this.unsubscribe(),je={next:Ee.next&&xe(Ee.next,B),error:Ee.error&&xe(Ee.error,B),complete:Ee.complete&&xe(Ee.complete,B)}):je=Ee}this.destination=new be(je)}}function me(Me){O.v.useDeprecatedSynchronousErrorHandling?(0,H.O)(Me):(0,se.h)(Me)}function Xe(Me,Ee){const{onStoppedNotification:Ce}=O.v;Ce&&j.z.setTimeout(()=>Ce(Me,Ee))}const ot={closed:!0,next:re,error:function pe(Me){throw Me},complete:re}},727:(dt,Ae,k)=>{k.d(Ae,{Lc:()=>de,w0:()=>re,Nn:()=>ae});var u=k(576);const O=(0,k(3888).d)(fe=>function(H){fe(this),this.message=H?`${H.length} errors occurred during unsubscription:\n${H.map((K,Le)=>`${Le+1}) ${K.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=H});var se=k(8737);class re{constructor(j){this.initialTeardown=j,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let j;if(!this.closed){this.closed=!0;const{_parentage:H}=this;if(H)if(this._parentage=null,Array.isArray(H))for(const xe of H)xe.remove(this);else H.remove(this);const{initialTeardown:K}=this;if((0,u.m)(K))try{K()}catch(xe){j=xe instanceof O?xe.errors:[xe]}const{_finalizers:Le}=this;if(Le){this._finalizers=null;for(const xe of Le)try{he(xe)}catch(be){j=j??[],be instanceof O?j=[...j,...be.errors]:j.push(be)}}if(j)throw new O(j)}}add(j){var H;if(j&&j!==this)if(this.closed)he(j);else{if(j instanceof re){if(j.closed||j._hasParent(this))return;j._addParent(this)}(this._finalizers=null!==(H=this._finalizers)&&void 0!==H?H:[]).push(j)}}_hasParent(j){const{_parentage:H}=this;return H===j||Array.isArray(H)&&H.includes(j)}_addParent(j){const{_parentage:H}=this;this._parentage=Array.isArray(H)?(H.push(j),H):H?[H,j]:j}_removeParent(j){const{_parentage:H}=this;H===j?this._parentage=null:Array.isArray(H)&&(0,se.P)(H,j)}remove(j){const{_finalizers:H}=this;H&&(0,se.P)(H,j),j instanceof re&&j._removeParent(this)}}re.EMPTY=(()=>{const fe=new re;return fe.closed=!0,fe})();const de=re.EMPTY;function ae(fe){return fe instanceof re||fe&&"closed"in fe&&(0,u.m)(fe.remove)&&(0,u.m)(fe.add)&&(0,u.m)(fe.unsubscribe)}function he(fe){(0,u.m)(fe)?fe():fe.unsubscribe()}},2416:(dt,Ae,k)=>{k.d(Ae,{v:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(dt,Ae,k)=>{k.d(Ae,{E:()=>ee});const ee=new(k(9751).y)(re=>re.complete())},8996:(dt,Ae,k)=>{k.d(Ae,{D:()=>Ee});var u=k(8421),ee=k(5363),O=k(9468),de=k(9751),he=k(2202),fe=k(576),j=k(9672);function K(Ce,Be){if(!Ce)throw new Error("Iterable cannot be null");return new de.y(je=>{(0,j.f)(je,Be,()=>{const B=Ce[Symbol.asyncIterator]();(0,j.f)(je,Be,()=>{B.next().then(ge=>{ge.done?je.complete():je.next(ge.value)})},0,!0)})})}var Le=k(3670),xe=k(8239),be=k(1144),nt=k(6495),me=k(2206),pe=k(4532),Xe=k(3260);function Ee(Ce,Be){return Be?function Me(Ce,Be){if(null!=Ce){if((0,Le.c)(Ce))return function se(Ce,Be){return(0,u.Xf)(Ce).pipe((0,O.R)(Be),(0,ee.Q)(Be))}(Ce,Be);if((0,be.z)(Ce))return function ae(Ce,Be){return new de.y(je=>{let B=0;return Be.schedule(function(){B===Ce.length?je.complete():(je.next(Ce[B++]),je.closed||this.schedule())})})}(Ce,Be);if((0,xe.t)(Ce))return function re(Ce,Be){return(0,u.Xf)(Ce).pipe((0,O.R)(Be),(0,ee.Q)(Be))}(Ce,Be);if((0,me.D)(Ce))return K(Ce,Be);if((0,nt.T)(Ce))return function H(Ce,Be){return new de.y(je=>{let B;return(0,j.f)(je,Be,()=>{B=Ce[he.h](),(0,j.f)(je,Be,()=>{let ge,W;try{({value:ge,done:W}=B.next())}catch(J){return void je.error(J)}W?je.complete():je.next(ge)},0,!0)}),()=>(0,fe.m)(B?.return)&&B.return()})}(Ce,Be);if((0,Xe.L)(Ce))return function ot(Ce,Be){return K((0,Xe.Q)(Ce),Be)}(Ce,Be)}throw(0,pe.z)(Ce)}(Ce,Be):(0,u.Xf)(Ce)}},8421:(dt,Ae,k)=>{k.d(Ae,{Xf:()=>Le});var u=k(655),ee=k(1144),O=k(8239),se=k(9751),re=k(3670),de=k(2206),ae=k(4532),he=k(6495),fe=k(3260),j=k(576),H=k(7849),K=k(8822);function Le(Me){if(Me instanceof se.y)return Me;if(null!=Me){if((0,re.c)(Me))return function xe(Me){return new se.y(Ee=>{const Ce=Me[K.L]();if((0,j.m)(Ce.subscribe))return Ce.subscribe(Ee);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Me);if((0,ee.z)(Me))return function be(Me){return new se.y(Ee=>{for(let Ce=0;Ce<Me.length&&!Ee.closed;Ce++)Ee.next(Me[Ce]);Ee.complete()})}(Me);if((0,O.t)(Me))return function nt(Me){return new se.y(Ee=>{Me.then(Ce=>{Ee.closed||(Ee.next(Ce),Ee.complete())},Ce=>Ee.error(Ce)).then(null,H.h)})}(Me);if((0,de.D)(Me))return pe(Me);if((0,he.T)(Me))return function me(Me){return new se.y(Ee=>{for(const Ce of Me)if(Ee.next(Ce),Ee.closed)return;Ee.complete()})}(Me);if((0,fe.L)(Me))return function Xe(Me){return pe((0,fe.Q)(Me))}(Me)}throw(0,ae.z)(Me)}function pe(Me){return new se.y(Ee=>{(function ot(Me,Ee){var Ce,Be,je,B;return(0,u.mG)(this,void 0,void 0,function*(){try{for(Ce=(0,u.KL)(Me);!(Be=yield Ce.next()).done;)if(Ee.next(Be.value),Ee.closed)return}catch(ge){je={error:ge}}finally{try{Be&&!Be.done&&(B=Ce.return)&&(yield B.call(Ce))}finally{if(je)throw je.error}}Ee.complete()})})(Me,Ee).catch(Ce=>Ee.error(Ce))})}},6451:(dt,Ae,k)=>{k.d(Ae,{T:()=>de});var u=k(8189),ee=k(8421),O=k(515),se=k(7669),re=k(8996);function de(...ae){const he=(0,se.yG)(ae),fe=(0,se._6)(ae,1/0),j=ae;return j.length?1===j.length?(0,ee.Xf)(j[0]):(0,u.J)(fe)((0,re.D)(j,he)):O.E}},5403:(dt,Ae,k)=>{k.d(Ae,{x:()=>ee});var u=k(2961);function ee(se,re,de,ae,he){return new O(se,re,de,ae,he)}class O extends u.Lv{constructor(re,de,ae,he,fe,j){super(re),this.onFinalize=fe,this.shouldUnsubscribe=j,this._next=de?function(H){try{de(H)}catch(K){re.error(K)}}:super._next,this._error=he?function(H){try{he(H)}catch(K){re.error(K)}finally{this.unsubscribe()}}:super._error,this._complete=ae?function(){try{ae()}catch(H){re.error(H)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var re;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:de}=this;super.unsubscribe(),!de&&(null===(re=this.onFinalize)||void 0===re||re.call(this))}}}},4004:(dt,Ae,k)=>{k.d(Ae,{U:()=>O});var u=k(4482),ee=k(5403);function O(se,re){return(0,u.e)((de,ae)=>{let he=0;de.subscribe((0,ee.x)(ae,fe=>{ae.next(se.call(re,fe,he++))}))})}},8189:(dt,Ae,k)=>{k.d(Ae,{J:()=>O});var u=k(5577),ee=k(4671);function O(se=1/0){return(0,u.z)(ee.y,se)}},5577:(dt,Ae,k)=>{k.d(Ae,{z:()=>he});var u=k(4004),ee=k(8421),O=k(4482),se=k(9672),re=k(5403),ae=k(576);function he(fe,j,H=1/0){return(0,ae.m)(j)?he((K,Le)=>(0,u.U)((xe,be)=>j(K,xe,Le,be))((0,ee.Xf)(fe(K,Le))),H):("number"==typeof j&&(H=j),(0,O.e)((K,Le)=>function de(fe,j,H,K,Le,xe,be,nt){const me=[];let pe=0,Xe=0,ot=!1;const Me=()=>{ot&&!me.length&&!pe&&j.complete()},Ee=Be=>pe<K?Ce(Be):me.push(Be),Ce=Be=>{xe&&j.next(Be),pe++;let je=!1;(0,ee.Xf)(H(Be,Xe++)).subscribe((0,re.x)(j,B=>{Le?.(B),xe?Ee(B):j.next(B)},()=>{je=!0},void 0,()=>{if(je)try{for(pe--;me.length&&pe<K;){const B=me.shift();be?(0,se.f)(j,be,()=>Ce(B)):Ce(B)}Me()}catch(B){j.error(B)}}))};return fe.subscribe((0,re.x)(j,Ee,()=>{ot=!0,Me()})),()=>{nt?.()}}(K,Le,fe,H)))}},5363:(dt,Ae,k)=>{k.d(Ae,{Q:()=>se});var u=k(9672),ee=k(4482),O=k(5403);function se(re,de=0){return(0,ee.e)((ae,he)=>{ae.subscribe((0,O.x)(he,fe=>(0,u.f)(he,re,()=>he.next(fe),de),()=>(0,u.f)(he,re,()=>he.complete(),de),fe=>(0,u.f)(he,re,()=>he.error(fe),de)))})}},3099:(dt,Ae,k)=>{k.d(Ae,{B:()=>re});var u=k(8421),ee=k(7579),O=k(2961),se=k(4482);function re(ae={}){const{connector:he=(()=>new ee.x),resetOnError:fe=!0,resetOnComplete:j=!0,resetOnRefCountZero:H=!0}=ae;return K=>{let Le,xe,be,nt=0,me=!1,pe=!1;const Xe=()=>{xe?.unsubscribe(),xe=void 0},ot=()=>{Xe(),Le=be=void 0,me=pe=!1},Me=()=>{const Ee=Le;ot(),Ee?.unsubscribe()};return(0,se.e)((Ee,Ce)=>{nt++,!pe&&!me&&Xe();const Be=be=be??he();Ce.add(()=>{nt--,0===nt&&!pe&&!me&&(xe=de(Me,H))}),Be.subscribe(Ce),!Le&&nt>0&&(Le=new O.Hp({next:je=>Be.next(je),error:je=>{pe=!0,Xe(),xe=de(ot,fe,je),Be.error(je)},complete:()=>{me=!0,Xe(),xe=de(ot,j),Be.complete()}}),(0,u.Xf)(Ee).subscribe(Le))})(K)}}function de(ae,he,...fe){if(!0===he)return void ae();if(!1===he)return;const j=new O.Hp({next:()=>{j.unsubscribe(),ae()}});return he(...fe).subscribe(j)}},9468:(dt,Ae,k)=>{k.d(Ae,{R:()=>ee});var u=k(4482);function ee(O,se=0){return(0,u.e)((re,de)=>{de.add(O.schedule(()=>re.subscribe(de),se))})}},8505:(dt,Ae,k)=>{k.d(Ae,{b:()=>re});var u=k(576),ee=k(4482),O=k(5403),se=k(4671);function re(de,ae,he){const fe=(0,u.m)(de)||ae||he?{next:de,error:ae,complete:he}:de;return fe?(0,ee.e)((j,H)=>{var K;null===(K=fe.subscribe)||void 0===K||K.call(fe);let Le=!0;j.subscribe((0,O.x)(H,xe=>{var be;null===(be=fe.next)||void 0===be||be.call(fe,xe),H.next(xe)},()=>{var xe;Le=!1,null===(xe=fe.complete)||void 0===xe||xe.call(fe),H.complete()},xe=>{var be;Le=!1,null===(be=fe.error)||void 0===be||be.call(fe,xe),H.error(xe)},()=>{var xe,be;Le&&(null===(xe=fe.unsubscribe)||void 0===xe||xe.call(fe)),null===(be=fe.finalize)||void 0===be||be.call(fe)}))}):se.y}},4408:(dt,Ae,k)=>{k.d(Ae,{o:()=>re});var u=k(727);class ee extends u.w0{constructor(ae,he){super()}schedule(ae,he=0){return this}}const O={setInterval(de,ae,...he){const{delegate:fe}=O;return fe?.setInterval?fe.setInterval(de,ae,...he):setInterval(de,ae,...he)},clearInterval(de){const{delegate:ae}=O;return(ae?.clearInterval||clearInterval)(de)},delegate:void 0};var se=k(8737);class re extends ee{constructor(ae,he){super(ae,he),this.scheduler=ae,this.work=he,this.pending=!1}schedule(ae,he=0){var fe;if(this.closed)return this;this.state=ae;const j=this.id,H=this.scheduler;return null!=j&&(this.id=this.recycleAsyncId(H,j,he)),this.pending=!0,this.delay=he,this.id=null!==(fe=this.id)&&void 0!==fe?fe:this.requestAsyncId(H,this.id,he),this}requestAsyncId(ae,he,fe=0){return O.setInterval(ae.flush.bind(ae,this),fe)}recycleAsyncId(ae,he,fe=0){if(null!=fe&&this.delay===fe&&!1===this.pending)return he;null!=he&&O.clearInterval(he)}execute(ae,he){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const fe=this._execute(ae,he);if(fe)return fe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ae,he){let j,fe=!1;try{this.work(ae)}catch(H){fe=!0,j=H||new Error("Scheduled action threw falsy error")}if(fe)return this.unsubscribe(),j}unsubscribe(){if(!this.closed){const{id:ae,scheduler:he}=this,{actions:fe}=he;this.work=this.state=this.scheduler=null,this.pending=!1,(0,se.P)(fe,this),null!=ae&&(this.id=this.recycleAsyncId(he,ae,null)),this.delay=null,super.unsubscribe()}}}},7565:(dt,Ae,k)=>{k.d(Ae,{v:()=>O});var u=k(6063);class ee{constructor(re,de=ee.now){this.schedulerActionCtor=re,this.now=de}schedule(re,de=0,ae){return new this.schedulerActionCtor(this,re).schedule(ae,de)}}ee.now=u.l.now;class O extends ee{constructor(re,de=ee.now){super(re,de),this.actions=[],this._active=!1}flush(re){const{actions:de}=this;if(this._active)return void de.push(re);let ae;this._active=!0;do{if(ae=re.execute(re.state,re.delay))break}while(re=de.shift());if(this._active=!1,ae){for(;re=de.shift();)re.unsubscribe();throw ae}}}},4986:(dt,Ae,k)=>{k.d(Ae,{z:()=>O});var u=k(4408);const O=new(k(7565).v)(u.o)},6063:(dt,Ae,k)=>{k.d(Ae,{l:()=>u});const u={now:()=>(u.delegate||Date).now(),delegate:void 0}},3410:(dt,Ae,k)=>{k.d(Ae,{z:()=>u});const u={setTimeout(ee,O,...se){const{delegate:re}=u;return re?.setTimeout?re.setTimeout(ee,O,...se):setTimeout(ee,O,...se)},clearTimeout(ee){const{delegate:O}=u;return(O?.clearTimeout||clearTimeout)(ee)},delegate:void 0}},2202:(dt,Ae,k)=>{k.d(Ae,{h:()=>ee});const ee=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(dt,Ae,k)=>{k.d(Ae,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(dt,Ae,k)=>{k.d(Ae,{_6:()=>de,jO:()=>se,yG:()=>re});var u=k(576);function O(ae){return ae[ae.length-1]}function se(ae){return(0,u.m)(O(ae))?ae.pop():void 0}function re(ae){return function ee(ae){return ae&&(0,u.m)(ae.schedule)}(O(ae))?ae.pop():void 0}function de(ae,he){return"number"==typeof O(ae)?ae.pop():he}},8737:(dt,Ae,k)=>{function u(ee,O){if(ee){const se=ee.indexOf(O);0<=se&&ee.splice(se,1)}}k.d(Ae,{P:()=>u})},3888:(dt,Ae,k)=>{function u(ee){const se=ee(re=>{Error.call(re),re.stack=(new Error).stack});return se.prototype=Object.create(Error.prototype),se.prototype.constructor=se,se}k.d(Ae,{d:()=>u})},2806:(dt,Ae,k)=>{k.d(Ae,{O:()=>se,x:()=>O});var u=k(2416);let ee=null;function O(re){if(u.v.useDeprecatedSynchronousErrorHandling){const de=!ee;if(de&&(ee={errorThrown:!1,error:null}),re(),de){const{errorThrown:ae,error:he}=ee;if(ee=null,ae)throw he}}else re()}function se(re){u.v.useDeprecatedSynchronousErrorHandling&&ee&&(ee.errorThrown=!0,ee.error=re)}},9672:(dt,Ae,k)=>{function u(ee,O,se,re=0,de=!1){const ae=O.schedule(function(){se(),de?ee.add(this.schedule(null,re)):this.unsubscribe()},re);if(ee.add(ae),!de)return ae}k.d(Ae,{f:()=>u})},4671:(dt,Ae,k)=>{function u(ee){return ee}k.d(Ae,{y:()=>u})},1144:(dt,Ae,k)=>{k.d(Ae,{z:()=>u});const u=ee=>ee&&"number"==typeof ee.length&&"function"!=typeof ee},2206:(dt,Ae,k)=>{k.d(Ae,{D:()=>ee});var u=k(576);function ee(O){return Symbol.asyncIterator&&(0,u.m)(O?.[Symbol.asyncIterator])}},576:(dt,Ae,k)=>{function u(ee){return"function"==typeof ee}k.d(Ae,{m:()=>u})},3670:(dt,Ae,k)=>{k.d(Ae,{c:()=>O});var u=k(8822),ee=k(576);function O(se){return(0,ee.m)(se[u.L])}},6495:(dt,Ae,k)=>{k.d(Ae,{T:()=>O});var u=k(2202),ee=k(576);function O(se){return(0,ee.m)(se?.[u.h])}},8239:(dt,Ae,k)=>{k.d(Ae,{t:()=>ee});var u=k(576);function ee(O){return(0,u.m)(O?.then)}},3260:(dt,Ae,k)=>{k.d(Ae,{L:()=>se,Q:()=>O});var u=k(655),ee=k(576);function O(re){return(0,u.FC)(this,arguments,function*(){const ae=re.getReader();try{for(;;){const{value:he,done:fe}=yield(0,u.qq)(ae.read());if(fe)return yield(0,u.qq)(void 0);yield yield(0,u.qq)(he)}}finally{ae.releaseLock()}})}function se(re){return(0,ee.m)(re?.getReader)}},4482:(dt,Ae,k)=>{k.d(Ae,{A:()=>ee,e:()=>O});var u=k(576);function ee(se){return(0,u.m)(se?.lift)}function O(se){return re=>{if(ee(re))return re.lift(function(de){try{return se(de,this)}catch(ae){this.error(ae)}});throw new TypeError("Unable to lift unknown Observable type")}}},9635:(dt,Ae,k)=>{k.d(Ae,{U:()=>O,z:()=>ee});var u=k(4671);function ee(...se){return O(se)}function O(se){return 0===se.length?u.y:1===se.length?se[0]:function(de){return se.reduce((ae,he)=>he(ae),de)}}},7849:(dt,Ae,k)=>{k.d(Ae,{h:()=>O});var u=k(2416),ee=k(3410);function O(se){ee.z.setTimeout(()=>{const{onUnhandledError:re}=u.v;if(!re)throw se;re(se)})}},4532:(dt,Ae,k)=>{function u(ee){return new TypeError(`You provided ${null!==ee&&"object"==typeof ee?"an invalid object":`'${ee}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(Ae,{z:()=>u})},655:(dt,Ae,k)=>{function se(W,J){var ne={};for(var te in W)Object.prototype.hasOwnProperty.call(W,te)&&J.indexOf(te)<0&&(ne[te]=W[te]);if(null!=W&&"function"==typeof Object.getOwnPropertySymbols){var Re=0;for(te=Object.getOwnPropertySymbols(W);Re<te.length;Re++)J.indexOf(te[Re])<0&&Object.prototype.propertyIsEnumerable.call(W,te[Re])&&(ne[te[Re]]=W[te[Re]])}return ne}function he(W,J,ne,te){return new(ne||(ne=Promise))(function(Oe,mt){function en(hn){try{Ze(te.next(hn))}catch(wn){mt(wn)}}function Gt(hn){try{Ze(te.throw(hn))}catch(wn){mt(wn)}}function Ze(hn){hn.done?Oe(hn.value):function Re(Oe){return Oe instanceof ne?Oe:new ne(function(mt){mt(Oe)})}(hn.value).then(en,Gt)}Ze((te=te.apply(W,J||[])).next())})}function me(W){return this instanceof me?(this.v=W,this):new me(W)}function pe(W,J,ne){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Re,te=ne.apply(W,J||[]),Oe=[];return Re={},mt("next"),mt("throw"),mt("return"),Re[Symbol.asyncIterator]=function(){return this},Re;function mt(Jt){te[Jt]&&(Re[Jt]=function(tn){return new Promise(function(Vr,Ft){Oe.push([Jt,tn,Vr,Ft])>1||en(Jt,tn)})})}function en(Jt,tn){try{!function Gt(Jt){Jt.value instanceof me?Promise.resolve(Jt.value.v).then(Ze,hn):wn(Oe[0][2],Jt)}(te[Jt](tn))}catch(Vr){wn(Oe[0][3],Vr)}}function Ze(Jt){en("next",Jt)}function hn(Jt){en("throw",Jt)}function wn(Jt,tn){Jt(tn),Oe.shift(),Oe.length&&en(Oe[0][0],Oe[0][1])}}function ot(W){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ne,J=W[Symbol.asyncIterator];return J?J.call(W):(W=function K(W){var J="function"==typeof Symbol&&Symbol.iterator,ne=J&&W[J],te=0;if(ne)return ne.call(W);if(W&&"number"==typeof W.length)return{next:function(){return W&&te>=W.length&&(W=void 0),{value:W&&W[te++],done:!W}}};throw new TypeError(J?"Object is not iterable.":"Symbol.iterator is not defined.")}(W),ne={},te("next"),te("throw"),te("return"),ne[Symbol.asyncIterator]=function(){return this},ne);function te(Oe){ne[Oe]=W[Oe]&&function(mt){return new Promise(function(en,Gt){!function Re(Oe,mt,en,Gt){Promise.resolve(Gt).then(function(Ze){Oe({value:Ze,done:en})},mt)}(en,Gt,(mt=W[Oe](mt)).done,mt.value)})}}}k.d(Ae,{FC:()=>pe,KL:()=>ot,_T:()=>se,mG:()=>he,qq:()=>me})},4650:(dt,Ae,k)=>{k.d(Ae,{$8M:()=>jl,$Z:()=>Hf,AFp:()=>II,ALo:()=>iI,AaK:()=>he,Akn:()=>Sn,BQk:()=>lh,CHM:()=>bl,CRH:()=>Cu,CZH:()=>Su,CqO:()=>tb,D6c:()=>G0,DdM:()=>vu,EJc:()=>AI,EiD:()=>Nd,EpF:()=>bo,F$t:()=>Dm,F4k:()=>eb,FYo:()=>A,FiY:()=>Ue,G48:()=>zT,Gf:()=>kc,GfV:()=>Fe,GkF:()=>uh,Gpc:()=>H,Hsn:()=>Tm,JOm:()=>Jo,JVY:()=>vf,KtG:()=>Il,L6k:()=>wg,LAX:()=>e_,LFG:()=>zt,LSH:()=>Pd,Lbi:()=>DI,Lck:()=>ce,MAs:()=>Xw,MMx:()=>n0,NdJ:()=>pu,OlP:()=>En,Oqu:()=>hh,PXZ:()=>GT,Q6J:()=>rv,QGY:()=>sp,QP$:()=>Xt,QbO:()=>LT,Qsj:()=>P,R0b:()=>Er,RDi:()=>Qy,Rgc:()=>wu,SBq:()=>f,Sil:()=>BT,Suo:()=>uy,TTD:()=>es,TgZ:()=>rp,Tol:()=>Pm,Udp:()=>ap,VKq:()=>tI,W1O:()=>Mh,WLB:()=>xp,X6Q:()=>BI,XFs:()=>Ke,Xpm:()=>De,Xts:()=>Df,Y36:()=>au,YKP:()=>ze,YNc:()=>qr,Yjl:()=>we,Yz7:()=>tn,Z0I:()=>Yi,ZZ4:()=>ua,_Bn:()=>Tt,_UZ:()=>sv,_Vd:()=>Yo,_c5:()=>zp,_uU:()=>Tv,aQg:()=>Sy,c2e:()=>SI,cJS:()=>Ft,cg1:()=>jm,d8E:()=>Mc,dDg:()=>RI,dqk:()=>ln,dwT:()=>Mb,eBb:()=>Xy,eFA:()=>Co,ekj:()=>Ar,eoX:()=>D0,f3M:()=>C,g9A:()=>Up,gM2:()=>iy,h0i:()=>wh,hGG:()=>QI,hij:()=>Fm,iGM:()=>d0,ifc:()=>lt,ip1:()=>b0,jDz:()=>Yb,kL8:()=>yu,l5B:()=>Ch,lG2:()=>Z,lqb:()=>fi,lri:()=>Vh,mCW:()=>Ad,n5z:()=>os,oAB:()=>Ut,oJD:()=>Ga,oxw:()=>op,pB0:()=>t_,q3G:()=>Qn,q4F:()=>Je,qLn:()=>Pf,qOj:()=>_m,qZA:()=>Rr,qzn:()=>Zo,rFY:()=>l0,rWj:()=>$p,sBO:()=>qT,sIi:()=>sh,s_b:()=>yi,soG:()=>zs,tb:()=>TI,tp0:()=>ft,uIk:()=>nv,vHH:()=>be,vpe:()=>mi,wAp:()=>Et,xi3:()=>Eu,xp6:()=>XE,ynx:()=>ip,z2F:()=>Bh,z3N:()=>hs,zSh:()=>eu,zs3:()=>wc});var u=k(7579),ee=k(727),O=k(9751),se=k(6451),re=k(3099);function de(s){for(let o in s)if(s[o]===de)return o;throw Error("Could not find renamed property on target object.")}function ae(s,o){for(const a in o)o.hasOwnProperty(a)&&!s.hasOwnProperty(a)&&(s[a]=o[a])}function he(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(he).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function fe(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const j=de({__forward_ref__:de});function H(s){return s.__forward_ref__=H,s.toString=function(){return he(this())},s}function K(s){return Le(s)?s():s}function Le(s){return"function"==typeof s&&s.hasOwnProperty(j)&&s.__forward_ref__===H}class be extends Error{constructor(o,a){super(function nt(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}(o,a)),this.code=o}}function me(s){return"string"==typeof s?s:null==s?"":String(s)}function Ee(s,o){throw new be(-201,!1)}function Gt(s,o){null==s&&function Ze(s,o,a,c){throw new Error(`ASSERTION ERROR: ${s}`+(null==c?"":` [Expected=> ${a} ${c} ${o} <=Actual]`))}(o,s,null,"!=")}function tn(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Ft(s){return{providers:s.providers||[],imports:s.imports||[]}}function gn(s){return Ci(s,Di)||Ci(s,ai)}function Yi(s){return null!==gn(s)}function Ci(s,o){return s.hasOwnProperty(o)?s[o]:null}function Ws(s){return s&&(s.hasOwnProperty(oi)||s.hasOwnProperty(ma))?s[oi]:null}const Di=de({\u0275prov:de}),oi=de({\u0275inj:de}),ai=de({ngInjectableDef:de}),ma=de({ngInjectorDef:de});var Ke=(()=>((Ke=Ke||{})[Ke.Default=0]="Default",Ke[Ke.Host=1]="Host",Ke[Ke.Self=2]="Self",Ke[Ke.SkipSelf=4]="SkipSelf",Ke[Ke.Optional=8]="Optional",Ke))();let Nr;function rr(s){const o=Nr;return Nr=s,o}function li(s,o,a){const c=gn(s);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:a&Ke.Optional?null:void 0!==o?o:void Ee(he(s))}function Vn(s){return{toString:s}.toString()}var Wn=(()=>((Wn=Wn||{})[Wn.OnPush=0]="OnPush",Wn[Wn.Default=1]="Default",Wn))(),lt=(()=>{return(s=lt||(lt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",lt;var s})();const ln=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Qr={},xt=[],Cs=de({\u0275cmp:de}),nn=de({\u0275dir:de}),ki=de({\u0275pipe:de}),rn=de({\u0275mod:de}),ir=de({\u0275fac:de}),Br=de({__NG_ELEMENT_ID__:de});let tt=0;function De(s){return Vn(()=>{const a=!0===s.standalone,c={},h={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Wn.OnPush,directiveDefs:null,pipeDefs:null,standalone:a,dependencies:a&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||xt,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||lt.Emulated,id:"c"+tt++,styles:s.styles||xt,_:null,setInput:null,schemas:s.schemas||null,tView:null},g=s.dependencies,v=s.features;return h.inputs=V(s.inputs,c),h.outputs=V(s.outputs),v&&v.forEach(b=>b(h)),h.directiveDefs=g?()=>("function"==typeof g?g():g).map(Dt).filter(It):null,h.pipeDefs=g?()=>("function"==typeof g?g():g).map(ht).filter(It):null,h})}function Dt(s){return Q(s)||$e(s)}function It(s){return null!==s}function Ut(s){return Vn(()=>({type:s.type,bootstrap:s.bootstrap||xt,declarations:s.declarations||xt,imports:s.imports||xt,exports:s.exports||xt,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function V(s,o){if(null==s)return Qr;const a={};for(const c in s)if(s.hasOwnProperty(c)){let h=s[c],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),a[h]=c,o&&(o[h]=g)}return a}const Z=De;function we(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function Q(s){return s[Cs]||null}function $e(s){return s[nn]||null}function ht(s){return s[ki]||null}function Xt(s){const o=Q(s)||$e(s)||ht(s);return null!==o&&o.standalone}function _n(s,o){const a=s[rn]||null;if(!a&&!0===o)throw new Error(`Type ${he(s)} does not have '\u0275mod' property.`);return a}function fr(s){return Array.isArray(s)&&"object"==typeof s[1]}function jr(s){return Array.isArray(s)&&!0===s[1]}function cl(s){return 0!=(8&s.flags)}function _a(s){return 2==(2&s.flags)}function Fu(s){return 1==(1&s.flags)}function Pr(s){return null!==s.template}function Jh(s){return 0!=(256&s[2])}function Li(s,o){return s.hasOwnProperty(ir)?s[ir]:null}class Xi{constructor(o,a,c){this.previousValue=o,this.currentValue=a,this.firstChange=c}isFirstChange(){return this.firstChange}}function es(){return Ns}function Ns(s){return s.type.prototype.ngOnChanges&&(s.setInput=fl),va}function va(){const s=tf(this),o=s?.current;if(o){const a=s.previous;if(a===Qr)s.previous=o;else for(let c in o)a[c]=o[c];s.current=null,this.ngOnChanges(o)}}function fl(s,o,a,c){const h=tf(s)||function Vi(s,o){return s[Uu]=o}(s,{previous:Qr,current:null}),g=h.current||(h.current={}),v=h.previous,b=this.declaredInputs[a],I=v[b];g[b]=new Xi(I&&I.currentValue,o,v===Qr),s[c]=o}es.ngInherit=!0;const Uu="__ngSimpleChanges__";function tf(s){return s[Uu]||null}function Pn(s){for(;Array.isArray(s);)s=s[0];return s}function ci(s,o){return Pn(o[s])}function Hr(s,o){return Pn(o[s.index])}function xo(s,o){return s.data[o]}function ns(s,o){return s[o]}function Yt(s,o){const a=o[s];return fr(a)?a:a[0]}function Qs(s){return 64==(64&s[2])}function Si(s,o){return null==o?null:s[o]}function _l(s){s[18]=0}function xn(s,o){s[5]+=o;let a=s,c=s[3];for(;null!==c&&(1===o&&1===a[5]||-1===o&&0===a[5]);)c[5]+=o,a=c,c=c[3]}const Mt={lFrame:Ku(null),bindingsEnabled:!0};function rs(){return Mt.bindingsEnabled}function Te(){return Mt.lFrame.lView}function qt(){return Mt.lFrame.tView}function bl(s){return Mt.lFrame.contextLView=s,s[8]}function Il(s){return Mt.lFrame.contextLView=null,s}function On(){let s=Cl();for(;null!==s&&64===s.type;)s=s.parent;return s}function Cl(){return Mt.lFrame.currentTNode}function di(s,o){const a=Mt.lFrame;a.currentTNode=s,a.isParent=o}function wa(){return Mt.lFrame.isParent}function ba(){Mt.lFrame.isParent=!1}function Rn(){const s=Mt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function Js(){return Mt.lFrame.bindingIndex++}function is(s){const o=Mt.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,a}function dg(s,o){const a=Mt.lFrame;a.bindingIndex=a.bindingRootIndex=s,Dl(o)}function Dl(s){Mt.lFrame.currentDirectiveIndex=s}function Da(s){const o=Mt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}function qu(){return Mt.lFrame.currentQueryIndex}function Ta(s){Mt.lFrame.currentQueryIndex=s}function Wu(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function Tl(s,o,a){if(a&Ke.SkipSelf){let h=o,g=s;for(;!(h=h.parent,null!==h||a&Ke.Host||(h=Wu(g),null===h||(g=g[15],10&h.type))););if(null===h)return!1;o=h,s=g}const c=Mt.lFrame=Zu();return c.currentTNode=o,c.lView=s,!0}function Sl(s){const o=Zu(),a=s[1];Mt.lFrame=o,o.currentTNode=a.firstChild,o.lView=s,o.tView=a,o.contextLView=s,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function Zu(){const s=Mt.lFrame,o=null===s?null:s.child;return null===o?Ku(s):o}function Ku(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Yu(){const s=Mt.lFrame;return Mt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const ld=Yu;function Xs(){const s=Yu();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function ar(){return Mt.lFrame.selectedIndex}function ei(s){Mt.lFrame.selectedIndex=s}function In(){const s=Mt.lFrame;return xo(s.tView,s.selectedIndex)}function xl(s,o){for(let a=o.directiveStart,c=o.directiveEnd;a<c;a++){const g=s.data[a].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:b,ngAfterViewInit:I,ngAfterViewChecked:S,ngOnDestroy:N}=g;v&&(s.contentHooks||(s.contentHooks=[])).push(-a,v),b&&((s.contentHooks||(s.contentHooks=[])).push(a,b),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(a,b)),I&&(s.viewHooks||(s.viewHooks=[])).push(-a,I),S&&((s.viewHooks||(s.viewHooks=[])).push(a,S),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(a,S)),null!=N&&(s.destroyHooks||(s.destroyHooks=[])).push(a,N)}}function to(s,o,a){Oo(s,o,3,a)}function Po(s,o,a,c){(3&s[2])===a&&Oo(s,o,a,c)}function dd(s,o){let a=s[2];(3&a)===o&&(a&=2047,a+=1,s[2]=a)}function Oo(s,o,a,c){const g=c??-1,v=o.length-1;let b=0;for(let I=void 0!==c?65535&s[18]:0;I<v;I++)if("number"==typeof o[I+1]){if(b=o[I],null!=c&&b>=c)break}else o[I]<0&&(s[18]+=65536),(b<g||-1==g)&&(hd(s,a,o,I),s[18]=(4294901760&s[18])+I+2),I++}function hd(s,o,a,c){const h=a[c]<0,g=a[c+1],b=s[h?-a[c]:a[c]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{g.call(b)}finally{}}}else try{g.call(b)}finally{}}class Os{constructor(o,a,c){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=c}}function Ro(s,o,a){let c=0;for(;c<a.length;){const h=a[c];if("number"==typeof h){if(0!==h)break;c++;const g=a[c++],v=a[c++],b=a[c++];s.setAttribute(o,v,b,g)}else{const g=h,v=a[++c];Rl(g)?s.setProperty(o,g,v):s.setAttribute(o,g,v),c++}}return c}function io(s){return 3===s||4===s||6===s}function Rl(s){return 64===s.charCodeAt(0)}function Sa(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let a=-1;for(let c=0;c<o.length;c++){const h=o[c];"number"==typeof h?a=h:0===a||pd(s,a,h,null,-1===a||2===a?o[++c]:null)}}return s}function pd(s,o,a,c,h){let g=0,v=s.length;if(-1===o)v=-1;else for(;g<s.length;){const b=s[g++];if("number"==typeof b){if(b===o){v=-1;break}if(b>o){v=g-1;break}}}for(;g<s.length;){const b=s[g];if("number"==typeof b)break;if(b===a){if(null===c)return void(null!==h&&(s[g+1]=h));if(c===s[g+1])return void(s[g+2]=h)}g++,null!==c&&g++,null!==h&&g++}-1!==v&&(s.splice(v,0,o),g=v+1),s.splice(g++,0,a),null!==c&&s.splice(g++,0,c),null!==h&&s.splice(g++,0,h)}function gd(s){return-1!==s}function pr(s){return 32767&s}function Ma(s,o){let a=function Aa(s){return s>>16}(s),c=o;for(;a>0;)c=c[15],a--;return c}let Bi=!0;function xa(s){const o=Bi;return Bi=s,o}let Bn=0;const Ai={};function so(s,o){const a=Fl(s,o);if(-1!==a)return a;const c=o[1];c.firstCreatePass&&(s.injectorIndex=o.length,Pa(c.data,s),Pa(o,null),Pa(c.blueprint,null));const h=Ll(s,o),g=s.injectorIndex;if(gd(h)){const v=pr(h),b=Ma(h,o),I=b[1].data;for(let S=0;S<8;S++)o[g+S]=b[v+S]|I[v+S]}return o[g+8]=h,g}function Pa(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Fl(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Ll(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let a=0,c=null,h=o;for(;null!==h;){if(c=Lo(h),null===c)return-1;if(a++,h=h[15],-1!==c.injectorIndex)return c.injectorIndex|a<<16}return-1}function Rs(s,o,a){!function kl(s,o,a){let c;"string"==typeof a?c=a.charCodeAt(0)||0:a.hasOwnProperty(Br)&&(c=a[Br]),null==c&&(c=a[Br]=Bn++);const h=255&c;o.data[s+(h>>5)]|=1<<h}(s,o,a)}function ks(s,o,a){if(a&Ke.Optional||void 0!==s)return s;Ee()}function Vl(s,o,a,c){if(a&Ke.Optional&&void 0===c&&(c=null),0==(a&(Ke.Self|Ke.Host))){const h=s[9],g=rr(void 0);try{return h?h.get(o,c,a&Ke.Optional):li(o,c,a&Ke.Optional)}finally{rr(g)}}return ks(c,0,a)}function oo(s,o,a,c=Ke.Default,h){if(null!==s){if(1024&o[2]){const v=function Fo(s,o,a,c,h){let g=s,v=o;for(;null!==g&&null!==v&&1024&v[2]&&!(256&v[2]);){const b=Oa(g,v,a,c|Ke.Self,Ai);if(b!==Ai)return b;let I=g.parent;if(!I){const S=v[21];if(S){const N=S.get(a,Ai,c);if(N!==Ai)return N}I=Lo(v),v=v[15]}g=I}return h}(s,o,a,c,Ai);if(v!==Ai)return v}const g=Oa(s,o,a,c,Ai);if(g!==Ai)return g}return Vl(o,a,c,h)}function Oa(s,o,a,c,h){const g=function ec(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(Br)?s[Br]:void 0;return"number"==typeof o?o>=0?255&o:tc:o}(a);if("function"==typeof g){if(!Tl(o,s,c))return c&Ke.Host?ks(h,0,c):Vl(o,a,c,h);try{const v=g(c);if(null!=v||c&Ke.Optional)return v;Ee()}finally{ld()}}else if("number"==typeof g){let v=null,b=Fl(s,o),I=-1,S=c&Ke.Host?o[16][6]:null;for((-1===b||c&Ke.SkipSelf)&&(I=-1===b?Ll(s,o):o[b+8],-1!==I&&Ra(c,!1)?(v=o[1],b=pr(I),o=Ma(I,o)):b=-1);-1!==b;){const N=o[1];if(Ul(g,b,N.data)){const R=_d(b,o,a,v,c,S);if(R!==Ai)return R}I=o[b+8],-1!==I&&Ra(c,o[1].data[b+8]===S)&&Ul(g,b,o)?(v=N,b=pr(I),o=Ma(I,o)):b=-1}}return h}function _d(s,o,a,c,h,g){const v=o[1],b=v.data[s+8],N=ko(b,v,a,null==c?_a(b)&&Bi:c!=v&&0!=(3&b.type),h&Ke.Host&&g===b);return null!==N?ss(o,v,N,b):Ai}function ko(s,o,a,c,h){const g=s.providerIndexes,v=o.data,b=1048575&g,I=s.directiveStart,N=g>>20,G=h?b+N:s.directiveEnd;for(let X=c?b:b+N;X<G;X++){const ve=v[X];if(X<I&&a===ve||X>=I&&ve.type===a)return X}if(h){const X=v[I];if(X&&Pr(X)&&X.type===a)return I}return null}function ss(s,o,a,c){let h=s[a];const g=o.data;if(function no(s){return s instanceof Os}(h)){const v=h;v.resolving&&function Xe(s,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new be(-200,`Circular dependency in DI detected for ${s}${a}`)}(function pe(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():me(s)}(g[a]));const b=xa(v.canSeeViewProviders);v.resolving=!0;const I=v.injectImpl?rr(v.injectImpl):null;Tl(s,c,Ke.Default);try{h=s[a]=v.factory(void 0,g,s,c),o.firstCreatePass&&a>=c.directiveStart&&function cd(s,o,a){const{ngOnChanges:c,ngOnInit:h,ngDoCheck:g}=o.type.prototype;if(c){const v=Ns(o);(a.preOrderHooks||(a.preOrderHooks=[])).push(s,v),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,v)}h&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-s,h),g&&((a.preOrderHooks||(a.preOrderHooks=[])).push(s,g),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,g))}(a,g[a],o)}finally{null!==I&&rr(I),xa(b),v.resolving=!1,ld()}}return h}function Ul(s,o,a){return!!(a[o+(s>>5)]&1<<s)}function Ra(s,o){return!(s&Ke.Self||s&Ke.Host&&o)}class ao{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,c){return oo(this._tNode,this._lView,o,c,a)}}function tc(){return new ao(On(),Te())}function os(s){return Vn(()=>{const o=s.prototype.constructor,a=o[ir]||Bl(o),c=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==c;){const g=h[ir]||Bl(h);if(g&&g!==a)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function Bl(s){return Le(s)?()=>{const o=Bl(K(s));return o&&o()}:Li(s)}function Lo(s){const o=s[1],a=o.type;return 2===a?o.declTNode:1===a?s[6]:null}function jl(s){return function yd(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const a=s.attrs;if(a){const c=a.length;let h=0;for(;h<c;){const g=a[h];if(io(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<c&&"string"==typeof a[h];)h++;else{if(g===o)return a[h+1];h+=2}}}return null}(On(),s)}const Fs="__parameters__";function Bo(s,o,a){return Vn(()=>{const c=function Hl(s){return function(...a){if(s){const c=s(...a);for(const h in c)this[h]=c[h]}}}(o);function h(...g){if(this instanceof h)return c.apply(this,g),this;const v=new h(...g);return b.annotation=v,b;function b(I,S,N){const R=I.hasOwnProperty(Fs)?I[Fs]:Object.defineProperty(I,Fs,{value:[]})[Fs];for(;R.length<=N;)R.push(null);return(R[N]=R[N]||[]).push(v),I}}return a&&(h.prototype=Object.create(a.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class En{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=tn({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function un(s,o){void 0===o&&(o=s);for(let a=0;a<s.length;a++){let c=s[a];Array.isArray(c)?(o===s&&(o=s.slice(0,a)),un(c,o)):o!==s&&o.push(c)}return o}function Fn(s,o){s.forEach(a=>Array.isArray(a)?Fn(a,o):o(a))}function vd(s,o,a){o>=s.length?s.push(a):s.splice(o,0,a)}function as(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function Dr(s,o){const a=[];for(let c=0;c<s;c++)a.push(o);return a}function mr(s,o,a){let c=Ls(s,o);return c>=0?s[1|c]=a:(c=~c,function nc(s,o,a,c){let h=s.length;if(h==o)s.push(a,c);else if(1===h)s.push(c,s[0]),s[0]=a;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=a,s[o+1]=c}}(s,c,o,a)),c}function bt(s,o){const a=Ls(s,o);if(a>=0)return s[1|a]}function Ls(s,o){return function Ho(s,o,a){let c=0,h=s.length>>a;for(;h!==c;){const g=c+(h-c>>1),v=s[g<<a];if(o===v)return g<<a;v>o?h=g:c=g+1}return~(h<<a)}(s,o,1)}const ri={},Zl="__NG_DI_FLAG__",Kl="ngTempTokenPath",ho=/\n/gm,wd="__source";let jn;function ji(s){const o=jn;return jn=s,o}function rc(s,o=Ke.Default){if(void 0===jn)throw new be(-203,!1);return null===jn?li(s,void 0,o):jn.get(s,o&Ke.Optional?null:void 0,o)}function zt(s,o=Ke.Default){return(function Is(){return Nr}()||rc)(K(s),o)}function C(s,o=Ke.Default){return"number"!=typeof o&&(o=0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)),zt(s,o)}function D(s){const o=[];for(let a=0;a<s.length;a++){const c=K(s[a]);if(Array.isArray(c)){if(0===c.length)throw new be(900,!1);let h,g=Ke.Default;for(let v=0;v<c.length;v++){const b=c[v],I=L(b);"number"==typeof I?-1===I?h=b.token:g|=I:h=b}o.push(zt(h,g))}else o.push(zt(c))}return o}function x(s,o){return s[Zl]=o,s.prototype[Zl]=o,s}function L(s){return s[Zl]}const Ue=x(Bo("Optional"),8),ft=x(Bo("SkipSelf"),4);let Cd,Yl,go;function Qy(s){Cd=s}function Ua(s){return function Dd(){if(void 0===Yl&&(Yl=null,ln.trustedTypes))try{Yl=ln.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Yl}()?.createHTML(s)||s}function Wo(s){return function mf(){if(void 0===go&&(go=null,ln.trustedTypes))try{go=ln.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return go}()?.createHTML(s)||s}class ds{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Jy extends ds{getTypeName(){return"HTML"}}class Ql extends ds{getTypeName(){return"Style"}}class ic extends ds{getTypeName(){return"Script"}}class _f extends ds{getTypeName(){return"URL"}}class Sd extends ds{getTypeName(){return"ResourceURL"}}function hs(s){return s instanceof ds?s.changingThisBreaksApplicationSecurity:s}function Zo(s,o){const a=function sc(s){return s instanceof ds&&s.getTypeName()||null}(s);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===o}function vf(s){return new Jy(s)}function wg(s){return new Ql(s)}function Xy(s){return new ic(s)}function e_(s){return new _f(s)}function t_(s){return new Sd(s)}class bg{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const a=(new window.DOMParser).parseFromString(Ua(o),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(o):(a.removeChild(a.firstChild),a)}catch{return null}}}class n_{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const c=this.inertDocument.createElement("body");a.appendChild(c)}}getInertBodyElement(o){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=Ua(o),a;const c=this.inertDocument.createElement("body");return c.innerHTML=Ua(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(c),c}stripCustomNsAttrs(o){const a=o.attributes;for(let h=a.length-1;0<h;h--){const v=a.item(h).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&o.removeAttribute(v)}let c=o.firstChild;for(;c;)c.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(c),c=c.nextSibling}}const ja=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Ad(s){return(s=String(s)).match(ja)?s:"unsafe:"+s}function fs(s){const o={};for(const a of s.split(","))o[a]=!0;return o}function Vs(...s){const o={};for(const a of s)for(const c in a)a.hasOwnProperty(c)&&(o[c]=!0);return o}const Ig=fs("area,br,col,hr,img,wbr"),Us=fs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Md=fs("rp,rt"),Ef=Vs(Ig,Vs(Us,fs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Vs(Md,fs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Vs(Md,Us)),mo=fs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),wf=Vs(mo,fs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),fs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Dg=fs("script,style,template");class Tg{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let a=o.firstChild,c=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?c=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,c&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let h=this.checkClobberedElement(a,a.nextSibling);if(h){a=h;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(o){const a=o.nodeName.toLowerCase();if(!Ef.hasOwnProperty(a))return this.sanitizedSomething=!0,!Dg.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const c=o.attributes;for(let h=0;h<c.length;h++){const g=c.item(h),v=g.name,b=v.toLowerCase();if(!wf.hasOwnProperty(b)){this.sanitizedSomething=!0;continue}let I=g.value;mo[b]&&(I=Ad(I)),this.buf.push(" ",v,'="',Sg(I),'"')}return this.buf.push(">"),!0}endElement(o){const a=o.nodeName.toLowerCase();Ef.hasOwnProperty(a)&&!Ig.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(o){this.buf.push(Sg(o))}checkClobberedElement(o,a){if(a&&(o.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return a}}const Ha=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,bf=/([^\#-~ |!])/g;function Sg(s){return s.replace(/&/g,"&amp;").replace(Ha,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(bf,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let lc;function Nd(s,o){let a=null;try{lc=lc||function oc(s){const o=new n_(s);return function vE(){try{return!!(new window.DOMParser).parseFromString(Ua(""),"text/html")}catch{return!1}}()?new bg(o):o}(s);let c=o?String(o):"";a=lc.getInertBodyElement(c);let h=5,g=c;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,c=g,g=a.innerHTML,a=lc.getInertBodyElement(c)}while(c!==g);return Ua((new Tg).sanitizeChildren($a(a)||a))}finally{if(a){const c=$a(a)||a;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function $a(s){return"content"in s&&function uc(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var Qn=(()=>((Qn=Qn||{})[Qn.NONE=0]="NONE",Qn[Qn.HTML=1]="HTML",Qn[Qn.STYLE=2]="STYLE",Qn[Qn.SCRIPT=3]="SCRIPT",Qn[Qn.URL=4]="URL",Qn[Qn.RESOURCE_URL=5]="RESOURCE_URL",Qn))();function Ga(s){const o=Jl();return o?Wo(o.sanitize(Qn.HTML,s)||""):Zo(s,"HTML")?Wo(hs(s)):Nd(function gf(){return void 0!==Cd?Cd:typeof document<"u"?document:void 0}(),me(s))}function Pd(s){const o=Jl();return o?o.sanitize(Qn.URL,s)||"":Zo(s,"URL")?hs(s):Ad(me(s))}function Jl(){const s=Te();return s&&s[12]}const Df=new En("ENVIRONMENT_INITIALIZER"),Mg=new En("INJECTOR",-1),xg=new En("INJECTOR_DEF_TYPES");class Ng{get(o,a=ri){if(a===ri){const c=new Error(`NullInjectorError: No provider for ${he(o)}!`);throw c.name="NullInjectorError",c}return a}}function Pg(...s){return{\u0275providers:kd(0,s)}}function kd(s,...o){const a=[],c=new Set;let h;return Fn(o,g=>{const v=g;Ld(v,a,[],c)&&(h||(h=[]),h.push(v))}),void 0!==h&&Fd(h,a),a}function Fd(s,o){for(let a=0;a<s.length;a++){const{providers:h}=s[a];Fn(h,g=>{o.push(g)})}}function Ld(s,o,a,c){if(!(s=K(s)))return!1;let h=null,g=Ws(s);const v=!g&&Q(s);if(g||v){if(v&&!v.standalone)return!1;h=s}else{const I=s.ngModule;if(g=Ws(I),!g)return!1;h=I}const b=c.has(h);if(v){if(b)return!1;if(c.add(h),v.dependencies){const I="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const S of I)Ld(S,o,a,c)}}else{if(!g)return!1;{if(null!=g.imports&&!b){let S;c.add(h);try{Fn(g.imports,N=>{Ld(N,o,a,c)&&(S||(S=[]),S.push(N))})}finally{}void 0!==S&&Fd(S,o)}if(!b){const S=Li(h)||(()=>new h);o.push({provide:h,useFactory:S,deps:xt},{provide:xg,useValue:h,multi:!0},{provide:Df,useValue:()=>zt(h),multi:!0})}const I=g.providers;null==I||b||Fn(I,N=>{o.push(N)})}}return h!==s&&void 0!==s.providers}const Tf=de({provide:String,useValue:de});function Vd(s){return null!==s&&"object"==typeof s&&Tf in s}function Gr(s){return"function"==typeof s}const eu=new En("Set Injector scope."),qa={},s_={};let Hi;function cc(){return void 0===Hi&&(Hi=new Ng),Hi}class fi{}class tu extends fi{constructor(o,a,c,h){super(),this.parent=a,this.source=c,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,_o(o,v=>this.processProvider(v)),this.records.set(Mg,Jn(void 0,this)),h.has("environment")&&this.records.set(fi,Jn(void 0,this));const g=this.records.get(eu);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(xg.multi,xt,Ke.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const a=ji(this),c=rr(void 0);try{return o()}finally{ji(a),rr(c)}}get(o,a=ri,c=Ke.Default){this.assertNotDestroyed();const h=ji(this),g=rr(void 0);try{if(!(c&Ke.SkipSelf)){let b=this.records.get(o);if(void 0===b){const I=function o_(s){return"function"==typeof s||"object"==typeof s&&s instanceof En}(o)&&gn(o);b=I&&this.injectableDefInScope(I)?Jn(Ud(o),qa):null,this.records.set(o,b)}if(null!=b)return this.hydrate(o,b)}return(c&Ke.Self?cc():this.parent).get(o,a=c&Ke.Optional&&a===ri?null:a)}catch(v){if("NullInjectorError"===v.name){if((v[Kl]=v[Kl]||[]).unshift(he(o)),h)throw v;return function Y(s,o,a,c){const h=s[Kl];throw o[wd]&&h.unshift(o[wd]),s.message=function oe(s,o,a,c=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let h=he(o);if(Array.isArray(o))h=o.map(he).join(" -> ");else if("object"==typeof o){let g=[];for(let v in o)if(o.hasOwnProperty(v)){let b=o[v];g.push(v+":"+("string"==typeof b?JSON.stringify(b):he(b)))}h=`{${g.join(", ")}}`}return`${a}${c?"("+c+")":""}[${h}]: ${s.replace(ho,"\n  ")}`}("\n"+s.message,h,a,c),s.ngTokenPath=h,s[Kl]=null,s}(v,o,"R3InjectorError",this.source)}throw v}finally{rr(g),ji(h)}}resolveInjectorInitializers(){const o=ji(this),a=rr(void 0);try{const c=this.get(Df.multi,xt,Ke.Self);for(const h of c)h()}finally{ji(o),rr(a)}}toString(){const o=[],a=this.records;for(const c of a.keys())o.push(he(c));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new be(205,!1)}processProvider(o){let a=Gr(o=K(o))?o:K(o&&o.provide);const c=function Og(s){return Vd(s)?Jn(void 0,s.useValue):Jn(dc(s),qa)}(o);if(Gr(o)||!0!==o.multi)this.records.get(a);else{let h=this.records.get(a);h||(h=Jn(void 0,qa,!0),h.factory=()=>D(h.multi),this.records.set(a,h)),a=o,h.multi.push(o)}this.records.set(a,c)}hydrate(o,a){return a.value===qa&&(a.value=s_,a.value=a.factory()),"object"==typeof a.value&&a.value&&function Wa(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=K(o.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function Ud(s){const o=gn(s),a=null!==o?o.factory:Li(s);if(null!==a)return a;if(s instanceof En)throw new be(204,!1);if(s instanceof Function)return function Sf(s){const o=s.length;if(o>0)throw Dr(o,"?"),new be(204,!1);const a=function Ur(s){const o=s&&(s[Di]||s[ai]);if(o){const a=function Yr(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),o}return null}(s);return null!==a?()=>a.factory(s):()=>new s}(s);throw new be(204,!1)}function dc(s,o,a){let c;if(Gr(s)){const h=K(s);return Li(h)||Ud(h)}if(Vd(s))c=()=>K(s.useValue);else if(function Ko(s){return!(!s||!s.useFactory)}(s))c=()=>s.useFactory(...D(s.deps||[]));else if(function $r(s){return!(!s||!s.useExisting)}(s))c=()=>zt(K(s.useExisting));else{const h=K(s&&(s.useClass||s.provide));if(!function Af(s){return!!s.deps}(s))return Li(h)||Ud(h);c=()=>new h(...D(s.deps))}return c}function Jn(s,o,a=!1){return{factory:s,value:o,multi:a?[]:void 0}}function yo(s){return!!s.\u0275providers}function _o(s,o){for(const a of s)Array.isArray(a)?_o(a,o):yo(a)?_o(a.\u0275providers,o):o(a)}class Bd{}class fc{resolveComponentFactory(o){throw function Rg(s){const o=Error(`No component factory found for ${he(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let Yo=(()=>{class s{}return s.NULL=new fc,s})();function xf(){return _(On(),Te())}function _(s,o){return new f(Hr(s,o))}let f=(()=>{class s{constructor(a){this.nativeElement=a}}return s.__NG_ELEMENT_ID__=xf,s})();function m(s){return s instanceof f?s.nativeElement:s}class A{}let P=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function z(){const s=Te(),a=Yt(On().index,s);return(fr(a)?a:s)[11]}(),s})(),ue=(()=>{class s{}return s.\u0275prov=tn({token:s,providedIn:"root",factory:()=>null}),s})();class Fe{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Je=new Fe("14.2.7"),vt={};function d_(s){return s.ngOriginalError}class Pf{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o);this._console.error("ERROR",o),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&d_(o);for(;a&&d_(a);)a=d_(a);return a||null}}const f_=new Map;let iD=0;const Of="__ngContext__";function ii(s,o){fr(o)?(s[Of]=o[20],function oD(s){f_.set(s[20],s)}(o)):s[Of]=o}function Ka(s){return s instanceof Function?s():s}var Jo=(()=>((Jo=Jo||{})[Jo.Important=1]="Important",Jo[Jo.DashCase=2]="DashCase",Jo))();function y_(s,o){return undefined(s,o)}function Lf(s){const o=s[3];return jr(o)?o[3]:o}function Bg(s){return __(s[13])}function jg(s){return __(s[4])}function __(s){for(;null!==s&&!jr(s);)s=s[4];return s}function qd(s,o,a,c,h){if(null!=c){let g,v=!1;jr(c)?g=c:fr(c)&&(v=!0,c=c[0]);const b=Pn(c);0===s&&null!==a?null==h?Vf(o,a,b):_c(o,a,b,h||null,!0):1===s&&null!==a?_c(o,a,b,h||null,!0):2===s?function vD(s,o,a){const c=$g(s,o);c&&function yD(s,o,a,c){s.removeChild(o,a,c)}(s,c,o,a)}(o,b,v):3===s&&o.destroyNode(b),null!=g&&function Wg(s,o,a,c,h){const g=a[7];g!==Pn(a)&&qd(o,s,c,g,h);for(let b=10;b<a.length;b++){const I=a[b];Uf(I[1],I,s,o,c,g)}}(o,s,g,a,h)}}function E_(s,o,a){return s.createElement(o,a)}function UE(s,o){const a=s[9],c=a.indexOf(o),h=o[3];512&o[2]&&(o[2]&=-513,xn(h,-1)),a.splice(c,1)}function b_(s,o){if(s.length<=10)return;const a=10+o,c=s[a];if(c){const h=c[17];null!==h&&h!==s&&UE(h,c),o>0&&(s[a-1][4]=c[4]);const g=as(s,10+o);!function FE(s,o){Uf(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(c[1],c);const v=g[19];null!==v&&v.detachView(g[1]),c[3]=null,c[4]=null,c[2]&=-65}return c}function BE(s,o){if(!(128&o[2])){const a=o[11];a.destroyNode&&Uf(s,o,a,3,null,null),function VE(s){let o=s[13];if(!o)return Wd(s[1],s);for(;o;){let a=null;if(fr(o))a=o[13];else{const c=o[10];c&&(a=c)}if(!a){for(;o&&!o[4]&&o!==s;)fr(o)&&Wd(o[1],o),o=o[3];null===o&&(o=s),fr(o)&&Wd(o[1],o),a=o&&o[4]}o=a}}(o)}}function Wd(s,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function I_(s,o){let a;if(null!=s&&null!=(a=s.destroyHooks))for(let c=0;c<a.length;c+=2){const h=o[a[c]];if(!(h instanceof Os)){const g=a[c+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const b=h[g[v]],I=g[v+1];try{I.call(b)}finally{}}else try{g.call(h)}finally{}}}}(s,o),function jE(s,o){const a=s.cleanup,c=o[7];let h=-1;if(null!==a)for(let g=0;g<a.length-1;g+=2)if("string"==typeof a[g]){const v=a[g+1],b="function"==typeof v?v(o):Pn(o[v]),I=c[h=a[g+2]],S=a[g+3];"boolean"==typeof S?b.removeEventListener(a[g],I,S):S>=0?c[h=S]():c[h=-S].unsubscribe(),g+=2}else{const v=c[h=a[g+1]];a[g].call(v)}if(null!==c){for(let g=h+1;g<c.length;g++)(0,c[g])();o[7]=null}}(s,o),1===o[1].type&&o[11].destroy();const a=o[17];if(null!==a&&jr(o[3])){a!==o[3]&&UE(a,o);const c=o[19];null!==c&&c.detachView(s)}!function aD(s){f_.delete(s[20])}(o)}}function Hg(s,o,a){return function HE(s,o,a){let c=o;for(;null!==c&&40&c.type;)c=(o=c).parent;if(null===c)return a[0];if(2&c.flags){const h=s.data[c.directiveStart].encapsulation;if(h===lt.None||h===lt.Emulated)return null}return Hr(c,a)}(s,o.parent,a)}function _c(s,o,a,c,h){s.insertBefore(o,a,c,h)}function Vf(s,o,a){s.appendChild(o,a)}function $E(s,o,a,c,h){null!==c?_c(s,o,a,c,h):Vf(s,o,a)}function $g(s,o){return s.parentNode(o)}function C_(s,o,a){return GE(s,o,a)}let GE=function Tr(s,o,a){return 40&s.type?Hr(s,a):null};function vc(s,o,a,c){const h=Hg(s,c,o),g=o[11],b=C_(c.parent||o[6],c,o);if(null!=h)if(Array.isArray(a))for(let I=0;I<a.length;I++)$E(g,h,a[I],b,!1);else $E(g,h,a,b,!1)}function zg(s,o){if(null!==o){const a=o.type;if(3&a)return Hr(o,s);if(4&a)return qg(-1,s[o.index]);if(8&a){const c=o.child;if(null!==c)return zg(s,c);{const h=s[o.index];return jr(h)?qg(-1,h):Pn(h)}}if(32&a)return y_(o,s)()||Pn(s[o.index]);{const c=zE(s,o);return null!==c?Array.isArray(c)?c[0]:zg(Lf(s[16]),c):zg(s,o.next)}}return null}function zE(s,o){return null!==o?s[16][6].projection[o.projection]:null}function qg(s,o){const a=10+s+1;if(a<o.length){const c=o[a],h=c[1].firstChild;if(null!==h)return zg(c,h)}return o[7]}function qE(s,o,a,c,h,g,v){for(;null!=a;){const b=c[a.index],I=a.type;if(v&&0===o&&(b&&ii(Pn(b),c),a.flags|=4),64!=(64&a.flags))if(8&I)qE(s,o,a.child,c,h,g,!1),qd(o,s,h,b,g);else if(32&I){const S=y_(a,c);let N;for(;N=S();)qd(o,s,h,N,g);qd(o,s,h,b,g)}else 16&I?T_(s,o,c,a,h,g):qd(o,s,h,b,g);a=v?a.projectionNext:a.next}}function Uf(s,o,a,c,h,g){qE(a,c,s.firstChild,o,h,g,!1)}function T_(s,o,a,c,h,g){const v=a[16],I=v[6].projection[c.projection];if(Array.isArray(I))for(let S=0;S<I.length;S++)qd(o,s,h,I[S],g);else qE(s,o,I,v[3],h,g,!0)}function S_(s,o,a){s.setAttribute(o,"style",a)}function iu(s,o,a){""===a?s.removeAttribute(o,"class"):s.setAttribute(o,"class",a)}function Zg(s,o,a){let c=s.length;for(;;){const h=s.indexOf(o,a);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const g=o.length;if(h+g===c||s.charCodeAt(h+g)<=32)return h}a=h+1}}const A_="ng-template";function WE(s,o,a){let c=0;for(;c<s.length;){let h=s[c++];if(a&&"class"===h){if(h=s[c],-1!==Zg(h.toLowerCase(),o,0))return!0}else if(1===h){for(;c<s.length&&"string"==typeof(h=s[c++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function Kg(s){return 4===s.type&&s.value!==A_}function ED(s,o,a){return o===(4!==s.type||a?s.value:A_)}function wD(s,o,a){let c=4;const h=s.attrs||[],g=function Yg(s){for(let o=0;o<s.length;o++)if(io(s[o]))return o;return s.length}(h);let v=!1;for(let b=0;b<o.length;b++){const I=o[b];if("number"!=typeof I){if(!v)if(4&c){if(c=2|1&c,""!==I&&!ED(s,I,a)||""===I&&1===o.length){if(vo(c))return!1;v=!0}}else{const S=8&c?I:o[++b];if(8&c&&null!==s.attrs){if(!WE(s.attrs,S,a)){if(vo(c))return!1;v=!0}continue}const R=ZE(8&c?"class":I,h,Kg(s),a);if(-1===R){if(vo(c))return!1;v=!0;continue}if(""!==S){let G;G=R>g?"":h[R+1].toLowerCase();const X=8&c?G:null;if(X&&-1!==Zg(X,S,0)||2&c&&S!==G){if(vo(c))return!1;v=!0}}}}else{if(!v&&!vo(c)&&!vo(I))return!1;if(v&&vo(I))continue;v=!1,c=I|1&c}}return vo(c)||v}function vo(s){return 0==(1&s)}function ZE(s,o,a,c){if(null===o)return-1;let h=0;if(c||!a){let g=!1;for(;h<o.length;){const v=o[h];if(v===s)return h;if(3===v||6===v)g=!0;else{if(1===v||2===v){let b=o[++h];for(;"string"==typeof b;)b=o[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=g?1:2}return-1}return function HM(s,o){let a=s.indexOf(4);if(a>-1)for(a++;a<s.length;){const c=s[a];if("number"==typeof c)return-1;if(c===o)return a;a++}return-1}(o,s)}function KE(s,o,a=!1){for(let c=0;c<o.length;c++)if(wD(s,o[c],a))return!0;return!1}function YE(s,o){e:for(let a=0;a<o.length;a++){const c=o[a];if(s.length===c.length){for(let h=0;h<s.length;h++)if(s[h]!==c[h])continue e;return!0}}return!1}function QE(s,o){return s?":not("+o.trim()+")":o}function bD(s){let o=s[0],a=1,c=2,h="",g=!1;for(;a<s.length;){let v=s[a];if("string"==typeof v)if(2&c){const b=s[++a];h+="["+v+(b.length>0?'="'+b+'"':"")+"]"}else 8&c?h+="."+v:4&c&&(h+=" "+v);else""!==h&&!vo(v)&&(o+=QE(g,h),h=""),c=v,g=g||!vo(c);a++}return""!==h&&(o+=QE(g,h)),o}const jt={};function XE(s){ew(qt(),Te(),ar()+s,!1)}function ew(s,o,a,c){if(!c)if(3==(3&o[2])){const g=s.preOrderCheckHooks;null!==g&&to(o,g,a)}else{const g=s.preOrderHooks;null!==g&&Po(o,g,0,a)}ei(a)}function x_(s,o=null,a=null,c){const h=rw(s,o,a,c);return h.resolveInjectorInitializers(),h}function rw(s,o=null,a=null,c,h=new Set){const g=[a||xt,Pg(s)];return c=c||("object"==typeof s?void 0:he(s)),new tu(g,o||cc(),c||null,h)}let wc=(()=>{class s{static create(a,c){if(Array.isArray(a))return x_({name:""},c,a,"");{const h=a.name??"";return x_({name:h},a.parent,a.providers,h)}}}return s.THROW_IF_NOT_FOUND=ri,s.NULL=new Ng,s.\u0275prov=tn({token:s,providedIn:"any",factory:()=>zt(Mg)}),s.__NG_ELEMENT_ID__=-1,s})();function au(s,o=Ke.Default){const a=Te();return null===a?zt(s,o):oo(On(),a,K(s),o)}function Hf(){throw new Error("invalid")}function $f(s,o){return s<<17|o<<2}function js(s){return s>>17&32767}function tm(s){return 2|s}function uu(s){return(131068&s)>>2}function gw(s,o){return-131069&s|o<<2}function zf(s){return 1|s}function Cw(s,o){const a=s.contentQueries;if(null!==a)for(let c=0;c<a.length;c+=2){const h=a[c],g=a[c+1];if(-1!==g){const v=s.data[g];Ta(h),v.contentQueries(2,o[g],g)}}}function Wf(s,o,a,c,h,g,v,b,I,S,N){const R=o.blueprint.slice();return R[0]=h,R[2]=76|c,(null!==N||s&&1024&s[2])&&(R[2]|=1024),_l(R),R[3]=R[15]=s,R[8]=a,R[10]=v||s&&s[10],R[11]=b||s&&s[11],R[12]=I||s&&s[12]||null,R[9]=S||s&&s[9]||null,R[6]=g,R[20]=function sD(){return iD++}(),R[21]=N,R[16]=2==o.type?s[16]:R,R}function Xd(s,o,a,c,h){let g=s.data[o];if(null===g)g=function Tw(s,o,a,c,h){const g=Cl(),v=wa(),I=s.data[o]=function xw(s,o,a,c,h,g){return{type:a,index:c,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,a,o,c,h);return null===s.firstChild&&(s.firstChild=I),null!==g&&(v?null==g.child&&null!==I.parent&&(g.child=I):null===g.next&&(g.next=I)),I}(s,o,a,c,h),function cg(){return Mt.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=a,g.value=c,g.attrs=h;const v=function No(){const s=Mt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();g.injectorIndex=null===v?-1:v.injectorIndex}return di(g,!0),g}function eh(s,o,a,c){if(0===a)return-1;const h=o.length;for(let g=0;g<a;g++)o.push(c),s.blueprint.push(c),s.data.push(null);return h}function cm(s,o,a){Sl(o);try{const c=s.viewQuery;null!==c&&Y_(1,c,a);const h=s.template;null!==h&&dm(s,o,h,1,a),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&Cw(s,o),s.staticViewQueries&&Y_(2,s.viewQuery,a);const g=s.components;null!==g&&function BD(s,o){for(let a=0;a<o.length;a++)K_(s,o[a])}(o,g)}catch(c){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),c}finally{o[2]&=-5,Xs()}}function U_(s,o,a,c){const h=o[2];if(128!=(128&h)){Sl(o);try{_l(o),function Gu(s){return Mt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==a&&dm(s,o,a,2,c);const v=3==(3&h);if(v){const S=s.preOrderCheckHooks;null!==S&&to(o,S,null)}else{const S=s.preOrderHooks;null!==S&&Po(o,S,0,null),dd(o,0)}if(function YD(s){for(let o=Bg(s);null!==o;o=jg(o)){if(!o[2])continue;const a=o[9];for(let c=0;c<a.length;c++){const h=a[c],g=h[3];0==(512&h[2])&&xn(g,1),h[2]|=512}}}(o),function Yf(s){for(let o=Bg(s);null!==o;o=jg(o))for(let a=10;a<o.length;a++){const c=o[a],h=c[1];Qs(c)&&U_(h,c,h.template,c[8])}}(o),null!==s.contentQueries&&Cw(s,o),v){const S=s.contentCheckHooks;null!==S&&to(o,S)}else{const S=s.contentHooks;null!==S&&Po(o,S,1),dd(o,1)}!function UD(s,o){const a=s.hostBindingOpCodes;if(null!==a)try{for(let c=0;c<a.length;c++){const h=a[c];if(h<0)ei(~h);else{const g=h,v=a[++c],b=a[++c];dg(v,g),b(2,o[g])}}}finally{ei(-1)}}(s,o);const b=s.components;null!==b&&function Dw(s,o){for(let a=0;a<o.length;a++)W_(s,o[a])}(o,b);const I=s.viewQuery;if(null!==I&&Y_(2,I,c),v){const S=s.viewCheckHooks;null!==S&&to(o,S)}else{const S=s.viewHooks;null!==S&&Po(o,S,2),dd(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,xn(o[3],-1))}finally{Xs()}}}function dm(s,o,a,c,h){const g=ar(),v=2&c;try{ei(-1),v&&o.length>22&&ew(s,o,22,!1),a(c,h)}finally{ei(g)}}function Sw(s,o,a){if(cl(o)){const h=o.directiveEnd;for(let g=o.directiveStart;g<h;g++){const v=s.data[g];v.contentQueries&&v.contentQueries(1,a[g],g)}}}function hm(s,o,a){!rs()||(function Nw(s,o,a,c){const h=a.directiveStart,g=a.directiveEnd;s.firstCreatePass||so(a,o),ii(c,o);const v=a.initialInputs;for(let b=h;b<g;b++){const I=s.data[b],S=Pr(I);S&&Ow(o,a,I);const N=ss(o,s,b,a);ii(N,o),null!==v&&q_(0,b-h,N,I,0,v),S&&(Yt(a.index,o)[8]=N)}}(s,o,a,Hr(a,o)),128==(128&a.flags)&&function G_(s,o,a){const c=a.directiveStart,h=a.directiveEnd,g=a.index,v=function zu(){return Mt.lFrame.currentDirectiveIndex}();try{ei(g);for(let b=c;b<h;b++){const I=s.data[b],S=o[b];Dl(b),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&pm(I,S)}}finally{ei(-1),Dl(v)}}(s,o,a))}function Zf(s,o,a=Hr){const c=o.localNames;if(null!==c){let h=o.index+1;for(let g=0;g<c.length;g+=2){const v=c[g+1],b=-1===v?a(o,s):s[v];s[h++]=b}}}function Aw(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=Mw(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function Mw(s,o,a,c,h,g,v,b,I,S){const N=22+c,R=N+h,G=function jD(s,o){const a=[];for(let c=0;c<o;c++)a.push(c<s?null:jt);return a}(N,R),X="function"==typeof S?S():S;return G[1]={type:s,blueprint:G,template:a,queries:null,viewQuery:b,declTNode:o,data:G.slice().fill(null,N),bindingStartIndex:N,expandoStartIndex:R,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:I,consts:X,incompleteFirstPass:!1}}function j_(s,o,a,c){const h=J_(o);null===a?h.push(c):(h.push(a),s.firstCreatePass&&Fw(s).push(c,h.length-1))}function th(s,o,a){for(let c in s)if(s.hasOwnProperty(c)){const h=s[c];(a=null===a?{}:a).hasOwnProperty(c)?a[c].push(o,h):a[c]=[o,h]}return a}function HD(s,o){const c=o.directiveEnd,h=s.data,g=o.attrs,v=[];let b=null,I=null;for(let S=o.directiveStart;S<c;S++){const N=h[S],R=N.inputs,G=null===g||Kg(o)?null:ZD(R,g);v.push(G),b=th(R,S,b),I=th(N.outputs,S,I)}null!==b&&(b.hasOwnProperty("class")&&(o.flags|=16),b.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=v,o.inputs=b,o.outputs=I}function $i(s,o,a,c,h,g,v,b){const I=Hr(o,a);let N,S=o.inputs;!b&&null!=S&&(N=S[c])?(Vw(s,a,N,c,h),_a(o)&&GD(a,o.index)):3&o.type&&(c=function $D(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(c),h=null!=v?v(h,o.value||"",c):h,g.setProperty(I,c,h))}function GD(s,o){const a=Yt(o,s);16&a[2]||(a[2]|=32)}function H_(s,o,a,c){let h=!1;if(rs()){const g=function qD(s,o,a){const c=s.directiveRegistry;let h=null;if(c)for(let g=0;g<c.length;g++){const v=c[g];KE(a,v.selectors,!1)&&(h||(h=[]),Rs(so(a,o),s,v.type),Pr(v)?(Kf(s,a),h.unshift(v)):h.push(v))}return h}(s,o,a),v=null===c?null:{"":-1};if(null!==g){h=!0,z_(a,s.data.length,g.length);for(let N=0;N<g.length;N++){const R=g[N];R.providersResolver&&R.providersResolver(R)}let b=!1,I=!1,S=eh(s,o,g.length,null);for(let N=0;N<g.length;N++){const R=g[N];a.mergedAttrs=Sa(a.mergedAttrs,R.hostAttrs),Pw(s,a,o,S,R),JM(S,R,v),null!==R.contentQueries&&(a.flags|=8),(null!==R.hostBindings||null!==R.hostAttrs||0!==R.hostVars)&&(a.flags|=128);const G=R.type.prototype;!b&&(G.ngOnChanges||G.ngOnInit||G.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(a.index),b=!0),!I&&(G.ngOnChanges||G.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(a.index),I=!0),S++}HD(s,a)}v&&function WD(s,o,a){if(o){const c=s.localNames=[];for(let h=0;h<o.length;h+=2){const g=a[o[h+1]];if(null==g)throw new be(-301,!1);c.push(o[h],g)}}}(a,c,v)}return a.mergedAttrs=Sa(a.mergedAttrs,a.attrs),h}function $_(s,o,a,c,h,g){const v=g.hostBindings;if(v){let b=s.hostBindingOpCodes;null===b&&(b=s.hostBindingOpCodes=[]);const I=~o.index;(function zD(s){let o=s.length;for(;o>0;){const a=s[--o];if("number"==typeof a&&a<0)return a}return 0})(b)!=I&&b.push(I),b.push(c,h,v)}}function pm(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function Kf(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function JM(s,o,a){if(a){if(o.exportAs)for(let c=0;c<o.exportAs.length;c++)a[o.exportAs[c]]=s;Pr(o)&&(a[""]=s)}}function z_(s,o,a){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+a,s.providerIndexes=o}function Pw(s,o,a,c,h){s.data[c]=h;const g=h.factory||(h.factory=Li(h.type)),v=new Os(g,Pr(h),au);s.blueprint[c]=v,a[c]=v,$_(s,o,0,c,eh(s,a,h.hostVars,jt),h)}function Ow(s,o,a){const c=Hr(o,s),h=Aw(a),g=s[10],v=mm(s,Wf(s,h,null,a.onPush?32:16,c,o,g,g.createRenderer(c,a),null,null,null));s[o.index]=v}function ea(s,o,a,c,h,g){const v=Hr(s,o);!function gm(s,o,a,c,h,g,v){if(null==g)s.removeAttribute(o,h,a);else{const b=null==v?me(g):v(g,c||"",h);s.setAttribute(o,h,b,a)}}(o[11],v,g,s.value,a,c,h)}function q_(s,o,a,c,h,g){const v=g[o];if(null!==v){const b=c.setInput;for(let I=0;I<v.length;){const S=v[I++],N=v[I++],R=v[I++];null!==b?c.setInput(a,R,S,N):a[N]=R}}}function ZD(s,o){let a=null,c=0;for(;c<o.length;){const h=o[c];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===a&&(a=[]),a.push(h,s[h],o[c+1])),c+=2}else c+=2;else c+=4}return a}function Rw(s,o,a,c){return new Array(s,!0,!1,o,null,0,c,a,null,null)}function W_(s,o){const a=Yt(o,s);if(Qs(a)){const c=a[1];48&a[2]?U_(c,a,c.template,a[8]):a[5]>0&&Z_(a)}}function Z_(s){for(let c=Bg(s);null!==c;c=jg(c))for(let h=10;h<c.length;h++){const g=c[h];if(Qs(g))if(512&g[2]){const v=g[1];U_(v,g,v.template,g[8])}else g[5]>0&&Z_(g)}const a=s[1].components;if(null!==a)for(let c=0;c<a.length;c++){const h=Yt(a[c],s);Qs(h)&&h[5]>0&&Z_(h)}}function K_(s,o){const a=Yt(o,s),c=a[1];(function kw(s,o){for(let a=o.length;a<s.blueprint.length;a++)o.push(s.blueprint[a])})(c,a),cm(c,a,a[8])}function mm(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function nh(s){for(;s;){s[2]|=32;const o=Lf(s);if(Jh(s)&&!o)return s;s=o}return null}function ym(s,o,a,c=!0){const h=o[10];h.begin&&h.begin();try{U_(s,o,s.template,a)}catch(v){throw c&&Lw(o,v),v}finally{h.end&&h.end()}}function Y_(s,o,a){Ta(0),o(s,a)}function J_(s){return s[7]||(s[7]=[])}function Fw(s){return s.cleanup||(s.cleanup=[])}function Lw(s,o){const a=s[9],c=a?a.get(Pf,null):null;c&&c.handleError(o)}function Vw(s,o,a,c,h){for(let g=0;g<a.length;){const v=a[g++],b=a[g++],I=o[v],S=s.data[v];null!==S.setInput?S.setInput(I,h,c,b):I[b]=h}}function Qf(s,o,a){let c=a?s.styles:null,h=a?s.classes:null,g=0;if(null!==o)for(let v=0;v<o.length;v++){const b=o[v];"number"==typeof b?g=b:1==g?h=fe(h,b):2==g&&(c=fe(c,b+": "+o[++v]+";"))}a?s.styles=c:s.stylesWithoutHost=c,a?s.classes=h:s.classesWithoutHost=h}function Jf(s,o,a,c,h=!1){for(;null!==a;){const g=o[a.index];if(null!==g&&c.push(Pn(g)),jr(g))for(let b=10;b<g.length;b++){const I=g[b],S=I[1].firstChild;null!==S&&Jf(I[1],I,S,c)}const v=a.type;if(8&v)Jf(s,o,a.child,c);else if(32&v){const b=y_(a,o);let I;for(;I=b();)c.push(I)}else if(16&v){const b=zE(o,a);if(Array.isArray(b))c.push(...b);else{const I=Lf(o[16]);Jf(I[1],I,b,c,!0)}}a=h?a.projectionNext:a.next}return c}class rh{constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,a=o[1];return Jf(a,o,a.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(jr(o)){const a=o[8],c=a?a.indexOf(this):-1;c>-1&&(b_(o,c),as(a,c))}this._attachedToViewContainer=!1}BE(this._lView[1],this._lView)}onDestroy(o){j_(this._lView[1],this._lView,null,o)}markForCheck(){nh(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){ym(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new be(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function LE(s,o){Uf(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new be(902,!1);this._appRef=o}}class Dc extends rh{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;ym(o[1],o,o[8],!1)}checkNoChanges(){}get context(){return null}}class ev extends Yo{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=Q(o);return new Xf(a,this.ngModule)}}function tv(s){const o=[];for(let a in s)s.hasOwnProperty(a)&&o.push({propName:s[a],templateName:a});return o}class Uw{constructor(o,a){this.injector=o,this.parentInjector=a}get(o,a,c){const h=this.injector.get(o,vt,c);return h!==vt||a===vt?h:this.parentInjector.get(o,a,c)}}class Xf extends Bd{constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function JE(s){return s.map(bD).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return tv(this.componentDef.inputs)}get outputs(){return tv(this.componentDef.outputs)}create(o,a,c,h){let g=(h=h||this.ngModule)instanceof fi?h:h?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const v=g?new Uw(o,g):o,b=v.get(A,null);if(null===b)throw new be(407,!1);const I=v.get(ue,null),S=b.createRenderer(null,this.componentDef),N=this.componentDef.selectors[0][0]||"div",R=c?function B_(s,o,a){return s.selectRootElement(o,a===lt.ShadowDom)}(S,c,this.componentDef.encapsulation):E_(b.createRenderer(null,this.componentDef),N,function JD(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(N)),G=this.componentDef.onPush?288:272,X=Mw(0,null,null,1,0,null,null,null,null,null),ve=Wf(null,X,null,G,null,null,b,S,I,v,null);let ke,Ge;Sl(ve);try{const We=function Hw(s,o,a,c,h,g){const v=a[1];a[22]=s;const I=Xd(v,22,2,"#host",null),S=I.mergedAttrs=o.hostAttrs;null!==S&&(Qf(I,S,!0),null!==s&&(Ro(h,s,S),null!==I.classes&&iu(h,s,I.classes),null!==I.styles&&S_(h,s,I.styles)));const N=c.createRenderer(s,o),R=Wf(a,Aw(o),null,o.onPush?32:16,a[22],I,c,N,g||null,null,null);return v.firstCreatePass&&(Rs(so(I,a),v,o.type),Kf(v,I),z_(I,a.length,1)),mm(a,R),a[22]=R}(R,this.componentDef,ve,b,S);if(R)if(c)Ro(S,R,["ng-version",Je.full]);else{const{attrs:wt,classes:Se}=function ID(s){const o=[],a=[];let c=1,h=2;for(;c<s.length;){let g=s[c];if("string"==typeof g)2===h?""!==g&&o.push(g,s[++c]):8===h&&a.push(g);else{if(!vo(h))break;h=g}c++}return{attrs:o,classes:a}}(this.componentDef.selectors[0]);wt&&Ro(S,R,wt),Se&&Se.length>0&&iu(S,R,Se.join(" "))}if(Ge=xo(X,22),void 0!==a){const wt=Ge.projection=[];for(let Se=0;Se<this.ngContentSelectors.length;Se++){const Ct=a[Se];wt.push(null!=Ct?Array.from(Ct):null)}}ke=function eT(s,o,a,c){const h=a[1],g=function QM(s,o,a){const c=On();s.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),Pw(s,c,o,eh(s,o,1,null),a),HD(s,c));const h=ss(o,s,c.directiveStart,c);ii(h,o);const g=Hr(c,o);return g&&ii(g,o),h}(h,a,o);if(s[8]=a[8]=g,null!==c)for(const b of c)b(g,o);if(o.contentQueries){const b=On();o.contentQueries(1,g,b.directiveStart)}const v=On();return!h.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(ei(v.index),$_(a[1],v,0,v.directiveStart,v.directiveEnd,o),pm(o,g)),g}(We,this.componentDef,ve,[$w]),cm(X,ve,null)}finally{Xs()}return new jw(this.componentType,ke,_(Ge,ve),ve,Ge)}}class jw extends class Mf{}{constructor(o,a,c,h,g){super(),this.location=c,this._rootLView=h,this._tNode=g,this.instance=a,this.hostView=this.changeDetectorRef=new Dc(h),this.componentType=o}setInput(o,a){const c=this._tNode.inputs;let h;if(null!==c&&(h=c[o])){const g=this._rootLView;Vw(g[1],g,h,o,a),GD(g,this._tNode.index)}}get injector(){return new ao(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function $w(){const s=On();xl(Te()[1],s)}function _m(s){let o=function Gw(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),a=!0;const c=[s];for(;o;){let h;if(Pr(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new be(903,!1);h=o.\u0275dir}if(h){if(a){c.push(h);const v=s;v.inputs=vm(s.inputs),v.declaredInputs=vm(s.declaredInputs),v.outputs=vm(s.outputs);const b=h.hostBindings;b&&nx(s,b);const I=h.viewQuery,S=h.contentQueries;if(I&&ex(s,I),S&&tx(s,S),ae(s.inputs,h.inputs),ae(s.declaredInputs,h.declaredInputs),ae(s.outputs,h.outputs),Pr(h)&&h.data.animation){const N=s.data;N.animation=(N.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let v=0;v<g.length;v++){const b=g[v];b&&b.ngInherit&&b(s),b===_m&&(a=!1)}}o=Object.getPrototypeOf(o)}!function tT(s){let o=0,a=null;for(let c=s.length-1;c>=0;c--){const h=s[c];h.hostVars=o+=h.hostVars,h.hostAttrs=Sa(h.hostAttrs,a=Sa(a,h.hostAttrs))}}(c)}function vm(s){return s===Qr?{}:s===xt?[]:s}function ex(s,o){const a=s.viewQuery;s.viewQuery=a?(c,h)=>{o(c,h),a(c,h)}:o}function tx(s,o){const a=s.contentQueries;s.contentQueries=a?(c,h,g)=>{o(c,h,g),a(c,h,g)}:o}function nx(s,o){const a=s.hostBindings;s.hostBindings=a?(c,h)=>{o(c,h),a(c,h)}:o}let ep=null;function ih(){if(!ep){const s=ln.Symbol;if(s&&s.iterator)ep=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<o.length;++a){const c=o[a];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(ep=c)}}}return ep}function sh(s){return!!Zw(s)&&(Array.isArray(s)||!(s instanceof Map)&&ih()in s)}function Zw(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function ta(s,o,a){return s[o]=a}function zr(s,o,a){return!Object.is(s[o],a)&&(s[o]=a,!0)}function Tc(s,o,a,c){const h=zr(s,o,a);return zr(s,o+1,c)||h}function nv(s,o,a,c){const h=Te();return zr(h,Js(),o)&&(qt(),ea(In(),h,s,o,a,c)),nv}function qr(s,o,a,c,h,g,v,b){const I=Te(),S=qt(),N=s+22,R=S.firstCreatePass?function bm(s,o,a,c,h,g,v,b,I){const S=o.consts,N=Xd(o,s,4,v||null,Si(S,b));H_(o,a,N,Si(S,I)),xl(o,N);const R=N.tViews=Mw(2,N,c,h,g,o.directiveRegistry,o.pipeRegistry,null,o.schemas,S);return null!==o.queries&&(o.queries.template(o,N),R.queries=o.queries.embeddedTView(N)),N}(N,S,I,o,a,c,h,g,v):S.data[N];di(R,!1);const G=I[11].createComment("");vc(S,I,G,R),ii(G,I),mm(I,I[N]=Rw(G,I,G,R)),Fu(R)&&hm(S,I,R),null!=v&&Zf(I,R,b)}function Xw(s){return ns(function $u(){return Mt.lFrame.contextLView}(),22+s)}function rv(s,o,a){const c=Te();return zr(c,Js(),o)&&$i(qt(),In(),c,s,o,c[11],a,!1),rv}function Im(s,o,a,c,h){const v=h?"class":"style";Vw(s,a,o.inputs[v],v,c)}function rp(s,o,a,c){const h=Te(),g=qt(),v=22+s,b=h[11],I=h[v]=E_(b,o,function Ml(){return Mt.lFrame.currentNamespace}()),S=g.firstCreatePass?function iv(s,o,a,c,h,g,v){const b=o.consts,S=Xd(o,s,2,h,Si(b,g));return H_(o,a,S,Si(b,v)),null!==S.attrs&&Qf(S,S.attrs,!1),null!==S.mergedAttrs&&Qf(S,S.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,S),S}(v,g,h,0,o,a,c):g.data[v];di(S,!0);const N=S.mergedAttrs;null!==N&&Ro(b,I,N);const R=S.classes;null!==R&&iu(b,I,R);const G=S.styles;return null!==G&&S_(b,I,G),64!=(64&S.flags)&&vc(g,h,I,S),0===function El(){return Mt.lFrame.elementDepthCount}()&&ii(I,h),function wl(){Mt.lFrame.elementDepthCount++}(),Fu(S)&&(hm(g,h,S),Sw(g,S,h)),null!==c&&Zf(h,S),rp}function Rr(){let s=On();wa()?ba():(s=s.parent,di(s,!1));const o=s;!function Bu(){Mt.lFrame.elementDepthCount--}();const a=qt();return a.firstCreatePass&&(xl(a,s),cl(s)&&a.queries.elementEnd(s)),null!=o.classesWithoutHost&&function Ol(s){return 0!=(16&s.flags)}(o)&&Im(a,o,Te(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function fd(s){return 0!=(32&s.flags)}(o)&&Im(a,o,Te(),o.stylesWithoutHost,!1),Rr}function sv(s,o,a,c){return rp(s,o,a,c),Rr(),sv}function ip(s,o,a){const c=Te(),h=qt(),g=s+22,v=h.firstCreatePass?function Cm(s,o,a,c,h){const g=o.consts,v=Si(g,c),b=Xd(o,s,8,"ng-container",v);return null!==v&&Qf(b,v,!0),H_(o,a,b,Si(g,h)),null!==o.queries&&o.queries.elementStart(o,b),b}(g,h,c,o,a):h.data[g];di(v,!0);const b=c[g]=c[11].createComment("");return vc(h,c,b,v),ii(b,c),Fu(v)&&(hm(h,c,v),Sw(h,v,c)),null!=a&&Zf(c,v),ip}function lh(){let s=On();const o=qt();return wa()?ba():(s=s.parent,di(s,!1)),o.firstCreatePass&&(xl(o,s),cl(s)&&o.queries.elementEnd(s)),lh}function uh(s,o,a){return ip(s,o,a),lh(),uh}function bo(){return Te()}function sp(s){return!!s&&"function"==typeof s.then}function eb(s){return!!s&&"function"==typeof s.subscribe}const tb=eb;function pu(s,o,a,c){const h=Te(),g=qt(),v=On();return function lv(s,o,a,c,h,g,v,b){const I=Fu(c),N=s.firstCreatePass&&Fw(s),R=o[8],G=J_(o);let X=!0;if(3&c.type||b){const Ge=Hr(c,o),We=b?b(Ge):Ge,wt=G.length,Se=b?pn=>b(Pn(pn[c.index])):c.index;let Ct=null;if(!b&&I&&(Ct=function av(s,o,a,c){const h=s.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const v=h[g];if(v===a&&h[g+1]===c){const b=o[7],I=h[g+2];return b.length>I?b[I]:null}"string"==typeof v&&(g+=2)}return null}(s,o,h,c.index)),null!==Ct)(Ct.__ngLastListenerFn__||Ct).__ngNextListenerFn__=g,Ct.__ngLastListenerFn__=g,X=!1;else{g=uv(c,o,R,g,!1);const pn=a.listen(We,h,g);G.push(g,pn),N&&N.push(h,Se,wt,wt+1)}}else g=uv(c,o,R,g,!1);const ve=c.outputs;let ke;if(X&&null!==ve&&(ke=ve[h])){const Ge=ke.length;if(Ge)for(let We=0;We<Ge;We+=2){const mn=o[ke[We]][ke[We+1]].subscribe(g),qs=G.length;G.push(g,mn),N&&N.push(h,c.index,qs,-(qs+1))}}}(g,h,h[11],v,s,o,0,c),pu}function nb(s,o,a,c){try{return!1!==a(c)}catch(h){return Lw(s,h),!1}}function uv(s,o,a,c,h){return function g(v){if(v===Function)return c;nh(2&s.flags?Yt(s.index,o):o);let I=nb(o,0,c,v),S=g.__ngNextListenerFn__;for(;S;)I=nb(o,0,S,v)&&I,S=S.__ngNextListenerFn__;return h&&!1===I&&(v.preventDefault(),v.returnValue=!1),I}}function op(s=1){return function eo(s){return(Mt.lFrame.contextLView=function Al(s,o){for(;s>0;)o=o[15],s--;return o}(s,Mt.lFrame.contextLView))[8]}(s)}function cv(s,o){let a=null;const c=function jM(s){const o=s.attrs;if(null!=o){const a=o.indexOf(5);if(0==(1&a))return o[a+1]}return null}(s);for(let h=0;h<o.length;h++){const g=o[h];if("*"!==g){if(null===c?KE(s,g,!0):YE(c,g))return h}else a=h}return a}function Dm(s){const o=Te()[16][6];if(!o.projection){const c=o.projection=Dr(s?s.length:1,null),h=c.slice();let g=o.child;for(;null!==g;){const v=s?cv(g,s):0;null!==v&&(h[v]?h[v].projectionNext=g:c[v]=g,h[v]=g),g=g.next}}}function Tm(s,o=0,a){const c=Te(),h=qt(),g=Xd(h,22+s,16,null,a||null);null===g.projection&&(g.projection=o),ba(),64!=(64&g.flags)&&function D_(s,o,a){T_(o[11],0,o,a,Hg(s,a,o),C_(a.parent||o[6],a,o))}(h,c,g)}function gv(s,o,a,c,h){const g=s[a+1],v=null===o;let b=c?js(g):uu(g),I=!1;for(;0!==b&&(!1===I||v);){const N=s[b+1];ub(s[b],o)&&(I=!0,s[b+1]=c?zf(N):tm(N)),b=c?js(N):uu(N)}I&&(s[a+1]=c?tm(g):zf(g))}function ub(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Ls(s,o)>=0}const ur={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Am(s){return s.substring(ur.key,ur.keyEnd)}function mv(s){return s.substring(ur.value,ur.valueEnd)}function Mm(s,o){const a=ur.textEnd;return a===o?-1:(o=ur.keyEnd=function hb(s,o,a){for(;o<a&&s.charCodeAt(o)>32;)o++;return o}(s,ur.key=o,a),Sc(s,o,a))}function _v(s,o){const a=ur.textEnd;let c=ur.key=Sc(s,o,a);return a===c?-1:(c=ur.keyEnd=function vv(s,o,a){let c;for(;o<a&&(45===(c=s.charCodeAt(o))||95===c||(-33&c)>=65&&(-33&c)<=90||c>=48&&c<=57);)o++;return o}(s,c,a),c=Ev(s,c,a),c=ur.value=Sc(s,c,a),c=ur.valueEnd=function rT(s,o,a){let c=-1,h=-1,g=-1,v=o,b=v;for(;v<a;){const I=s.charCodeAt(v++);if(59===I)return b;34===I||39===I?b=v=xm(s,I,v,a):o===v-4&&85===g&&82===h&&76===c&&40===I?b=v=xm(s,41,v,a):I>32&&(b=v),g=h,h=c,c=-33&I}return b}(s,c,a),Ev(s,c,a))}function db(s){ur.key=0,ur.keyEnd=0,ur.value=0,ur.valueEnd=0,ur.textEnd=s.length}function Sc(s,o,a){for(;o<a&&s.charCodeAt(o)<=32;)o++;return o}function Ev(s,o,a,c){return(o=Sc(s,o,a))<a&&o++,o}function xm(s,o,a,c){let h=-1,g=a;for(;g<c;){const v=s.charCodeAt(g++);if(v==o&&92!==h)return g;h=92==v&&92===h?0:v}throw new Error}function ap(s,o,a){return Io(s,o,a,!1),ap}function Ar(s,o){return Io(s,o,null,!0),Ar}function Sn(s){$s(km,Nm,s,!1)}function Nm(s,o){for(let a=function cb(s){return db(s),_v(s,Sc(s,0,ur.textEnd))}(o);a>=0;a=_v(o,a))km(s,Am(o),mv(o))}function Pm(s){$s(mr,na,s,!0)}function na(s,o){for(let a=function yv(s){return db(s),Mm(s,Sc(s,0,ur.textEnd))}(o);a>=0;a=Mm(o,a))mr(s,Am(o),!0)}function Io(s,o,a,c){const h=Te(),g=qt(),v=is(2);g.firstUpdatePass&&gb(g,s,v,c),o!==jt&&zr(h,v,o)&&Cv(g,g.data[ar()],h,h[11],s,h[v+1]=function _b(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=he(hs(s)))),s}(o,a),c,v)}function $s(s,o,a,c){const h=qt(),g=is(2);h.firstUpdatePass&&gb(h,null,g,c);const v=Te();if(a!==jt&&zr(v,g,a)){const b=h.data[ar()];if(Dv(b,c)&&!pb(h,g)){let I=c?b.classesWithoutHost:b.stylesWithoutHost;null!==I&&(a=fe(I,a||"")),Im(h,b,v,a,c)}else!function Iv(s,o,a,c,h,g,v,b){h===jt&&(h=xt);let I=0,S=0,N=0<h.length?h[0]:null,R=0<g.length?g[0]:null;for(;null!==N||null!==R;){const G=I<h.length?h[I+1]:void 0,X=S<g.length?g[S+1]:void 0;let ke,ve=null;N===R?(I+=2,S+=2,G!==X&&(ve=R,ke=X)):null===R||null!==N&&N<R?(I+=2,ve=N):(S+=2,ve=R,ke=X),null!==ve&&Cv(s,o,a,c,ve,ke,v,b),N=I<h.length?h[I]:null,R=S<g.length?g[S]:null}}(h,b,v,v[11],v[g+1],v[g+1]=function Rm(s,o,a){if(null==a||""===a)return xt;const c=[],h=hs(a);if(Array.isArray(h))for(let g=0;g<h.length;g++)s(c,h[g],!0);else if("object"==typeof h)for(const g in h)h.hasOwnProperty(g)&&s(c,g,h[g]);else"string"==typeof h&&o(c,h);return c}(s,o,a),c,g)}}function pb(s,o){return o>=s.expandoStartIndex}function gb(s,o,a,c){const h=s.data;if(null===h[a+1]){const g=h[ar()],v=pb(s,a);Dv(g,c)&&null===o&&!v&&(o=!1),o=function mb(s,o,a,c){const h=Da(s);let g=c?o.residualClasses:o.residualStyles;if(null===h)0===(c?o.classBindings:o.styleBindings)&&(a=lp(a=Om(null,s,o,a,c),o.attrs,c),g=null);else{const v=o.directiveStylingLast;if(-1===v||s[v]!==h)if(a=Om(h,s,o,a,c),null===g){let I=function wv(s,o,a){const c=a?o.classBindings:o.styleBindings;if(0!==uu(c))return s[js(c)]}(s,o,c);void 0!==I&&Array.isArray(I)&&(I=Om(null,s,o,I[1],c),I=lp(I,o.attrs,c),function iT(s,o,a,c){s[js(a?o.classBindings:o.styleBindings)]=c}(s,o,c,I))}else g=function bv(s,o,a){let c;const h=o.directiveEnd;for(let g=1+o.directiveStylingLast;g<h;g++)c=lp(c,s[g].hostAttrs,a);return lp(c,o.attrs,a)}(s,o,c)}return void 0!==g&&(c?o.residualClasses=g:o.residualStyles=g),a}(h,g,o,c),function pv(s,o,a,c,h,g){let v=g?o.classBindings:o.styleBindings,b=js(v),I=uu(v);s[c]=a;let N,S=!1;if(Array.isArray(a)){const R=a;N=R[1],(null===N||Ls(R,N)>0)&&(S=!0)}else N=a;if(h)if(0!==I){const G=js(s[b+1]);s[c+1]=$f(G,b),0!==G&&(s[G+1]=gw(s[G+1],c)),s[b+1]=function lu(s,o){return 131071&s|o<<17}(s[b+1],c)}else s[c+1]=$f(b,0),0!==b&&(s[b+1]=gw(s[b+1],c)),b=c;else s[c+1]=$f(I,0),0===b?b=c:s[I+1]=gw(s[I+1],c),I=c;S&&(s[c+1]=tm(s[c+1])),gv(s,N,c,!0),gv(s,N,c,!1),function lb(s,o,a,c,h){const g=h?s.residualClasses:s.residualStyles;null!=g&&"string"==typeof o&&Ls(g,o)>=0&&(a[c+1]=zf(a[c+1]))}(o,N,s,c,g),v=$f(b,I),g?o.classBindings=v:o.styleBindings=v}(h,g,o,a,v,c)}}function Om(s,o,a,c,h){let g=null;const v=a.directiveEnd;let b=a.directiveStylingLast;for(-1===b?b=a.directiveStart:b++;b<v&&(g=o[b],c=lp(c,g.hostAttrs,h),g!==s);)b++;return null!==s&&(a.directiveStylingLast=b),c}function lp(s,o,a){const c=a?1:2;let h=-1;if(null!==o)for(let g=0;g<o.length;g++){const v=o[g];"number"==typeof v?h=v:h===c&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),mr(s,v,!!a||o[++g]))}return void 0===s?null:s}function km(s,o,a){mr(s,o,hs(a))}function Cv(s,o,a,c,h,g,v,b){if(!(3&o.type))return;const I=s.data,S=I[b+1];gu(function Gf(s){return 1==(1&s)}(S)?yb(I,o,a,h,uu(S),v):void 0)||(gu(g)||function pi(s){return 2==(2&s)}(S)&&(g=yb(I,null,a,h,b,v)),function BM(s,o,a,c,h){if(o)h?s.addClass(a,c):s.removeClass(a,c);else{let g=-1===c.indexOf("-")?void 0:Jo.DashCase;null==h?s.removeStyle(a,c,g):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),g|=Jo.Important),s.setStyle(a,c,h,g))}}(c,v,ci(ar(),a),h,g))}function yb(s,o,a,c,h,g){const v=null===o;let b;for(;h>0;){const I=s[h],S=Array.isArray(I),N=S?I[1]:I,R=null===N;let G=a[h+1];G===jt&&(G=R?xt:void 0);let X=R?bt(G,c):N===c?G:void 0;if(S&&!gu(X)&&(X=bt(I,c)),gu(X)&&(b=X,v))return b;const ve=s[h+1];h=v?js(ve):uu(ve)}if(null!==o){let I=g?o.residualClasses:o.residualStyles;null!=I&&(b=bt(I,c))}return b}function gu(s){return void 0!==s}function Dv(s,o){return 0!=(s.flags&(o?16:32))}function Tv(s,o=""){const a=Te(),c=qt(),h=s+22,g=c.firstCreatePass?Xd(c,h,1,o,null):c.data[h],v=a[h]=function v_(s,o){return s.createText(o)}(a[11],o);vc(c,a,v,g),di(g,!1)}function hh(s){return Fm("",s,""),hh}function Fm(s,o,a){const c=Te(),h=function Hs(s,o,a,c){return zr(s,Js(),a)?o+me(a)+c:jt}(c,s,o,a);return h!==jt&&function Eo(s,o,a){const c=ci(o,s);!function kE(s,o,a){s.setValue(o,a)}(s[11],c,a)}(c,ar(),h),Fm}function Mc(s,o,a){const c=Te();if(zr(c,Js(),o)){const g=qt(),v=In();$i(g,v,c,s,o,function X_(s,o,a){return(null===s||Pr(s))&&(a=function pl(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(a[o.index])),a[11]}(Da(g.data),v,c),a,!0)}return Mc}const gs=void 0;var oT=["en",[["a","p"],["AM","PM"],gs],[["AM","PM"],gs,gs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],gs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],gs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",gs,"{1} 'at' {0}",gs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Lv(s){const a=Math.floor(Math.abs(s)),c=s.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===c?1:5}];let ph={};function Mb(s,o,a){"string"!=typeof o&&(a=o,o=s[Et.LocaleId]),o=o.toLowerCase().replace(/_/g,"-"),ph[o]=s,a&&(ph[o][Et.ExtraData]=a)}function jm(s){const o=function xb(s){return s.toLowerCase().replace(/_/g,"-")}(s);let a=ra(o);if(a)return a;const c=o.split("-")[0];if(a=ra(c),a)return a;if("en"===c)return oT;throw new be(701,!1)}function yu(s){return jm(s)[Et.PluralCase]}function ra(s){return s in ph||(ph[s]=ln.ng&&ln.ng.common&&ln.ng.common.locales&&ln.ng.common.locales[s]),ph[s]}var Et=(()=>((Et=Et||{})[Et.LocaleId=0]="LocaleId",Et[Et.DayPeriodsFormat=1]="DayPeriodsFormat",Et[Et.DayPeriodsStandalone=2]="DayPeriodsStandalone",Et[Et.DaysFormat=3]="DaysFormat",Et[Et.DaysStandalone=4]="DaysStandalone",Et[Et.MonthsFormat=5]="MonthsFormat",Et[Et.MonthsStandalone=6]="MonthsStandalone",Et[Et.Eras=7]="Eras",Et[Et.FirstDayOfWeek=8]="FirstDayOfWeek",Et[Et.WeekendRange=9]="WeekendRange",Et[Et.DateFormat=10]="DateFormat",Et[Et.TimeFormat=11]="TimeFormat",Et[Et.DateTimeFormat=12]="DateTimeFormat",Et[Et.NumberSymbols=13]="NumberSymbols",Et[Et.NumberFormats=14]="NumberFormats",Et[Et.CurrencyCode=15]="CurrencyCode",Et[Et.CurrencySymbol=16]="CurrencySymbol",Et[Et.CurrencyName=17]="CurrencyName",Et[Et.Currencies=18]="Currencies",Et[Et.Directionality=19]="Directionality",Et[Et.PluralCase=20]="PluralCase",Et[Et.ExtraData=21]="ExtraData",Et))();const ia="en-US";let Nb=ia;function sa(s,o,a,c,h){if(s=K(s),Array.isArray(s))for(let g=0;g<s.length;g++)sa(s[g],o,a,c,h);else{const g=qt(),v=Te();let b=Gr(s)?s:K(s.provide),I=dc(s);const S=On(),N=1048575&S.providerIndexes,R=S.directiveStart,G=S.providerIndexes>>20;if(Gr(s)||!s.multi){const X=new Os(I,h,au),ve=Pe(b,o,h?N:N+G,R);-1===ve?(Rs(so(S,v),g,b),Ap(g,s,o.length),o.push(b),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),a.push(X),v.push(X)):(a[ve]=X,v[ve]=X)}else{const X=Pe(b,o,N+G,R),ve=Pe(b,o,N,N+G),ke=X>=0&&a[X],Ge=ve>=0&&a[ve];if(h&&!Ge||!h&&!ke){Rs(so(S,v),g,b);const We=function st(s,o,a,c,h){const g=new Os(s,a,au);return g.multi=[],g.index=o,g.componentProviders=0,Kb(g,h,c&&!a),g}(h?Nc:_r,a.length,h,c,I);!h&&Ge&&(a[ve].providerFactory=We),Ap(g,s,o.length,0),o.push(b),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),a.push(We),v.push(We)}else Ap(g,s,X>-1?X:ve,Kb(a[h?ve:X],I,!h&&c));!h&&c&&Ge&&a[ve].componentProviders++}}}function Ap(s,o,a,c){const h=Gr(o),g=function Xl(s){return!!s.useClass}(o);if(h||g){const I=(g?K(o.useClass):o).prototype.ngOnDestroy;if(I){const S=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const N=S.indexOf(a);-1===N?S.push(a,[c,I]):S[N+1].push(c,I)}else S.push(a,I)}}}function Kb(s,o,a){return a&&s.componentProviders++,s.multi.push(o)-1}function Pe(s,o,a,c){for(let h=a;h<c;h++)if(o[h]===s)return h;return-1}function _r(s,o,a,c){return Mp(this.multi,[])}function Nc(s,o,a,c){const h=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,b=ss(a,a[1],this.providerFactory.index,c);g=b.slice(0,v),Mp(h,g);for(let I=v;I<b.length;I++)g.push(b[I])}else g=[],Mp(h,g);return g}function Mp(s,o){for(let a=0;a<s.length;a++)o.push((0,s[a])());return o}function Tt(s,o=[]){return a=>{a.providersResolver=(c,h)=>function Eh(s,o,a){const c=qt();if(c.firstCreatePass){const h=Pr(s);sa(a,c.data,c.blueprint,h,!0),sa(o,c.data,c.blueprint,h,!1)}}(c,h?h(s):s,o)}}class wh{}class ze{}function ce(s,o){return new Mr(s,o??null)}class Mr extends wh{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ev(this);const c=_n(o);this._bootstrapComponents=Ka(c.bootstrap),this._r3Injector=rw(o,a,[{provide:wh,useValue:this},{provide:Yo,useValue:this.componentFactoryResolver}],he(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class ty extends ze{constructor(o){super(),this.moduleType=o}create(o){return new Mr(this.moduleType,o)}}class _T extends wh{constructor(o,a,c){super(),this.componentFactoryResolver=new ev(this),this.instance=null;const h=new tu([...o,{provide:wh,useValue:this},{provide:Yo,useValue:this.componentFactoryResolver}],a||cc(),c,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function n0(s,o,a=null){return new _T(s,o,a).injector}let vT=(()=>{class s{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const c=kd(0,a.type),h=c.length>0?n0([c],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,h)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=tn({token:s,providedIn:"environment",factory:()=>new s(zt(fi))}),s})();function Yb(s){s.getStandaloneInjector=o=>o.get(vT).getOrCreateStandaloneInjector(s)}function vu(s,o,a){const c=Rn()+s,h=Te();return h[c]===jt?ta(h,c,a?o.call(a):o()):function Sr(s,o){return s[o]}(h,c)}function tI(s,o,a,c){return function Ja(s,o,a,c,h,g){const v=o+a;return zr(s,v,h)?ta(s,v+1,g?c.call(g,h):c(h)):Dh(s,v+1)}(Te(),Rn(),s,o,a,c)}function xp(s,o,a,c,h){return ry(Te(),Rn(),s,o,a,c,h)}function Ch(s,o,a,c,h,g,v){return Np(Te(),Rn(),s,o,a,c,h,g,v)}function l0(s,o,a,c){return function Gs(s,o,a,c,h,g){let v=o+a,b=!1;for(let I=0;I<h.length;I++)zr(s,v++,h[I])&&(b=!0);return b?ta(s,v,c.apply(g,h)):Dh(s,v)}(Te(),Rn(),s,o,a,c)}function Dh(s,o){const a=s[o];return a===jt?void 0:a}function ry(s,o,a,c,h,g,v){const b=o+a;return Tc(s,b,h,g)?ta(s,b+2,v?c.call(v,h,g):c(h,g)):Dh(s,b+2)}function Np(s,o,a,c,h,g,v,b,I){const S=o+a;return function wo(s,o,a,c,h,g){const v=Tc(s,o,a,c);return Tc(s,o+2,h,g)||v}(s,S,h,g,v,b)?ta(s,S+4,I?c.call(I,h,g,v,b):c(h,g,v,b)):Dh(s,S+4)}function iI(s,o){const a=qt();let c;const h=s+22;a.firstCreatePass?(c=function Pp(s,o){if(o)for(let a=o.length-1;a>=0;a--){const c=o[a];if(s===c.name)return c}}(o,a.pipeRegistry),a.data[h]=c,c.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(h,c.onDestroy)):c=a.data[h];const g=c.factory||(c.factory=Li(c.type)),v=rr(au);try{const b=xa(!1),I=g();return xa(b),function fu(s,o,a,c){a>=s.data.length&&(s.data[a]=null,s.blueprint[a]=null),o[a]=c}(a,Te(),h,I),I}finally{rr(v)}}function Eu(s,o,a,c){const h=s+22,g=Te(),v=ns(g,h);return Op(g,h)?ry(g,Rn(),o,v.transform,a,c,v):v.transform(a,c)}function iy(s,o,a,c,h,g){const v=s+22,b=Te(),I=ns(b,v);return Op(b,v)?Np(b,Rn(),o,I.transform,a,c,h,g,I):I.transform(a,c,h,g)}function Op(s,o){return s[1].data[o].pure}function sy(s){return o=>{setTimeout(s,void 0,o)}}const mi=class zi extends u.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,c){let h=o,g=a||(()=>null),v=c;if(o&&"object"==typeof o){const I=o;h=I.next?.bind(I),g=I.error?.bind(I),v=I.complete?.bind(I)}this.__isAsync&&(g=sy(g),h&&(h=sy(h)),v&&(v=sy(v)));const b=super.subscribe({next:h,error:g,complete:v});return o instanceof ee.w0&&o.add(b),b}};function oI(){return this._results[ih()]()}class $n{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=ih(),c=$n.prototype;c[a]||(c[a]=oI)}get changes(){return this._changes||(this._changes=new mi)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const c=this;c.dirty=!1;const h=un(o);(this._changesDetected=!function rt(s,o,a){if(s.length!==o.length)return!1;for(let c=0;c<s.length;c++){let h=s[c],g=o[c];if(a&&(h=a(h),g=a(g)),g!==h)return!1}return!0}(c._results,h,a))&&(c._results=h,c.length=h.length,c.last=h[this.length-1],c.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let wu=(()=>{class s{}return s.__NG_ELEMENT_ID__=aI,s})();const si=wu,Dn=class extends si{constructor(o,a,c){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=c}createEmbeddedView(o,a){const c=this._declarationTContainer.tViews,h=Wf(this._declarationLView,c,o,16,null,c.declTNode,null,null,null,null,a||null);h[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[19];return null!==v&&(h[19]=v.createEmbeddedView(c)),cm(c,h,o),new rh(h)}};function aI(){return Xa(On(),Te())}function Xa(s,o){return 4&s.type?new Dn(o,s,_(s,o)):null}let yi=(()=>{class s{}return s.__NG_ELEMENT_ID__=DT,s})();function DT(){return bu(On(),Te())}const kr=yi,lI=class extends kr{constructor(o,a,c){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=c}get element(){return _(this._hostTNode,this._hostLView)}get injector(){return new ao(this._hostTNode,this._hostLView)}get parentInjector(){const o=Ll(this._hostTNode,this._hostLView);if(gd(o)){const a=Ma(o,this._hostLView),c=pr(o);return new ao(a[1].data[c+8],a)}return new ao(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=el(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,a,c){let h,g;"number"==typeof c?h=c:null!=c&&(h=c.index,g=c.injector);const v=o.createEmbeddedView(a||{},g);return this.insert(v,h),v}createComponent(o,a,c,h,g){const v=o&&!function sn(s){return"function"==typeof s}(o);let b;if(v)b=a;else{const R=a||{};b=R.index,c=R.injector,h=R.projectableNodes,g=R.environmentInjector||R.ngModuleRef}const I=v?o:new Xf(Q(o)),S=c||this.parentInjector;if(!g&&null==I.ngModule){const G=(v?S:this.parentInjector).get(fi,null);G&&(g=G)}const N=I.create(S,h,void 0,g);return this.insert(N.hostView,b),N}insert(o,a){const c=o._lView,h=c[1];if(function yl(s){return jr(s[3])}(c)){const N=this.indexOf(o);if(-1!==N)this.detach(N);else{const R=c[3],G=new lI(R,R[6],R[3]);G.detach(G.indexOf(o))}}const g=this._adjustIndex(a),v=this._lContainer;!function VM(s,o,a,c){const h=10+c,g=a.length;c>0&&(a[h-1][4]=o),c<g-10?(o[4]=a[h],vd(a,10+c,o)):(a.push(o),o[4]=null),o[3]=a;const v=o[17];null!==v&&a!==v&&function mD(s,o){const a=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===a?s[9]=[o]:a.push(o)}(v,o);const b=o[19];null!==b&&b.insertView(s),o[2]|=64}(h,c,v,g);const b=qg(g,v),I=c[11],S=$g(I,v[7]);return null!==S&&function w_(s,o,a,c,h,g){c[0]=h,c[6]=o,Uf(s,c,a,1,h,g)}(h,v[6],I,c,S,b),o.attachToViewContainerRef(),vd(Gn(v),g,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=el(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),c=b_(this._lContainer,a);c&&(as(Gn(this._lContainer),a),BE(c[1],c))}detach(o){const a=this._adjustIndex(o,-1),c=b_(this._lContainer,a);return c&&null!=as(Gn(this._lContainer),a)?new rh(c):null}_adjustIndex(o,a=0){return o??this.length+a}};function el(s){return s[8]}function Gn(s){return s[8]||(s[8]=[])}function bu(s,o){let a;const c=o[s.index];if(jr(c))a=c;else{let h;if(8&s.type)h=Pn(c);else{const g=o[11];h=g.createComment("");const v=Hr(s,o);_c(g,$g(g,v),h,function _D(s,o){return s.nextSibling(o)}(g,v),!1)}o[s.index]=a=Rw(c,o,h,s),mm(o,a)}return new lI(a,s,o)}class c0{constructor(o){this.queryList=o,this.matches=null}clone(){return new c0(this.queryList)}setDirty(){this.queryList.setDirty()}}class oa{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const c=null!==o.contentQueries?o.contentQueries[0]:a.length,h=[];for(let g=0;g<c;g++){const v=a.getByIndex(g);h.push(this.queries[v.indexInDeclarationView].clone())}return new oa(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==Rp(o,a).matches&&this.queries[a].setDirty()}}class Th{constructor(o,a,c=null){this.predicate=o,this.flags=a,this.read=c}}class Oc{constructor(o=[]){this.queries=o}elementStart(o,a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let c=0;c<this.length;c++){const h=null!==a?a.length:0,g=this.getByIndex(c).embeddedTView(o,h);g&&(g.indexInDeclarationView=c,null!==a?a.push(g):a=[g])}return null!==a?new Oc(a):null}template(o,a){for(let c=0;c<this.queries.length;c++)this.queries[c].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class ay{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new ay(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let c=o.parent;for(;null!==c&&8&c.type&&c.index!==a;)c=c.parent;return a===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const c=this.metadata.predicate;if(Array.isArray(c))for(let h=0;h<c.length;h++){const g=c[h];this.matchTNodeWithReadOption(o,a,Iu(a,g)),this.matchTNodeWithReadOption(o,a,ko(a,o,g,!1,!1))}else c===wu?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,ko(a,o,c,!1,!1))}matchTNodeWithReadOption(o,a,c){if(null!==c){const h=this.metadata.read;if(null!==h)if(h===f||h===yi||h===wu&&4&a.type)this.addMatch(a.index,-2);else{const g=ko(a,o,h,!1,!1);null!==g&&this.addMatch(a.index,g)}else this.addMatch(a.index,c)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function Iu(s,o){const a=s.localNames;if(null!==a)for(let c=0;c<a.length;c+=2)if(a[c]===o)return a[c+1];return null}function Rc(s,o,a,c){return-1===a?function ly(s,o){return 11&s.type?_(s,o):4&s.type?Xa(s,o):null}(o,s):-2===a?function aa(s,o,a){return a===f?_(o,s):a===wu?Xa(o,s):a===yi?bu(o,s):void 0}(s,o,c):ss(s,s[1],a,o)}function Sh(s,o,a,c){const h=o[19].queries[c];if(null===h.matches){const g=s.data,v=a.matches,b=[];for(let I=0;I<v.length;I+=2){const S=v[I];b.push(S<0?null:Rc(o,g[S],v[I+1],a.metadata.read))}h.matches=b}return h.matches}function la(s,o,a,c){const h=s.queries.getByIndex(a),g=h.matches;if(null!==g){const v=Sh(s,o,h,a);for(let b=0;b<g.length;b+=2){const I=g[b];if(I>0)c.push(v[b/2]);else{const S=g[b+1],N=o[-I];for(let R=10;R<N.length;R++){const G=N[R];G[17]===G[3]&&la(G[1],G,S,c)}if(null!==N[9]){const R=N[9];for(let G=0;G<R.length;G++){const X=R[G];la(X[1],X,S,c)}}}}}return c}function d0(s){const o=Te(),a=qt(),c=qu();Ta(c+1);const h=Rp(a,c);if(s.dirty&&function ml(s){return 4==(4&s[2])}(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const g=h.crossesNgTemplate?la(a,o,c,[]):Sh(a,o,h,c);s.reset(g,m),s.notifyOnChanges()}return!0}return!1}function kc(s,o,a){const c=qt();c.firstCreatePass&&(f0(c,new Th(s,o,a),-1),2==(2&o)&&(c.staticViewQueries=!0)),Ah(c,Te(),o)}function uy(s,o,a,c){const h=qt();if(h.firstCreatePass){const g=On();f0(h,new Th(o,a,c),g.index),function cI(s,o){const a=s.contentQueries||(s.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(s.queries.length-1,o)}(h,s),2==(2&a)&&(h.staticContentQueries=!0)}Ah(h,Te(),a)}function Cu(){return function h0(s,o){return s[19].queries[o].queryList}(Te(),qu())}function Ah(s,o,a){const c=new $n(4==(4&a));j_(s,o,c,c.destroy),null===o[19]&&(o[19]=new oa),o[19].queries.push(new c0(c))}function f0(s,o,a){null===s.queries&&(s.queries=new Oc),s.queries.track(new ay(o,a))}function Rp(s,o){return s.queries.getByIndex(o)}function Mh(s,o){return Xa(s,o)}function nl(...s){}const b0=new En("Application Initializer");let Su=(()=>{class s{constructor(a){this.appInits=a,this.resolve=nl,this.reject=nl,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,h)=>{this.resolve=c,this.reject=h})}runInitializers(){if(this.initialized)return;const a=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const g=this.appInits[h]();if(sp(g))a.push(g);else if(tb(g)){const v=new Promise((b,I)=>{g.subscribe({complete:b,error:I})});a.push(v)}}Promise.all(a).then(()=>{c()}).catch(h=>{this.reject(h)}),0===a.length&&c(),this.initialized=!0}}return s.\u0275fac=function(a){return new(a||s)(zt(b0,8))},s.\u0275prov=tn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const II=new En("AppId",{providedIn:"root",factory:function CI(){return`${Fh()}${Fh()}${Fh()}`}});function Fh(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Up=new En("Platform Initializer"),DI=new En("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),TI=new En("appBootstrapListener"),LT=new En("AnimationModuleType");let SI=(()=>{class s{log(a){console.log(a)}warn(a){console.warn(a)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=tn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const zs=new En("LocaleId",{providedIn:"root",factory:()=>C(zs,Ke.Optional|Ke.SkipSelf)||function Lh(){return typeof $localize<"u"&&$localize.locale||ia}()}),AI=new En("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class I0{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let BT=(()=>{class s{compileModuleSync(a){return new ty(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const c=this.compileModuleSync(a),g=Ka(_n(a).declarations).reduce((v,b)=>{const I=Q(b);return I&&v.push(new Xf(I)),v},[]);return new I0(c,g)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=tn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const xI=(()=>Promise.resolve(0))();function Vc(s){typeof Zone>"u"?xI.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Er{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new mi(!1),this.onMicrotaskEmpty=new mi(!1),this.onStable=new mi(!1),this.onError=new mi(!1),typeof Zone>"u")throw new be(908,!1);Zone.assertZonePatched();const h=this;if(h._nesting=0,h._outer=h._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const g=Zone.AsyncStackTaggingZoneSpec;h._inner=h._inner.fork(new g("Angular"))}Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!c&&a,h.shouldCoalesceRunChangeDetection=c,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function NI(){let s=ln.requestAnimationFrame,o=ln.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const a=s[Zone.__symbol__("OriginalDelegate")];a&&(s=a);const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function HT(s){const o=()=>{!function jT(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(ln,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Ht(s),s.isCheckStableRunning=!0,Uc(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Ht(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,c,h,g,v,b)=>{try{return OI(s),a.invokeTask(h,g,v,b)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||s.shouldCoalesceRunChangeDetection)&&o(),jp(s)}},onInvoke:(a,c,h,g,v,b,I)=>{try{return OI(s),a.invoke(h,g,v,b,I)}finally{s.shouldCoalesceRunChangeDetection&&o(),jp(s)}},onHasTask:(a,c,h,g)=>{a.hasTask(h,g),c===h&&("microTask"==g.change?(s._hasPendingMicrotasks=g.microTask,Ht(s),Uc(s)):"macroTask"==g.change&&(s.hasPendingMacrotasks=g.macroTask))},onHandleError:(a,c,h,g)=>(a.handleError(h,g),s.runOutsideAngular(()=>s.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Er.isInAngularZone())throw new be(909,!1)}static assertNotInAngularZone(){if(Er.isInAngularZone())throw new be(909,!1)}run(o,a,c){return this._inner.run(o,a,c)}runTask(o,a,c,h){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+h,o,PI,nl,nl);try{return g.runTask(v,a,c)}finally{g.cancelTask(v)}}runGuarded(o,a,c){return this._inner.runGuarded(o,a,c)}runOutsideAngular(o){return this._outer.run(o)}}const PI={};function Uc(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Ht(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function OI(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function jp(s){s._nesting--,Uc(s)}class Hp{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new mi,this.onMicrotaskEmpty=new mi,this.onStable=new mi,this.onError=new mi}run(o,a,c){return o.apply(a,c)}runGuarded(o,a,c){return o.apply(a,c)}runOutsideAngular(o){return o()}runTask(o,a,c,h){return o.apply(a,c)}}const Vh=new En(""),$p=new En("");let T0,RI=(()=>{class s{constructor(a,c,h){this._ngZone=a,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,T0||(function kI(s){T0=s}(h),h.addToWindow(c)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Er.assertNotInAngularZone(),Vc(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Vc(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,h){let g=-1;c&&c>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:g,updateCb:h})}whenStable(a,c,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,c,h){return[]}}return s.\u0275fac=function(a){return new(a||s)(zt(Er),zt(D0),zt($p))},s.\u0275prov=tn({token:s,factory:s.\u0275fac}),s})(),D0=(()=>{class s{constructor(){this._applications=new Map}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){return T0?.findTestabilityInTree(this,a,c)??null}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=tn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),il=null;const S0=new En("AllowMultipleToken"),A0=new En("PlatformDestroyListeners");class GT{constructor(o,a){this.name=o,this.token=a}}function Co(s,o,a=[]){const c=`Platform: ${o}`,h=new En(c);return(g=[])=>{let v=by();if(!v||v.injector.get(S0,!1)){const b=[...a,...g,{provide:h,useValue:!0}];s?s(b):function Kr(s){if(il&&!il.get(S0,!1))throw new be(400,!1);il=s;const o=s.get(O0);(function x0(s){const o=s.get(Up,null);o&&o.forEach(a=>a())})(s)}(function P0(s=[],o){return wc.create({name:o,providers:[{provide:eu,useValue:"platform"},{provide:A0,useValue:new Set([()=>il=null])},...s]})}(b,c))}return function N0(s){const o=by();if(!o)throw new be(401,!1);return o}()}}function by(){return il?.get(O0)??null}let O0=(()=>{class s{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const h=function LI(s,o){let a;return a="noop"===s?new Hp:("zone.js"===s?void 0:s)||new Er(o),a}(c?.ngZone,function R0(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(c)),g=[{provide:Er,useValue:h}];return h.run(()=>{const v=wc.create({providers:g,parent:this.injector,name:a.moduleType.name}),b=a.create(v),I=b.injector.get(Pf,null);if(!I)throw new be(402,!1);return h.runOutsideAngular(()=>{const S=h.onError.subscribe({next:N=>{I.handleError(N)}});b.onDestroy(()=>{Iy(this._modules,b),S.unsubscribe()})}),function VI(s,o,a){try{const c=a();return sp(c)?c.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):c}catch(c){throw o.runOutsideAngular(()=>s.handleError(c)),c}}(I,h,()=>{const S=b.injector.get(Su);return S.runInitializers(),S.donePromise.then(()=>(function Pb(s){Gt(s,"Expected localeId to be defined"),"string"==typeof s&&(Nb=s.toLowerCase().replace(/_/g,"-"))}(b.injector.get(zs,ia)||ia),this._moduleDoBootstrap(b),b))})})}bootstrapModule(a,c=[]){const h=Uh({},c);return function $T(s,o,a){const c=new ty(a);return Promise.resolve(c)}(0,0,a).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(a){const c=a.injector.get(Bh);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(h=>c.bootstrap(h));else{if(!a.instance.ngDoBootstrap)throw new be(403,!1);a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new be(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const a=this._injector.get(A0,null);a&&(a.forEach(c=>c()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(a){return new(a||s)(zt(wc))},s.\u0275prov=tn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function Uh(s,o){return Array.isArray(o)?o.reduce(Uh,s):{...s,...o}}let Bh=(()=>{class s{constructor(a,c,h){this._zone=a,this._injector=c,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new O.y(b=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{b.next(this._stable),b.complete()})}),v=new O.y(b=>{let I;this._zone.runOutsideAngular(()=>{I=this._zone.onStable.subscribe(()=>{Er.assertNotInAngularZone(),Vc(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,b.next(!0))})})});const S=this._zone.onUnstable.subscribe(()=>{Er.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{b.next(!1)}))});return()=>{I.unsubscribe(),S.unsubscribe()}});this.isStable=(0,se.T)(g,v.pipe((0,re.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,c){const h=a instanceof Bd;if(!this._injector.get(Su).done)throw!h&&Xt(a),new be(405,false);let v;v=h?a:this._injector.get(Yo).resolveComponentFactory(a),this.componentTypes.push(v.componentType);const b=function FI(s){return s.isBoundToModule}(v)?void 0:this._injector.get(wh),S=v.create(wc.NULL,[],c||v.selector,b),N=S.location.nativeElement,R=S.injector.get(Vh,null);return R?.registerApplication(N),S.onDestroy(()=>{this.detachView(S.hostView),Iy(this.components,S),R?.unregisterApplication(N)}),this._loadComponent(S),S}tick(){if(this._runningTick)throw new be(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;Iy(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(TI,[]).concat(this._bootstrapListeners).forEach(h=>h(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>Iy(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new be(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(a){return new(a||s)(zt(Er),zt(fi),zt(Pf))},s.\u0275prov=tn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Iy(s,o){const a=s.indexOf(o);a>-1&&s.splice(a,1)}let L0=!0,UI=!1;function BI(){return UI=!0,L0}function zT(){if(UI)throw new Error("Cannot enable prod mode after platform setup.");L0=!1}let qT=(()=>{class s{}return s.__NG_ELEMENT_ID__=WT,s})();function WT(s){return function ZT(s,o,a){if(_a(s)&&!a){const c=Yt(s.index,o);return new rh(c,c)}return 47&s.type?new rh(o[16],o):null}(On(),Te(),16==(16&s))}class zI{constructor(){}supports(o){return sh(o)}create(o){return new XT(o)}}const qI=(s,o)=>o;class XT{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||qI}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,c=this._removalsHead,h=0,g=null;for(;a||c;){const v=!c||a&&a.currentIndex<Dy(c,h,g)?a:c,b=Dy(v,h,g),I=v.currentIndex;if(v===c)h--,c=c._nextRemoved;else if(a=a._next,null==v.previousIndex)h++;else{g||(g=[]);const S=b-h,N=I-h;if(S!=N){for(let G=0;G<S;G++){const X=G<g.length?g[G]:g[G]=0,ve=X+G;N<=ve&&ve<S&&(g[G]=X+1)}g[v.previousIndex]=N-S}}b!==I&&o(v,b,I)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!sh(o))throw new be(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,g,v,a=this._itHead,c=!1;if(Array.isArray(o)){this.length=o.length;for(let b=0;b<this.length;b++)g=o[b],v=this._trackByFn(b,g),null!==a&&Object.is(a.trackById,v)?(c&&(a=this._verifyReinsertion(a,g,v,b)),Object.is(a.item,g)||this._addIdentityChange(a,g)):(a=this._mismatch(a,g,v,b),c=!0),a=a._next}else h=0,function rx(s,o){if(Array.isArray(s))for(let a=0;a<s.length;a++)o(s[a]);else{const a=s[ih()]();let c;for(;!(c=a.next()).done;)o(c.value)}}(o,b=>{v=this._trackByFn(h,b),null!==a&&Object.is(a.trackById,v)?(c&&(a=this._verifyReinsertion(a,b,v,h)),Object.is(a.item,b)||this._addIdentityChange(a,b)):(a=this._mismatch(a,b,v,h),c=!0),a=a._next,h++}),this.length=h;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,c,h){let g;return null===o?g=this._itTail:(g=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,g,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(c,h))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,g,h)):o=this._addAfter(new WI(a,c),g,h),o}_verifyReinsertion(o,a,c,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==g?o=this._reinsertAfter(g,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,g=o._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(o,a,c),this._addToMoves(o,c),o}_moveAfter(o,a,c){return this._unlink(o),this._insertAfter(o,a,c),this._addToMoves(o,c),o}_addAfter(o,a,c){return this._insertAfter(o,a,c),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,c){const h=null===a?this._itHead:a._next;return o._next=h,o._prev=a,null===h?this._itTail=o:h._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new KI),this._linkedRecords.put(o),o.currentIndex=c,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,c=o._next;return null===a?this._itHead=c:a._next=c,null===c?this._itTail=a:c._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new KI),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class WI{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ZI{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===a||a<=c.currentIndex)&&Object.is(c.trackById,o))return c;return null}remove(o){const a=o._prevDup,c=o._nextDup;return null===a?this._head=c:a._nextDup=c,null===c?this._tail=a:c._prevDup=a,null===this._head}}class KI{constructor(){this.map=new Map}put(o){const a=o.trackById;let c=this.map.get(a);c||(c=new ZI,this.map.set(a,c)),c.add(o)}get(o,a){const h=this.map.get(o);return h?h.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Dy(s,o,a){const c=s.previousIndex;if(null===c)return c;let h=0;return a&&c<a.length&&(h=a[c]),c+o+h}class Fr{constructor(){}supports(o){return o instanceof Map||Zw(o)}create(){return new H0}}class H0{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||Zw(o)))throw new be(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(c,h)=>{if(a&&a.key===h)this._maybeAddToChanges(a,c),this._appendAfter=a,a=a._next;else{const g=this._getOrCreateRecordForKey(h,c);a=this._insertBeforeOrAppend(a,g)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let c=a;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const c=o._prev;return a._next=o,a._prev=c,o._prev=a,c&&(c._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,a);const g=h._prev,v=h._next;return g&&(g._next=v),v&&(v._prev=g),h._next=null,h._prev=null,h}const c=new $0(o);return this._records.set(o,c),c.currentValue=a,this._addToAdditions(c),c}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(c=>a(o[c],c))}}class $0{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Ty(){return new ua([new zI])}let ua=(()=>{class s{constructor(a){this.factories=a}static create(a,c){if(null!=c){const h=c.factories.slice();a=a.concat(h)}return new s(a)}static extend(a){return{provide:s,useFactory:c=>s.create(a,c||Ty()),deps:[[s,new ft,new Ue]]}}find(a){const c=this.factories.find(h=>h.supports(a));if(null!=c)return c;throw new be(901,!1)}}return s.\u0275prov=tn({token:s,providedIn:"root",factory:Ty}),s})();function YI(){return new Sy([new Fr])}let Sy=(()=>{class s{constructor(a){this.factories=a}static create(a,c){if(c){const h=c.factories.slice();a=a.concat(h)}return new s(a)}static extend(a){return{provide:s,useFactory:c=>s.create(a,c||YI()),deps:[[s,new ft,new Ue]]}}find(a){const c=this.factories.find(h=>h.supports(a));if(c)return c;throw new be(901,!1)}}return s.\u0275prov=tn({token:s,providedIn:"root",factory:YI}),s})();const zp=Co(null,"core",[]);let QI=(()=>{class s{constructor(a){}}return s.\u0275fac=function(a){return new(a||s)(zt(Bh))},s.\u0275mod=Ut({type:s}),s.\u0275inj=Ft({}),s})();function G0(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},3942:(dt,Ae,k)=>{k.d(Ae,{Z:()=>be});var u=k(2090),ee=k(4859),O=k(9681),se=k(1877);class re{constructor(me,pe){this._delegate=me,this.firebase=pe,(0,O._addComponent)(me,new ee.wA("app-compat",()=>this,"PUBLIC")),this.container=me.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(me){this._delegate.automaticDataCollectionEnabled=me}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(me=>{this._delegate.checkDestroyed(),me()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(me,pe=O._DEFAULT_ENTRY_NAME){var Xe;this._delegate.checkDestroyed();const ot=this._delegate.container.getProvider(me);return!ot.isInitialized()&&"EXPLICIT"===(null===(Xe=ot.getComponent())||void 0===Xe?void 0:Xe.instantiationMode)&&ot.initialize(),ot.getImmediate({identifier:pe})}_removeServiceInstance(me,pe=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(me).clearInstance(pe)}_addComponent(me){(0,O._addComponent)(this._delegate,me)}_addOrOverwriteComponent(me){(0,O._addOrOverwriteComponent)(this._delegate,me)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ae=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),j=function fe(){const nt=function he(nt){const me={},pe={__esModule:!0,initializeApp:function Me(je,B={}){const ge=O.initializeApp(je,B);if((0,u.r3)(me,ge.name))return me[ge.name];const W=new nt(ge,pe);return me[ge.name]=W,W},app:ot,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function Ce(je){const B=je.name,ge=B.replace("-compat","");if(O._registerComponent(je)&&"PUBLIC"===je.type){const W=(J=ot())=>{if("function"!=typeof J[ge])throw ae.create("invalid-app-argument",{appName:B});return J[ge]()};void 0!==je.serviceProps&&(0,u.ZB)(W,je.serviceProps),pe[ge]=W,nt.prototype[ge]=function(...J){return this._getService.bind(this,B).apply(this,je.multipleInstances?J:[])}}return"PUBLIC"===je.type?pe[ge]:null},removeApp:function Xe(je){delete me[je]},useAsService:function Be(je,B){return"serverAuth"===B?null:B},modularAPIs:O}};function ot(je){if(!(0,u.r3)(me,je=je||O._DEFAULT_ENTRY_NAME))throw ae.create("no-app",{appName:je});return me[je]}return pe.default=pe,Object.defineProperty(pe,"apps",{get:function Ee(){return Object.keys(me).map(je=>me[je])}}),ot.App=nt,pe}(re);return nt.INTERNAL=Object.assign(Object.assign({},nt.INTERNAL),{createFirebaseNamespace:fe,extendNamespace:function me(pe){(0,u.ZB)(nt,pe)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),nt}(),H=new se.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){H.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const nt=self.firebase.SDK_VERSION;nt&&nt.indexOf("LITE")>=0&&H.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const be=j;!function xe(nt){(0,O.registerVersion)("@firebase/app-compat","0.1.37",nt)}()},9681:(dt,Ae,k)=>{k.r(Ae),k.d(Ae,{FirebaseError:()=>se.ZR,SDK_VERSION:()=>Ws,_DEFAULT_ENTRY_NAME:()=>Gt,_addComponent:()=>Jt,_addOrOverwriteComponent:()=>tn,_apps:()=>hn,_clearComponents:()=>Yi,_components:()=>wn,_getProvider:()=>Ft,_registerComponent:()=>Vr,_removeServiceInstance:()=>gn,deleteApp:()=>ma,getApp:()=>oi,getApps:()=>ai,initializeApp:()=>Di,onLog:()=>Is,registerVersion:()=>Nr,setLogLevel:()=>rr});var u=k(5861),ee=k(4859),O=k(1877),se=k(2090),re=k(8766);class de{constructor(De){this.container=De}getPlatformInfoString(){return this.container.getProviders().map(et=>{if(function ae(tt){return"VERSION"===tt.getComponent()?.type}(et)){const Dt=et.getImmediate();return`${Dt.library}/${Dt.version}`}return null}).filter(et=>et).join(" ")}}const he="@firebase/app",j=new O.Yd("@firebase/app"),Gt="[DEFAULT]",Ze={[he]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},hn=new Map,wn=new Map;function Jt(tt,De){try{tt.container.addComponent(De)}catch(et){j.debug(`Component ${De.name} failed to register with FirebaseApp ${tt.name}`,et)}}function tn(tt,De){tt.container.addOrOverwriteComponent(De)}function Vr(tt){const De=tt.name;if(wn.has(De))return j.debug(`There were multiple attempts to register component ${De}.`),!1;wn.set(De,tt);for(const et of hn.values())Jt(et,tt);return!0}function Ft(tt,De){const et=tt.container.getProvider("heartbeat").getImmediate({optional:!0});return et&&et.triggerHeartbeat(),tt.container.getProvider(De)}function gn(tt,De,et=Gt){Ft(tt,De).clearInstance(et)}function Yi(){wn.clear()}const Ur=new se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Yr{constructor(De,et,Dt){this._isDeleted=!1,this._options=Object.assign({},De),this._config=Object.assign({},et),this._name=et.name,this._automaticDataCollectionEnabled=et.automaticDataCollectionEnabled,this._container=Dt,this.container.addComponent(new ee.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(De){this.checkDestroyed(),this._automaticDataCollectionEnabled=De}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(De){this._isDeleted=De}checkDestroyed(){if(this.isDeleted)throw Ur.create("app-deleted",{appName:this._name})}}const Ws="9.12.1";function Di(tt,De={}){let et=tt;"object"!=typeof De&&(De={name:De});const Dt=Object.assign({name:Gt,automaticDataCollectionEnabled:!1},De),It=Dt.name;if("string"!=typeof It||!It)throw Ur.create("bad-app-name",{appName:String(It)});if(et||(et=(0,se.aH)()),!et)throw Ur.create("no-options");const Ut=hn.get(It);if(Ut){if((0,se.vZ)(et,Ut.options)&&(0,se.vZ)(Dt,Ut.config))return Ut;throw Ur.create("duplicate-app",{appName:It})}const $=new ee.H0(It);for(const Z of wn.values())$.addComponent(Z);const V=new Yr(et,Dt,$);return hn.set(It,V),V}function oi(tt=Gt){const De=hn.get(tt);if(!De&&tt===Gt)return Di();if(!De)throw Ur.create("no-app",{appName:tt});return De}function ai(){return Array.from(hn.values())}function ma(tt){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,u.Z)(function*(tt){const De=tt.name;hn.has(De)&&(hn.delete(De),yield Promise.all(tt.container.getProviders().map(et=>et.delete())),tt.isDeleted=!0)})).apply(this,arguments)}function Nr(tt,De,et){var Dt;let It=null!==(Dt=Ze[tt])&&void 0!==Dt?Dt:tt;et&&(It+=`-${et}`);const Ut=It.match(/\s|\//),$=De.match(/\s|\//);if(Ut||$){const V=[`Unable to register library "${It}" with version "${De}":`];return Ut&&V.push(`library name "${It}" contains illegal characters (whitespace or "/")`),Ut&&$&&V.push("and"),$&&V.push(`version name "${De}" contains illegal characters (whitespace or "/")`),void j.warn(V.join(" "))}Vr(new ee.wA(`${It}-version`,()=>({library:It,version:De}),"VERSION"))}function Is(tt,De){if(null!==tt&&"function"!=typeof tt)throw Ur.create("invalid-log-argument");(0,O.Am)(tt,De)}function rr(tt){(0,O.Ub)(tt)}const Vn="firebase-heartbeat-store";let Wn=null;function vn(){return Wn||(Wn=(0,re.X3)("firebase-heartbeat-database",1,{upgrade:(tt,De)=>{0===De&&tt.createObjectStore(Vn)}}).catch(tt=>{throw Ur.create("idb-open",{originalErrorMessage:tt.message})})),Wn}function lt(){return(lt=(0,u.Z)(function*(tt){var De;try{return(yield vn()).transaction(Vn).objectStore(Vn).get(Zn(tt))}catch(et){if(et instanceof se.ZR)j.warn(et.message);else{const Dt=Ur.create("idb-get",{originalErrorMessage:null===(De=et)||void 0===De?void 0:De.message});j.warn(Dt.message)}}})).apply(this,arguments)}function ln(tt,De){return br.apply(this,arguments)}function br(){return(br=(0,u.Z)(function*(tt,De){var et;try{const It=(yield vn()).transaction(Vn,"readwrite");return yield It.objectStore(Vn).put(De,Zn(tt)),It.done}catch(Dt){if(Dt instanceof se.ZR)j.warn(Dt.message);else{const It=Ur.create("idb-set",{originalErrorMessage:null===(et=Dt)||void 0===et?void 0:et.message});j.warn(It.message)}}})).apply(this,arguments)}function Zn(tt){return`${tt.name}!${tt.options.appId}`}class Cs{constructor(De){this.container=De,this._heartbeatsCache=null;const et=this.container.getProvider("app").getImmediate();this._storage=new rn(et),this._heartbeatsCachePromise=this._storage.read().then(Dt=>(this._heartbeatsCache=Dt,Dt))}triggerHeartbeat(){var De=this;return(0,u.Z)(function*(){const Dt=De.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),It=nn();if(null===De._heartbeatsCache&&(De._heartbeatsCache=yield De._heartbeatsCachePromise),De._heartbeatsCache.lastSentHeartbeatDate!==It&&!De._heartbeatsCache.heartbeats.some(Ut=>Ut.date===It))return De._heartbeatsCache.heartbeats.push({date:It,agent:Dt}),De._heartbeatsCache.heartbeats=De._heartbeatsCache.heartbeats.filter(Ut=>{const $=new Date(Ut.date).valueOf();return Date.now()-$<=2592e6}),De._storage.overwrite(De._heartbeatsCache)})()}getHeartbeatsHeader(){var De=this;return(0,u.Z)(function*(){if(null===De._heartbeatsCache&&(yield De._heartbeatsCachePromise),null===De._heartbeatsCache||0===De._heartbeatsCache.heartbeats.length)return"";const et=nn(),{heartbeatsToSend:Dt,unsentEntries:It}=function ki(tt,De=1024){const et=[];let Dt=tt.slice();for(const It of tt){const Ut=et.find($=>$.agent===It.agent);if(Ut){if(Ut.dates.push(It.date),ir(et)>De){Ut.dates.pop();break}}else if(et.push({agent:It.agent,dates:[It.date]}),ir(et)>De){et.pop();break}Dt=Dt.slice(1)}return{heartbeatsToSend:et,unsentEntries:Dt}}(De._heartbeatsCache.heartbeats),Ut=(0,se.L)(JSON.stringify({version:2,heartbeats:Dt}));return De._heartbeatsCache.lastSentHeartbeatDate=et,It.length>0?(De._heartbeatsCache.heartbeats=It,yield De._storage.overwrite(De._heartbeatsCache)):(De._heartbeatsCache.heartbeats=[],De._storage.overwrite(De._heartbeatsCache)),Ut})()}}function nn(){return(new Date).toISOString().substring(0,10)}class rn{constructor(De){this.app=De,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,se.hl)()&&(0,se.eu)().then(()=>!0).catch(()=>!1)})()}read(){var De=this;return(0,u.Z)(function*(){return(yield De._canUseIndexedDBPromise)&&(yield function yt(tt){return lt.apply(this,arguments)}(De.app))||{heartbeats:[]}})()}overwrite(De){var et=this;return(0,u.Z)(function*(){var Dt;if(yield et._canUseIndexedDBPromise){const Ut=yield et.read();return ln(et.app,{lastSentHeartbeatDate:null!==(Dt=De.lastSentHeartbeatDate)&&void 0!==Dt?Dt:Ut.lastSentHeartbeatDate,heartbeats:De.heartbeats})}})()}add(De){var et=this;return(0,u.Z)(function*(){var Dt;if(yield et._canUseIndexedDBPromise){const Ut=yield et.read();return ln(et.app,{lastSentHeartbeatDate:null!==(Dt=De.lastSentHeartbeatDate)&&void 0!==Dt?Dt:Ut.lastSentHeartbeatDate,heartbeats:[...Ut.heartbeats,...De.heartbeats]})}})()}}function ir(tt){return(0,se.L)(JSON.stringify({version:2,heartbeats:tt})).length}!function Br(tt){Vr(new ee.wA("platform-logger",De=>new de(De),"PRIVATE")),Vr(new ee.wA("heartbeat",De=>new Cs(De),"PRIVATE")),Nr(he,"0.8.2",tt),Nr(he,"0.8.2","esm2017"),Nr("fire-js","")}("")},4859:(dt,Ae,k)=>{k.d(Ae,{H0:()=>he,wA:()=>O});var u=k(5861),ee=k(2090);class O{constructor(j,H,K){this.name=j,this.instanceFactory=H,this.type=K,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(j){return this.instantiationMode=j,this}setMultipleInstances(j){return this.multipleInstances=j,this}setServiceProps(j){return this.serviceProps=j,this}setInstanceCreatedCallback(j){return this.onInstanceCreated=j,this}}const se="[DEFAULT]";class re{constructor(j,H){this.name=j,this.container=H,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(j){const H=this.normalizeInstanceIdentifier(j);if(!this.instancesDeferred.has(H)){const K=new ee.BH;if(this.instancesDeferred.set(H,K),this.isInitialized(H)||this.shouldAutoInitialize())try{const Le=this.getOrInitializeService({instanceIdentifier:H});Le&&K.resolve(Le)}catch{}}return this.instancesDeferred.get(H).promise}getImmediate(j){var H;const K=this.normalizeInstanceIdentifier(j?.identifier),Le=null!==(H=j?.optional)&&void 0!==H&&H;if(!this.isInitialized(K)&&!this.shouldAutoInitialize()){if(Le)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:K})}catch(xe){if(Le)return null;throw xe}}getComponent(){return this.component}setComponent(j){if(j.name!==this.name)throw Error(`Mismatching Component ${j.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=j,this.shouldAutoInitialize()){if(function ae(fe){return"EAGER"===fe.instantiationMode}(j))try{this.getOrInitializeService({instanceIdentifier:se})}catch{}for(const[H,K]of this.instancesDeferred.entries()){const Le=this.normalizeInstanceIdentifier(H);try{const xe=this.getOrInitializeService({instanceIdentifier:Le});K.resolve(xe)}catch{}}}}clearInstance(j=se){this.instancesDeferred.delete(j),this.instancesOptions.delete(j),this.instances.delete(j)}delete(){var j=this;return(0,u.Z)(function*(){const H=Array.from(j.instances.values());yield Promise.all([...H.filter(K=>"INTERNAL"in K).map(K=>K.INTERNAL.delete()),...H.filter(K=>"_delete"in K).map(K=>K._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(j=se){return this.instances.has(j)}getOptions(j=se){return this.instancesOptions.get(j)||{}}initialize(j={}){const{options:H={}}=j,K=this.normalizeInstanceIdentifier(j.instanceIdentifier);if(this.isInitialized(K))throw Error(`${this.name}(${K}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Le=this.getOrInitializeService({instanceIdentifier:K,options:H});for(const[xe,be]of this.instancesDeferred.entries())K===this.normalizeInstanceIdentifier(xe)&&be.resolve(Le);return Le}onInit(j,H){var K;const Le=this.normalizeInstanceIdentifier(H),xe=null!==(K=this.onInitCallbacks.get(Le))&&void 0!==K?K:new Set;xe.add(j),this.onInitCallbacks.set(Le,xe);const be=this.instances.get(Le);return be&&j(be,Le),()=>{xe.delete(j)}}invokeOnInitCallbacks(j,H){const K=this.onInitCallbacks.get(H);if(K)for(const Le of K)try{Le(j,H)}catch{}}getOrInitializeService({instanceIdentifier:j,options:H={}}){let K=this.instances.get(j);if(!K&&this.component&&(K=this.component.instanceFactory(this.container,{instanceIdentifier:(fe=j,fe===se?void 0:fe),options:H}),this.instances.set(j,K),this.instancesOptions.set(j,H),this.invokeOnInitCallbacks(K,j),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,j,K)}catch{}var fe;return K||null}normalizeInstanceIdentifier(j=se){return this.component?this.component.multipleInstances?j:se:j}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class he{constructor(j){this.name=j,this.providers=new Map}addComponent(j){const H=this.getProvider(j.name);if(H.isComponentSet())throw new Error(`Component ${j.name} has already been registered with ${this.name}`);H.setComponent(j)}addOrOverwriteComponent(j){this.getProvider(j.name).isComponentSet()&&this.providers.delete(j.name),this.addComponent(j)}getProvider(j){if(this.providers.has(j))return this.providers.get(j);const H=new re(j,this);return this.providers.set(j,H),H}getProviders(){return Array.from(this.providers.values())}}},1877:(dt,Ae,k)=>{k.d(Ae,{Am:()=>fe,Ub:()=>he,Yd:()=>ae,in:()=>ee});const u=[];var ee=(()=>{return(j=ee||(ee={}))[j.DEBUG=0]="DEBUG",j[j.VERBOSE=1]="VERBOSE",j[j.INFO=2]="INFO",j[j.WARN=3]="WARN",j[j.ERROR=4]="ERROR",j[j.SILENT=5]="SILENT",ee;var j})();const O={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},se=ee.INFO,re={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},de=(j,H,...K)=>{if(H<j.logLevel)return;const Le=(new Date).toISOString(),xe=re[H];if(!xe)throw new Error(`Attempted to log a message with an invalid logType (value: ${H})`);console[xe](`[${Le}]  ${j.name}:`,...K)};class ae{constructor(H){this.name=H,this._logLevel=se,this._logHandler=de,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(H){if(!(H in ee))throw new TypeError(`Invalid value "${H}" assigned to \`logLevel\``);this._logLevel=H}setLogLevel(H){this._logLevel="string"==typeof H?O[H]:H}get logHandler(){return this._logHandler}set logHandler(H){if("function"!=typeof H)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=H}get userLogHandler(){return this._userLogHandler}set userLogHandler(H){this._userLogHandler=H}debug(...H){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...H),this._logHandler(this,ee.DEBUG,...H)}log(...H){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...H),this._logHandler(this,ee.VERBOSE,...H)}info(...H){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...H),this._logHandler(this,ee.INFO,...H)}warn(...H){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...H),this._logHandler(this,ee.WARN,...H)}error(...H){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...H),this._logHandler(this,ee.ERROR,...H)}}function he(j){u.forEach(H=>{H.setLogLevel(j)})}function fe(j,H){for(const K of u){let Le=null;H&&H.level&&(Le=O[H.level]),K.userLogHandler=null===j?null:(xe,be,...nt)=>{const me=nt.map(pe=>{if(null==pe)return null;if("string"==typeof pe)return pe;if("number"==typeof pe||"boolean"==typeof pe)return pe.toString();if(pe instanceof Error)return pe.message;try{return JSON.stringify(pe)}catch{return null}}).filter(pe=>pe).join(" ");be>=(Le??xe.logLevel)&&j({level:ee[be].toLowerCase(),message:me,args:nt,type:xe.name})}}}},8766:(dt,Ae,k)=>{k.d(Ae,{Lj:()=>Me,X3:()=>ot});var u=k(5861);let O,se;const ae=new WeakMap,he=new WeakMap,fe=new WeakMap,j=new WeakMap,H=new WeakMap;let xe={get(B,ge,W){if(B instanceof IDBTransaction){if("done"===ge)return he.get(B);if("objectStoreNames"===ge)return B.objectStoreNames||fe.get(B);if("store"===ge)return W.objectStoreNames[1]?void 0:W.objectStore(W.objectStoreNames[0])}return pe(B[ge])},set:(B,ge,W)=>(B[ge]=W,!0),has:(B,ge)=>B instanceof IDBTransaction&&("done"===ge||"store"===ge)||ge in B};function me(B){return"function"==typeof B?function nt(B){return B!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function de(){return se||(se=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(B)?function(...ge){return B.apply(Xe(this),ge),pe(ae.get(this))}:function(...ge){return pe(B.apply(Xe(this),ge))}:function(ge,...W){const J=B.call(Xe(this),ge,...W);return fe.set(J,ge.sort?ge.sort():[ge]),pe(J)}}(B):(B instanceof IDBTransaction&&function Le(B){if(he.has(B))return;const ge=new Promise((W,J)=>{const ne=()=>{B.removeEventListener("complete",te),B.removeEventListener("error",Re),B.removeEventListener("abort",Re)},te=()=>{W(),ne()},Re=()=>{J(B.error||new DOMException("AbortError","AbortError")),ne()};B.addEventListener("complete",te),B.addEventListener("error",Re),B.addEventListener("abort",Re)});he.set(B,ge)}(B),((B,ge)=>ge.some(W=>B instanceof W))(B,function re(){return O||(O=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(B,xe):B)}function pe(B){if(B instanceof IDBRequest)return function K(B){const ge=new Promise((W,J)=>{const ne=()=>{B.removeEventListener("success",te),B.removeEventListener("error",Re)},te=()=>{W(pe(B.result)),ne()},Re=()=>{J(B.error),ne()};B.addEventListener("success",te),B.addEventListener("error",Re)});return ge.then(W=>{W instanceof IDBCursor&&ae.set(W,B)}).catch(()=>{}),H.set(ge,B),ge}(B);if(j.has(B))return j.get(B);const ge=me(B);return ge!==B&&(j.set(B,ge),H.set(ge,B)),ge}const Xe=B=>H.get(B);function ot(B,ge,{blocked:W,upgrade:J,blocking:ne,terminated:te}={}){const Re=indexedDB.open(B,ge),Oe=pe(Re);return J&&Re.addEventListener("upgradeneeded",mt=>{J(pe(Re.result),mt.oldVersion,mt.newVersion,pe(Re.transaction))}),W&&Re.addEventListener("blocked",()=>W()),Oe.then(mt=>{te&&mt.addEventListener("close",()=>te()),ne&&mt.addEventListener("versionchange",()=>ne())}).catch(()=>{}),Oe}function Me(B,{blocked:ge}={}){const W=indexedDB.deleteDatabase(B);return ge&&W.addEventListener("blocked",()=>ge()),pe(W).then(()=>{})}const Ee=["get","getKey","getAll","getAllKeys","count"],Ce=["put","add","delete","clear"],Be=new Map;function je(B,ge){if(!(B instanceof IDBDatabase)||ge in B||"string"!=typeof ge)return;if(Be.get(ge))return Be.get(ge);const W=ge.replace(/FromIndex$/,""),J=ge!==W,ne=Ce.includes(W);if(!(W in(J?IDBIndex:IDBObjectStore).prototype)||!ne&&!Ee.includes(W))return;const te=function(){var Re=(0,u.Z)(function*(Oe,...mt){const en=this.transaction(Oe,ne?"readwrite":"readonly");let Gt=en.store;return J&&(Gt=Gt.index(mt.shift())),(yield Promise.all([Gt[W](...mt),ne&&en.done]))[0]});return function(mt){return Re.apply(this,arguments)}}();return Be.set(ge,te),te}!function be(B){xe=B(xe)}(B=>({...B,get:(ge,W,J)=>je(ge,W)||B.get(ge,W,J),has:(ge,W)=>!!je(ge,W)||B.has(ge,W)}))},5861:(dt,Ae,k)=>{function u(O,se,re,de,ae,he,fe){try{var j=O[he](fe),H=j.value}catch(K){return void re(K)}j.done?se(H):Promise.resolve(H).then(de,ae)}function ee(O){return function(){var se=this,re=arguments;return new Promise(function(de,ae){var he=O.apply(se,re);function fe(H){u(he,de,ae,fe,j,"next",H)}function j(H){u(he,de,ae,fe,j,"throw",H)}fe(void 0)})}}k.d(Ae,{Z:()=>ee})}},dt=>{dt(dt.s=7795)}]);