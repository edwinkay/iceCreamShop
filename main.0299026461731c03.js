"use strict";(self.webpackChunkIceCreamShop=self.webpackChunkIceCreamShop||[]).push([[179],{2011:(dt,Ae,k)=>{k.d(Ae,{Dh:()=>he,GT:()=>de,cc:()=>xe,hO:()=>Le,on:()=>B,pX:()=>re,xv:()=>fe});var d=k(4650),ee=k(127),R=k(5813);dt=k.hmd(dt);const se=["ngOnDestroy"],re=(pe,Xe,ot,Me={})=>new Proxy(pe,{get:(we,De)=>ot.runOutsideAngular(()=>{var Be;if(pe[De])return!(null===(Be=Me?.spy)||void 0===Be)&&Be.get&&Me.spy.get(De,pe[De]),pe[De];if(se.indexOf(De)>-1)return()=>{};const je=Xe.toPromise().then(U=>{const ge=U&&U[De];return"function"==typeof ge?ge.bind(U):ge&&ge.then?ge.then(z=>ot.run(()=>z)):ot.run(()=>ge)});return new Proxy(()=>{},{get:(U,ge)=>je[ge],apply:(U,ge,z)=>je.then(J=>{var ne;const te=J&&J(...z);return!(null===(ne=Me?.spy)||void 0===ne)&&ne.apply&&Me.spy.apply(De,z,te),te})})})}),de=(pe,Xe)=>{Xe.forEach(ot=>{Object.getOwnPropertyNames(ot.prototype||ot).forEach(Me=>{Object.defineProperty(pe.prototype,Me,Object.getOwnPropertyDescriptor(ot.prototype||ot,Me))})})};class ae{constructor(Xe){return Xe}}const he=new d.OlP("angularfire2.app.options"),fe=new d.OlP("angularfire2.app.name");function B(pe,Xe,ot){const we="object"==typeof ot&&ot||{};we.name=we.name||"string"==typeof ot&&ot||"[DEFAULT]";const Be=ee.Z.apps.filter(je=>je&&je.name===we.name)[0]||Xe.runOutsideAngular(()=>ee.Z.initializeApp(pe,we));try{JSON.stringify(pe)!==JSON.stringify(Be.options)&&j("error",`${Be.name} Firebase App already initialized with different options${dt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ae(Be)}const j=(pe,...Xe)=>{(0,d.X6Q)()&&typeof console<"u"&&console[pe](...Xe)},K={provide:ae,useFactory:B,deps:[he,d.R0b,[new d.FiY,fe]]};let Le=(()=>{class pe{constructor(ot){ee.Z.registerVersion("angularfire",R.q4.full,"core"),ee.Z.registerVersion("angularfire",R.q4.full,"app-compat"),ee.Z.registerVersion("angular",d.q4F.full,ot.toString())}static initializeApp(ot,Me){return{ngModule:pe,providers:[{provide:he,useValue:ot},{provide:fe,useValue:Me}]}}}return pe.\u0275fac=function(ot){return new(ot||pe)(d.LFG(d.Lbi))},pe.\u0275mod=d.oAB({type:pe}),pe.\u0275inj=d.cJS({providers:[K]}),pe})();function xe(pe,Xe,ot,Me,we){const[,De,Be]=globalThis.\u0275AngularfireInstanceCache.find(je=>je[0]===pe)||[];if(De)return function be(pe,Xe){try{return pe.toString()===Xe.toString()}catch{return pe===Xe}}(we,Be)||(me("error",`${Xe} was already initialized on the ${ot} Firebase App with different settings.${nt?" You may need to reload as Firebase is not HMR aware.":""}`),me("warn",{is:we,was:Be})),De;{const je=Me();return globalThis.\u0275AngularfireInstanceCache.push([pe,je,we]),je}}const nt=!!dt.hot,me=(pe,...Xe)=>{(0,d.X6Q)()&&typeof console<"u"&&console[pe](...Xe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(dt,Ae,k)=>{k.d(Ae,{q4:()=>gr,iC:()=>Ui,HU:()=>zu,vb:()=>jo,JM:()=>ss});var d=k(4650),ee=k(5867),R=k(5861),se=k(9681),re=k(2090),de=k(4859),ae=k(1877),he=k(8766);const fe="@firebase/installations",B="0.5.15",K=`w:${B}`,Le="FIS_v2",Xe=new re.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ot(D){return D instanceof re.ZR&&D.code.includes("request-failed")}function Me({projectId:D}){return`https://firebaseinstallations.googleapis.com/v1/projects/${D}/installations`}function we(D){return{token:D.token,requestStatus:2,expiresIn:J(D.expiresIn),creationTime:Date.now()}}function De(D,C){return Be.apply(this,arguments)}function Be(){return(Be=(0,R.Z)(function*(D,C){const F=(yield C.json()).error;return Xe.create("request-failed",{requestName:D,serverCode:F.code,serverMessage:F.message,serverStatus:F.status})})).apply(this,arguments)}function je({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function U(D,{refreshToken:C}){const x=je(D);return x.append("Authorization",function ne(D){return`${Le} ${D}`}(C)),x}function ge(D){return z.apply(this,arguments)}function z(){return(z=(0,R.Z)(function*(D){const C=yield D();return C.status>=500&&C.status<600?D():C})).apply(this,arguments)}function J(D){return Number(D.replace("s","000"))}function te(D,C){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,R.Z)(function*({appConfig:D,heartbeatServiceProvider:C},{fid:x}){const F=Me(D),Y=je(D),oe=C.getImmediate({optional:!0});if(oe){const ft=yield oe.getHeartbeatsHeader();ft&&Y.append("x-firebase-client",ft)}const Ue={method:"POST",headers:Y,body:JSON.stringify({fid:x,authVersion:Le,appId:D.appId,sdkVersion:K})},Qe=yield ge(()=>fetch(F,Ue));if(Qe.ok){const ft=yield Qe.json();return{fid:ft.fid||x,registrationStatus:2,refreshToken:ft.refreshToken,authToken:we(ft.authToken)}}throw yield De("Create Installation",Qe)})).apply(this,arguments)}function Re(D){return new Promise(C=>{setTimeout(C,D)})}const Xt=/^[cdef][\w-]{21}$/;function Ze(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const x=function cn(D){return function mt(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return Xt.test(x)?x:""}catch{return""}}function wn(D){return`${D.appName}!${D.appId}`}const Qt=new Map;function en(D,C){const x=wn(D);fn(x,C),function Wi(D,C){const x=function Vr(){return!Ii&&"BroadcastChannel"in self&&(Ii=new BroadcastChannel("[Firebase] FID Change"),Ii.onmessage=D=>{fn(D.data.key,D.data.fid)}),Ii}();x&&x.postMessage({key:D,fid:C}),function Kr(){0===Qt.size&&Ii&&(Ii.close(),Ii=null)}()}(x,C)}function fn(D,C){const x=Qt.get(D);if(x)for(const F of x)F(C)}let Ii=null;const si="firebase-installations-store";let oi=null;function pa(){return oi||(oi=(0,he.X3)("firebase-installations-database",1,{upgrade:(D,C)=>{0===C&&D.createObjectStore(si)}})),oi}function Ke(D,C){return xr.apply(this,arguments)}function xr(){return(xr=(0,R.Z)(function*(D,C){const x=wn(D),Y=(yield pa()).transaction(si,"readwrite"),oe=Y.objectStore(si),Ie=yield oe.get(x);return yield oe.put(C,x),yield Y.done,(!Ie||Ie.fid!==C.fid)&&en(D,C.fid),C})).apply(this,arguments)}function ws(D){return nr.apply(this,arguments)}function nr(){return(nr=(0,R.Z)(function*(D){const C=wn(D),F=(yield pa()).transaction(si,"readwrite");yield F.objectStore(si).delete(C),yield F.done})).apply(this,arguments)}function ai(D,C){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,R.Z)(function*(D,C){const x=wn(D),Y=(yield pa()).transaction(si,"readwrite"),oe=Y.objectStore(si),Ie=yield oe.get(x),Ue=C(Ie);return void 0===Ue?yield oe.delete(x):yield oe.put(Ue,x),yield Y.done,Ue&&(!Ie||Ie.fid!==Ue.fid)&&en(D,Ue.fid),Ue})).apply(this,arguments)}function Ln(D){return zn.apply(this,arguments)}function zn(){return(zn=(0,R.Z)(function*(D){let C;const x=yield ai(D.appConfig,F=>{const Y=_n(F),oe=yt(D,Y);return C=oe.registrationPromise,oe.installationEntry});return""===x.fid?{installationEntry:yield C}:{installationEntry:x,registrationPromise:C}})).apply(this,arguments)}function _n(D){return xt(D||{fid:Ze(),registrationStatus:0})}function yt(D,C){if(0===C.registrationStatus){if(!navigator.onLine)return{installationEntry:C,registrationPromise:Promise.reject(Xe.create("app-offline"))};const x={fid:C.fid,registrationStatus:1,registrationTime:Date.now()},F=function ut(D,C){return an.apply(this,arguments)}(D,x);return{installationEntry:x,registrationPromise:F}}return 1===C.registrationStatus?{installationEntry:C,registrationPromise:Er(D)}:{installationEntry:C}}function an(){return(an=(0,R.Z)(function*(D,C){try{const x=yield te(D,C);return Ke(D.appConfig,x)}catch(x){throw ot(x)&&409===x.customData.serverCode?yield ws(D.appConfig):yield Ke(D.appConfig,{fid:C.fid,registrationStatus:0}),x}})).apply(this,arguments)}function Er(D){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,R.Z)(function*(D){let C=yield Yr(D.appConfig);for(;1===C.registrationStatus;)yield Re(100),C=yield Yr(D.appConfig);if(0===C.registrationStatus){const{installationEntry:x,registrationPromise:F}=yield Ln(D);return F||x}return C})).apply(this,arguments)}function Yr(D){return ai(D,C=>{if(!C)throw Xe.create("installation-not-found");return xt(C)})}function xt(D){return function Es(D){return 1===D.registrationStatus&&D.registrationTime+1e4<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function tn(D,C){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,R.Z)(function*({appConfig:D,heartbeatServiceProvider:C},x){const F=nn(D,x),Y=U(D,x),oe=C.getImmediate({optional:!0});if(oe){const ft=yield oe.getHeartbeatsHeader();ft&&Y.append("x-firebase-client",ft)}const Ue={method:"POST",headers:Y,body:JSON.stringify({installation:{sdkVersion:K,appId:D.appId}})},Qe=yield ge(()=>fetch(F,Ue));if(Qe.ok)return we(yield Qe.json());throw yield De("Generate Auth Token",Qe)})).apply(this,arguments)}function nn(D,{fid:C}){return`${Me(D)}/${C}/authTokens:generate`}function rr(D){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,R.Z)(function*(D,C=!1){let x;const F=yield ai(D.appConfig,oe=>{if(!Ut(oe))throw Xe.create("not-registered");const Ie=oe.authToken;if(!C&&$(Ie))return oe;if(1===Ie.requestStatus)return x=tt(D,C),oe;{if(!navigator.onLine)throw Xe.create("app-offline");const Ue=W(oe);return x=Ct(D,Ue),Ue}});return x?yield x:F.authToken})).apply(this,arguments)}function tt(D,C){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,R.Z)(function*(D,C){let x=yield et(D.appConfig);for(;1===x.authToken.requestStatus;)yield Re(100),x=yield et(D.appConfig);const F=x.authToken;return 0===F.requestStatus?rr(D,C):F})).apply(this,arguments)}function et(D){return ai(D,C=>{if(!Ut(C))throw Xe.create("not-registered");return function Ee(D){return 1===D.requestStatus&&D.requestTime+1e4<Date.now()}(C.authToken)?Object.assign(Object.assign({},C),{authToken:{requestStatus:0}}):C})}function Ct(D,C){return It.apply(this,arguments)}function It(){return(It=(0,R.Z)(function*(D,C){try{const x=yield tn(D,C),F=Object.assign(Object.assign({},C),{authToken:x});return yield Ke(D.appConfig,F),x}catch(x){if(!ot(x)||401!==x.customData.serverCode&&404!==x.customData.serverCode){const F=Object.assign(Object.assign({},C),{authToken:{requestStatus:0}});yield Ke(D.appConfig,F)}else yield ws(D.appConfig);throw x}})).apply(this,arguments)}function Ut(D){return void 0!==D&&2===D.registrationStatus}function $(D){return 2===D.requestStatus&&!function V(D){const C=Date.now();return C<D.creationTime||D.creationTime+D.expiresIn<C+36e5}(D)}function W(D){const C={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:C})}function He(){return(He=(0,R.Z)(function*(D){const C=D,{installationEntry:x,registrationPromise:F}=yield Ln(C);return F?F.catch(console.error):rr(C).catch(console.error),x.fid})).apply(this,arguments)}function Jt(){return(Jt=(0,R.Z)(function*(D,C=!1){const x=D;return yield yn(x),(yield rr(x,C)).token})).apply(this,arguments)}function yn(D){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,R.Z)(function*(D){const{registrationPromise:C}=yield Ln(D);C&&(yield C)})).apply(this,arguments)}function bs(D){return Xe.create("missing-app-config-values",{valueName:D})}const Co="installations",Cn=D=>{const C=D.getProvider("app").getImmediate(),x=function En(D){if(!D||!D.options)throw bs("App Configuration");if(!D.name)throw bs("App Name");const C=["projectId","apiKey","appId"];for(const x of C)if(!D.options[x])throw bs(x);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(C);return{app:C,appConfig:x,heartbeatServiceProvider:(0,se._getProvider)(C,"heartbeat"),_delete:()=>Promise.resolve()}},zs=D=>{const C=D.getProvider("app").getImmediate(),x=(0,se._getProvider)(C,Co).getImmediate();return{getId:()=>function Q(D){return He.apply(this,arguments)}(x),getToken:Y=>function ht(D){return Jt.apply(this,arguments)}(x,Y)}};(function ou(){(0,se._registerComponent)(new de.wA(Co,Cn,"PUBLIC")),(0,se._registerComponent)(new de.wA("installations-internal",zs,"PRIVATE"))})(),(0,se.registerVersion)(fe,B),(0,se.registerVersion)(fe,B,"esm2017");const ki="@firebase/remote-config",Vn=new re.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Zh{constructor(C,x,F,Y){this.client=C,this.storage=x,this.storageCache=F,this.logger=Y}isCachedDataFresh(C,x){if(!x)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const F=Date.now()-x,Y=F<=C;return this.logger.debug(`Config fetch cache check. Cache age millis: ${F}. Cache max age millis (minimumFetchIntervalMillis setting): ${C}. Is cache hit: ${Y}.`),Y}fetch(C){var x=this;return(0,R.Z)(function*(){const[F,Y]=yield Promise.all([x.storage.getLastSuccessfulFetchTimestampMillis(),x.storage.getLastSuccessfulFetchResponse()]);if(Y&&x.isCachedDataFresh(C.cacheMaxAgeMillis,F))return Y;C.eTag=Y&&Y.eTag;const oe=yield x.client.fetch(C),Ie=[x.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===oe.status&&Ie.push(x.storage.setLastSuccessfulFetchResponse(oe)),yield Promise.all(Ie),oe})()}}function Rl(D=navigator){return D.languages&&D.languages[0]||D.language}class Ol{constructor(C,x,F,Y,oe,Ie){this.firebaseInstallations=C,this.sdkVersion=x,this.namespace=F,this.projectId=Y,this.apiKey=oe,this.appId=Ie}fetch(C){var x=this;return(0,R.Z)(function*(){var F,Y,oe;const[Ie,Ue]=yield Promise.all([x.firebaseInstallations.getId(),x.firebaseInstallations.getToken()]),ft=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${x.projectId}/namespaces/${x.namespace}:fetch?key=${x.apiKey}`,Lt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":C.eTag||"*"},lt={sdk_version:x.sdkVersion,app_instance_id:Ie,app_instance_id_token:Ue,app_id:x.appId,language_code:Rl()},In={method:"POST",headers:Lt,body:JSON.stringify(lt)},mr=fetch(ft,In),$o=new Promise((Mi,co)=>{C.signal.addEventListener(()=>{const _d=new Error("The operation was aborted.");_d.name="AbortError",co(_d)})});let Ho;try{yield Promise.race([mr,$o]),Ho=yield mr}catch(Mi){let co="fetch-client-network";throw"AbortError"===(null===(F=Mi)||void 0===F?void 0:F.name)&&(co="fetch-timeout"),Vn.create(co,{originalErrorMessage:null===(Y=Mi)||void 0===Y?void 0:Y.message})}let os=Ho.status;const Rt=Ho.headers.get("ETag")||void 0;let di,lo;if(200===Ho.status){let Mi;try{Mi=yield Ho.json()}catch(co){throw Vn.create("fetch-client-parse",{originalErrorMessage:null===(oe=co)||void 0===oe?void 0:oe.message})}di=Mi.entries,lo=Mi.state}if("INSTANCE_STATE_UNSPECIFIED"===lo?os=500:"NO_CHANGE"===lo?os=304:("NO_TEMPLATE"===lo||"EMPTY_CONFIG"===lo)&&(di={}),304!==os&&200!==os)throw Vn.create("fetch-status",{httpStatus:os});return{status:os,eTag:Rt,config:di}})()}}class eg{constructor(C,x){this.client=C,this.storage=x}fetch(C){var x=this;return(0,R.Z)(function*(){const F=(yield x.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return x.attemptFetch(C,F)})()}attemptFetch(C,{throttleEndTimeMillis:x,backoffCount:F}){var Y=this;return(0,R.Z)(function*(){yield function sr(D,C){return new Promise((x,F)=>{const Y=Math.max(C-Date.now(),0),oe=setTimeout(x,Y);D.addEventListener(()=>{clearTimeout(oe),F(Vn.create("fetch-throttle",{throttleEndTimeMillis:C}))})})}(C.signal,x);try{const oe=yield Y.client.fetch(C);return yield Y.storage.deleteThrottleMetadata(),oe}catch(oe){if(!function Yc(D){if(!(D instanceof re.ZR&&D.customData))return!1;const C=Number(D.customData.httpStatus);return 429===C||500===C||503===C||504===C}(oe))throw oe;const Ie={throttleEndTimeMillis:Date.now()+(0,re.$s)(F),backoffCount:F+1};return yield Y.storage.setThrottleMetadata(Ie),Y.attemptFetch(C,Ie)}})()}}class Qc{constructor(C,x,F,Y,oe){this.app=C,this._client=x,this._storageCache=F,this._storage=Y,this._logger=oe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function kl(D,C){var x;const F=D.target.error||void 0;return Vn.create(C,{originalErrorMessage:F&&(null===(x=F)||void 0===x?void 0:x.message)})}const Ts="app_namespace_store";class Kh{constructor(C,x,F,Y=function rg(){return new Promise((D,C)=>{var x;try{const F=indexedDB.open("firebase_remote_config",1);F.onerror=Y=>{C(kl(Y,"storage-open"))},F.onsuccess=Y=>{D(Y.target.result)},F.onupgradeneeded=Y=>{0===Y.oldVersion&&Y.target.result.createObjectStore(Ts,{keyPath:"compositeKey"})}}catch(F){C(Vn.create("storage-open",{originalErrorMessage:null===(x=F)||void 0===x?void 0:x.message}))}})}()){this.appId=C,this.appName=x,this.namespace=F,this.openDbPromise=Y}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(C){return this.set("last_fetch_status",C)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(C){return this.set("last_successful_fetch_timestamp_millis",C)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(C){return this.set("last_successful_fetch_response",C)}getActiveConfig(){return this.get("active_config")}setActiveConfig(C){return this.set("active_config",C)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(C){return this.set("active_config_etag",C)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(C){return this.set("throttle_metadata",C)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(C){var x=this;return(0,R.Z)(function*(){const F=yield x.openDbPromise;return new Promise((Y,oe)=>{var Ie;const Qe=F.transaction([Ts],"readonly").objectStore(Ts),ft=x.createCompositeKey(C);try{const Lt=Qe.get(ft);Lt.onerror=lt=>{oe(kl(lt,"storage-get"))},Lt.onsuccess=lt=>{const In=lt.target.result;Y(In?In.value:void 0)}}catch(Lt){oe(Vn.create("storage-get",{originalErrorMessage:null===(Ie=Lt)||void 0===Ie?void 0:Ie.message}))}})})()}set(C,x){var F=this;return(0,R.Z)(function*(){const Y=yield F.openDbPromise;return new Promise((oe,Ie)=>{var Ue;const ft=Y.transaction([Ts],"readwrite").objectStore(Ts),Lt=F.createCompositeKey(C);try{const lt=ft.put({compositeKey:Lt,value:x});lt.onerror=In=>{Ie(kl(In,"storage-set"))},lt.onsuccess=()=>{oe()}}catch(lt){Ie(Vn.create("storage-set",{originalErrorMessage:null===(Ue=lt)||void 0===Ue?void 0:Ue.message}))}})})()}delete(C){var x=this;return(0,R.Z)(function*(){const F=yield x.openDbPromise;return new Promise((Y,oe)=>{var Ie;const Qe=F.transaction([Ts],"readwrite").objectStore(Ts),ft=x.createCompositeKey(C);try{const Lt=Qe.delete(ft);Lt.onerror=lt=>{oe(kl(lt,"storage-delete"))},Lt.onsuccess=()=>{Y()}}catch(Lt){oe(Vn.create("storage-delete",{originalErrorMessage:null===(Ie=Lt)||void 0===Ie?void 0:Ie.message}))}})})()}createCompositeKey(C){return[this.appId,this.appName,this.namespace,C].join()}}class Xc{constructor(C){this.storage=C}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var C=this;return(0,R.Z)(function*(){const x=C.storage.getLastFetchStatus(),F=C.storage.getLastSuccessfulFetchTimestampMillis(),Y=C.storage.getActiveConfig(),oe=yield x;oe&&(C.lastFetchStatus=oe);const Ie=yield F;Ie&&(C.lastSuccessfulFetchTimestampMillis=Ie);const Ue=yield Y;Ue&&(C.activeConfig=Ue)})()}setLastFetchStatus(C){return this.lastFetchStatus=C,this.storage.setLastFetchStatus(C)}setLastSuccessfulFetchTimestampMillis(C){return this.lastSuccessfulFetchTimestampMillis=C,this.storage.setLastSuccessfulFetchTimestampMillis(C)}setActiveConfig(C){return this.activeConfig=C,this.storage.setActiveConfig(C)}}function lu(){return Yh.apply(this,arguments)}function Yh(){return(Yh=(0,R.Z)(function*(){if(!(0,re.hl)())return!1;try{return yield(0,re.eu)()}catch{return!1}})).apply(this,arguments)}!function Ss(){(0,se._registerComponent)(new de.wA("remote-config",function D(C,{instanceIdentifier:x}){const F=C.getProvider("app").getImmediate(),Y=C.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Vn.create("registration-window");if(!(0,re.hl)())throw Vn.create("indexed-db-unavailable");const{projectId:oe,apiKey:Ie,appId:Ue}=F.options;if(!oe)throw Vn.create("registration-project-id");if(!Ie)throw Vn.create("registration-api-key");if(!Ue)throw Vn.create("registration-app-id");const Qe=new Kh(Ue,F.name,x=x||"firebase"),ft=new Xc(Qe),Lt=new ae.Yd(ki);Lt.logLevel=ae.in.ERROR;const lt=new Ol(Y,se.SDK_VERSION,x,oe,Ie,Ue),In=new eg(lt,Qe),mr=new Zh(In,Qe,ft,Lt),$o=new Qc(F,mr,ft,Qe,Lt);return function xn(D){const C=(0,re.m9)(D);C._initializePromise||(C._initializePromise=C._storageCache.loadFromStorage().then(()=>{C._isInitializationComplete=!0}))}($o),$o},"PUBLIC").setMultipleInstances(!0)),(0,se.registerVersion)(ki,"0.3.14"),(0,se.registerVersion)(ki,"0.3.14","esm2017")}();const Fi="/firebase-messaging-sw.js",Yi="/firebase-cloud-messaging-push-scope",Qi="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ya="google.c.a.c_id",cu="google.c.a.c_l",Fl="google.c.a.ts",Qh="google.c.a.e";var Ji=(()=>{return(D=Ji||(Ji={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",Ji;var D})();function ui(D){const C=new Uint8Array(D);return btoa(String.fromCharCode(...C)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Jr(D){const x=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),F=atob(x),Y=new Uint8Array(F.length);for(let oe=0;oe<F.length;++oe)Y[oe]=F.charCodeAt(oe);return Y}const So="fcm_token_details_db",Ir="fcm_token_object_Store";function Jh(D){return Xh.apply(this,arguments)}function Xh(){return Xh=(0,R.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(oe=>oe.name).includes(So))return null;let C=null;return(yield(0,he.X3)(So,5,{upgrade:(F=(0,R.Z)(function*(Y,oe,Ie,Ue){var Qe;if(oe<2||!Y.objectStoreNames.contains(Ir))return;const ft=Ue.objectStore(Ir),Lt=yield ft.index("fcmSenderId").get(D);if(yield ft.clear(),Lt)if(2===oe){const lt=Lt;if(!lt.auth||!lt.p256dh||!lt.endpoint)return;C={token:lt.fcmToken,createTime:null!==(Qe=lt.createTime)&&void 0!==Qe?Qe:Date.now(),subscriptionOptions:{auth:lt.auth,p256dh:lt.p256dh,endpoint:lt.endpoint,swScope:lt.swScope,vapidKey:"string"==typeof lt.vapidKey?lt.vapidKey:ui(lt.vapidKey)}}}else if(3===oe){const lt=Lt;C={token:lt.fcmToken,createTime:lt.createTime,subscriptionOptions:{auth:ui(lt.auth),p256dh:ui(lt.p256dh),endpoint:lt.endpoint,swScope:lt.swScope,vapidKey:ui(lt.vapidKey)}}}else if(4===oe){const lt=Lt;C={token:lt.fcmToken,createTime:lt.createTime,subscriptionOptions:{auth:ui(lt.auth),p256dh:ui(lt.p256dh),endpoint:lt.endpoint,swScope:lt.swScope,vapidKey:ui(lt.vapidKey)}}}}),function(oe,Ie,Ue,Qe){return F.apply(this,arguments)})})).close(),yield(0,he.Lj)(So),yield(0,he.Lj)("fcm_vapid_details_db"),yield(0,he.Lj)("undefined"),Nn(C)?C:null;var F}),Xh.apply(this,arguments)}function Nn(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:C}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof C.auth&&C.auth.length>0&&"string"==typeof C.p256dh&&C.p256dh.length>0&&"string"==typeof C.endpoint&&C.endpoint.length>0&&"string"==typeof C.swScope&&C.swScope.length>0&&"string"==typeof C.vapidKey&&C.vapidKey.length>0}const li="firebase-messaging-store";let jr=null;function hu(){return jr||(jr=(0,he.X3)("firebase-messaging-database",1,{upgrade:(D,C)=>{0===C&&D.createObjectStore(li)}})),jr}function Ao(D){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,R.Z)(function*(D){const C=Ti(D),F=yield(yield hu()).transaction(li).objectStore(li).get(C);if(F)return F;{const Y=yield Jh(D.appConfig.senderId);if(Y)return yield Kt(D,Y),Y}})).apply(this,arguments)}function Kt(D,C){return fu.apply(this,arguments)}function fu(){return(fu=(0,R.Z)(function*(D,C){const x=Ti(D),Y=(yield hu()).transaction(li,"readwrite");return yield Y.objectStore(li).put(C,x),yield Y.done,C})).apply(this,arguments)}function Zs(D){return pu.apply(this,arguments)}function pu(){return(pu=(0,R.Z)(function*(D){const C=Ti(D),F=(yield hu()).transaction(li,"readwrite");yield F.objectStore(li).delete(C),yield F.done})).apply(this,arguments)}function Ti({appConfig:D}){return D.appId}const Sn=new re.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Mt(D,C){return mu.apply(this,arguments)}function mu(){return(mu=(0,R.Z)(function*(D,C){var x;const F=yield Vl(D),Y=Te(C),oe={method:"POST",headers:F,body:JSON.stringify(Y)};let Ie;try{Ie=yield(yield fetch(es(D.appConfig),oe)).json()}catch(Ue){throw Sn.create("token-subscribe-failed",{errorInfo:null===(x=Ue)||void 0===x?void 0:x.toString()})}if(Ie.error)throw Sn.create("token-subscribe-failed",{errorInfo:Ie.error.message});if(!Ie.token)throw Sn.create("token-subscribe-no-token");return Ie.token})).apply(this,arguments)}function tf(D,C){return yu.apply(this,arguments)}function yu(){return(yu=(0,R.Z)(function*(D,C){var x;const F=yield Vl(D),Y=Te(C.subscriptionOptions),oe={method:"PATCH",headers:F,body:JSON.stringify(Y)};let Ie;try{Ie=yield(yield fetch(`${es(D.appConfig)}/${C.token}`,oe)).json()}catch(Ue){throw Sn.create("token-update-failed",{errorInfo:null===(x=Ue)||void 0===x?void 0:x.toString()})}if(Ie.error)throw Sn.create("token-update-failed",{errorInfo:Ie.error.message});if(!Ie.token)throw Sn.create("token-update-no-token");return Ie.token})).apply(this,arguments)}function _u(D,C){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,R.Z)(function*(D,C){var x;const Y={method:"DELETE",headers:yield Vl(D)};try{const Ie=yield(yield fetch(`${es(D.appConfig)}/${C}`,Y)).json();if(Ie.error)throw Sn.create("token-unsubscribe-failed",{errorInfo:Ie.error.message})}catch(oe){throw Sn.create("token-unsubscribe-failed",{errorInfo:null===(x=oe)||void 0===x?void 0:x.toString()})}})).apply(this,arguments)}function es({projectId:D}){return`https://fcmregistrations.googleapis.com/v1/projects/${D}/registrations`}function Vl(D){return _a.apply(this,arguments)}function _a(){return(_a=(0,R.Z)(function*({appConfig:D,installations:C}){const x=yield C.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${x}`})})).apply(this,arguments)}function Te({p256dh:D,auth:C,endpoint:x,vapidKey:F}){const Y={web:{endpoint:x,auth:C,p256dh:D}};return F!==Qi&&(Y.web.applicationPubKey=F),Y}const zt=6048e5;function vu(D){return wu.apply(this,arguments)}function wu(){return(wu=(0,R.Z)(function*(D){const C=yield Ul(D.swRegistration,D.vapidKey),x={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:C.endpoint,auth:ui(C.getKey("auth")),p256dh:ui(C.getKey("p256dh"))},F=yield Ao(D.firebaseDependencies);if(F){if(rd(F.subscriptionOptions,x))return Date.now()>=F.createTime+zt?Mo(D,{token:F.token,createTime:Date.now(),subscriptionOptions:x}):F.token;try{yield _u(D.firebaseDependencies,F.token)}catch(Y){console.warn(Y)}return va(D.firebaseDependencies,x)}return va(D.firebaseDependencies,x)})).apply(this,arguments)}function Pn(D){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,R.Z)(function*(D){const C=yield Ao(D.firebaseDependencies);C&&(yield _u(D.firebaseDependencies,C.token),yield Zs(D.firebaseDependencies));const x=yield D.swRegistration.pushManager.getSubscription();return!x||x.unsubscribe()})).apply(this,arguments)}function Mo(D,C){return ci.apply(this,arguments)}function ci(){return(ci=(0,R.Z)(function*(D,C){try{const x=yield tf(D.firebaseDependencies,C),F=Object.assign(Object.assign({},C),{token:x,createTime:Date.now()});return yield Kt(D.firebaseDependencies,F),x}catch(x){throw yield Pn(D),x}})).apply(this,arguments)}function va(D,C){return wa.apply(this,arguments)}function wa(){return(wa=(0,R.Z)(function*(D,C){const F={token:yield Mt(D,C),createTime:Date.now(),subscriptionOptions:C};return yield Kt(D,F),F.token})).apply(this,arguments)}function Ul(D,C){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,R.Z)(function*(D,C){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Jr(C)})})).apply(this,arguments)}function rd(D,C){return C.vapidKey===D.vapidKey&&C.endpoint===D.endpoint&&C.auth===D.auth&&C.p256dh===D.p256dh}function Ea(D){const C={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function Rn(D,C){if(!C.notification)return;D.notification={};const x=C.notification.title;x&&(D.notification.title=x);const F=C.notification.body;F&&(D.notification.body=F);const Y=C.notification.image;Y&&(D.notification.image=Y)}(C,D),function Li(D,C){!C.data||(D.data=C.data)}(C,D),function jl(D,C){var x,F,Y,oe,Ie;if(!(C.fcmOptions||null!==(x=C.notification)&&void 0!==x&&x.click_action))return;D.fcmOptions={};const Ue=null!==(Y=null===(F=C.fcmOptions)||void 0===F?void 0:F.link)&&void 0!==Y?Y:null===(oe=C.notification)||void 0===oe?void 0:oe.click_action;Ue&&(D.fcmOptions.link=Ue);const Qe=null===(Ie=C.fcmOptions)||void 0===Ie?void 0:Ie.analytics_label;Qe&&(D.fcmOptions.analyticsLabel=Qe)}(C,D),C}function Ks(D){return"object"==typeof D&&!!D&&ya in D}function ts(D,C){const x=[];for(let F=0;F<D.length;F++)x.push(D.charAt(F)),F<C.length&&x.push(C.charAt(F));return x.join("")}function ba(D){return Sn.create("missing-app-config-values",{valueName:D})}ts("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ts("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class sg{constructor(C,x,F){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Y=function ig(D){if(!D||!D.options)throw ba("App Configuration Object");if(!D.name)throw ba("App Name");const C=["projectId","apiKey","appId","messagingSenderId"],{options:x}=D;for(const F of C)if(!x[F])throw ba(F);return{appName:D.name,projectId:x.projectId,apiKey:x.apiKey,appId:x.appId,senderId:x.messagingSenderId}}(C);this.firebaseDependencies={app:C,appConfig:Y,installations:x,analyticsProvider:F}}_delete(){return Promise.resolve()}}function $l(D){return bu.apply(this,arguments)}function bu(){return(bu=(0,R.Z)(function*(D){var C;try{D.swRegistration=yield navigator.serviceWorker.register(Fi,{scope:Yi}),D.swRegistration.update().catch(()=>{})}catch(x){throw Sn.create("failed-service-worker-registration",{browserErrorMessage:null===(C=x)||void 0===C?void 0:C.message})}})).apply(this,arguments)}function Ia(D,C){return Hl.apply(this,arguments)}function Hl(){return(Hl=(0,R.Z)(function*(D,C){if(!C&&!D.swRegistration&&(yield $l(D)),C||!D.swRegistration){if(!(C instanceof ServiceWorkerRegistration))throw Sn.create("invalid-sw-registration");D.swRegistration=C}})).apply(this,arguments)}function Da(D,C){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,R.Z)(function*(D,C){C?D.vapidKey=C:D.vapidKey||(D.vapidKey=Qi)})).apply(this,arguments)}function Du(){return(Du=(0,R.Z)(function*(D,C){if(!navigator)throw Sn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Sn.create("permission-blocked");return yield Da(D,C?.vapidKey),yield Ia(D,C?.serviceWorkerRegistration),vu(D)})).apply(this,arguments)}function ql(D,C,x){return zl.apply(this,arguments)}function zl(){return(zl=(0,R.Z)(function*(D,C,x){const F=Wl(C);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(F,{message_id:x[ya],message_name:x[cu],message_time:x[Fl],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Wl(D){switch(D){case Ji.NOTIFICATION_CLICKED:return"notification_open";case Ji.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Ys(){return(Ys=(0,R.Z)(function*(D,C){const x=C.data;if(!x.isFirebaseMessaging)return;D.onMessageHandler&&x.messageType===Ji.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(Ea(x)):D.onMessageHandler.next(Ea(x)));const F=x.data;Ks(F)&&"1"===F[Qh]&&(yield ql(D,x.messageType,F))})).apply(this,arguments)}const Qs="@firebase/messaging",or=D=>{const C=new sg(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",x=>function id(D,C){return Ys.apply(this,arguments)}(C,x)),C},Xr=D=>{const C=D.getProvider("messaging").getImmediate();return{getToken:F=>function Iu(D,C){return Du.apply(this,arguments)}(C,F)}};function sd(){return Zl.apply(this,arguments)}function Zl(){return(Zl=(0,R.Z)(function*(){try{yield(0,re.eu)()}catch{return!1}return typeof window<"u"&&(0,re.hl)()&&(0,re.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function bn(){(0,se._registerComponent)(new de.wA("messaging",or,"PUBLIC")),(0,se._registerComponent)(new de.wA("messaging-internal",Xr,"PRIVATE")),(0,se.registerVersion)(Qs,"0.9.19"),(0,se.registerVersion)(Qs,"0.9.19","esm2017")}();const No="analytics",ud="firebase_id",Xs="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Au="https://www.googletagmanager.com/gtag/js",On=new ae.Yd("@firebase/analytics");function Mu(D){return Promise.all(D.map(C=>C.catch(x=>x)))}function xu(D,C){const x=document.createElement("script");x.src=`${Au}?l=${D}&id=${C}`,x.async=!0,document.head.appendChild(x)}function rf(D,C,x,F,Y,oe){return eo.apply(this,arguments)}function eo(){return(eo=(0,R.Z)(function*(D,C,x,F,Y,oe){const Ie=F[Y];try{if(Ie)yield C[Ie];else{const Qe=(yield Mu(x)).find(ft=>ft.measurementId===Y);Qe&&(yield C[Qe.appId])}}catch(Ue){On.error(Ue)}D("config",Y,oe)})).apply(this,arguments)}function Po(D,C,x,F,Y){return to.apply(this,arguments)}function to(){return(to=(0,R.Z)(function*(D,C,x,F,Y){try{let oe=[];if(Y&&Y.send_to){let Ie=Y.send_to;Array.isArray(Ie)||(Ie=[Ie]);const Ue=yield Mu(x);for(const Qe of Ie){const ft=Ue.find(lt=>lt.measurementId===Qe),Lt=ft&&C[ft.appId];if(!Lt){oe=[];break}oe.push(Lt)}}0===oe.length&&(oe=Object.values(C)),yield Promise.all(oe),D("event",F,Y||{})}catch(oe){On.error(oe)}})).apply(this,arguments)}function cd(D){const C=window.document.getElementsByTagName("script");for(const x of Object.values(C))if(x.src&&x.src.includes(Au)&&x.src.includes(D))return x;return null}const fr=new re.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Aa=new class Vi{constructor(C={},x=1e3){this.throttleMetadata=C,this.intervalMillis=x}getThrottleMetadata(C){return this.throttleMetadata[C]}setThrottleMetadata(C,x){this.throttleMetadata[C]=x}deleteThrottleMetadata(C){delete this.throttleMetadata[C]}};function hd(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function Ma(D){return Yl.apply(this,arguments)}function Yl(){return(Yl=(0,R.Z)(function*(D){var C;const{appId:x,apiKey:F}=D,Y={method:"GET",headers:hd(F)},oe=Xs.replace("{app-id}",x),Ie=yield fetch(oe,Y);if(200!==Ie.status&&304!==Ie.status){let Ue="";try{const Qe=yield Ie.json();null!==(C=Qe.error)&&void 0!==C&&C.message&&(Ue=Qe.error.message)}catch{}throw fr.create("config-fetch-failed",{httpStatus:Ie.status,responseMessage:Ue})}return Ie.json()})).apply(this,arguments)}function Un(D){return Si.apply(this,arguments)}function Si(){return(Si=(0,R.Z)(function*(D,C=Aa,x){const{appId:F,apiKey:Y,measurementId:oe}=D.options;if(!F)throw fr.create("no-app-id");if(!Y){if(oe)return{measurementId:oe,appId:F};throw fr.create("no-api-key")}const Ie=C.getThrottleMetadata(F)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ue=new Ou;return setTimeout((0,R.Z)(function*(){Ue.abort()}),void 0!==x?x:6e4),Pu({appId:F,apiKey:Y,measurementId:oe},Ie,Ue,C)})).apply(this,arguments)}function Pu(D,C,x){return no.apply(this,arguments)}function no(){return(no=(0,R.Z)(function*(D,{throttleEndTimeMillis:C,backoffCount:x},F,Y=Aa){var oe,Ie;const{appId:Ue,measurementId:Qe}=D;try{yield xa(F,C)}catch(ft){if(Qe)return On.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Qe} provided in the "measurementId" field in the local Firebase config. [${null===(oe=ft)||void 0===oe?void 0:oe.message}]`),{appId:Ue,measurementId:Qe};throw ft}try{const ft=yield Ma(D);return Y.deleteThrottleMetadata(Ue),ft}catch(ft){const Lt=ft;if(!Ru(Lt)){if(Y.deleteThrottleMetadata(Ue),Qe)return On.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Qe} provided in the "measurementId" field in the local Firebase config. [${Lt?.message}]`),{appId:Ue,measurementId:Qe};throw ft}const lt=503===Number(null===(Ie=Lt?.customData)||void 0===Ie?void 0:Ie.httpStatus)?(0,re.$s)(x,Y.intervalMillis,30):(0,re.$s)(x,Y.intervalMillis),In={throttleEndTimeMillis:Date.now()+lt,backoffCount:x+1};return Y.setThrottleMetadata(Ue,In),On.debug(`Calling attemptFetch again in ${lt} millis`),Pu(D,In,F,Y)}})).apply(this,arguments)}function xa(D,C){return new Promise((x,F)=>{const Y=Math.max(C-Date.now(),0),oe=setTimeout(x,Y);D.addEventListener(()=>{clearTimeout(oe),F(fr.create("fetch-throttle",{throttleEndTimeMillis:C}))})})}function Ru(D){if(!(D instanceof re.ZR&&D.customData))return!1;const C=Number(D.customData.httpStatus);return 429===C||500===C||503===C||504===C}class Ou{constructor(){this.listeners=[]}addEventListener(C){this.listeners.push(C)}abort(){this.listeners.forEach(C=>C())}}let Ns,Pa;function Ps(){return(Ps=(0,R.Z)(function*(D,C,x,F,Y){if(Y&&Y.global)D("event",x,F);else{const oe=yield C;D("event",x,Object.assign(Object.assign({},F),{send_to:oe}))}})).apply(this,arguments)}function io(D){Pa=D}function Jl(D){Ns=D}function rs(){return Lu.apply(this,arguments)}function Lu(){return(Lu=(0,R.Z)(function*(){var D;if(!(0,re.hl)())return On.warn(fr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,re.eu)()}catch(C){return On.warn(fr.create("indexeddb-unavailable",{errorInfo:null===(D=C)||void 0===D?void 0:D.toString()}).message),!1}return!0})).apply(this,arguments)}function ko(){return(ko=(0,R.Z)(function*(D,C,x,F,Y,oe,Ie){var Ue;const Qe=Un(D);Qe.then(mr=>{x[mr.measurementId]=mr.appId,D.options.measurementId&&mr.measurementId!==D.options.measurementId&&On.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${mr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(mr=>On.error(mr)),C.push(Qe);const ft=rs().then(mr=>{if(mr)return F.getId()}),[Lt,lt]=yield Promise.all([Qe,ft]);cd(oe)||xu(oe,Lt.measurementId),Pa&&(Y("consent","default",Pa),io(void 0)),Y("js",new Date);const In=null!==(Ue=Ie?.config)&&void 0!==Ue?Ue:{};return In.origin="firebase",In.update=!0,null!=lt&&(In[ud]=lt),Y("config",Lt.measurementId,In),Ns&&(Y("set",Ns),Jl(void 0)),Lt.measurementId})).apply(this,arguments)}class Vu{constructor(C){this.app=C}_delete(){return delete ei[this.app.options.appId],Promise.resolve()}}let ei={},Rs=[];const Fo={};let Vo,so,Lo="dataLayer",Ra=!1;function $y(D,C,x){!function og(){const D=[];if((0,re.ru)()&&D.push("This is a browser extension environment."),(0,re.zI)()||D.push("Cookies are not available."),D.length>0){const C=D.map((F,Y)=>`(${Y+1}) ${F}`).join(" "),x=fr.create("invalid-analytics-context",{errorInfo:C});On.warn(x.message)}}();const F=D.options.appId;if(!F)throw fr.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw fr.create("no-api-key");On.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ei[F])throw fr.create("already-exists",{id:F});if(!Ra){!function ld(D){let C=[];Array.isArray(window[D])?C=window[D]:window[D]=C}(Lo);const{wrappedGtag:oe,gtagCore:Ie}=function Ca(D,C,x,F,Y){let oe=function(...Ie){window[F].push(arguments)};return window[Y]&&"function"==typeof window[Y]&&(oe=window[Y]),window[Y]=function Nu(D,C,x,F){function oe(){return(oe=(0,R.Z)(function*(Ie,Ue,Qe){try{"event"===Ie?yield Po(D,C,x,Ue,Qe):"config"===Ie?yield rf(D,C,x,F,Ue,Qe):"consent"===Ie?D("consent","update",Qe):D("set",Ue)}catch(ft){On.error(ft)}})).apply(this,arguments)}return function Y(Ie,Ue,Qe){return oe.apply(this,arguments)}}(oe,D,C,x),{gtagCore:oe,wrappedGtag:window[Y]}}(ei,Rs,Fo,Lo,"gtag");so=oe,Vo=Ie,Ra=!0}return ei[F]=function Oo(D,C,x,F,Y,oe,Ie){return ko.apply(this,arguments)}(D,Rs,Fo,C,Vo,Lo,x),new Vu(D)}function Gy(){return sf.apply(this,arguments)}function sf(){return(sf=(0,R.Z)(function*(){if((0,re.ru)()||!(0,re.zI)()||!(0,re.hl)())return!1;try{return yield(0,re.eu)()}catch{return!1}})).apply(this,arguments)}const Uo="@firebase/analytics";!function dn(){(0,se._registerComponent)(new de.wA(No,(C,{options:x})=>$y(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),x),"PUBLIC")),(0,se._registerComponent)(new de.wA("analytics-internal",function D(C){try{const x=C.getProvider(No).getImmediate();return{logEvent:(F,Y,oe)=>function ti(D,C,x,F){D=(0,re.m9)(D),function fd(D,C,x,F,Y){return Ps.apply(this,arguments)}(so,ei[D.app.options.appId],C,x,F).catch(Y=>On.error(Y))}(x,F,Y,oe)}}catch(x){throw fr.create("interop-component-reg-failed",{reason:x})}},"PRIVATE")),(0,se.registerVersion)(Uo,"0.8.3"),(0,se.registerVersion)(Uo,"0.8.3","esm2017")}();var kn=k(4408),is=k(7565);const Bu=new class Dr extends is.v{}(class gd extends kn.o{constructor(C,x){super(C,x),this.scheduler=C,this.work=x}schedule(C,x=0){return x>0?super.schedule(C,x):(this.delay=x,this.state=C,this.scheduler.flush(this),this)}execute(C,x){return x>0||this.closed?super.execute(C,x):this._execute(C,x)}requestAsyncId(C,x,F=0){return null!=F&&F>0||null==F&&this.delay>0?super.requestAsyncId(C,x,F):(C.flush(this),0)}});var Xl=k(4986),ju=k(8505),oo=k(9468),$u=k(5363);const gr=new d.GfV("7.4.1"),bt="__angularfire_symbol__analyticsIsSupportedValue",Os="__angularfire_symbol__analyticsIsSupported",Hu="__angularfire_symbol__remoteConfigIsSupportedValue",Bo="__angularfire_symbol__remoteConfigIsSupported",Gu="__angularfire_symbol__messagingIsSupportedValue",ar="__angularfire_symbol__messagingIsSupported";function ss(D,C,x){if(C){if(1===C.length)return C[0];const oe=C.filter(Ie=>Ie.app===x);if(1===oe.length)return oe[0]}return x.container.getProvider(D).getImmediate({optional:!0})}globalThis[Os]||(globalThis[Os]=Gy().then(D=>globalThis[bt]=D).catch(()=>globalThis[bt]=!1)),globalThis[ar]||(globalThis[ar]=sd().then(D=>globalThis[Gu]=D).catch(()=>globalThis[Gu]=!1)),globalThis[Bo]||(globalThis[Bo]=lu().then(D=>globalThis[Hu]=D).catch(()=>globalThis[Hu]=!1));const jo=(D,C)=>{const x=C?[C]:(0,ee.C6)(),F=[];return x.forEach(Y=>{Y.container.getProvider(D).instances.forEach(Ie=>{F.includes(Ie)||F.push(Ie)})}),F};function ao(){}class ni{constructor(C,x=Bu){this.zone=C,this.delegate=x}now(){return this.delegate.now()}schedule(C,x,F){const Y=this.zone;return this.delegate.schedule(function(Ie){Y.runGuarded(()=>{C.apply(this,[Ie])})},x,F)}}class qu{constructor(C){this.zone=C,this.task=null}call(C,x){const F=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ao,{},ao,ao)),x.pipe((0,ju.b)({next:F,complete:F,error:F})).subscribe(C).add(F)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let zu=(()=>{class D{constructor(x){this.ngZone=x,this.outsideAngular=x.runOutsideAngular(()=>new ni(Zone.current)),this.insideAngular=x.run(()=>new ni(Zone.current,Xl.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(x){return new(x||D)(d.LFG(d.R0b))},D.\u0275prov=d.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function Ai(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function Ui(D){return Ai(),function ec(D){return function(x){return(x=x.lift(new qu(D.ngZone))).pipe((0,oo.R)(D.outsideAngular),(0,$u.Q)(D.insideAngular))}}(Ai())(D)}},2090:(dt,Ae,k)=>{k.d(Ae,{$s:()=>et,BH:()=>Gt,G6:()=>De,L:()=>he,LL:()=>Qt,Pz:()=>Xt,Sg:()=>Ze,UG:()=>be,US:()=>de,ZB:()=>j,ZR:()=>wn,aH:()=>mt,b$:()=>pe,eu:()=>je,hl:()=>Be,jU:()=>nt,m9:()=>Ut,ne:()=>zn,pd:()=>Ri,r3:()=>Di,ru:()=>me,tV:()=>fe,uI:()=>xe,vZ:()=>Ke,w1:()=>ot,xO:()=>nr,xb:()=>oi,z$:()=>Le,zI:()=>U,zd:()=>ai});const se=function($){const V=[];let W=0;for(let Ee=0;Ee<$.length;Ee++){let Q=$.charCodeAt(Ee);Q<128?V[W++]=Q:Q<2048?(V[W++]=Q>>6|192,V[W++]=63&Q|128):55296==(64512&Q)&&Ee+1<$.length&&56320==(64512&$.charCodeAt(Ee+1))?(Q=65536+((1023&Q)<<10)+(1023&$.charCodeAt(++Ee)),V[W++]=Q>>18|240,V[W++]=Q>>12&63|128,V[W++]=Q>>6&63|128,V[W++]=63&Q|128):(V[W++]=Q>>12|224,V[W++]=Q>>6&63|128,V[W++]=63&Q|128)}return V},de={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray($,V){if(!Array.isArray($))throw Error("encodeByteArray takes an array as a parameter");this.init_();const W=V?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ee=[];for(let Q=0;Q<$.length;Q+=3){const He=$[Q],ht=Q+1<$.length,Jt=ht?$[Q+1]:0,yn=Q+2<$.length,Zt=yn?$[Q+2]:0;let Ht=(15&Jt)<<2|Zt>>6,dr=63&Zt;yn||(dr=64,ht||(Ht=64)),Ee.push(W[He>>2],W[(3&He)<<4|Jt>>4],W[Ht],W[dr])}return Ee.join("")},encodeString($,V){return this.HAS_NATIVE_SUPPORT&&!V?btoa($):this.encodeByteArray(se($),V)},decodeString($,V){return this.HAS_NATIVE_SUPPORT&&!V?atob($):function($){const V=[];let W=0,Ee=0;for(;W<$.length;){const Q=$[W++];if(Q<128)V[Ee++]=String.fromCharCode(Q);else if(Q>191&&Q<224){const He=$[W++];V[Ee++]=String.fromCharCode((31&Q)<<6|63&He)}else if(Q>239&&Q<365){const yn=((7&Q)<<18|(63&$[W++])<<12|(63&$[W++])<<6|63&$[W++])-65536;V[Ee++]=String.fromCharCode(55296+(yn>>10)),V[Ee++]=String.fromCharCode(56320+(1023&yn))}else{const He=$[W++],ht=$[W++];V[Ee++]=String.fromCharCode((15&Q)<<12|(63&He)<<6|63&ht)}}return V.join("")}(this.decodeStringToByteArray($,V))},decodeStringToByteArray($,V){this.init_();const W=V?this.charToByteMapWebSafe_:this.charToByteMap_,Ee=[];for(let Q=0;Q<$.length;){const He=W[$.charAt(Q++)],Jt=Q<$.length?W[$.charAt(Q)]:0;++Q;const Zt=Q<$.length?W[$.charAt(Q)]:64;++Q;const $e=Q<$.length?W[$.charAt(Q)]:64;if(++Q,null==He||null==Jt||null==Zt||null==$e)throw Error();Ee.push(He<<2|Jt>>4),64!==Zt&&(Ee.push(Jt<<4&240|Zt>>2),64!==$e&&Ee.push(Zt<<6&192|$e))}return Ee},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let $=0;$<this.ENCODED_VALS.length;$++)this.byteToCharMap_[$]=this.ENCODED_VALS.charAt($),this.charToByteMap_[this.byteToCharMap_[$]]=$,this.byteToCharMapWebSafe_[$]=this.ENCODED_VALS_WEBSAFE.charAt($),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[$]]=$,$>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt($)]=$,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt($)]=$)}}},he=function($){return function($){const V=se($);return de.encodeByteArray(V,!0)}($).replace(/\./g,"")},fe=function($){try{return de.decodeString($,!0)}catch(V){console.error("base64Decode failed: ",V)}return null};function j($,V){if(!(V instanceof Object))return V;switch(V.constructor){case Date:return new Date(V.getTime());case Object:void 0===$&&($={});break;case Array:$=[];break;default:return V}for(const W in V)!V.hasOwnProperty(W)||!K(W)||($[W]=j($[W],V[W]));return $}function K($){return"__proto__"!==$}function Le(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function xe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Le())}function be(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function nt(){return"object"==typeof self&&self.self===self}function me(){const $="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof $&&void 0!==$.id}function pe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ot(){const $=Le();return $.indexOf("MSIE ")>=0||$.indexOf("Trident/")>=0}function De(){return!be()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Be(){return"object"==typeof indexedDB}function je(){return new Promise(($,V)=>{try{let W=!0;const Ee="validate-browser-context-for-indexeddb-analytics-module",Q=self.indexedDB.open(Ee);Q.onsuccess=()=>{Q.result.close(),W||self.indexedDB.deleteDatabase(Ee),$(!0)},Q.onupgradeneeded=()=>{W=!1},Q.onerror=()=>{var He;V((null===(He=Q.error)||void 0===He?void 0:He.message)||"")}}catch(W){V(W)}})}function U(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const te=()=>{try{return function ge(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const $=process.env.__FIREBASE_DEFAULTS__;return $?JSON.parse($):void 0})()||(()=>{if(typeof document>"u")return;let $;try{$=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const V=$&&fe($[1]);return V&&JSON.parse(V)})()}catch($){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${$}`)}},mt=()=>{var $;return null===($=te())||void 0===$?void 0:$.config},Xt=$=>{var V;return null===(V=te())||void 0===V?void 0:V[`_${$}`]};class Gt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((V,W)=>{this.resolve=V,this.reject=W})}wrapCallback(V){return(W,Ee)=>{W?this.reject(W):this.resolve(Ee),"function"==typeof V&&(this.promise.catch(()=>{}),1===V.length?V(W):V(W,Ee))}}}function Ze($,V){if($.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ee=V||"demo-project",Q=$.iat||0,He=$.sub||$.user_id;if(!He)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ht=Object.assign({iss:`https://securetoken.google.com/${Ee}`,aud:Ee,iat:Q,exp:Q+3600,auth_time:Q,sub:He,user_id:He,firebase:{sign_in_provider:"custom",identities:{}}},$);return[he(JSON.stringify({alg:"none",type:"JWT"})),he(JSON.stringify(ht)),""].join(".")}class wn extends Error{constructor(V,W,Ee){super(W),this.code=V,this.customData=Ee,this.name="FirebaseError",Object.setPrototypeOf(this,wn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qt.prototype.create)}}class Qt{constructor(V,W,Ee){this.service=V,this.serviceName=W,this.errors=Ee}create(V,...W){const Ee=W[0]||{},Q=`${this.service}/${V}`,He=this.errors[V],ht=He?function en($,V){return $.replace(Lr,(W,Ee)=>{const Q=V[Ee];return null!=Q?String(Q):`<${Ee}?>`})}(He,Ee):"Error";return new wn(Q,`${this.serviceName}: ${ht} (${Q}).`,Ee)}}const Lr=/\{\$([^}]+)}/g;function Di($,V){return Object.prototype.hasOwnProperty.call($,V)}function oi($){for(const V in $)if(Object.prototype.hasOwnProperty.call($,V))return!1;return!0}function Ke($,V){if($===V)return!0;const W=Object.keys($),Ee=Object.keys(V);for(const Q of W){if(!Ee.includes(Q))return!1;const He=$[Q],ht=V[Q];if(xr(He)&&xr(ht)){if(!Ke(He,ht))return!1}else if(He!==ht)return!1}for(const Q of Ee)if(!W.includes(Q))return!1;return!0}function xr($){return null!==$&&"object"==typeof $}function nr($){const V=[];for(const[W,Ee]of Object.entries($))Array.isArray(Ee)?Ee.forEach(Q=>{V.push(encodeURIComponent(W)+"="+encodeURIComponent(Q))}):V.push(encodeURIComponent(W)+"="+encodeURIComponent(Ee));return V.length?"&"+V.join("&"):""}function ai($){const V={};return $.replace(/^\?/,"").split("&").forEach(Ee=>{if(Ee){const[Q,He]=Ee.split("=");V[decodeURIComponent(Q)]=decodeURIComponent(He)}}),V}function Ri($){const V=$.indexOf("?");if(!V)return"";const W=$.indexOf("#",V);return $.substring(V,W>0?W:void 0)}function zn($,V){const W=new _n($,V);return W.subscribe.bind(W)}class _n{constructor(V,W){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=W,this.task.then(()=>{V(this)}).catch(Ee=>{this.error(Ee)})}next(V){this.forEachObserver(W=>{W.next(V)})}error(V){this.forEachObserver(W=>{W.error(V)}),this.close(V)}complete(){this.forEachObserver(V=>{V.complete()}),this.close()}subscribe(V,W,Ee){let Q;if(void 0===V&&void 0===W&&void 0===Ee)throw new Error("Missing Observer.");Q=function ut($,V){if("object"!=typeof $||null===$)return!1;for(const W of V)if(W in $&&"function"==typeof $[W])return!0;return!1}(V,["next","error","complete"])?V:{next:V,error:W,complete:Ee},void 0===Q.next&&(Q.next=an),void 0===Q.error&&(Q.error=an),void 0===Q.complete&&(Q.complete=an);const He=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Q.error(this.finalError):Q.complete()}catch{}}),this.observers.push(Q),He}unsubscribeOne(V){void 0===this.observers||void 0===this.observers[V]||(delete this.observers[V],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(V){if(!this.finalized)for(let W=0;W<this.observers.length;W++)this.sendOne(W,V)}sendOne(V,W){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[V])try{W(this.observers[V])}catch(Ee){typeof console<"u"&&console.error&&console.error(Ee)}})}close(V){this.finalized||(this.finalized=!0,void 0!==V&&(this.finalError=V),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function an(){}function et($,V=1e3,W=2){const Ee=V*Math.pow(W,$),Q=Math.round(.5*Ee*(Math.random()-.5)*2);return Math.min(144e5,Ee+Q)}function Ut($){return $&&$._delegate?$._delegate:$}},1:(dt,Ae,k)=>{var d=k(4650);let ee=null;function R(){return ee}const ae=new d.OlP("DocumentToken");let he=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return function fe(){return(0,d.LFG)(j)}()},providedIn:"platform"}),n})();const B=new d.OlP("Location Initialized");let j=(()=>{class n extends he{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return R().getBaseHref(this._doc)}onPopState(t){const r=R().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=R().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){K()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){K()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ae))},n.\u0275prov=d.Yz7({token:n,factory:function(){return function Le(){return new j((0,d.LFG)(ae))}()},providedIn:"platform"}),n})();function K(){return!!window.history.pushState}function xe(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function be(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function nt(n){return n&&"?"!==n[0]?"?"+n:n}let me=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(Xe)},providedIn:"root"}),n})();const pe=new d.OlP("appBaseHref");let Xe=(()=>{class n extends me{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,d.f3M)(ae).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return xe(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+nt(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,u){const c=this.prepareExternalUrl(i+nt(u));this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,u){const c=this.prepareExternalUrl(i+nt(u));this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(he),d.LFG(pe,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ot=(()=>{class n extends me{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=xe(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,u){let c=this.prepareExternalUrl(i+nt(u));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,u){let c=this.prepareExternalUrl(i+nt(u));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(he),d.LFG(pe,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),Me=(()=>{class n{constructor(t){this._subject=new d.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=be(Be(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+nt(r))}normalize(t){return n.stripTrailingSlash(function De(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Be(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+nt(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+nt(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=nt,n.joinWithSlash=xe,n.stripTrailingSlash=be,n.\u0275fac=function(t){return new(t||n)(d.LFG(me))},n.\u0275prov=d.Yz7({token:n,factory:function(){return function we(){return new Me((0,d.LFG)(me))}()},providedIn:"root"}),n})();function Be(n){return n.replace(/\/index.html$/,"")}const je={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var U=(()=>((U=U||{})[U.Decimal=0]="Decimal",U[U.Percent=1]="Percent",U[U.Currency=2]="Currency",U[U.Scientific=3]="Scientific",U))(),z=(()=>((z=z||{})[z.Format=0]="Format",z[z.Standalone=1]="Standalone",z))(),J=(()=>((J=J||{})[J.Narrow=0]="Narrow",J[J.Abbreviated=1]="Abbreviated",J[J.Wide=2]="Wide",J[J.Short=3]="Short",J))(),ne=(()=>((ne=ne||{})[ne.Short=0]="Short",ne[ne.Medium=1]="Medium",ne[ne.Long=2]="Long",ne[ne.Full=3]="Full",ne))(),te=(()=>((te=te||{})[te.Decimal=0]="Decimal",te[te.Group=1]="Group",te[te.List=2]="List",te[te.PercentSign=3]="PercentSign",te[te.PlusSign=4]="PlusSign",te[te.MinusSign=5]="MinusSign",te[te.Exponential=6]="Exponential",te[te.SuperscriptingExponent=7]="SuperscriptingExponent",te[te.PerMille=8]="PerMille",te[te.Infinity=9]="Infinity",te[te.NaN=10]="NaN",te[te.TimeSeparator=11]="TimeSeparator",te[te.CurrencyDecimal=12]="CurrencyDecimal",te[te.CurrencyGroup=13]="CurrencyGroup",te))();function Qt(n,e){return Ke((0,d.cg1)(n)[d.wAp.DateFormat],e)}function en(n,e){return Ke((0,d.cg1)(n)[d.wAp.TimeFormat],e)}function Lr(n,e){return Ke((0,d.cg1)(n)[d.wAp.DateTimeFormat],e)}function Ft(n,e){const t=(0,d.cg1)(n),r=t[d.wAp.NumberSymbols][e];if(typeof r>"u"){if(e===te.CurrencyDecimal)return t[d.wAp.NumberSymbols][te.Decimal];if(e===te.CurrencyGroup)return t[d.wAp.NumberSymbols][te.Group]}return r}function Di(n){if(!n[d.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[d.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Ke(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function xr(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const Ri=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ln={},zn=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var _n=(()=>((_n=_n||{})[_n.Short=0]="Short",_n[_n.ShortGMT=1]="ShortGMT",_n[_n.Long=2]="Long",_n[_n.Extended=3]="Extended",_n))(),yt=(()=>((yt=yt||{})[yt.FullYear=0]="FullYear",yt[yt.Month=1]="Month",yt[yt.Date=2]="Date",yt[yt.Hours=3]="Hours",yt[yt.Minutes=4]="Minutes",yt[yt.Seconds=5]="Seconds",yt[yt.FractionalSeconds=6]="FractionalSeconds",yt[yt.Day=7]="Day",yt))(),ut=(()=>((ut=ut||{})[ut.DayPeriods=0]="DayPeriods",ut[ut.Days=1]="Days",ut[ut.Months=2]="Months",ut[ut.Eras=3]="Eras",ut))();function an(n,e,t,r){let i=function He(n){if(Jt(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,u=1,c=1]=n.split("-").map(p=>+p);return Er(i,u-1,c)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(Ri))return function ht(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,u=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const c=Number(n[4]||0)-t,p=Number(n[5]||0)-r,_=Number(n[6]||0),b=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return u.call(e,c,p,_,b),e}(r)}const e=new Date(n);if(!Jt(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=Wn(t,e)||e;let p,c=[];for(;e;){if(p=zn.exec(e),!p){c.push(e);break}{c=c.concat(p.slice(1));const T=c.pop();if(!T)break;e=T}}let _=i.getTimezoneOffset();r&&(_=W(r,_),i=function Q(n,e,t){const r=t?-1:1,i=n.getTimezoneOffset();return function Ee(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(W(e,i)-i))}(i,r,!0));let b="";return c.forEach(T=>{const M=function V(n){if($[n])return $[n];let e;switch(n){case"G":case"GG":case"GGG":e=nn(ut.Eras,J.Abbreviated);break;case"GGGG":e=nn(ut.Eras,J.Wide);break;case"GGGGG":e=nn(ut.Eras,J.Narrow);break;case"y":e=tn(yt.FullYear,1,0,!1,!0);break;case"yy":e=tn(yt.FullYear,2,0,!0,!0);break;case"yyy":e=tn(yt.FullYear,3,0,!1,!0);break;case"yyyy":e=tn(yt.FullYear,4,0,!1,!0);break;case"Y":e=Ut(1);break;case"YY":e=Ut(2,!0);break;case"YYY":e=Ut(3);break;case"YYYY":e=Ut(4);break;case"M":case"L":e=tn(yt.Month,1,1);break;case"MM":case"LL":e=tn(yt.Month,2,1);break;case"MMM":e=nn(ut.Months,J.Abbreviated);break;case"MMMM":e=nn(ut.Months,J.Wide);break;case"MMMMM":e=nn(ut.Months,J.Narrow);break;case"LLL":e=nn(ut.Months,J.Abbreviated,z.Standalone);break;case"LLLL":e=nn(ut.Months,J.Wide,z.Standalone);break;case"LLLLL":e=nn(ut.Months,J.Narrow,z.Standalone);break;case"w":e=It(1);break;case"ww":e=It(2);break;case"W":e=It(1,!0);break;case"d":e=tn(yt.Date,1);break;case"dd":e=tn(yt.Date,2);break;case"c":case"cc":e=tn(yt.Day,1);break;case"ccc":e=nn(ut.Days,J.Abbreviated,z.Standalone);break;case"cccc":e=nn(ut.Days,J.Wide,z.Standalone);break;case"ccccc":e=nn(ut.Days,J.Narrow,z.Standalone);break;case"cccccc":e=nn(ut.Days,J.Short,z.Standalone);break;case"E":case"EE":case"EEE":e=nn(ut.Days,J.Abbreviated);break;case"EEEE":e=nn(ut.Days,J.Wide);break;case"EEEEE":e=nn(ut.Days,J.Narrow);break;case"EEEEEE":e=nn(ut.Days,J.Short);break;case"a":case"aa":case"aaa":e=nn(ut.DayPeriods,J.Abbreviated);break;case"aaaa":e=nn(ut.DayPeriods,J.Wide);break;case"aaaaa":e=nn(ut.DayPeriods,J.Narrow);break;case"b":case"bb":case"bbb":e=nn(ut.DayPeriods,J.Abbreviated,z.Standalone,!0);break;case"bbbb":e=nn(ut.DayPeriods,J.Wide,z.Standalone,!0);break;case"bbbbb":e=nn(ut.DayPeriods,J.Narrow,z.Standalone,!0);break;case"B":case"BB":case"BBB":e=nn(ut.DayPeriods,J.Abbreviated,z.Format,!0);break;case"BBBB":e=nn(ut.DayPeriods,J.Wide,z.Format,!0);break;case"BBBBB":e=nn(ut.DayPeriods,J.Narrow,z.Format,!0);break;case"h":e=tn(yt.Hours,1,-12);break;case"hh":e=tn(yt.Hours,2,-12);break;case"H":e=tn(yt.Hours,1);break;case"HH":e=tn(yt.Hours,2);break;case"m":e=tn(yt.Minutes,1);break;case"mm":e=tn(yt.Minutes,2);break;case"s":e=tn(yt.Seconds,1);break;case"ss":e=tn(yt.Seconds,2);break;case"S":e=tn(yt.FractionalSeconds,1);break;case"SS":e=tn(yt.FractionalSeconds,2);break;case"SSS":e=tn(yt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Ur(_n.Short);break;case"ZZZZZ":e=Ur(_n.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Ur(_n.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Ur(_n.Long);break;default:return null}return $[n]=e,e}(T);b+=M?M(i,t,_):"''"===T?"'":T.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),b}function Er(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Wn(n,e){const t=function Re(n){return(0,d.cg1)(n)[d.wAp.LocaleId]}(n);if(Ln[t]=Ln[t]||{},Ln[t][e])return Ln[t][e];let r="";switch(e){case"shortDate":r=Qt(n,ne.Short);break;case"mediumDate":r=Qt(n,ne.Medium);break;case"longDate":r=Qt(n,ne.Long);break;case"fullDate":r=Qt(n,ne.Full);break;case"shortTime":r=en(n,ne.Short);break;case"mediumTime":r=en(n,ne.Medium);break;case"longTime":r=en(n,ne.Long);break;case"fullTime":r=en(n,ne.Full);break;case"short":const i=Wn(n,"shortTime"),u=Wn(n,"shortDate");r=Yr(Lr(n,ne.Short),[i,u]);break;case"medium":const c=Wn(n,"mediumTime"),p=Wn(n,"mediumDate");r=Yr(Lr(n,ne.Medium),[c,p]);break;case"long":const _=Wn(n,"longTime"),b=Wn(n,"longDate");r=Yr(Lr(n,ne.Long),[_,b]);break;case"full":const T=Wn(n,"fullTime"),M=Wn(n,"fullDate");r=Yr(Lr(n,ne.Full),[T,M])}return r&&(Ln[t][e]=r),r}function Yr(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function xt(n,e,t="-",r,i){let u="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,u=t));let c=String(n);for(;c.length<e;)c="0"+c;return r&&(c=c.slice(c.length-e)),u+c}function tn(n,e,t=0,r=!1,i=!1){return function(u,c){let p=function Oi(n,e){switch(n){case yt.FullYear:return e.getFullYear();case yt.Month:return e.getMonth();case yt.Date:return e.getDate();case yt.Hours:return e.getHours();case yt.Minutes:return e.getMinutes();case yt.Seconds:return e.getSeconds();case yt.FractionalSeconds:return e.getMilliseconds();case yt.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,u);if((t>0||p>-t)&&(p+=t),n===yt.Hours)0===p&&-12===t&&(p=12);else if(n===yt.FractionalSeconds)return function Es(n,e){return xt(n,3).substring(0,e)}(p,e);const _=Ft(c,te.MinusSign);return xt(p,e,_,r,i)}}function nn(n,e,t=z.Format,r=!1){return function(i,u){return function rr(n,e,t,r,i,u){switch(t){case ut.Months:return function Gt(n,e,t){const r=(0,d.cg1)(n),u=Ke([r[d.wAp.MonthsFormat],r[d.wAp.MonthsStandalone]],e);return Ke(u,t)}(e,i,r)[n.getMonth()];case ut.Days:return function Xt(n,e,t){const r=(0,d.cg1)(n),u=Ke([r[d.wAp.DaysFormat],r[d.wAp.DaysStandalone]],e);return Ke(u,t)}(e,i,r)[n.getDay()];case ut.DayPeriods:const c=n.getHours(),p=n.getMinutes();if(u){const b=function si(n){const e=(0,d.cg1)(n);return Di(e),(e[d.wAp.ExtraData][2]||[]).map(r=>"string"==typeof r?xr(r):[xr(r[0]),xr(r[1])])}(e),T=function oi(n,e,t){const r=(0,d.cg1)(n);Di(r);const u=Ke([r[d.wAp.ExtraData][0],r[d.wAp.ExtraData][1]],e)||[];return Ke(u,t)||[]}(e,i,r),M=b.findIndex(L=>{if(Array.isArray(L)){const[G,Z]=L,ue=c>=G.hours&&p>=G.minutes,_e=c<Z.hours||c===Z.hours&&p<Z.minutes;if(G.hours<Z.hours){if(ue&&_e)return!0}else if(ue||_e)return!0}else if(L.hours===c&&L.minutes===p)return!0;return!1});if(-1!==M)return T[M]}return function mt(n,e,t){const r=(0,d.cg1)(n),u=Ke([r[d.wAp.DayPeriodsFormat],r[d.wAp.DayPeriodsStandalone]],e);return Ke(u,t)}(e,i,r)[c<12?0:1];case ut.Eras:return function Ze(n,e){return Ke((0,d.cg1)(n)[d.wAp.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,u,n,e,t,r)}}function Ur(n){return function(e,t,r){const i=-1*r,u=Ft(t,te.MinusSign),c=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case _n.Short:return(i>=0?"+":"")+xt(c,2,u)+xt(Math.abs(i%60),2,u);case _n.ShortGMT:return"GMT"+(i>=0?"+":"")+xt(c,1,u);case _n.Long:return"GMT"+(i>=0?"+":"")+xt(c,2,u)+":"+xt(Math.abs(i%60),2,u);case _n.Extended:return 0===r?"Z":(i>=0?"+":"")+xt(c,2,u)+":"+xt(Math.abs(i%60),2,u);default:throw new Error(`Unknown zone width "${n}"`)}}}function Ct(n){return Er(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function It(n,e=!1){return function(t,r){let i;if(e){const u=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,c=t.getDate();i=1+Math.floor((c+u)/7)}else{const u=Ct(t),c=function et(n){const e=Er(n,0,1).getDay();return Er(n,0,1+(e<=4?4:11)-e)}(u.getFullYear()),p=u.getTime()-c.getTime();i=1+Math.round(p/6048e5)}return xt(i,n,Ft(r,te.MinusSign))}}function Ut(n,e=!1){return function(t,r){return xt(Ct(t).getFullYear(),n,Ft(r,te.MinusSign),e)}}const $={};function W(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function Jt(n){return n instanceof Date&&!isNaN(n.valueOf())}const yn=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function bs(n,e,t,r,i){const c=function Cn(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(";"),i=r[0],u=r[1],c=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],p=c[0],_=c[1]||"";t.posPre=p.substring(0,p.indexOf("#"));for(let T=0;T<_.length;T++){const M=_.charAt(T);"0"===M?t.minFrac=t.maxFrac=T+1:"#"===M?t.maxFrac=T+1:t.posSuf+=M}const b=p.split(",");if(t.gSize=b[1]?b[1].length:0,t.lgSize=b[2]||b[1]?(b[2]||b[1]).length:0,u){const T=i.length-t.posPre.length-t.posSuf.length,M=u.indexOf("#");t.negPre=u.substring(0,M).replace(/'/g,""),t.negSuf=u.slice(M+T).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function fn(n,e){return(0,d.cg1)(n)[d.wAp.NumberFormats][e]}(e,U.Currency),Ft(e,te.MinusSign));return c.minFrac=function ai(n){let e;const t=je[n];return t&&(e=t[2]),"number"==typeof e?e:2}(r),c.maxFrac=c.minFrac,function En(n,e,t,r,i,u,c=!1){let p="",_=!1;if(isFinite(n)){let b=function ou(n){let r,i,u,c,p,e=Math.abs(n)+"",t=0;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(u=e.search(/e/i))>0?(i<0&&(i=u),i+=+e.slice(u+1),e=e.substring(0,u)):i<0&&(i=e.length),u=0;"0"===e.charAt(u);u++);if(u===(p=e.length))r=[0],i=1;else{for(p--;"0"===e.charAt(p);)p--;for(i-=u,r=[],c=0;u<=p;u++,c++)r[c]=Number(e.charAt(u))}return i>22&&(r=r.splice(0,21),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}(n);c&&(b=function zs(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(b));let T=e.minInt,M=e.minFrac,L=e.maxFrac;if(u){const at=u.match(yn);if(null===at)throw new Error(`${u} is not a valid digit info`);const gt=at[1],ct=at[3],St=at[5];null!=gt&&(T=Zn(gt)),null!=ct&&(M=Zn(ct)),null!=St?L=Zn(St):null!=ct&&M>L&&(L=M)}!function ki(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen;const u=Math.min(Math.max(e,i),t);let c=u+n.integerLen,p=r[c];if(c>0){r.splice(Math.max(n.integerLen,c));for(let M=c;M<r.length;M++)r[M]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,c=u+1),r[0]=0;for(let M=1;M<c;M++)r[M]=0}if(p>=5)if(c-1<0){for(let M=0;M>c;M--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[c-1]++;for(;i<Math.max(0,u);i++)r.push(0);let _=0!==u;const b=e+n.integerLen,T=r.reduceRight(function(M,L,G,Z){return Z[G]=(L+=M)<10?L:L-10,_&&(0===Z[G]&&G>=b?Z.pop():_=!1),L>=10?1:0},0);T&&(r.unshift(T),n.integerLen++)}(b,M,L);let G=b.digits,Z=b.integerLen;const ue=b.exponent;let _e=[];for(_=G.every(at=>!at);Z<T;Z++)G.unshift(0);for(;Z<0;Z++)G.unshift(0);Z>0?_e=G.splice(Z,G.length):(_e=G,G=[0]);const Ye=[];for(G.length>=e.lgSize&&Ye.unshift(G.splice(-e.lgSize,G.length).join(""));G.length>e.gSize;)Ye.unshift(G.splice(-e.gSize,G.length).join(""));G.length&&Ye.unshift(G.join("")),p=Ye.join(Ft(t,r)),_e.length&&(p+=Ft(t,i)+_e.join("")),ue&&(p+=Ft(t,te.Exponential)+"+"+ue)}else p=Ft(t,te.Infinity);return p=n<0&&!_?e.negPre+p+e.negSuf:e.posPre+p+e.posSuf,p}(n,c,e,te.CurrencyGroup,te.CurrencyDecimal,i).replace("\xa4",t).replace("\xa4","").trim()}function Zn(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}class ga{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Zi=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,u,c)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new ga(i.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)r.remove(null===u?void 0:u);else if(null!==u){const p=r.get(u);r.move(p,c),Cs(p,i)}});for(let i=0,u=r.length;i<u;i++){const p=r.get(i).context;p.index=i,p.count=u,p.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{Cs(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Cs(n,e){n.context.$implicit=e.item}let xn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Nl,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){hr("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){hr("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Nl{constructor(){this.$implicit=null,this.ngIf=null}}function hr(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,d.AaK)(e)}'.`)}function sr(n,e){return new d.vHH(2100,!1)}const rg=new d.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let Kh=(()=>{class n{constructor(t,r){this.locale=t,this.defaultTimezone=r}transform(t,r="mediumDate",i,u){if(null==t||""===t||t!=t)return null;try{return an(t,r,u||this.locale,i??this.defaultTimezone??void 0)}catch(c){throw sr()}}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.soG,16),d.Y36(rg,24))},n.\u0275pipe=d.Yjl({name:"date",type:n,pure:!0,standalone:!0}),n})(),As=(()=>{class n{constructor(t,r="USD"){this._locale=t,this._defaultCurrencyCode=r}transform(t,r=this._defaultCurrencyCode,i="symbol",u,c){if(!function ya(n){return!(null==n||""===n||n!=n)}(t))return null;c=c||this._locale,"boolean"==typeof i&&(i=i?"symbol":"code");let p=r||this._defaultCurrencyCode;"code"!==i&&(p="symbol"===i||"symbol-narrow"===i?function ws(n,e,t="en"){const r=function Kr(n){return(0,d.cg1)(n)[d.wAp.Currencies]}(t)[n]||je[n]||[],i=r[1];return"narrow"===e&&"string"==typeof i?i:r[0]||n}(p,"symbol"===i?"wide":"narrow",c):i);try{return bs(function cu(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),c,p,r,u)}catch(_){throw sr()}}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.soG,16),d.Y36(d.EJc,16))},n.\u0275pipe=d.Yjl({name:"currency",type:n,pure:!0,standalone:!0}),n})();let To=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();function Ir(n){return"server"===n}let du=(()=>{class n{}return n.\u0275prov=(0,d.Yz7)({token:n,providedIn:"root",factory:()=>new ef((0,d.LFG)(ae),window)}),n})();class ef{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function jr(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const u=i.shadowRoot;if(u){const c=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(c)return c}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],i-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=li(this.window.history)||li(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function li(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Ys extends class id extends class de{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function re(n){ee||(ee=n)}(new Ys)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Cu(){return Qs=Qs||document.querySelector("base"),Qs?Qs.getAttribute("href"):null}();return null==t?null:function Xr(n){or=or||document.createElement("a"),or.setAttribute("href",n);const e=or.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Qs=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function au(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(u)}return null}(document.cookie,e)}}let or,Qs=null;const bn=new d.OlP("TRANSITION_ID"),Zl=[{provide:d.ip1,useFactory:function sd(n,e,t){return()=>{t.get(d.CZH).donePromise.then(()=>{const r=R(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<i.length;u++)r.remove(i[u])})}},deps:[bn,ae,d.zs3],multi:!0}];let Kl=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Tu=new d.OlP("EventManagerPlugins");let od=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let u=0;u<i.length;u++){const c=i[u];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Tu),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class Su{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=R().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Js=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),xo=(()=>{class n extends Js{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(u=>{const c=this._doc.createElement("style");c.textContent=u,i.push(r.appendChild(c))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(ad),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(ad))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ae))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function ad(n){R().remove(n)}const No={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ud=/%COMP%/g;function xu(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?xu(n,i,t):(i=i.replace(ud,n),t.push(i))}return t}function ld(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let eo=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Po(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case d.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new cd(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case d.ifc.ShadowDom:return new dd(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=xu(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(od),d.LFG(xo),d.LFG(d.AFp))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class Po{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(No[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Ca(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Ca(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const u=No[i];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=No[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(d.JOm.DashCase|d.JOm.Important)?e.style.setProperty(t,r,i&d.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&d.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,ld(r)):this.eventManager.addEventListener(e,t,ld(r))}}function Ca(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class cd extends Po{constructor(e,t,r,i){super(e),this.component=r;const u=xu(i+"-"+r.id,r.styles,[]);t.addStyles(u),this.contentAttr=function On(n){return"_ngcontent-%COMP%".replace(ud,n)}(i+"-"+r.id),this.hostAttr=function Mu(n){return"_nghost-%COMP%".replace(ud,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class dd extends Po{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=xu(i.id,i.styles,[]);for(let c=0;c<u.length;c++){const p=document.createElement("style");p.textContent=u[c],this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let fr=(()=>{class n extends Su{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ae))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Ta=["alt","control","meta","shift"],Sa={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Vi={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Aa=(()=>{class n extends Su{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const u=n.parseEventName(r),c=n.eventCallback(u.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>R().onAndCancel(t,u.domEventName,c))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const u=n._normalizeKey(r.pop());let c="",p=r.indexOf("code");if(p>-1&&(r.splice(p,1),c="code."),Ta.forEach(b=>{const T=r.indexOf(b);T>-1&&(r.splice(T,1),c+=b+".")}),c+=u,0!=r.length||0===u.length)return null;const _={};return _.domEventName=i,_.fullKey=c,_}static matchEventFullKeyCode(t,r){let i=Sa[t.key]||t.key,u="";return r.indexOf("code.")>-1&&(i=t.code,u="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Ta.forEach(c=>{c!==i&&(0,Vi[c])(t)&&(u+=c+".")}),u+=i,u===r)}static eventCallback(t,r,i){return u=>{n.matchEventFullKeyCode(u,t)&&i.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ae))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Ou=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:"browser"},{provide:d.g9A,useValue:function Pu(){Ys.makeCurrent()},multi:!0},{provide:ae,useFactory:function xa(){return(0,d.RDi)(document),document},deps:[]}]),Ns=new d.OlP(""),fd=[{provide:d.rWj,useClass:class nf{addToWindow(e){d.dqk.getAngularTestability=(r,i=!0)=>{const u=e.findTestabilityInTree(r,i);if(null==u)throw new Error("Could not find testability for element.");return u},d.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(r=>{const i=d.dqk.getAllAngularTestabilities();let u=i.length,c=!1;const p=function(_){c=c||_,u--,0==u&&r(c)};i.forEach(function(_){_.whenStable(p)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?R().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:d.lri,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]}],Ps=[{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function no(){return new d.qLn},deps:[]},{provide:Tu,useClass:fr,multi:!0,deps:[ae,d.R0b,d.Lbi]},{provide:Tu,useClass:Aa,multi:!0,deps:[ae]},{provide:eo,useClass:eo,deps:[od,xo,d.AFp]},{provide:d.FYo,useExisting:eo},{provide:Js,useExisting:xo},{provide:xo,useClass:xo,deps:[ae]},{provide:od,useClass:od,deps:[Tu,d.R0b]},{provide:class Ao{},useClass:Kl,deps:[]},[]];let ku=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:d.AFp,useValue:t.appId},{provide:bn,useExisting:d.AFp},Zl]}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Ns,12))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[...Ps,...fd],imports:[To,d.hGG]}),n})(),ns=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ae))},n.\u0275prov=d.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Ro(){return new ns((0,d.LFG)(ae))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let Oa=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):d.LFG(lg),r},providedIn:"root"}),n})(),lg=(()=>{class n extends Oa{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case d.q3G.NONE:return r;case d.q3G.HTML:return(0,d.qzn)(r,"HTML")?(0,d.z3N)(r):(0,d.EiD)(this._doc,String(r)).toString();case d.q3G.STYLE:return(0,d.qzn)(r,"Style")?(0,d.z3N)(r):r;case d.q3G.SCRIPT:if((0,d.qzn)(r,"Script"))return(0,d.z3N)(r);throw new Error("unsafe value used in a script context");case d.q3G.URL:return(0,d.qzn)(r,"URL")?(0,d.z3N)(r):(0,d.mCW)(String(r));case d.q3G.RESOURCE_URL:if((0,d.qzn)(r,"ResourceURL"))return(0,d.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,d.JVY)(t)}bypassSecurityTrustStyle(t){return(0,d.L6k)(t)}bypassSecurityTrustScript(t){return(0,d.eBb)(t)}bypassSecurityTrustUrl(t){return(0,d.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,d.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ae))},n.\u0275prov=d.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function ug(n){return new lg(n.get(ae))}(d.LFG(d.zs3)),r},providedIn:"root"}),n})();var ti=k(2011),rn=k(8996),Uo=k(7669);function rt(...n){const e=(0,Uo.yG)(n);return(0,rn.D)(n,e)}var dn=k(7579);class kn extends dn.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const is=(0,k(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Dr=k(9751);const{isArray:Bu}=Array,{getPrototypeOf:cg,prototype:Xl,keys:ju}=Object;function oo(n){if(1===n.length){const e=n[0];if(Bu(e))return{args:e,keys:null};if(function $u(n){return n&&"object"==typeof n&&cg(n)===Xl}(e)){const t=ju(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var gr=k(4671),bt=k(4004);const{isArray:Os}=Array;function Bo(n){return(0,bt.U)(e=>function Hu(n,e){return Os(e)?n(...e):n(e)}(n,e))}function Gu(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var ar=k(5403),ka=k(9672);function af(...n){const e=(0,Uo.yG)(n),t=(0,Uo.jO)(n),{args:r,keys:i}=oo(n);if(0===r.length)return(0,rn.D)([],e);const u=new Dr.y(function md(n,e,t=gr.y){return r=>{uf(e,()=>{const{length:i}=n,u=new Array(i);let c=i,p=i;for(let _=0;_<i;_++)uf(e,()=>{const b=(0,rn.D)(n[_],e);let T=!1;b.subscribe((0,ar.x)(r,M=>{u[_]=M,T||(T=!0,p--),p||r.next(t(u.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,e,i?c=>Gu(i,c):gr.y));return t?u.pipe(Bo(t)):u}function uf(n,e,t){n?(0,ka.f)(t,n,e):e()}var ss=k(8189);function ao(...n){return function jo(){return(0,ss.J)(1)}()((0,rn.D)(n,(0,Uo.yG)(n)))}var ni=k(8421);function qu(n){return new Dr.y(e=>{(0,ni.Xf)(n()).subscribe(e)})}var zu=k(9635),Ai=k(576);function uo(n,e){const t=(0,Ai.m)(n)?n:()=>n,r=i=>i.error(t());return new Dr.y(e?i=>e.schedule(r,0,i):r)}var Pr=k(515),yd=k(727),Bn=k(4482);function Ui(){return(0,Bn.e)((n,e)=>{let t=null;n._refCount++;const r=(0,ar.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,u=t;t=null,i&&(!u||i===u)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class ec extends Dr.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Bn.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new yd.w0;const t=this.getSubject();e.add(this.source.subscribe((0,ar.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=yd.w0.EMPTY)}return e}refCount(){return Ui()(this)}}function qt(n,e){return(0,Bn.e)((t,r)=>{let i=null,u=0,c=!1;const p=()=>c&&!i&&r.complete();t.subscribe((0,ar.x)(r,_=>{i?.unsubscribe();let b=0;const T=u++;(0,ni.Xf)(n(_,T)).subscribe(i=(0,ar.x)(r,M=>r.next(e?e(_,M,T,b++):M),()=>{i=null,p()}))},()=>{c=!0,p()}))})}function Fa(n){return n<=0?()=>Pr.E:(0,Bn.e)((e,t)=>{let r=0;e.subscribe((0,ar.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function D(...n){const e=(0,Uo.yG)(n);return(0,Bn.e)((t,r)=>{(e?ao(n,t,e):ao(n,t)).subscribe(r)})}function C(n,e){return(0,Bn.e)((t,r)=>{let i=0;t.subscribe((0,ar.x)(r,u=>n.call(e,u,i++)&&r.next(u)))})}var x=k(5577);function F(n){return(0,Bn.e)((e,t)=>{let r=!1;e.subscribe((0,ar.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Y(n=oe){return(0,Bn.e)((e,t)=>{let r=!1;e.subscribe((0,ar.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function oe(){return new is}function Ie(n,e){const t=arguments.length>=2;return r=>r.pipe(n?C((i,u)=>n(i,u,r)):gr.y,Fa(1),t?F(e):Y(()=>new is))}function Ue(n,e){return(0,Ai.m)(e)?(0,x.z)(n,e,1):(0,x.z)(n,1)}var Qe=k(8505);function ft(n){return(0,Bn.e)((e,t)=>{let u,r=null,i=!1;r=e.subscribe((0,ar.x)(t,void 0,void 0,c=>{u=(0,ni.Xf)(n(c,ft(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,u.subscribe(t))})}function Lt(n,e,t,r,i){return(u,c)=>{let p=t,_=e,b=0;u.subscribe((0,ar.x)(c,T=>{const M=b++;_=p?n(_,T,M):(p=!0,T),r&&c.next(_)},i&&(()=>{p&&c.next(_),c.complete()})))}}function lt(n,e){return(0,Bn.e)(Lt(n,e,arguments.length>=2,!0))}function In(n){return n<=0?()=>Pr.E:(0,Bn.e)((e,t)=>{let r=[];e.subscribe((0,ar.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function mr(n,e){const t=arguments.length>=2;return r=>r.pipe(n?C((i,u)=>n(i,u,r)):gr.y,In(1),t?F(e):Y(()=>new is))}function os(n){return(0,Bn.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Rt="primary",di=Symbol("RouteTitle");class lo{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Mi(n){return new lo(n)}function co(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let u=0;u<r.length;u++){const c=r[u],p=n[u];if(c.startsWith(":"))i[c.substring(1)]=p;else if(c!==p.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function as(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let u=0;u<t.length;u++)if(i=t[u],!dg(n[i],e[i]))return!1;return!0}function dg(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,u)=>r[u]===i)}return n===e}function hg(n){return Array.prototype.concat.apply([],n)}function lf(n){return n.length>0?n[n.length-1]:null}function Kn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Go(n){return(0,d.CqO)(n)?n:(0,d.QGY)(n)?(0,rn.D)(Promise.resolve(n)):rt(n)}const fg={exact:function df(n,e,t){if(!qo(n.segments,e.segments)||!bd(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!df(n.children[r],e.children[r],t))return!1;return!0},subset:Ed},qy={exact:function zy(n,e){return as(n,e)},subset:function Wu(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>dg(n[t],e[t]))},ignored:()=>!0};function wd(n,e,t){return fg[t.paths](n.root,e.root,t.matrixParams)&&qy[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Ed(n,e,t){return La(n,e,e.segments,t)}function La(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!qo(i,t)||e.hasChildren()||!bd(i,t,r))}if(n.segments.length===t.length){if(!qo(n.segments,t)||!bd(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!Ed(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(qo(n.segments,i)&&bd(n.segments,i,r)&&n.children[Rt])&&La(n.children[Rt],e,u,r)}}function bd(n,e,t){return e.every((r,i)=>qy[t](n[i].parameters,r.parameters))}class Va{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Mi(this.queryParams)),this._queryParamMap}toString(){return Wy.serialize(this)}}class Wt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Kn(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Zu(this)}}class ho{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Mi(this.parameters)),this._parameterMap}toString(){return gg(this)}}function qo(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let ff=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return new us},providedIn:"root"}),n})();class us{parse(e){const t=new Dd(e);return new Va(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${tc(e.root,!0)}`,r=function Ky(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Id(t)}=${Id(i)}`).join("&"):`${Id(t)}=${Id(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function ls(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Wy=new us;function Zu(n){return n.segments.map(e=>gg(e)).join("/")}function tc(n,e){if(!n.hasChildren())return Zu(n);if(e){const t=n.children[Rt]?tc(n.children[Rt],!1):"",r=[];return Kn(n.children,(i,u)=>{u!==Rt&&r.push(`${u}:${tc(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function pg(n,e){let t=[];return Kn(n.children,(r,i)=>{i===Rt&&(t=t.concat(e(r,i)))}),Kn(n.children,(r,i)=>{i!==Rt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Rt?[tc(n.children[Rt],!1)]:[`${i}:${tc(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Rt]?`${Zu(n)}/${t[0]}`:`${Zu(n)}/(${t.join("//")})`}}function pf(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Id(n){return pf(n).replace(/%3B/gi,";")}function zo(n){return pf(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function nc(n){return decodeURIComponent(n)}function gf(n){return nc(n.replace(/\+/g,"%20"))}function gg(n){return`${zo(n.path)}${function Zy(n){return Object.keys(n).map(e=>`;${zo(e)}=${zo(n[e])}`).join("")}(n.parameters)}`}const Yy=/^[^\/()?;=#]+/;function rc(n){const e=n.match(Yy);return e?e[0]:""}const mg=/^[^=?&#]+/,gw=/^[^&#]+/;class Dd{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Wt([],{}):new Wt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Rt]=new Wt(e,t)),r}parseSegment(){const e=rc(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new d.vHH(4009,!1);return this.capture(e),new ho(nc(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=rc(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=rc(this.remaining);i&&(r=i,this.capture(r))}e[nc(t)]=nc(r)}parseQueryParam(e){const t=function Qy(n){const e=n.match(mg);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const c=function Ua(n){const e=n.match(gw);return e?e[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=gf(t),u=gf(r);if(e.hasOwnProperty(i)){let c=e[i];Array.isArray(c)||(c=[c],e[i]=c),c.push(u)}else e[i]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=rc(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new d.vHH(4010,!1);let u;r.indexOf(":")>-1?(u=r.slice(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=Rt);const c=this.parseChildren();t[u]=1===Object.keys(c).length?c[Rt]:new Wt([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new d.vHH(4011,!1)}}function cs(n){return n.segments.length>0?new Wt([],{[Rt]:n}):n}function ks(n){const e={};for(const r of Object.keys(n.children)){const u=ks(n.children[r]);(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function yg(n){if(1===n.numberOfChildren&&n.children[Rt]){const e=n.children[Rt];return new Wt(n.segments.concat(e.segments),e.children)}return n}(new Wt(n.segments,e))}function Fs(n){return n instanceof Va}function mf(n,e,t,r,i){if(0===t.length)return ic(e.root,e.root,e.root,r,i);const u=function wg(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new vg(!0,0,n);let e=0,t=!1;const r=n.reduce((i,u,c)=>{if("object"==typeof u&&null!=u){if(u.outlets){const p={};return Kn(u.outlets,(_,b)=>{p[b]="string"==typeof _?_.split("/"):_}),[...i,{outlets:p}]}if(u.segmentPath)return[...i,u.segmentPath]}return"string"!=typeof u?[...i,u]:0===c?(u.split("/").forEach((p,_)=>{0==_&&"."===p||(0==_&&""===p?t=!0:".."===p?e++:""!=p&&i.push(p))}),i):[...i,u]},[]);return new vg(t,e,r)}(t);return u.toRoot()?ic(e.root,e.root,new Wt([],{}),r,i):function c(_){const b=function Eg(n,e,t,r){if(n.isAbsolute)return new Ba(e.root,!0,0);if(-1===r)return new Ba(t,t===e.root,0);return function sc(n,e,t){let r=n,i=e,u=t;for(;u>i;){if(u-=i,r=r.parent,!r)throw new d.vHH(4005,!1);i=r.segments.length}return new Ba(r,!1,i-u)}(t,r+(fo(n.commands[0])?0:1),n.numberOfDoubleDots)}(u,e,n.snapshot?._urlSegment,_),T=b.processChildren?oc(b.segmentGroup,b.index,u.commands):ja(b.segmentGroup,b.index,u.commands);return ic(e.root,b.segmentGroup,T,r,i)}(n.snapshot?._lastPathIndex)}function fo(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Td(n){return"object"==typeof n&&null!=n&&n.outlets}function ic(n,e,t,r,i){let c,u={};r&&Kn(r,(_,b)=>{u[b]=Array.isArray(_)?_.map(T=>`${T}`):`${_}`}),c=n===e?t:yf(n,e,t);const p=cs(ks(c));return new Va(p,u,i)}function yf(n,e,t){const r={};return Kn(n.children,(i,u)=>{r[u]=i===e?t:yf(i,e,t)}),new Wt(n.segments,r)}class vg{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&fo(r[0]))throw new d.vHH(4003,!1);const i=r.find(Td);if(i&&i!==lf(r))throw new d.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ba{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function ja(n,e,t){if(n||(n=new Wt([],{})),0===n.segments.length&&n.hasChildren())return oc(n,e,t);const r=function Yn(n,e,t){let r=0,i=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return u;const c=n.segments[i],p=t[r];if(Td(p))break;const _=`${p}`,b=r<t.length-1?t[r+1]:null;if(i>0&&void 0===_)break;if(_&&b&&"object"==typeof b&&void 0===b.outlets){if(!vf(_,b,c))return u;r+=2}else{if(!vf(_,{},c))return u;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new Wt(n.segments.slice(0,r.pathIndex),{});return u.children[Rt]=new Wt(n.segments.slice(r.pathIndex),n.children),oc(u,0,i)}return r.match&&0===i.length?new Wt(n.segments,{}):r.match&&!n.hasChildren()?$a(n,e,t):r.match?oc(n,0,i):$a(n,e,t)}function oc(n,e,t){if(0===t.length)return new Wt(n.segments,{});{const r=function Sd(n){return Td(n[0])?n[0].outlets:{[Rt]:n}}(t),i={};return Kn(r,(u,c)=>{"string"==typeof u&&(u=[u]),null!==u&&(i[c]=ja(n.children[c],e,u))}),Kn(n.children,(u,c)=>{void 0===r[c]&&(i[c]=u)}),new Wt(n.segments,i)}}function $a(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const u=t[i];if(Td(u)){const _=Jy(u.outlets);return new Wt(r,_)}if(0===i&&fo(t[0])){r.push(new ho(n.segments[e].path,Ad(t[0]))),i++;continue}const c=Td(u)?u.outlets[Rt]:`${u}`,p=i<t.length-1?t[i+1]:null;c&&p&&fo(p)?(r.push(new ho(c,Ad(p))),i+=2):(r.push(new ho(c,{})),i++)}return new Wt(r,{})}function Jy(n){const e={};return Kn(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=$a(new Wt([],{}),0,t))}),e}function Ad(n){const e={};return Kn(n,(t,r)=>e[r]=`${t}`),e}function vf(n,e,t){return n==t.path&&as(e,t.parameters)}class Ls{constructor(e,t){this.id=e,this.url=t}}class wf extends Ls{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ha extends Ls{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Md extends Ls{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class bg extends Ls{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class xd extends Ls{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yw extends Ls{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ku extends Ls{constructor(e,t,r,i,u){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ef extends Ls{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ig extends Ls{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Dg{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Cg{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Tg{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Nd{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pd{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rd{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xy{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Od{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=$r(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=$r(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Wo(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Wo(e,this._root).map(t=>t.value)}}function $r(n,e){if(n===e.value)return e;for(const t of e.children){const r=$r(n,t);if(r)return r}return null}function Wo(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Wo(n,t);if(r.length)return r.unshift(e),r}return[]}class Hr{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Yu(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Qu extends Od{constructor(e,t){super(e),this.snapshot=t,If(this,e)}toString(){return this.snapshot.toString()}}function Ga(n,e){const t=function e_(n,e){const c=new Ju([],{},{},"",{},Rt,e,null,n.root,-1,{});return new kd("",new Hr(c,[]))}(n,e),r=new kn([new ho("",{})]),i=new kn({}),u=new kn({}),c=new kn({}),p=new kn(""),_=new Bi(r,i,c,p,u,Rt,e,t.root);return _.snapshot=t.root,new Qu(new Hr(_,[]),t)}class Bi{constructor(e,t,r,i,u,c,p,_){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=u,this.outlet=c,this.component=p,this.title=this.data?.pipe((0,bt.U)(b=>b[di]))??rt(void 0),this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,bt.U)(e=>Mi(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,bt.U)(e=>Mi(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ac(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],u=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(u.component)break;r--}}return function hi(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Ju{constructor(e,t,r,i,u,c,p,_,b,T,M,L){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=u,this.outlet=c,this.component=p,this.title=this.data?.[di],this.routeConfig=_,this._urlSegment=b,this._lastPathIndex=T,this._correctedLastPathIndex=L??T,this._resolve=M}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Mi(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Mi(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class kd extends Od{constructor(e,t){super(t),this.url=e,If(this,t)}toString(){return Sg(this._root)}}function If(n,e){e.value._routerState=n,e.children.forEach(t=>If(n,t))}function Sg(n){const e=n.children.length>0?` { ${n.children.map(Sg).join(", ")} } `:"";return`${n.value}${e}`}function uc(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,as(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),as(e.params,t.params)||n.params.next(t.params),function _d(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!as(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),as(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Qn(n,e){const t=as(n.params,e.params)&&function hf(n,e){return qo(n,e)&&n.every((t,r)=>as(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Qn(n.parent,e.parent))}function qa(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function t_(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return qa(n,r,i);return qa(n,r)})}(n,e,t);return new Hr(r,i)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const c=u.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(p=>qa(n,p)),c}}const r=function po(n){return new Bi(new kn(n.url),new kn(n.params),new kn(n.queryParams),new kn(n.fragment),new kn(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(u=>qa(n,u));return new Hr(r,i)}}const go="ngNavigationCancelingError";function Cf(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Fs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Fd(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function Fd(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[go]=!0,r.cancellationCode=e,t&&(r.url=t),r}function Ag(n){return lc(n)&&Fs(n.url)}function lc(n){return n&&n[go]}class _w{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new cc,this.attachRef=null}}let cc=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new _w,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Zo=!1;let Tf=(()=>{class n{constructor(t,r,i,u,c){this.parentContexts=t,this.location=r,this.changeDetector=u,this.environmentInjector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.attachEvents=new d.vpe,this.detachEvents=new d.vpe,this.name=i||Rt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new d.vHH(4012,Zo);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new d.vHH(4012,Zo);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new d.vHH(4012,Zo);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new d.vHH(4013,Zo);this._activatedRoute=t;const i=this.location,c=t._futureSnapshot.component,p=this.parentContexts.getOrCreateContext(this.name).children,_=new y(t,p,i.injector);if(r&&function f(n){return!!n.resolveComponentFactory}(r)){const b=r.resolveComponentFactory(c);this.activated=i.createComponent(b,i.length,_)}else this.activated=i.createComponent(c,{index:i.length,injector:_,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(cc),d.Y36(d.s_b),d.$8M("name"),d.Y36(d.sBO),d.Y36(d.lqb))},n.\u0275dir=d.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class y{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Bi?this.route:e===cc?this.childContexts:this.parent.get(e,t)}}let m=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[d.jDz],decls:1,vars:0,template:function(t,r){1&t&&d._UZ(0,"router-outlet")},dependencies:[Tf],encapsulation:2}),n})();function w(n,e){return n.providers&&!n._injector&&(n._injector=(0,d.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Jn(n){const e=n.children&&n.children.map(Jn),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Rt&&(t.component=m),t}function An(n){return n.outlet||Rt}function Ld(n,e){const t=n.filter(r=>An(r)===e);return t.push(...n.filter(r=>An(r)!==e)),t}function dc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class n_{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),uc(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Yu(t);e.children.forEach(u=>{const c=u.value.outlet;this.deactivateRoutes(u,i[c],r),delete i[c]}),Kn(i,(u,c)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const i=e.value,u=t?t.value:null;if(i===u)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,u=Yu(e);for(const c of Object.keys(u))this.deactivateRouteAndItsChildren(u[c],i);if(r&&r.outlet){const c=r.outlet.detach(),p=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:p})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,u=Yu(e);for(const c of Object.keys(u))this.deactivateRouteAndItsChildren(u[c],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Yu(t);e.children.forEach(u=>{this.activateRoutes(u,i[u.value.outlet],r),this.forwardEvent(new Rd(u.value.snapshot))}),e.children.length&&this.forwardEvent(new Nd(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,u=t?t.value:null;if(uc(i),i===u)if(i.component){const c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const p=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(p.contexts),c.attachRef=p.componentRef,c.route=p.route.value,c.outlet&&c.outlet.attach(p.componentRef,p.route.value),uc(p.route.value),this.activateChildRoutes(e,null,c.children)}else{const p=dc(i.snapshot),_=p?.get(d._Vd)??null;c.attachRef=null,c.route=i,c.resolver=_,c.injector=p,c.outlet&&c.outlet.activateWith(i,c.injector),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,r)}}class Mg{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class fc{constructor(e,t){this.component=e,this.route=t}}function r_(n,e,t){const r=n._root;return za(r,e?e._root:null,t,[r.value])}function Ko(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,d.Z0I)(n)?e.get(n):n:r}function za(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const u=Yu(e);return n.children.forEach(c=>{(function Sf(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,c=e?e.value:null,p=t?t.getContext(n.value.outlet):null;if(c&&u.routeConfig===c.routeConfig){const _=function Vd(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!qo(n.url,e.url);case"pathParamsOrQueryParamsChange":return!qo(n.url,e.url)||!as(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Qn(n,e)||!as(n.queryParams,e.queryParams);default:return!Qn(n,e)}}(c,u,u.routeConfig.runGuardsAndResolvers);_?i.canActivateChecks.push(new Mg(r)):(u.data=c.data,u._resolvedData=c._resolvedData),za(n,e,u.component?p?p.children:null:t,r,i),_&&p&&p.outlet&&p.outlet.isActivated&&i.canDeactivateChecks.push(new fc(p.outlet.component,c))}else c&&Xu(e,p,i),i.canActivateChecks.push(new Mg(r)),za(n,null,u.component?p?p.children:null:t,r,i)})(c,u[c.value.outlet],t,r.concat([c.value]),i),delete u[c.value.outlet]}),Kn(u,(c,p)=>Xu(c,t.getContext(p),i)),i}function Xu(n,e,t){const r=Yu(n),i=n.value;Kn(r,(u,c)=>{Xu(u,i.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new fc(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Ud(n){return"function"==typeof n}function a_(n){return n instanceof is||"EmptyError"===n?.name}const xg=Symbol("INITIAL_VALUE");function Bd(){return qt(n=>af(n.map(e=>e.pipe(Fa(1),D(xg)))).pipe((0,bt.U)(e=>{for(const t of e)if(!0!==t){if(t===xg)return xg;if(!1===t||t instanceof Va)return t}return!0}),C(e=>e!==xg),Fa(1)))}function Ng(n){return(0,zu.z)((0,Qe.b)(e=>{if(Fs(e))throw Cf(0,e)}),(0,bt.U)(e=>!0===e))}const Mf={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ri(n,e,t,r,i){const u=pc(n,e,t);return u.matched?function Ew(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?rt(i.map(c=>{const p=Ko(c,n);return Go(function QD(n){return n&&Ud(n.canMatch)}(p)?p.canMatch(e,t):n.runInContext(()=>p(e,t)))})).pipe(Bd(),Ng()):rt(!0)}(r=w(e,r),e,t).pipe((0,bt.U)(c=>!0===c?u:{...Mf})):rt(u)}function pc(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Mf}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||co)(t,n,e);if(!i)return{...Mf};const u={};Kn(i.posParams,(p,_)=>{u[_]=p.path});const c=i.consumed.length>0?{...u,...i.consumed[i.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:c,positionalParamSegments:i.posParams??{}}}function xf(n,e,t,r,i="corrected"){if(t.length>0&&function bw(n,e,t){return t.some(r=>Nf(n,e,r)&&An(r)!==Rt)}(n,t,r)){const c=new Wt(e,function sC(n,e,t,r){const i={};i[Rt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&An(u)!==Rt){const c=new Wt([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,i[An(u)]=c}return i}(n,e,r,new Wt(t,n.children)));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:[]}}if(0===t.length&&function oC(n,e,t){return t.some(r=>Nf(n,e,r))}(n,t,r)){const c=new Wt(n.segments,function iC(n,e,t,r,i,u){const c={};for(const p of r)if(Nf(n,t,p)&&!i[An(p)]){const _=new Wt([],{});_._sourceSegment=n,_._segmentIndexShift="legacy"===u?n.segments.length:e.length,c[An(p)]=_}return{...i,...c}}(n,e,t,r,n.children,i));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}const u=new Wt(n.segments,n.children);return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}function Nf(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Iw(n,e,t,r){return!!(An(n)===r||r!==Rt&&Nf(e,t,n))&&("**"===n.path||pc(e,n,t).matched)}function l_(n,e,t){return 0===e.length&&!n.children[t]}const Pg=!1;class Rg{constructor(e){this.segmentGroup=e||null}}class Dw{constructor(e){this.urlTree=e}}function Pf(n){return uo(new Rg(n))}function Cw(n){return uo(new Dw(n))}class uC{constructor(e,t,r,i,u){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=u,this.allowRedirects=!0}apply(){const e=xf(this.urlTree.root,[],[],this.config).segmentGroup,t=new Wt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Rt).pipe((0,bt.U)(u=>this.createUrlTree(ks(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ft(u=>{if(u instanceof Dw)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof Rg?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Rt).pipe((0,bt.U)(i=>this.createUrlTree(ks(i),e.queryParams,e.fragment))).pipe(ft(i=>{throw i instanceof Rg?this.noMatchError(i):i}))}noMatchError(e){return new d.vHH(4002,Pg)}createUrlTree(e,t,r){const i=cs(e);return new Va(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,bt.U)(u=>new Wt([],u))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const u of Object.keys(r.children))"primary"===u?i.unshift(u):i.push(u);return(0,rn.D)(i).pipe(Ue(u=>{const c=r.children[u],p=Ld(t,u);return this.expandSegmentGroup(e,p,c,u).pipe((0,bt.U)(_=>({segment:_,outlet:u})))}),lt((u,c)=>(u[c.outlet]=c.segment,u),{}),mr())}expandSegment(e,t,r,i,u,c){return(0,rn.D)(r).pipe(Ue(p=>this.expandSegmentAgainstRoute(e,t,r,p,i,u,c).pipe(ft(b=>{if(b instanceof Rg)return rt(null);throw b}))),Ie(p=>!!p),ft((p,_)=>{if(a_(p))return l_(t,i,u)?rt(new Wt([],{})):Pf(t);throw p}))}expandSegmentAgainstRoute(e,t,r,i,u,c,p){return Iw(i,t,u,c)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,u,c):p&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,u,c):Pf(t):Pf(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,u,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,u,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Cw(u):this.lineralizeSegments(r,u).pipe((0,x.z)(c=>{const p=new Wt(c,{});return this.expandSegment(e,p,t,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,u,c){const{matched:p,consumedSegments:_,remainingSegments:b,positionalParamSegments:T}=pc(t,i,u);if(!p)return Pf(t);const M=this.applyRedirectCommands(_,i.redirectTo,T);return i.redirectTo.startsWith("/")?Cw(M):this.lineralizeSegments(i,M).pipe((0,x.z)(L=>this.expandSegment(e,t,r,L.concat(b),c,!1)))}matchSegmentAgainstRoute(e,t,r,i,u){return"**"===r.path?(e=w(r,e),r.loadChildren?(r._loadedRoutes?rt({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,bt.U)(p=>(r._loadedRoutes=p.routes,r._loadedInjector=p.injector,new Wt(i,{})))):rt(new Wt(i,{}))):ri(t,r,i,e).pipe(qt(({matched:c,consumedSegments:p,remainingSegments:_})=>c?this.getChildConfig(e=r._injector??e,r,i).pipe((0,x.z)(T=>{const M=T.injector??e,L=T.routes,{segmentGroup:G,slicedSegments:Z}=xf(t,p,_,L),ue=new Wt(G.segments,G.children);if(0===Z.length&&ue.hasChildren())return this.expandChildren(M,L,ue).pipe((0,bt.U)(gt=>new Wt(p,gt)));if(0===L.length&&0===Z.length)return rt(new Wt(p,{}));const _e=An(r)===u;return this.expandSegment(M,ue,L,Z,_e?Rt:u,!0).pipe((0,bt.U)(at=>new Wt(p.concat(at.segments),at.children)))})):Pf(t)))}getChildConfig(e,t,r){return t.children?rt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?rt({routes:t._loadedRoutes,injector:t._loadedInjector}):function xi(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?rt(!0):rt(i.map(c=>{const p=Ko(c,n);return Go(function KD(n){return n&&Ud(n.canLoad)}(p)?p.canLoad(e,t):n.runInContext(()=>p(e,t)))})).pipe(Bd(),Ng())}(e,t,r).pipe((0,x.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,Qe.b)(u=>{t._loadedRoutes=u.routes,t._loadedInjector=u.injector})):function Wa(n){return uo(Fd(Pg,3))}())):rt({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return rt(r);if(i.numberOfChildren>1||!i.children[Rt])return uo(new d.vHH(4e3,Pg));i=i.children[Rt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const u=this.createSegmentGroup(e,t.root,r,i);return new Va(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Kn(e,(i,u)=>{if("string"==typeof i&&i.startsWith(":")){const p=i.substring(1);r[u]=t[p]}else r[u]=i}),r}createSegmentGroup(e,t,r,i){const u=this.createSegments(e,t.segments,r,i);let c={};return Kn(t.children,(p,_)=>{c[_]=this.createSegmentGroup(e,p,r,i)}),new Wt(u,c)}createSegments(e,t,r,i){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,i):this.findOrReturn(u,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new d.vHH(4001,Pg);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class Tw{}class d_{constructor(e,t,r,i,u,c,p,_){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=u,this.paramsInheritanceStrategy=c,this.relativeLinkResolution=p,this.urlSerializer=_}recognize(){const e=xf(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Rt).pipe((0,bt.U)(t=>{if(null===t)return null;const r=new Ju([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Rt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Hr(r,t),u=new kd(this.url,i);return this.inheritParamsAndData(u._root),u}))}inheritParamsAndData(e){const t=e.value,r=ac(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,rn.D)(Object.keys(r.children)).pipe(Ue(i=>{const u=r.children[i],c=Ld(t,i);return this.processSegmentGroup(e,c,u,i)}),lt((i,u)=>i&&u?(i.push(...u),i):null),function $o(n,e=!1){return(0,Bn.e)((t,r)=>{let i=0;t.subscribe((0,ar.x)(r,u=>{const c=n(u,i++);(c||e)&&r.next(u),!c&&r.complete()}))})}(i=>null!==i),F(null),mr(),(0,bt.U)(i=>{if(null===i)return null;const u=Aw(i);return function h_(n){n.sort((e,t)=>e.value.outlet===Rt?-1:t.value.outlet===Rt?1:e.value.outlet.localeCompare(t.value.outlet))}(u),u}))}processSegment(e,t,r,i,u){return(0,rn.D)(t).pipe(Ue(c=>this.processSegmentAgainstRoute(c._injector??e,c,r,i,u)),Ie(c=>!!c),ft(c=>{if(a_(c))return l_(r,i,u)?rt([]):rt(null);throw c}))}processSegmentAgainstRoute(e,t,r,i,u){if(t.redirectTo||!Iw(t,r,i,u))return rt(null);let c;if("**"===t.path){const p=i.length>0?lf(i).parameters:{},_=xw(r)+i.length;c=rt({snapshot:new Ju(i,p,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,kg(t),An(t),t.component??t._loadedComponent??null,t,Mw(r),_,f_(t),_),consumedSegments:[],remainingSegments:[]})}else c=ri(r,t,i,e).pipe((0,bt.U)(({matched:p,consumedSegments:_,remainingSegments:b,parameters:T})=>{if(!p)return null;const M=xw(r)+_.length;return{snapshot:new Ju(_,T,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,kg(t),An(t),t.component??t._loadedComponent??null,t,Mw(r),M,f_(t),M),consumedSegments:_,remainingSegments:b}}));return c.pipe(qt(p=>{if(null===p)return rt(null);const{snapshot:_,consumedSegments:b,remainingSegments:T}=p;e=t._injector??e;const M=t._loadedInjector??e,L=function lC(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:G,slicedSegments:Z}=xf(r,b,T,L.filter(_e=>void 0===_e.redirectTo),this.relativeLinkResolution);if(0===Z.length&&G.hasChildren())return this.processChildren(M,L,G).pipe((0,bt.U)(_e=>null===_e?null:[new Hr(_,_e)]));if(0===L.length&&0===Z.length)return rt([new Hr(_,[])]);const ue=An(t)===u;return this.processSegment(M,L,G,Z,ue?Rt:u).pipe((0,bt.U)(_e=>null===_e?null:[new Hr(_,_e)]))}))}}function Sw(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Aw(n){const e=[],t=new Set;for(const r of n){if(!Sw(r)){e.push(r);continue}const i=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=Aw(r.children);e.push(new Hr(r.value,i))}return e.filter(r=>!t.has(r))}function Mw(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function xw(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function kg(n){return n.data||{}}function f_(n){return n.resolve||{}}function Pw(n){return"string"==typeof n.title||null===n.title}function m_(n){return qt(e=>{const t=n(e);return t?(0,rn.D)(t).pipe((0,bt.U)(()=>e)):rt(e)})}let Rw=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(u=>u.outlet===Rt);return r}getResolvedTitleForRoute(t){return t.data[di]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(Ow)},providedIn:"root"}),n})(),Ow=(()=>{class n extends Rw{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ns))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class dC{}class y_ extends class kw{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Hd=new d.OlP("",{providedIn:"root",factory:()=>({})}),__=new d.OlP("ROUTES");let Fg=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return rt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Go(t.loadComponent()).pipe((0,Qe.b)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=u}),os(()=>{this.componentLoaders.delete(t)})),i=new ec(r,()=>new dn.x).pipe(Ui());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return rt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const u=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,bt.U)(p=>{this.onLoadEndListener&&this.onLoadEndListener(r);let _,b,T=!1;Array.isArray(p)?b=p:(_=p.create(t).injector,b=hg(_.get(__,[],d.XFs.Self|d.XFs.Optional)));return{routes:b.map(Jn),injector:_}}),os(()=>{this.childrenLoaders.delete(r)})),c=new ec(u,()=>new dn.x).pipe(Ui());return this.childrenLoaders.set(r,c),c}loadModuleFactoryOrRoutes(t){return Go(t()).pipe((0,x.z)(r=>r instanceof d.YKP||Array.isArray(r)?rt(r):(0,rn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.zs3),d.LFG(d.Sil))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Vw{}class gc{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Uw(n){throw n}function hC(n,e,t){return e.parse("/")}const OM={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Lg={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function v_(){const n=(0,d.f3M)(ff),e=(0,d.f3M)(cc),t=(0,d.f3M)(Me),r=(0,d.f3M)(d.zs3),i=(0,d.f3M)(d.Sil),u=(0,d.f3M)(__,{optional:!0})??[],c=(0,d.f3M)(Hd,{optional:!0})??{},p=(0,d.f3M)(Ow),_=(0,d.f3M)(Rw,{optional:!0}),b=(0,d.f3M)(Vw,{optional:!0}),T=(0,d.f3M)(dC,{optional:!0}),M=new Cr(null,n,e,t,r,i,hg(u));return b&&(M.urlHandlingStrategy=b),T&&(M.routeReuseStrategy=T),M.titleStrategy=_??p,function fC(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(c,M),M}let Cr=(()=>{class n{constructor(t,r,i,u,c,p,_){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=u,this.config=_,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new dn.x,this.errorHandler=Uw,this.malformedUriErrorHandler=hC,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>rt(void 0),this.urlHandlingStrategy=new gc,this.routeReuseStrategy=new y_,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=c.get(Fg),this.configLoader.onLoadEndListener=L=>this.triggerEvent(new Cg(L)),this.configLoader.onLoadStartListener=L=>this.triggerEvent(new Dg(L)),this.ngModule=c.get(d.h0i),this.console=c.get(d.c2e);const M=c.get(d.R0b);this.isNgZoneEnabled=M instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(_),this.currentUrlTree=function pw(){return new Va(new Wt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Ga(this.currentUrlTree,this.rootComponentType),this.transitions=new kn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(C(i=>0!==i.id),(0,bt.U)(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),qt(i=>{let u=!1,c=!1;return rt(i).pipe((0,Qe.b)(p=>{this.currentNavigation={id:p.id,initialUrl:p.rawUrl,extractedUrl:p.extractedUrl,trigger:p.source,extras:p.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),qt(p=>{const _=this.browserUrlTree.toString(),b=!this.navigated||p.extractedUrl.toString()!==_||_!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||b)&&this.urlHandlingStrategy.shouldProcessUrl(p.rawUrl))return Vg(p.source)&&(this.browserUrlTree=p.extractedUrl),rt(p).pipe(qt(M=>{const L=this.transitions.getValue();return r.next(new wf(M.id,this.serializeUrl(M.extractedUrl),M.source,M.restoredState)),L!==this.transitions.getValue()?Pr.E:Promise.resolve(M)}),function xM(n,e,t,r){return qt(i=>function aC(n,e,t,r,i){return new uC(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,bt.U)(u=>({...i,urlAfterRedirects:u}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Qe.b)(M=>{this.currentNavigation={...this.currentNavigation,finalUrl:M.urlAfterRedirects},i.urlAfterRedirects=M.urlAfterRedirects}),function PM(n,e,t,r,i,u){return(0,x.z)(c=>function Yo(n,e,t,r,i,u,c="emptyOnly",p="legacy"){return new d_(n,e,t,r,i,c,p,u).recognize().pipe(qt(_=>null===_?function NM(n){return new Dr.y(e=>e.error(n))}(new Tw):rt(_)))}(n,e,t,c.urlAfterRedirects,r.serialize(c.urlAfterRedirects),r,i,u).pipe((0,bt.U)(p=>({...c,targetSnapshot:p}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Qe.b)(M=>{if(i.targetSnapshot=M.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!M.extras.skipLocationChange){const G=this.urlHandlingStrategy.merge(M.urlAfterRedirects,M.rawUrl);this.setBrowserUrl(G,M)}this.browserUrlTree=M.urlAfterRedirects}const L=new xd(M.id,this.serializeUrl(M.extractedUrl),this.serializeUrl(M.urlAfterRedirects),M.targetSnapshot);r.next(L)}));if(b&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:L,extractedUrl:G,source:Z,restoredState:ue,extras:_e}=p,Ye=new wf(L,this.serializeUrl(G),Z,ue);r.next(Ye);const at=Ga(G,this.rootComponentType).snapshot;return rt(i={...p,targetSnapshot:at,urlAfterRedirects:G,extras:{..._e,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=p.rawUrl,p.resolve(null),Pr.E}),(0,Qe.b)(p=>{const _=new yw(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(_)}),(0,bt.U)(p=>i={...p,guards:r_(p.targetSnapshot,p.currentSnapshot,this.rootContexts)}),function JD(n,e){return(0,x.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:u,canDeactivateChecks:c}}=t;return 0===c.length&&0===u.length?rt({...t,guardsResult:!0}):function u_(n,e,t,r){return(0,rn.D)(n).pipe((0,x.z)(i=>function rC(n,e,t,r,i){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return u&&0!==u.length?rt(u.map(p=>{const _=dc(e)??i,b=Ko(p,_);return Go(function YD(n){return n&&Ud(n.canDeactivate)}(b)?b.canDeactivate(n,e,t,r):_.runInContext(()=>b(n,e,t,r))).pipe(Ie())})).pipe(Bd()):rt(!0)}(i.component,i.route,t,e,r)),Ie(i=>!0!==i,!0))}(c,r,i,n).pipe((0,x.z)(p=>p&&function s_(n){return"boolean"==typeof n}(p)?function XD(n,e,t,r){return(0,rn.D)(e).pipe(Ue(i=>ao(function tC(n,e){return null!==n&&e&&e(new Tg(n)),rt(!0)}(i.route.parent,r),function eC(n,e){return null!==n&&e&&e(new Pd(n)),rt(!0)}(i.route,r),function nC(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(c=>function i_(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>qu(()=>rt(c.guards.map(_=>{const b=dc(c.node)??t,T=Ko(_,b);return Go(function Af(n){return n&&Ud(n.canActivateChild)}(T)?T.canActivateChild(r,n):b.runInContext(()=>T(r,n))).pipe(Ie())})).pipe(Bd())));return rt(u).pipe(Bd())}(n,i.path,t),function ww(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return rt(!0);const i=r.map(u=>qu(()=>{const c=dc(e)??t,p=Ko(u,c);return Go(function o_(n){return n&&Ud(n.canActivate)}(p)?p.canActivate(e,n):c.runInContext(()=>p(e,n))).pipe(Ie())}));return rt(i).pipe(Bd())}(n,i.route,t))),Ie(i=>!0!==i,!0))}(r,u,n,e):rt(p)),(0,bt.U)(p=>({...t,guardsResult:p})))})}(this.ngModule.injector,p=>this.triggerEvent(p)),(0,Qe.b)(p=>{if(i.guardsResult=p.guardsResult,Fs(p.guardsResult))throw Cf(0,p.guardsResult);const _=new Ku(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot,!!p.guardsResult);this.triggerEvent(_)}),C(p=>!!p.guardsResult||(this.restoreHistory(p),this.cancelNavigationTransition(p,"",3),!1)),m_(p=>{if(p.guards.canActivateChecks.length)return rt(p).pipe((0,Qe.b)(_=>{const b=new Ef(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(b)}),qt(_=>{let b=!1;return rt(_).pipe(function $d(n,e){return(0,x.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return rt(t);let u=0;return(0,rn.D)(i).pipe(Ue(c=>function p_(n,e,t,r){const i=n.routeConfig,u=n._resolve;return void 0!==i?.title&&!Pw(i)&&(u[di]=i.title),function Nw(n,e,t,r){const i=function cC(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return rt({});const u={};return(0,rn.D)(i).pipe((0,x.z)(c=>function g_(n,e,t,r){const i=dc(e)??r,u=Ko(n,i);return Go(u.resolve?u.resolve(e,t):i.runInContext(()=>u(e,t)))}(n[c],e,t,r).pipe(Ie(),(0,Qe.b)(p=>{u[c]=p}))),In(1),function Ho(n){return(0,bt.U)(()=>n)}(u),ft(c=>a_(c)?Pr.E:uo(c)))}(u,n,e,r).pipe((0,bt.U)(c=>(n._resolvedData=c,n.data=ac(n,t).resolve,i&&Pw(i)&&(n.data[di]=i.title),null)))}(c.route,r,n,e)),(0,Qe.b)(()=>u++),In(1),(0,x.z)(c=>u===i.length?rt(t):Pr.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Qe.b)({next:()=>b=!0,complete:()=>{b||(this.restoreHistory(_),this.cancelNavigationTransition(_,"",2))}}))}),(0,Qe.b)(_=>{const b=new Ig(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(b)}))}),m_(p=>{const _=b=>{const T=[];b.routeConfig?.loadComponent&&!b.routeConfig._loadedComponent&&T.push(this.configLoader.loadComponent(b.routeConfig).pipe((0,Qe.b)(M=>{b.component=M}),(0,bt.U)(()=>{})));for(const M of b.children)T.push(..._(M));return T};return af(_(p.targetSnapshot.root)).pipe(F(),Fa(1))}),m_(()=>this.afterPreactivation()),(0,bt.U)(p=>{const _=function Df(n,e,t){const r=qa(n,e._root,t?t._root:void 0);return new Qu(r,e)}(this.routeReuseStrategy,p.targetSnapshot,p.currentRouterState);return i={...p,targetRouterState:_}}),(0,Qe.b)(p=>{this.currentUrlTree=p.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(p.urlAfterRedirects,p.rawUrl),this.routerState=p.targetRouterState,"deferred"===this.urlUpdateStrategy&&(p.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,p),this.browserUrlTree=p.urlAfterRedirects)}),((n,e,t)=>(0,bt.U)(r=>(new n_(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,p=>this.triggerEvent(p)),(0,Qe.b)({next(){u=!0},complete(){u=!0}}),os(()=>{u||c||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),ft(p=>{if(c=!0,lc(p)){Ag(p)||(this.navigated=!0,this.restoreHistory(i,!0));const _=new Md(i.id,this.serializeUrl(i.extractedUrl),p.message,p.cancellationCode);if(r.next(_),Ag(p)){const b=this.urlHandlingStrategy.merge(p.url,this.rawUrlTree),T={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Vg(i.source)};this.scheduleNavigation(b,"imperative",null,T,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const _=new bg(i.id,this.serializeUrl(i.extractedUrl),p,i.targetSnapshot??void 0);r.next(_);try{i.resolve(this.errorHandler(p))}catch(b){i.reject(b)}}return Pr.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},u=t.state?.navigationId?t.state:null;if(u){const p={...u};delete p.navigationId,delete p.\u0275routerPageId,0!==Object.keys(p).length&&(i.state=p)}const c=this.parseUrl(t.url);this.scheduleNavigation(c,r,u,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(Jn),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:u,fragment:c,queryParamsHandling:p,preserveFragment:_}=r,b=i||this.routerState.root,T=_?this.currentUrlTree.fragment:c;let M=null;switch(p){case"merge":M={...this.currentUrlTree.queryParams,...u};break;case"preserve":M=this.currentUrlTree.queryParams;break;default:M=u||null}return null!==M&&(M=this.removeEmptyProps(M)),mf(b,this.currentUrlTree,t,M,T??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Fs(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(u,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function Bw(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new d.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...OM}:!1===r?{...Lg}:r,Fs(t))return wd(this.currentUrlTree,t,i);const u=this.parseUrl(t);return wd(this.currentUrlTree,u,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const u=t[i];return null!=u&&(r[i]=u),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Ha(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,u,c){if(this.disposed)return Promise.resolve(!1);let p,_,b;c?(p=c.resolve,_=c.reject,b=c.promise):b=new Promise((L,G)=>{p=L,_=G});const T=++this.navigationId;let M;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),M=i&&i.\u0275routerPageId?i.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):M=0,this.setTransition({id:T,targetPageId:M,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:u,resolve:p,reject:_,promise:b,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),b.catch(L=>Promise.reject(L))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),u={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",u):this.location.go(i,"",u)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,i){const u=new Md(t.id,this.serializeUrl(t.extractedUrl),r,i);this.triggerEvent(u),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){d.$Z()},n.\u0275prov=d.Yz7({token:n,factory:function(){return v_()},providedIn:"root"}),n})();function Vg(n){return"imperative"!==n}let el=(()=>{class n{constructor(t,r,i,u,c){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=u,this.el=c,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new dn.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,d.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,d.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,d.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==t?r.setAttribute(i,"tabindex",t):r.removeAttribute(i,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Cr),d.Y36(Bi),d.$8M("tabindex"),d.Y36(d.Qsj),d.Y36(d.SBq))},n.\u0275dir=d.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&d.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[d.TTD]}),n})(),mc=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new dn.x,this.subscription=t.events.subscribe(u=>{u instanceof Ha&&this.updateTargetUrlAndHref()})}set preserveFragment(t){this._preserveFragment=(0,d.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,d.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,d.D6c)(t)}get replaceUrl(){return this._replaceUrl}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,u,c){return!!(0!==t||r||i||u||c||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Cr),d.Y36(Bi),d.Y36(me))},n.\u0275dir=d.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&d.NdJ("click",function(u){return r.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&t&&d.uIk("target",r.target)("href",r.href,d.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[d.TTD]}),n})();class Bg{}let kf=(()=>{class n{constructor(t,r,i,u,c){this.router=t,this.injector=i,this.preloadingStrategy=u,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(C(t=>t instanceof Ha),Ue(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const u of r){u.providers&&!u._injector&&(u._injector=(0,d.MMx)(u.providers,t,`Route: ${u.path}`));const c=u._injector??t,p=u._loadedInjector??c;u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent?i.push(this.preloadConfig(c,u)):(u.children||u._loadedRoutes)&&i.push(this.processRoutes(p,u.children??u._loadedRoutes))}return(0,rn.D)(i).pipe((0,ss.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):rt(null);const u=i.pipe((0,x.z)(c=>null===c?rt(void 0):(r._loadedRoutes=c.routes,r._loadedInjector=c.injector,this.processRoutes(c.injector??t,c.routes))));if(r.loadComponent&&!r._loadedComponent){const c=this.loader.loadComponent(r);return(0,rn.D)([u,c]).pipe((0,ss.J)())}return u})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Cr),d.LFG(d.Sil),d.LFG(d.lqb),d.LFG(Bg),d.LFG(Fg))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const w_=new d.OlP("");let E_=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof wf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ha&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Xy&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Xy(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){d.$Z()},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function tl(n,e){return{\u0275kind:n,\u0275providers:e}}function $g(n){return[{provide:__,multi:!0,useValue:n}]}function I_(){const n=(0,d.f3M)(d.zs3);return e=>{const t=n.get(d.z2F);if(e!==t.components[0])return;const r=n.get(Cr),i=n.get(Hw);1===n.get(Hg)&&r.initialNavigation(),n.get(Gw,null,d.XFs.Optional)?.setUpPreloading(),n.get(w_,null,d.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.next(),i.complete()}}const Hw=new d.OlP("",{factory:()=>new dn.x}),Hg=new d.OlP("",{providedIn:"root",factory:()=>1});const Gw=new d.OlP("");function qw(n){return tl(0,[{provide:Gw,useExisting:kf},{provide:Bg,useExisting:n}])}const zw=new d.OlP("ROUTER_FORROOT_GUARD"),Ww=[Me,{provide:ff,useClass:us},{provide:Cr,useFactory:v_},cc,{provide:Bi,useFactory:function b_(n){return n.routerState.root},deps:[Cr]},Fg];function yC(){return new d.PXZ("Router",Cr)}let Zw=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[Ww,[],$g(t),{provide:zw,useFactory:Yw,deps:[[Cr,new d.FiY,new d.tp0]]},{provide:Hd,useValue:r||{}},r?.useHash?{provide:me,useClass:ot}:{provide:me,useClass:Xe},{provide:w_,useFactory:()=>{const n=(0,d.f3M)(Cr),e=(0,d.f3M)(du),t=(0,d.f3M)(Hd);return t.scrollOffset&&e.setOffset(t.scrollOffset),new E_(n,e,t)}},r?.preloadingStrategy?qw(r.preloadingStrategy).\u0275providers:[],{provide:d.PXZ,multi:!0,useFactory:yC},r?.initialNavigation?Qw(r):[],[{provide:Jw,useFactory:I_},{provide:d.tb,multi:!0,useExisting:Jw}]]}}static forChild(t){return{ngModule:n,providers:[$g(t)]}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(zw,8))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[m]}),n})();function Yw(n){return"guarded"}function Qw(n){return["disabled"===n.initialNavigation?tl(3,[{provide:d.ip1,multi:!0,useFactory:()=>{const e=(0,d.f3M)(Cr);return()=>{e.setUpLocationChangeListener()}}},{provide:Hg,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?tl(2,[{provide:Hg,useValue:0},{provide:d.ip1,multi:!0,deps:[d.zs3],useFactory:e=>{const t=e.get(B,Promise.resolve());let r=!1;return()=>t.then(()=>new Promise(u=>{const c=e.get(Cr),p=e.get(Hw);(function i(u){e.get(Cr).events.pipe(C(p=>p instanceof Ha||p instanceof Md||p instanceof bg),(0,bt.U)(p=>p instanceof Ha||p instanceof Md&&(0===p.code||1===p.code)&&null),C(p=>null!==p),Fa(1)).subscribe(()=>{u()})})(()=>{u(!0),r=!0}),c.afterPreactivation=()=>(u(!0),r||p.closed?rt(void 0):p),c.initialNavigation()}))}}]).\u0275providers:[]]}const Jw=new d.OlP("");let D_=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Qsj),d.Y36(d.SBq))},n.\u0275dir=d.lG2({type:n}),n})(),yc=(()=>{class n extends D_{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275dir=d.lG2({type:n,features:[d.qOj]}),n})();const Qo=new d.OlP("NgValueAccessor"),Xw={provide:Qo,useExisting:(0,d.Gpc)(()=>vc),multi:!0},bC=new d.OlP("CompositionEventMode");let vc=(()=>{class n extends D_{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function _c(){const n=R()?R().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(bC,8))},n.\u0275dir=d.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&d.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[d._Bn([Xw]),d.qOj]}),n})();function nl(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function IC(n){return null!=n&&"number"==typeof n.length}const Ni=new d.OlP("NgValidators"),wc=new d.OlP("NgAsyncValidators"),DC=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ff{static min(e){return function CC(n){return e=>{if(nl(e.value)||nl(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function eE(n){return e=>{if(nl(e.value)||nl(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function Ec(n){return nl(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function tE(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function S_(n){return nl(n.value)||DC.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function Lf(n){return e=>nl(e.value)||!IC(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function nE(n){return e=>IC(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function A_(n){if(!n)return qg;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(nl(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return M_(e)}static composeAsync(e){return Wg(e)}}function qg(n){return null}function rE(n){return null!=n}function iE(n){return(0,d.QGY)(n)?(0,rn.D)(n):n}function sE(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function oE(n,e){return e.map(t=>t(n))}function uE(n){return n.map(e=>function aE(n){return!n.validate}(e)?e:t=>e.validate(t))}function M_(n){if(!n)return null;const e=n.filter(rE);return 0==e.length?null:function(t){return sE(oE(t,e))}}function zg(n){return null!=n?M_(uE(n)):null}function Wg(n){if(!n)return null;const e=n.filter(rE);return 0==e.length?null:function(t){return function EC(...n){const e=(0,Uo.jO)(n),{args:t,keys:r}=oo(n),i=new Dr.y(u=>{const{length:c}=t;if(!c)return void u.complete();const p=new Array(c);let _=c,b=c;for(let T=0;T<c;T++){let M=!1;(0,ni.Xf)(t[T]).subscribe((0,ar.x)(u,L=>{M||(M=!0,b--),p[T]=L},()=>_--,void 0,()=>{(!_||!M)&&(b||u.next(r?Gu(r,p):p),u.complete())}))}});return e?i.pipe(Bo(e)):i}(oE(t,e).map(iE)).pipe((0,bt.U)(sE))}}function lE(n){return null!=n?Wg(uE(n)):null}function Zg(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function cE(n){return n._rawValidators}function TC(n){return n._rawAsyncValidators}function rl(n){return n?Array.isArray(n)?n:[n]:[]}function Vf(n,e){return Array.isArray(n)?n.includes(e):n===e}function x_(n,e){const t=rl(e);return rl(n).forEach(i=>{Vf(t,i)||t.push(i)}),t}function Uf(n,e){return rl(e).filter(t=>!Vf(n,t))}class Vs{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=zg(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=lE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class fi extends Vs{get formDirective(){return null}get path(){return null}}class il extends Vs{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Kg{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Yg=(()=>{class n extends Kg{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(il,2))},n.\u0275dir=d.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&d.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[d.qOj]}),n})(),Bf=(()=>{class n extends Kg{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(fi,10))},n.\u0275dir=d.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&d.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[d.qOj]}),n})();const qd="VALID",Xg="INVALID",ol="PENDING",em="DISABLED";function mE(n){return(P_(n)?n.validators:n)||null}function MC(n){return Array.isArray(n)?zg(n):n||null}function yE(n,e){return(P_(e)?e.asyncValidators:n)||null}function xC(n){return Array.isArray(n)?lE(n):n||null}function P_(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function NC(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new d.vHH(1e3,"");if(!r[t])throw new d.vHH(1001,"")}function PC(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new d.vHH(1002,"")})}class R_{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=MC(this._rawValidators),this._composedAsyncValidatorFn=xC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===qd}get invalid(){return this.status===Xg}get pending(){return this.status==ol}get disabled(){return this.status===em}get enabled(){return this.status!==em}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=MC(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=xC(e)}addValidators(e){this.setValidators(x_(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(x_(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Uf(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Uf(e,this._rawAsyncValidators))}hasValidator(e){return Vf(this._rawValidators,e)}hasAsyncValidator(e){return Vf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ol,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=em,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=qd,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===qd||this.status===ol)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?em:qd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ol,this._hasOwnPendingAsyncValidator=!0;const t=iE(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?em:this.errors?Xg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ol)?ol:this._anyControlsHaveStatus(Xg)?Xg:qd}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){P_(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class tm extends R_{constructor(e,t,r){super(mE(t),yE(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){PC(this,0,e),Object.keys(e).forEach(r=>{NC(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,u)=>{r=t(r,i,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class vE extends tm{}function Wd(n,e){rm(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function OC(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&EE(n,e)})}(n,e),function kC(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function wE(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&EE(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function al(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Zd(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),im(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function nm(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function rm(n,e){const t=cE(n);null!==e.validator?n.setValidators(Zg(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=TC(n);null!==e.asyncValidator?n.setAsyncValidators(Zg(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();nm(e._rawValidators,i),nm(e._rawAsyncValidators,i)}function im(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=cE(n);if(Array.isArray(i)&&i.length>0){const u=i.filter(c=>c!==e.validator);u.length!==i.length&&(t=!0,n.setValidators(u))}}if(null!==e.asyncValidator){const i=TC(n);if(Array.isArray(i)&&i.length>0){const u=i.filter(c=>c!==e.asyncValidator);u.length!==i.length&&(t=!0,n.setAsyncValidators(u))}}}const r=()=>{};return nm(e._rawValidators,r),nm(e._rawAsyncValidators,r),t}function EE(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function F_(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function TE(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Qd=class extends R_{constructor(e=null,t,r){super(mE(t),yE(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),P_(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=TE(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){F_(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){F_(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){TE(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let lm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const jC={provide:Qo,useExisting:(0,d.Gpc)(()=>cm),multi:!0};let cm=(()=>{class n extends yc{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275dir=d.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&d.NdJ("input",function(u){return r.onChange(u.target.value)})("blur",function(){return r.onTouched()})},features:[d._Bn([jC]),d.qOj]}),n})(),U_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();const B_=new d.OlP("NgModelWithFormControlWarning"),NE={provide:fi,useExisting:(0,d.Gpc)(()=>Gf)};let Gf=(()=>{class n extends fi{constructor(t,r){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new d.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(im(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Wd(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Zd(t.control||null,t,!1),function DE(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function am(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(Zd(r||null,t),(n=>n instanceof Qd)(i)&&(Wd(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function $f(n,e){rm(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function Kd(n,e){return im(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){rm(this.form,this),this._oldForm&&im(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Ni,10),d.Y36(wc,10))},n.\u0275dir=d.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&d.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([NE]),d.qOj,d.TTD]}),n})();const hm={provide:il,useExisting:(0,d.Gpc)(()=>Jd)};let Jd=(()=>{class n extends il{constructor(t,r,i,u,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.update=new d.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Hf(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(u=>{u.constructor===vc?t=u:function IE(n){return Object.getPrototypeOf(n.constructor)===yc}(u)?r=u:i=u}),i||r||t||null}(0,u)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function om(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function zd(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(d.Y36(fi,13),d.Y36(Ni,10),d.Y36(wc,10),d.Y36(Qo,10),d.Y36(B_,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[d._Bn([hm]),d.qOj,d.TTD]}),n})();const fm={provide:Qo,useExisting:(0,d.Gpc)(()=>q_),multi:!0};function zC(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let q_=(()=>{class n extends yc{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=zC(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function G_(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275dir=d.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&d.NdJ("change",function(u){return r.onChange(u.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[d._Bn([fm]),d.qOj]}),n})(),z_=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(zC(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(q_,9))},n.\u0275dir=d.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const RE={provide:Qo,useExisting:(0,d.Gpc)(()=>yo),multi:!0};function W_(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let yo=(()=>{class n extends yc{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(u=>this._getOptionId(u));r=(u,c)=>{u._setSelected(i.indexOf(c.toString())>-1)}}else r=(i,u)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],u=r.selectedOptions;if(void 0!==u){const c=u;for(let p=0;p<c.length;p++){const b=this._getOptionValue(c[p].value);i.push(b)}}else{const c=r.options;for(let p=0;p<c.length;p++){const _=c[p];if(_.selected){const b=this._getOptionValue(_.value);i.push(b)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function OE(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275dir=d.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&d.NdJ("change",function(u){return r.onChange(u.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[d._Bn([RE]),d.qOj]}),n})(),qf=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(W_(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(W_(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(yo,9))},n.\u0275dir=d.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),QC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[U_]}),n})(),$E=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:B_,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[QC]}),n})();class Zf extends R_{constructor(e,t,r){super(mE(t),yE(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){PC(this,0,e),e.forEach((r,i)=>{NC(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function th(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let HE=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let u={};return th(r)?u=r:null!==r&&(u.validators=r.validator,u.asyncValidators=r.asyncValidator),new tm(i,u)}record(t,r=null){const i=this._reduceControls(t);return new vE(i,r)}control(t,r,i){let u={};return this.useNonNullable?(th(r)?u=r:(u.validators=r,u.asyncValidators=i),new Qd(t,{...u,nonNullable:!0})):new Qd(t,r,i)}array(t,r,i){const u=t.map(c=>this._createControl(c));return new Zf(u,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof Qd||t instanceof R_?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:$E}),n})();var Xo=k(4986),Tr=k(5813);function Gr(){return(0,Bn.e)((n,e)=>{let t,r=!1;n.subscribe((0,ar.x)(e,i=>{const u=t;t=i,r&&e.next([u,i]),r=!0}))})}function mm(n,e){return n===e}k(9545);var it,Y_=k(3942),ye=k(5861),Us=k(9681),Za=k(4859),ds=k(1877),Yt=k(2090),nh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$i={},ul=ul||{},kt=nh||self;function Kf(){}function Yf(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function rh(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var ym="closure_uid_"+(1e9*Math.random()>>>0),zE=0;function WE(n,e,t){return n.call.apply(n.bind,arguments)}function ZE(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function pi(n,e,t){return(pi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?WE:ZE).apply(null,arguments)}function _m(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function qr(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,i,u){for(var c=Array(arguments.length-2),p=2;p<arguments.length;p++)c[p-2]=arguments[p];return e.prototype[i].apply(r,c)}}function ll(){this.s=this.s,this.o=this.o}var Q_={};ll.prototype.s=!1,ll.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function qE(n){return Object.prototype.hasOwnProperty.call(n,ym)&&n[ym]||(n[ym]=++zE)}(this);delete Q_[n]}},ll.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const vm=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function J_(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Qf(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Yf(r)){const i=n.length||0,u=r.length||0;n.length=i+u;for(let c=0;c<u;c++)n[i+c]=r[c]}else n.push(r)}}function Rr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Rr.prototype.h=function(){this.defaultPrevented=!0};var X_=function(){if(!kt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{kt.addEventListener("test",Kf,e),kt.removeEventListener("test",Kf,e)}catch{}return n}();function wm(n){return/^[\s\xa0]*$/.test(n)}var Jf=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function ih(n,e){return n<e?-1:n>e?1:0}function Xf(){var n=kt.navigator;return n&&(n=n.userAgent)?n:""}function vo(n){return-1!=Xf().indexOf(n)}function ep(n){return ep[" "](n),n}ep[" "]=Kf;var tp,n,QE=vo("Opera"),cl=vo("Trident")||vo("MSIE"),ev=vo("Edge"),tv=ev||cl,nv=vo("Gecko")&&!(-1!=Xf().toLowerCase().indexOf("webkit")&&!vo("Edge"))&&!(vo("Trident")||vo("MSIE"))&&!vo("Edge"),JE=-1!=Xf().toLowerCase().indexOf("webkit")&&!vo("Edge");function rv(){var n=kt.document;return n?n.documentMode:void 0}e:{var iv="",sv=(n=Xf(),nv?/rv:([^\);]+)(\)|;)/.exec(n):ev?/Edge\/([\d\.]+)/.exec(n):cl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):JE?/WebKit\/(\S+)/.exec(n):QE?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(sv&&(iv=sv?sv[1]:""),cl){var ov=rv();if(null!=ov&&ov>parseFloat(iv)){tp=String(ov);break e}}tp=iv}var XE={};var eb=kt.document&&cl&&(rv()||parseInt(tp,10))||void 0;function sh(n,e){if(Rr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(nv){e:{try{ep(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:tb[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&sh.X.h.call(this)}}qr(sh,Rr);var tb={2:"touch",3:"pen",4:"mouse"};sh.prototype.h=function(){sh.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var oh="closure_listenable_"+(1e6*Math.random()|0),nb=0;function rb(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=i,this.key=++nb,this.ba=this.ea=!1}function lv(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function cv(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function ib(n){const e={};for(const t in n)e[t]=n[t];return e}const dv="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function sb(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let u=0;u<dv.length;u++)t=dv[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function ur(n){this.src=n,this.g={},this.h=0}function bm(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],i=vm(r,e);(u=0<=i)&&Array.prototype.splice.call(r,i,1),u&&(lv(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function hv(n,e,t,r){for(var i=0;i<n.length;++i){var u=n[i];if(!u.ba&&u.listener==e&&u.capture==!!t&&u.ha==r)return i}return-1}ur.prototype.add=function(n,e,t,r,i){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var c=hv(n,e,r,i);return-1<c?(e=n[c],t||(e.ea=!1)):((e=new rb(e,this.src,u,!!r,i)).ea=t,n.push(e)),e};var fv="closure_lm_"+(1e6*Math.random()|0),Im={};function ob(n,e,t,r,i){if(r&&r.once)return Cc(n,e,t,r,i);if(Array.isArray(e)){for(var u=0;u<e.length;u++)ob(n,e[u],t,r,i);return null}return t=np(t),n&&n[oh]?n.N(e,t,rh(r)?!!r.capture:!!r,i):pv(n,e,t,!1,r,i)}function pv(n,e,t,r,i,u){if(!e)throw Error("Invalid event type");var c=rh(i)?!!i.capture:!!i,p=Dm(n);if(p||(n[fv]=p=new ur(n)),(t=p.add(e,t,r,c,u)).proxy)return t;if(r=function ab(){const e=JC;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)X_||(i=c),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(mv(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function Cc(n,e,t,r,i){if(Array.isArray(e)){for(var u=0;u<e.length;u++)Cc(n,e[u],t,r,i);return null}return t=np(t),n&&n[oh]?n.O(e,t,rh(r)?!!r.capture:!!r,i):pv(n,e,t,!0,r,i)}function ub(n,e,t,r,i){if(Array.isArray(e))for(var u=0;u<e.length;u++)ub(n,e[u],t,r,i);else r=rh(r)?!!r.capture:!!r,t=np(t),n&&n[oh]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=hv(u=n.g[e],t,r,i))&&(lv(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=Dm(n))&&(e=n.g[e.toString()],n=-1,e&&(n=hv(e,t,r,i)),(t=-1<n?e[n]:null)&&gv(t))}function gv(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[oh])bm(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(mv(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Dm(e))?(bm(t,n),0==t.h&&(t.src=null,e[fv]=null)):lv(n)}}}function mv(n){return n in Im?Im[n]:Im[n]="on"+n}function JC(n,e){if(n.ba)n=!0;else{e=new sh(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&gv(n),n=t.call(r,e)}return n}function Dm(n){return(n=n[fv])instanceof ur?n:null}var lb="__closure_events_fn_"+(1e9*Math.random()>>>0);function np(n){return"function"==typeof n?n:(n[lb]||(n[lb]=function(e){return n.handleEvent(e)}),n[lb])}function Sr(){ll.call(this),this.i=new ur(this),this.P=this,this.I=null}function Mn(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Rr(e,n);else if(e instanceof Rr)e.target=e.target||n;else{var i=e;sb(e=new Rr(r,n),i)}if(i=!0,t)for(var u=t.length-1;0<=u;u--){var c=e.g=t[u];i=Cm(c,r,!0,e)&&i}if(i=Cm(c=e.g=n,r,!0,e)&&i,i=Cm(c,r,!1,e)&&i,t)for(u=0;u<t.length;u++)i=Cm(c=e.g=t[u],r,!1,e)&&i}function Cm(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,u=0;u<e.length;++u){var c=e[u];if(c&&!c.ba&&c.capture==t){var p=c.listener,_=c.ha||c.src;c.ea&&bm(n.i,c),i=!1!==p.call(_,r)&&i}}return i&&!r.defaultPrevented}qr(Sr,ll),Sr.prototype[oh]=!0,Sr.prototype.removeEventListener=function(n,e,t,r){ub(this,n,e,t,r)},Sr.prototype.M=function(){if(Sr.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)lv(t[r]);delete n.g[e],n.h--}}this.I=null},Sr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Sr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Tm=kt.JSON.stringify;function ea(){var n=Sm;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var yv,Bs=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new cb,n=>n.reset());class cb{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function db(n){kt.setTimeout(()=>{throw n},0)}function hb(n,e){yv||function XC(){var n=kt.Promise.resolve(void 0);yv=function(){n.then(rp)}}(),_v||(yv(),_v=!0),Sm.add(n,e)}var _v=!1,Sm=new class wo{constructor(){this.h=this.g=null}add(e,t){const r=Bs.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function rp(){for(var n;n=ea();){try{n.h.call(n.g)}catch(t){db(t)}var e=Bs;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}_v=!1}function Am(n,e){Sr.call(this),this.h=n||1,this.g=e||kt,this.j=pi(this.lb,this),this.l=Date.now()}function Mm(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function vv(n,e,t){if("function"==typeof n)t&&(n=pi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=pi(n.handleEvent,n)}return 2147483647<Number(e)?-1:kt.setTimeout(n,e||0)}function wv(n){n.g=vv(()=>{n.g=null,n.i&&(n.i=!1,wv(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}qr(Am,Sr),(it=Am.prototype).ca=!1,it.R=null,it.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Mn(this,"tick"),this.ca&&(Mm(this),this.start()))}},it.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},it.M=function(){Am.X.M.call(this),Mm(this),delete this.g};class fb extends ll{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:wv(this)}M(){super.M(),this.g&&(kt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function dl(n){ll.call(this),this.h=n,this.g={}}qr(dl,ll);var pb=[];function Ev(n,e,t,r){Array.isArray(t)||(t&&(pb[0]=t.toString()),t=pb);for(var i=0;i<t.length;i++){var u=ob(e,t[i],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function bv(n){cv(n.g,function(e,t){this.g.hasOwnProperty(t)&&gv(e)},n),n.g={}}function ah(){this.g=!0}function Tc(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function yb(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var u=i[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var c=1;c<i.length;c++)i[c]=""}}}return Tm(t)}catch{return e}}(n,t)+(r?" "+r:"")})}dl.prototype.M=function(){dl.X.M.call(this),bv(this)},dl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ah.prototype.Aa=function(){this.g=!1},ah.prototype.info=function(){};var hl={},Iv=null;function ip(){return Iv=Iv||new Sr}function Dv(n){Rr.call(this,hl.Pa,n)}function sp(n){const e=ip();Mn(e,new Dv(e,n))}function _b(n,e){Rr.call(this,hl.STAT_EVENT,n),this.stat=e}function Pi(n){const e=ip();Mn(e,new _b(e,n))}function vb(n,e){Rr.call(this,hl.Qa,n),this.size=e}function op(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return kt.setTimeout(function(){n()},e)}hl.Pa="serverreachability",qr(Dv,Rr),hl.STAT_EVENT="statevent",qr(_b,Rr),hl.Qa="timingevent",qr(vb,Rr);var Nm={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},wb={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Cv(){}function bb(){}Cv.prototype.h=null;var Av,ap={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Tv(){Rr.call(this,"d")}function Sv(){Rr.call(this,"c")}function Pm(){}function up(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new dl(this),this.O=eT,this.T=new Am(n=tv?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Ib}function Ib(){this.i=null,this.g="",this.h=!1}qr(Tv,Rr),qr(Sv,Rr),qr(Pm,Cv),Pm.prototype.g=function(){return new XMLHttpRequest},Pm.prototype.i=function(){return{}},Av=new Pm;var eT=45e3,Rm={},lp={};function Om(n,e,t){n.K=1,n.v=Fm(ta(e)),n.s=t,n.P=!0,Mv(n,null)}function Mv(n,e){n.F=Date.now(),uh(n),n.A=ta(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),Lv(t.i,"t",r),n.C=0,t=n.l.H,n.h=new Ib,n.g=Wm(n.l,t?e:null,!n.s),0<n.N&&(n.L=new fb(pi(n.La,n,n.g),n.N)),Ev(n.S,n.g,"readystatechange",n.ib),e=n.H?ib(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),sp(1),function xm(n,e,t,r,i,u){n.info(function(){if(n.g)if(u)for(var c="",p=u.split("&"),_=0;_<p.length;_++){var b=p[_].split("=");if(1<b.length){var T=b[0];b=b[1];var M=T.split("_");c=2<=M.length&&"type"==M[1]?c+(T+"=")+b+"&":c+(T+"=redacted&")}}else c=null;else c=u;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.U,n.s)}function xv(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function Nv(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=Db(n,t),i==lp){4==e&&(n.o=4,Pi(14),r=!1),Tc(n.j,n.m,null,"[Incomplete Response]");break}if(i==Rm){n.o=4,Pi(15),Tc(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Tc(n.j,n.m,i,null),Rv(n,i)}xv(n)&&i!=lp&&i!=Rm&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Pi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Wv(e),e.K=!0,Pi(11))):(Tc(n.j,n.m,t,"[Invalid Chunked Response]"),hs(n),Sc(n))}function Db(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?lp:(t=Number(e.substring(t,r)),isNaN(t)?Rm:(r+=1)+t>e.length?lp:(e=e.substr(r,t),n.C=r+t,e))}function uh(n){n.V=Date.now()+n.O,Pv(n,n.O)}function Pv(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=op(pi(n.gb,n),e)}function cp(n){n.B&&(kt.clearTimeout(n.B),n.B=null)}function Sc(n){0==n.l.G||n.I||Zv(n.l,n)}function hs(n){cp(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Mm(n.T),bv(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Rv(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||hh(t.h,n)))if(!n.J&&hh(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;zm(t),Hm(t)}Gm(t),Pi(18)}}else t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&0==t.A&&!t.v&&(t.v=op(pi(t.cb,t),6e3));if(1>=xb(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else Ac(t,11)}else if((n.J||t.g==n)&&zm(t),!wm(e))for(i=t.Fa.g.parse(e),e=0;e<i.length;e++){let b=i[e];if(t.T=b[0],b=b[1],2==t.G)if("c"==b[0]){t.I=b[1],t.ka=b[2];const T=b[3];null!=T&&(t.ma=T,t.j.info("VER="+t.ma));const M=b[4];null!=M&&(t.Ca=M,t.j.info("SVER="+t.Ca));const L=b[5];null!=L&&"number"==typeof L&&0<L&&(t.J=r=1.5*L,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const G=n.g;if(G){const Z=G.g?G.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Z){var u=r.h;u.g||-1==Z.indexOf("spdy")&&-1==Z.indexOf("quic")&&-1==Z.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(Vm(u,u.h),u.h=null))}if(r.D){const ue=G.g?G.g.getResponseHeader("X-HTTP-Session-Id"):null;ue&&(r.za=ue,jn(r.F,r.D,ue))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var c=n;if((r=t).sa=Vb(r,r.H?r.ka:null,r.V),c.J){Vv(r.h,c);var p=c,_=r.J;_&&p.setTimeout(_),p.B&&(cp(p),uh(p)),r.g=c}else Fb(r);0<t.i.length&&pl(t)}else"stop"!=b[0]&&"close"!=b[0]||Ac(t,7);else 3==t.G&&("stop"==b[0]||"close"==b[0]?"stop"==b[0]?Ac(t,7):$m(t):"noop"!=b[0]&&t.l&&t.l.wa(b),t.A=0)}sp(4)}catch{}}function Cb(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Yf(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function lh(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Yf(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function tT(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Yf(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,u=0;u<i;u++)e.call(void 0,r[u],t&&t[u],n)}(it=up.prototype).setTimeout=function(n){this.O=n},it.ib=function(n){n=n.target;const e=this.L;e&&3==fs(n)?e.l():this.La(n)},it.La=function(n){try{if(n==this.g)e:{const T=fs(this.g);var e=this.g.Ea();const M=this.g.aa();if(!(3>T)&&(3!=T||tv||this.g&&(this.h.h||this.g.fa()||Pb(this.g)))){this.I||4!=T||7==e||sp(8==e||0>=M?3:2),cp(this);var t=this.g.aa();this.Y=t;t:if(xv(this)){var r=Pb(this.g);n="";var i=r.length,u=4==fs(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){hs(this),Sc(this);var c="";break t}this.h.i=new kt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.fa();if(this.i=200==t,function gb(n,e,t,r,i,u,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+u+" "+c})}(this.j,this.u,this.A,this.m,this.U,T,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var p,_=this.g;if((p=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!wm(p)){var b=p;break t}}b=null}if(!(t=b)){this.i=!1,this.o=3,Pi(12),hs(this),Sc(this);break e}Tc(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Rv(this,t)}this.P?(Nv(this,T,c),tv&&this.i&&3==T&&(Ev(this.S,this.T,"tick",this.hb),this.T.start())):(Tc(this.j,this.m,c,null),Rv(this,c)),4==T&&hs(this),this.i&&!this.I&&(4==T?Zv(this.l,this):(this.i=!1,uh(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,Pi(12)):(this.o=0,Pi(13)),hs(this),Sc(this)}}}catch{}},it.hb=function(){if(this.g){var n=fs(this.g),e=this.g.fa();this.C<e.length&&(cp(this),Nv(this,n,e),this.i&&4!=n&&uh(this))}},it.cancel=function(){this.I=!0,hs(this)},it.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function mb(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(sp(3),Pi(17)),hs(this),this.o=2,Sc(this)):Pv(this,this.V-n)};var km=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fl(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof fl){this.h=void 0!==e?e:n.h,Ov(this,n.j),this.s=n.s,this.g=n.g,wt(this,n.m),this.l=n.l,e=n.i;var t=new fp;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Tb(this,t),this.o=n.o}else n&&(t=String(n).match(km))?(this.h=!!e,Ov(this,t[1]||"",!0),this.s=na(t[2]||""),this.g=na(t[3]||"",!0),wt(this,t[4]),this.l=na(t[5]||"",!0),Tb(this,t[6]||"",!0),this.o=na(t[7]||"")):(this.h=!!e,this.i=new fp(null,this.h))}function ta(n){return new fl(n)}function Ov(n,e,t){n.j=t?na(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function wt(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Tb(n,e,t){e instanceof fp?(n.i=e,function nT(n,e){e&&!n.j&&(Ka(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(kv(this,r),Lv(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=dp(e,Sb)),n.i=new fp(e,n.h))}function jn(n,e,t){n.i.set(e,t)}function Fm(n){return jn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function na(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function dp(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Lm),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Lm(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}fl.prototype.toString=function(){var n=[],e=this.j;e&&n.push(dp(e,hp,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(dp(e,hp,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(dp(t,"/"==t.charAt(0)?nx:lr,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",dp(t,Ab)),n.join("")};var hp=/[#\/\?@]/g,lr=/[#\?:]/g,nx=/[#\?]/g,Sb=/[#\?@]/g,Ab=/#/g;function fp(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Ka(n){n.g||(n.g=new Map,n.h=0,n.i&&function tx(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var u=n[t].substring(0,r);i=n[t].substring(r+1)}else u=n[t];e(u,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function kv(n,e){Ka(n),e=ch(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function Fv(n,e){return Ka(n),e=ch(n,e),n.g.has(e)}function Lv(n,e,t){kv(n,e),0<t.length&&(n.i=null,n.g.set(ch(n,e),J_(t)),n.h+=t.length)}function ch(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function dh(n){this.l=n||iT,n=kt.PerformanceNavigationTiming?0<(n=kt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(kt.g&&kt.g.Ga&&kt.g.Ga()&&kt.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(it=fp.prototype).add=function(n,e){Ka(this),this.i=null,n=ch(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},it.forEach=function(n,e){Ka(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},it.oa=function(){Ka(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let u=0;u<i.length;u++)t.push(e[r])}return t},it.W=function(n){Ka(this);let e=[];if("string"==typeof n)Fv(this,n)&&(e=e.concat(this.g.get(ch(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},it.set=function(n,e){return Ka(this),this.i=null,Fv(this,n=ch(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},it.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},it.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const u=encodeURIComponent(String(r)),c=this.W(r);for(r=0;r<c.length;r++){var i=u;""!==c[r]&&(i+="="+encodeURIComponent(String(c[r]))),n.push(i)}}return this.i=n.join("&")};var iT=10;function Mb(n){return!!n.h||!!n.g&&n.g.size>=n.j}function xb(n){return n.h?1:n.g?n.g.size:0}function hh(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Vm(n,e){n.g?n.g.add(e):n.h=e}function Vv(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Uv(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return J_(n.i)}function Bv(){}function pp(){this.g=new Bv}function gp(n,e,t){const r=t||"";try{Cb(n,function(i,u){let c=i;rh(i)&&(c=Tm(i)),e.push(r+u+"="+encodeURIComponent(c))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Um(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function mp(n){this.l=n.ac||null,this.j=n.jb||!1}function yp(n,e){Sr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Bm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}dh.prototype.cancel=function(){if(this.i=Uv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Bv.prototype.stringify=function(n){return kt.JSON.stringify(n,void 0)},Bv.prototype.parse=function(n){return kt.JSON.parse(n,void 0)},qr(mp,Cv),mp.prototype.g=function(){return new yp(this.l,this.j)},mp.prototype.i=function(n){return function(){return n}}({}),qr(yp,Sr);var Bm=0;function jv(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function _p(n){n.readyState=4,n.l=null,n.j=null,n.A=null,fh(n)}function fh(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(it=yp.prototype).open=function(n,e){if(this.readyState!=Bm)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,fh(this)},it.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||kt).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},it.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,_p(this)),this.readyState=Bm},it.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,fh(this)),this.g&&(this.readyState=3,fh(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof kt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;jv(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},it.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?_p(this):fh(this),3==this.readyState&&jv(this)}},it.Va=function(n){this.g&&(this.response=this.responseText=n,_p(this))},it.Ua=function(n){this.g&&(this.response=n,_p(this))},it.ga=function(){this.g&&_p(this)},it.setRequestHeader=function(n,e){this.v.append(n,e)},it.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},it.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(yp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var oT=kt.JSON.parse;function cr(n){Sr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=aT,this.K=this.L=!1}qr(cr,Sr);var aT="",rx=/^https?$/i,ix=["POST","PUT"];function $v(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,vp(n),jm(n)}function vp(n){n.D||(n.D=!0,Mn(n,"complete"),Mn(n,"error"))}function Nb(n){if(n.h&&typeof ul<"u"&&(!n.C[1]||4!=fs(n)||2!=n.aa()))if(n.v&&4==fs(n))vv(n.Ha,0,n);else if(Mn(n,"readystatechange"),4==fs(n)){n.h=!1;try{const p=n.aa();e:switch(p){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===p){var i=String(n.H).match(km)[1]||null;if(!i&&kt.self&&kt.self.location){var u=kt.self.location.protocol;i=u.substr(0,u.length-1)}r=!rx.test(i?i.toLowerCase():"")}t=r}if(t)Mn(n,"complete"),Mn(n,"success");else{n.m=6;try{var c=2<fs(n)?n.g.statusText:""}catch{c=""}n.j=c+" ["+n.aa()+"]",vp(n)}}finally{jm(n)}}}function jm(n,e){if(n.g){Hv(n);const t=n.g,r=n.C[0]?Kf:null;n.g=null,n.C=null,e||Mn(n,"ready");try{t.onreadystatechange=r}catch{}}}function Hv(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(kt.clearTimeout(n.A),n.A=null)}function fs(n){return n.g?n.g.readyState:0}function Pb(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case aT:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function Rb(n){let e="";return cv(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function Gv(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=Rb(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):jn(n,e,t))}function wp(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Ob(n){this.Ca=0,this.i=[],this.j=new ah,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=wp("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=wp("baseRetryDelayMs",5e3,n),this.bb=wp("retryDelaySeedMs",1e4,n),this.$a=wp("forwardChannelMaxRetries",2,n),this.ta=wp("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new dh(n&&n.concurrentRequestLimit),this.Fa=new pp,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function $m(n){if(kb(n),3==n.G){var e=n.U++,t=ta(n.F);jn(t,"SID",n.I),jn(t,"RID",e),jn(t,"TYPE","terminate"),Ep(n,t),(e=new up(n,n.j,e,void 0)).K=2,e.v=Fm(ta(t)),t=!1,kt.navigator&&kt.navigator.sendBeacon&&(t=kt.navigator.sendBeacon(e.v.toString(),"")),!t&&kt.Image&&((new Image).src=e.v,t=!0),t||(e.g=Wm(e.l,null),e.g.da(e.v)),e.F=Date.now(),uh(e)}Lb(n)}function Hm(n){n.g&&(Wv(n),n.g.cancel(),n.g=null)}function kb(n){Hm(n),n.u&&(kt.clearTimeout(n.u),n.u=null),zm(n),n.h.cancel(),n.m&&("number"==typeof n.m&&kt.clearTimeout(n.m),n.m=null)}function pl(n){Mb(n.h)||n.m||(n.m=!0,hb(n.Ja,n),n.C=0)}function qv(n,e){var t;t=e?e.m:n.U++;const r=ta(n.F);jn(r,"SID",n.I),jn(r,"RID",t),jn(r,"AID",n.T),Ep(n,r),n.o&&n.s&&Gv(r,n.o,n.s),t=new up(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=zv(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),Vm(n.h,t),Om(t,r,e)}function Ep(n,e){n.ia&&cv(n.ia,function(t,r){jn(e,r,t)}),n.l&&Cb({},function(t,r){jn(e,r,t)})}function zv(n,e,t){t=Math.min(n.i.length,t);var r=n.l?pi(n.l.Ra,n.l,n):null;e:{var i=n.i;let u=-1;for(;;){const c=["count="+t];-1==u?0<t?(u=i[0].h,c.push("ofs="+u)):u=0:c.push("ofs="+u);let p=!0;for(let _=0;_<t;_++){let b=i[_].h;const T=i[_].g;if(b-=u,0>b)u=Math.max(0,i[_].h-100),p=!1;else try{gp(T,c,"req"+b+"_")}catch{r&&r(T)}}if(p){r=c.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function Fb(n){n.g||n.u||(n.Z=1,hb(n.Ia,n),n.A=0)}function Gm(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=op(pi(n.Ia,n),Kv(n,n.A)),n.A++,0))}function Wv(n){null!=n.B&&(kt.clearTimeout(n.B),n.B=null)}function qm(n){n.g=new up(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=ta(n.sa);jn(e,"RID","rpc"),jn(e,"SID",n.I),jn(e,"CI",n.L?"0":"1"),jn(e,"AID",n.T),jn(e,"TYPE","xmlhttp"),Ep(n,e),n.o&&n.s&&Gv(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=Fm(ta(e)),t.s=null,t.P=!0,Mv(t,n)}function zm(n){null!=n.v&&(kt.clearTimeout(n.v),n.v=null)}function Zv(n,e){var t=null;if(n.g==e){zm(n),Wv(n),n.g=null;var r=2}else{if(!hh(n.h,e))return;t=e.D,Vv(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Mn(r=ip(),new vb(r,t,e,i)),pl(n)}else Fb(n);else if(3==(i=e.o)||0==i&&0<n.pa||!(1==r&&function uT(n,e){return!(xb(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=op(pi(n.Ja,n,e),Kv(n,n.C)),n.C++,0)))}(n,e)||2==r&&Gm(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:Ac(n,5);break;case 4:Ac(n,10);break;case 3:Ac(n,6);break;default:Ac(n,2)}}function Kv(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function Ac(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=pi(n.kb,n);t||(t=new fl("//www.google.com/images/cleardot.gif"),kt.location&&"http"==kt.location.protocol||Ov(t,"https"),Fm(t)),function sT(n,e){const t=new ah;if(kt.Image){const r=new Image;r.onload=_m(Um,t,r,"TestLoadImage: loaded",!0,e),r.onerror=_m(Um,t,r,"TestLoadImage: error",!1,e),r.onabort=_m(Um,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=_m(Um,t,r,"TestLoadImage: timeout",!1,e),kt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Pi(2);n.G=0,n.l&&n.l.va(e),Lb(n),kb(n)}function Lb(n){if(n.G=0,n.la=[],n.l){const e=Uv(n.h);(0!=e.length||0!=n.i.length)&&(Qf(n.la,e),Qf(n.la,n.i),n.h.i.length=0,J_(n.i),n.i.length=0),n.l.ua()}}function Vb(n,e,t){var r=t instanceof fl?ta(t):new fl(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),wt(r,r.m);else{var i=kt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var u=new fl(null,void 0);r&&Ov(u,r),e&&(u.g=e),i&&wt(u,i),t&&(u.l=t),r=u}return e=n.za,(t=n.D)&&e&&jn(r,t,e),jn(r,"VER",n.ma),Ep(n,r),r}function Wm(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new cr(t&&n.Da&&!n.ra?new mp({jb:!0}):n.ra)).Ka(n.H),e}function Ub(){}function bp(){if(cl&&!(10<=Number(eb)))throw Error("Environmental error: no available transport.")}function ps(n,e){Sr.call(this),this.g=new Ob(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!wm(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!wm(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new ph(this)}function Bb(n){Tv.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function jb(){Sv.call(this),this.status=1}function ph(n){this.g=n}(it=cr.prototype).Ka=function(n){this.L=n},it.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Av.g(),this.C=function Eb(n){return n.h||(n.h=n.i())}(this.u?this.u:Av),this.g.onreadystatechange=pi(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(u){return void $v(this,u)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const u of r.keys())t.set(u,r.get(u))}r=Array.from(t.keys()).find(u=>"content-type"==u.toLowerCase()),i=kt.FormData&&n instanceof kt.FormData,!(0<=vm(ix,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,c]of t)this.g.setRequestHeader(u,c);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Hv(this),0<this.B&&((this.K=function sx(n){return cl&&function av(){return function YE(n){var e=XE;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=Jf(String(tp)).split("."),t=Jf("9").split("."),r=Math.max(e.length,t.length);for(let c=0;0==n&&c<r;c++){var i=e[c]||"",u=t[c]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==i[0].length&&0==u[0].length)break;n=ih(0==i[1].length?0:parseInt(i[1],10),0==u[1].length?0:parseInt(u[1],10))||ih(0==i[2].length,0==u[2].length)||ih(i[2],u[2]),i=i[3],u=u[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=pi(this.qa,this)):this.A=vv(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){$v(this,u)}},it.qa=function(){typeof ul<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Mn(this,"timeout"),this.abort(8))},it.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Mn(this,"complete"),Mn(this,"abort"),jm(this))},it.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),jm(this,!0)),cr.X.M.call(this)},it.Ha=function(){this.s||(this.F||this.v||this.l?Nb(this):this.fb())},it.fb=function(){Nb(this)},it.aa=function(){try{return 2<fs(this)?this.g.status:-1}catch{return-1}},it.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},it.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),oT(e)}},it.Ea=function(){return this.m},it.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(it=Ob.prototype).ma=8,it.G=1,it.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new up(this,this.j,n,void 0);let u=this.s;if(this.S&&(u?(u=ib(u),sb(u,this.S)):u=this.S),null!==this.o||this.N||(i.H=u,u=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=zv(this,i,e),jn(t=ta(this.F),"RID",n),jn(t,"CVER",22),this.D&&jn(t,"X-HTTP-Session-Id",this.D),Ep(this,t),u&&(this.N?e="headers="+encodeURIComponent(String(Rb(u)))+"&"+e:this.o&&Gv(t,this.o,u)),Vm(this.h,i),this.Ya&&jn(t,"TYPE","init"),this.O?(jn(t,"$req",e),jn(t,"SID","null"),i.Z=!0,Om(i,t,null)):Om(i,t,e),this.G=2}}else 3==this.G&&(n?qv(this,n):0==this.i.length||Mb(this.h)||qv(this))},it.Ia=function(){if(this.u=null,qm(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=op(pi(this.eb,this),n)}},it.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Pi(10),Hm(this),qm(this))},it.cb=function(){null!=this.v&&(this.v=null,Hm(this),Gm(this),Pi(19))},it.kb=function(n){n?(this.j.info("Successfully pinged google.com"),Pi(2)):(this.j.info("Failed to ping google.com"),Pi(1))},(it=Ub.prototype).xa=function(){},it.wa=function(){},it.va=function(){},it.ua=function(){},it.Ra=function(){},bp.prototype.g=function(n,e){return new ps(n,e)},qr(ps,Sr),ps.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;Pi(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=Vb(n,null,n.V),pl(n)},ps.prototype.close=function(){$m(this.g)},ps.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Tm(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&pl(e)},ps.prototype.M=function(){this.g.l=null,delete this.j,$m(this.g),delete this.g,ps.X.M.call(this)},qr(Bb,Tv),qr(jb,Sv),qr(ph,Ub),ph.prototype.xa=function(){Mn(this.g,"a")},ph.prototype.wa=function(n){Mn(this.g,new Bb(n))},ph.prototype.va=function(n){Mn(this.g,new jb(n))},ph.prototype.ua=function(){Mn(this.g,"b")},bp.prototype.createWebChannel=bp.prototype.g,ps.prototype.send=ps.prototype.u,ps.prototype.open=ps.prototype.m,ps.prototype.close=ps.prototype.close,Nm.NO_ERROR=0,Nm.TIMEOUT=8,Nm.HTTP_ERROR=6,wb.COMPLETE="complete",bb.EventType=ap,ap.OPEN="a",ap.CLOSE="b",ap.ERROR="c",ap.MESSAGE="d",Sr.prototype.listen=Sr.prototype.N,cr.prototype.listenOnce=cr.prototype.O,cr.prototype.getLastError=cr.prototype.Oa,cr.prototype.getLastErrorCode=cr.prototype.Ea,cr.prototype.getStatus=cr.prototype.aa,cr.prototype.getResponseJson=cr.prototype.Sa,cr.prototype.getResponseText=cr.prototype.fa,cr.prototype.send=cr.prototype.da,cr.prototype.setWithCredentials=cr.prototype.Ka;var lT=$i.createWebChannelTransport=function(){return new bp},cT=$i.getStatEventTarget=function(){return ip()},Yv=$i.ErrorCode=Nm,dT=$i.EventType=wb,$b=$i.Event=hl,Qv=$i.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},hT=$i.FetchXmlHttpFactory=mp,Zm=$i.WebChannel=bb,Hb=$i.XhrIo=cr;const Gb="@firebase/firestore";class zr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zr.UNAUTHENTICATED=new zr(null),zr.GOOGLE_CREDENTIALS=new zr("google-credentials-uid"),zr.FIRST_PARTY=new zr("first-party-uid"),zr.MOCK_USER=new zr("mock-user");let gh="9.12.1";const ra=new ds.Yd("@firebase/firestore");function Ip(){return ra.logLevel}function Pe(n,...e){if(ra.logLevel<=ds.in.DEBUG){const t=e.map(Dp);ra.debug(`Firestore (${gh}): ${n}`,...t)}}function yr(n,...e){if(ra.logLevel<=ds.in.ERROR){const t=e.map(Dp);ra.error(`Firestore (${gh}): ${n}`,...t)}}function Mc(n,...e){if(ra.logLevel<=ds.in.WARN){const t=e.map(Dp);ra.warn(`Firestore (${gh}): ${n}`,...t)}}function Dp(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function st(n="Unexpected state"){const e=`FIRESTORE (${gh}) INTERNAL ASSERTION FAILED: `+n;throw yr(e),new Error(e)}function Tt(n,e){n||st()}function qe(n,e){return n}const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ne extends Yt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ar{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Km{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class fT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(zr.UNAUTHENTICATED))}shutdown(){}}class Jv{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class pT{constructor(e){this.t=e,this.currentUser=zr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const u=b=>this.i!==i?(i=this.i,t(b)):Promise.resolve();let c=new Ar;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ar,e.enqueueRetryable(()=>u(this.currentUser))};const p=()=>{const b=c;e.enqueueRetryable((0,ye.Z)(function*(){yield b.promise,yield u(r.currentUser)}))},_=b=>{Pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.auth.addAuthTokenListener(this.o),p()};this.t.onInit(b=>_(b)),setTimeout(()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?_(b):(Pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ar)}},0),p()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Tt("string"==typeof r.accessToken),new Km(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Tt(null===e||"string"==typeof e),new zr(e)}}class zb{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i,this.type="FirstParty",this.user=zr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Tt(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Xv{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i}getToken(){return Promise.resolve(new zb(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(zr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class e0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Wb{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=u=>{null!=u.error&&Pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.A;return this.A=u.token,Pe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const i=u=>{Pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.T.onInit(u=>i(u)),setTimeout(()=>{if(!this.appCheck){const u=this.T.getImmediate({optional:!0});u?i(u):Pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Tt("string"==typeof t.token),this.A=t.token,new e0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Zb(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class Kb{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Zb(40);for(let u=0;u<i.length;++u)r.length<20&&i[u]<t&&(r+=e.charAt(i[u]%e.length))}return r}}function Vt(n,e){return n<e?-1:n>e?1:0}function yh(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function Yb(n){return n+"\0"}class Fn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ne(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ne(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ne(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ne(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Fn.fromMillis(Date.now())}static fromDate(e){return Fn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Fn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Vt(this.nanoseconds,e.nanoseconds):Vt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Nt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Nt(e)}static min(){return new Nt(new Fn(0,0))}static max(){return new Nt(new Fn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class _h{constructor(e,t,r){void 0===t?t=0:t>e.length&&st(),void 0===r?r=e.length-t:r>e.length-t&&st(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===_h.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof _h?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const u=e.get(i),c=t.get(i);if(u<c)return-1;if(u>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class sn extends _h{construct(e,t,r){return new sn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ne(ce.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new sn(t)}static emptyPath(){return new sn([])}}const mT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _r extends _h{construct(e,t,r){return new _r(e,t,r)}static isValidIdentifier(e){return mT.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_r.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new _r(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const u=()=>{if(0===r.length)throw new Ne(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;i<e.length;){const p=e[i];if("\\"===p){if(i+1===e.length)throw new Ne(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[i+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Ne(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,i+=2}else"`"===p?(c=!c,i++):"."!==p||c?(r+=p,i++):(u(),i++)}if(u(),c)throw new Ne(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _r(t)}static emptyPath(){return new _r([])}}class ze{constructor(e){this.path=e}static fromPath(e){return new ze(sn.fromString(e))}static fromName(e){return new ze(sn.fromString(e).popFirst(5))}static empty(){return new ze(sn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===sn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return sn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ze(new sn(e.slice()))}}class Ym{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function t0(n){return n.fields.find(e=>2===e.kind)}function gl(n){return n.fields.filter(e=>2!==e.kind)}Ym.UNKNOWN_ID=-1;class Qm{constructor(e,t){this.fieldPath=e,this.kind=t}}class Cp{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Cp(0,gs.min())}}function Jb(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Nt.fromTimestamp(1e9===r?new Fn(t+1,0):new Fn(t,r));return new gs(i,ze.empty(),e)}function Xb(n){return new gs(n.readTime,n.key,-1)}class gs{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new gs(Nt.min(),ze.empty(),-1)}static max(){return new gs(Nt.max(),ze.empty(),-1)}}function n0(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=ze.comparator(n.documentKey,e.documentKey),0!==t?t:Vt(n.largestBatchId,e.largestBatchId))}const eI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vh{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ya(n){return Jm.apply(this,arguments)}function Jm(){return Jm=(0,ye.Z)(function*(n){if(n.code!==ce.FAILED_PRECONDITION||n.message!==eI)throw n;Pe("LocalStore","Unexpectedly lost primary lease")}),Jm.apply(this,arguments)}class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&st(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ie((r,i)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,i)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ie?t:ie.resolve(t)}catch(t){return ie.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ie.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ie.reject(t)}static resolve(e){return new ie((t,r)=>{t(e)})}static reject(e){return new ie((t,r)=>{r(e)})}static waitFor(e){return new ie((t,r)=>{let i=0,u=0,c=!1;e.forEach(p=>{++i,p.next(()=>{++u,c&&u===i&&t()},_=>r(_))}),c=!0,u===i&&t()})}static or(e){let t=ie.resolve(!1);for(const r of e)t=t.next(i=>i?ie.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,u)=>{r.push(t.call(this,i,u))}),this.waitFor(r)}static mapArray(e,t){return new ie((r,i)=>{const u=e.length,c=new Array(u);let p=0;for(let _=0;_<u;_++){const b=_;t(e[b]).next(T=>{c[b]=T,++p,p===u&&r(c)},T=>i(T))}})}static doWhile(e,t){return new ie((r,i)=>{const u=()=>{!0===e()?t().next(()=>{u()},i):r()};u()})}}class Tp{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new Ar,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new Sp(e,t.error)):this.P.resolve()},this.transaction.onerror=r=>{const i=Xm(r.target.error);this.P.reject(new Sp(e,i))}}static open(e,t,r,i){try{return new Tp(t,e.transaction(i,r))}catch(u){throw new Sp(t,u)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Pe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new _T(t)}}class js{constructor(e,t,r){this.name=e,this.version=t,this.S=r,12.2===js.D((0,Yt.z$)())&&yr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Pe("SimpleDb","Removing database:",e),ml(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,Yt.hl)())return!1;if(js.N())return!0;const e=(0,Yt.z$)(),t=js.D(e),r=0<t&&t<10,i=js.k(e),u=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}F(e){var t=this;return(0,ye.Z)(function*(){return t.db||(Pe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=c=>{r(c.target.result)},u.onblocked=()=>{i(new Sp(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=c=>{const p=c.target.error;i("VersionError"===p.name?new Ne(ce.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===p.name?new Ne(ce.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+p):new Sp(e,p))},u.onupgradeneeded=c=>{Pe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.S.$(c.target.result,u.transaction,c.oldVersion,t.version).next(()=>{Pe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var u=this;return(0,ye.Z)(function*(){const c="readonly"===t;let p=0;for(;;){++p;try{u.db=yield u.F(e);const _=Tp.open(u.db,e,c?"readonly":"readwrite",r),b=i(_).next(T=>(_.V(),T)).catch(T=>(_.abort(T),ie.reject(T))).toPromise();return b.catch(()=>{}),yield _.v,b}catch(_){const b=_,T="FirebaseError"!==b.name&&p<3;if(Pe("SimpleDb","Transaction failed with error:",b.message,"Retrying:",T),u.close(),!T)return Promise.reject(b)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class tI{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return ml(this.U.delete())}}class Sp extends Ne{constructor(e,t){super(ce.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function xc(n){return"IndexedDbTransactionError"===n.name}class _T{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Pe("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Pe("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),ml(r)}add(e){return Pe("SimpleDb","ADD",this.store.name,e,e),ml(this.store.add(e))}get(e){return ml(this.store.get(e)).next(t=>(void 0===t&&(t=null),Pe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Pe("SimpleDb","DELETE",this.store.name,e),ml(this.store.delete(e))}count(){return Pe("SimpleDb","COUNT",this.store.name),ml(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),u=[];return this.H(i,(c,p)=>{u.push(p)}).next(()=>u)}{const i=this.store.getAll(r.range);return new ie((u,c)=>{i.onerror=p=>{c(p.target.error)},i.onsuccess=p=>{u(p.target.result)}})}}J(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new ie((i,u)=>{r.onerror=c=>{u(c.target.error)},r.onsuccess=c=>{i(c.target.result)}})}Y(e,t){Pe("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const i=this.cursor(r);return this.H(i,(u,c,p)=>p.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.H(i,t)}tt(e){const t=this.cursor({});return new ie((r,i)=>{t.onerror=u=>{const c=Xm(u.target.error);i(c)},t.onsuccess=u=>{const c=u.target.result;c?e(c.primaryKey,c.value).next(p=>{p?c.continue():r()}):r()}})}H(e,t){const r=[];return new ie((i,u)=>{e.onerror=c=>{u(c.target.error)},e.onsuccess=c=>{const p=c.target.result;if(!p)return void i();const _=new tI(p),b=t(p.primaryKey,p.value,_);if(b instanceof ie){const T=b.catch(M=>(_.done(),ie.reject(M)));r.push(T)}_.isDone?i():null===_.G?p.continue():p.continue(_.G)}}).next(()=>ie.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function ml(n){return new ie((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=Xm(r.target.error);t(i)}})}let nI=!1;function Xm(n){const e=js.D((0,Yt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Ne("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return nI||(nI=!0,setTimeout(()=>{throw r},0)),r}}return n}class vT{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Pe("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ye.Z)(function*(){t.task=null;try{Pe("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(r){xc(r)?Pe("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Ya(r)}yield t.nt(6e4)}))}}class Ap{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,ye.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.it(r,e))})()}it(e,t){const r=new Set;let i=t,u=!0;return ie.doWhile(()=>!0===u&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(c=>{if(null!==c&&!r.has(c))return Pe("IndexBackiller",`Processing collection: ${c}`),this.rt(e,c,i).next(p=>{i-=p,r.add(c)});u=!1})).next(()=>t-i)}rt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(u=>{const c=u.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next(()=>this.ot(i,u)).next(p=>(Pe("IndexBackiller",`Updating offset: ${p}`),this.localStore.indexManager.updateCollectionGroup(e,t,p))).next(()=>c.size)}))}ot(e,t){let r=e;return t.changes.forEach((i,u)=>{const c=Xb(u);n0(c,r)>0&&(r=c)}),new gs(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Hi{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>t.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function ey(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function gi(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function rI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}Hi.at=-1;class $n{constructor(e,t){this.comparator=e,this.root=t||ii.EMPTY}insert(e,t){return new $n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ii.BLACK,null,null))}remove(e){return new $n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ii.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yl(this.root,e,this.comparator,!1)}getReverseIterator(){return new yl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yl(this.root,e,this.comparator,!0)}}class yl{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&i&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ii{constructor(e,t,r,i,u){this.key=e,this.value=t,this.color=r??ii.RED,this.left=i??ii.EMPTY,this.right=u??ii.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,u){return new ii(e??this.key,t??this.value,r??this.color,i??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const u=r(e,i.key);return i=u<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===u?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ii.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return ii.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ii.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ii.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw st();const e=this.left.check();if(e!==this.right.check())throw st();return e+(this.isRed()?0:1)}}ii.EMPTY=null,ii.RED=!0,ii.BLACK=!1,ii.EMPTY=new class{constructor(){this.size=0}get key(){throw st()}get value(){throw st()}get color(){throw st()}get left(){throw st()}get right(){throw st()}copy(n,e,t,r,i){return this}insert(n,e,t){return new ii(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Dn{constructor(e){this.comparator=e,this.data=new $n(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new iI(this.data.getIterator())}getIteratorFrom(e){return new iI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Dn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(i,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Dn(this.comparator);return t.data=e,t}}class iI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Qa(n){return n.hasNext()?n.getNext():void 0}class mi{constructor(e){this.fields=e,e.sort(_r.comparator)}static empty(){return new mi([])}unionWith(e){let t=new Dn(_r.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new mi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return yh(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Or{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Or(t)}static fromUint8Array(e){const t=function(r){let i="";for(let u=0;u<r.length;++u)i+=String.fromCharCode(r[u]);return i}(e);return new Or(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Vt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Or.EMPTY_BYTE_STRING=new Or("");const sI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ja(n){if(Tt(!!n),"string"==typeof n){let e=0;const t=sI.exec(n);if(Tt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Hn(n.seconds),nanos:Hn(n.nanos)}}function Hn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function _l(n){return"string"==typeof n?Or.fromBase64String(n):Or.fromUint8Array(n)}function r0(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function oI(n){const e=n.mapValue.fields.__previous_value__;return r0(e)?oI(e):e}function ty(n){const e=Ja(n.mapValue.fields.__local_write_time__.timestampValue);return new Fn(e.seconds,e.nanos)}class s0{constructor(e,t,r,i,u,c,p,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=p,this.useFetchStreams=_}}class ia{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ia("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ia&&e.projectId===this.projectId&&e.database===this.database}}function wh(n){return null==n}function Nc(n){return 0===n&&1/n==-1/0}function ny(n){return"number"==typeof n&&Number.isInteger(n)&&!Nc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const vl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ry={nullValue:"NULL_VALUE"};function Pc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?r0(n)?4:yi(n)?9007199254740991:10:st()}function sa(n,e){if(n===e)return!0;const t=Pc(n);if(t!==Pc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ty(n).isEqual(ty(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const u=Ja(r.timestampValue),c=Ja(i.timestampValue);return u.seconds===c.seconds&&u.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,_l(n.bytesValue).isEqual(_l(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Hn(r.geoPointValue.latitude)===Hn(i.geoPointValue.latitude)&&Hn(r.geoPointValue.longitude)===Hn(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Hn(r.integerValue)===Hn(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const u=Hn(r.doubleValue),c=Hn(i.doubleValue);return u===c?Nc(u)===Nc(c):isNaN(u)&&isNaN(c)}return!1}(n,e);case 9:return yh(n.arrayValue.values||[],e.arrayValue.values||[],sa);case 10:return function(r,i){const u=r.mapValue.fields||{},c=i.mapValue.fields||{};if(ey(u)!==ey(c))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(void 0===c[p]||!sa(u[p],c[p])))return!1;return!0}(n,e);default:return st()}var i}function Eh(n,e){return void 0!==(n.values||[]).find(t=>sa(t,e))}function oa(n,e){if(n===e)return 0;const t=Pc(n),r=Pc(e);if(t!==r)return Vt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Vt(n.booleanValue,e.booleanValue);case 2:return function(i,u){const c=Hn(i.integerValue||i.doubleValue),p=Hn(u.integerValue||u.doubleValue);return c<p?-1:c>p?1:c===p?0:isNaN(c)?isNaN(p)?0:-1:1}(n,e);case 3:return o0(n.timestampValue,e.timestampValue);case 4:return o0(ty(n),ty(e));case 5:return Vt(n.stringValue,e.stringValue);case 6:return function(i,u){const c=_l(i),p=_l(u);return c.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(i,u){const c=i.split("/"),p=u.split("/");for(let _=0;_<c.length&&_<p.length;_++){const b=Vt(c[_],p[_]);if(0!==b)return b}return Vt(c.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,u){const c=Vt(Hn(i.latitude),Hn(u.latitude));return 0!==c?c:Vt(Hn(i.longitude),Hn(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,u){const c=i.values||[],p=u.values||[];for(let _=0;_<c.length&&_<p.length;++_){const b=oa(c[_],p[_]);if(b)return b}return Vt(c.length,p.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,u){if(i===vl.mapValue&&u===vl.mapValue)return 0;if(i===vl.mapValue)return 1;if(u===vl.mapValue)return-1;const c=i.fields||{},p=Object.keys(c),_=u.fields||{},b=Object.keys(_);p.sort(),b.sort();for(let T=0;T<p.length&&T<b.length;++T){const M=Vt(p[T],b[T]);if(0!==M)return M;const L=oa(c[p[T]],_[b[T]]);if(0!==L)return L}return Vt(p.length,b.length)}(n.mapValue,e.mapValue);default:throw st()}}function o0(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Vt(n,e);const t=Ja(n),r=Ja(e),i=Vt(t.seconds,r.seconds);return 0!==i?i:Vt(t.nanos,r.nanos)}function bh(n){return iy(n)}function iy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Ja(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?_l(n.bytesValue).toBase64():"referenceValue"in n?ze.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",u=!0;for(const c of r.values||[])u?u=!1:i+=",",i+=iy(c);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let u="{",c=!0;for(const p of i)c?c=!1:u+=",",u+=`${p}:${iy(r.fields[p])}`;return u+"}"}(n.mapValue):st();var e}function wl(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function a0(n){return!!n&&"integerValue"in n}function Ih(n){return!!n&&"arrayValue"in n}function u0(n){return!!n&&"nullValue"in n}function aI(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Mp(n){return!!n&&"mapValue"in n}function Dh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return gi(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Dh(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Dh(n.arrayValue.values[t]);return e}return Object.assign({},n)}function yi(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function Ch(n){return"nullValue"in n?ry:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?wl(ia.empty(),ze.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:st()}function ET(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?wl(ia.empty(),ze.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?vl:st()}function uI(n,e){const t=oa(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function bT(n,e){const t=oa(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class _i{constructor(e){this.value=e}static empty(){return new _i({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Mp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Dh(t)}setAll(e){let t=_r.emptyPath(),r={},i=[];e.forEach((c,p)=>{if(!t.isImmediateParentOf(p)){const _=this.getFieldsMap(t);this.applyChanges(_,r,i),r={},i=[],t=p.popLast()}c?r[p.lastSegment()]=Dh(c):i.push(p.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,i)}delete(e){const t=this.field(e.popLast());Mp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return sa(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Mp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){gi(t,(i,u)=>e[i]=u);for(const i of r)delete e[i]}clone(){return new _i(Dh(this.value))}}function l0(n){const e=[];return gi(n.fields,(t,r)=>{const i=new _r([t]);if(Mp(r)){const u=l0(r.mapValue).fields;if(0===u.length)e.push(i);else for(const c of u)e.push(i.child(c))}else e.push(i)}),new mi(e)}class Tn{constructor(e,t,r,i,u,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=u,this.documentState=c}static newInvalidDocument(e){return new Tn(e,0,Nt.min(),Nt.min(),_i.empty(),0)}static newFoundDocument(e,t,r){return new Tn(e,1,t,Nt.min(),r,0)}static newNoDocument(e,t){return new Tn(e,2,t,Nt.min(),_i.empty(),0)}static newUnknownDocument(e,t){return new Tn(e,3,t,Nt.min(),_i.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_i.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_i.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Nt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class xp{constructor(e,t=null,r=[],i=[],u=null,c=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=u,this.startAt=c,this.endAt=p,this.ht=null}}function lI(n,e=null,t=[],r=[],i=null,u=null,c=null){return new xp(n,e,t,r,i,u,c)}function Xa(n){const e=qe(n);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+bh(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),wh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>bh(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>bh(r)).join(",")),e.ht=t}return e.ht}function Th(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!d0(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!sa(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!pI(n.startAt,e.startAt)&&pI(n.endAt,e.endAt)}function sy(n){return ze.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function oy(n,e){return n.filters.filter(t=>t instanceof Wr&&t.field.isEqual(e))}function cI(n,e,t){let r=ry,i=!0;for(const u of oy(n,e)){let c=ry,p=!0;switch(u.op){case"<":case"<=":c=Ch(u.value);break;case"==":case"in":case">=":c=u.value;break;case">":c=u.value,p=!1;break;case"!=":case"not-in":c=ry}uI({value:r,inclusive:i},{value:c,inclusive:p})<0&&(r=c,i=p)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const c=t.position[u];uI({value:r,inclusive:i},{value:c,inclusive:t.inclusive})<0&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}function ay(n,e,t){let r=vl,i=!0;for(const u of oy(n,e)){let c=vl,p=!0;switch(u.op){case">=":case">":c=ET(u.value),p=!1;break;case"==":case"in":case"<=":c=u.value;break;case"<":c=u.value,p=!1;break;case"!=":case"not-in":c=vl}bT({value:r,inclusive:i},{value:c,inclusive:p})>0&&(r=c,i=p)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const c=t.position[u];bT({value:r,inclusive:i},{value:c,inclusive:t.inclusive})>0&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}class Wr extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new dI(e,t,r):"array-contains"===t?new hI(e,r):"in"===t?new CT(e,r):"not-in"===t?new fI(e,r):"array-contains-any"===t?new Sh(e,r):new Wr(e,t,r)}static lt(e,t,r){return"in"===t?new uy(e,r):new c0(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(oa(t,this.value)):null!==t&&Pc(this.value)===Pc(t)&&this.ft(oa(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return st()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class dI extends Wr{constructor(e,t,r){super(e,t,r),this.key=ze.fromName(r.referenceValue)}matches(e){const t=ze.comparator(e.key,this.key);return this.ft(t)}}class uy extends Wr{constructor(e,t){super(e,"in",t),this.keys=DT(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class c0 extends Wr{constructor(e,t){super(e,"not-in",t),this.keys=DT(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function DT(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>ze.fromName(r.referenceValue))}class hI extends Wr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ih(t)&&Eh(t.arrayValue,this.value)}}class CT extends Wr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Eh(this.value.arrayValue,t)}}class fI extends Wr{constructor(e,t){super(e,"not-in",t)}matches(e){if(Eh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Eh(this.value.arrayValue,t)}}class Sh extends Wr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ih(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Eh(this.value.arrayValue,r))}}class El{constructor(e,t){this.position=e,this.inclusive=t}}class Rc{constructor(e,t="asc"){this.field=e,this.dir=t}}function d0(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function TT(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const u=e[i],c=n.position[i];if(r=u.field.isKeyField()?ze.comparator(ze.fromName(c.referenceValue),t.key):oa(c,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function pI(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!sa(n.position[t],e.position[t]))return!1;return!0}class bl{constructor(e,t=null,r=[],i=[],u=null,c="F",p=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=u,this.limitType=c,this.startAt=p,this.endAt=_,this._t=null,this.wt=null}}function gI(n,e,t,r,i,u,c,p){return new bl(n,e,t,r,i,u,c,p)}function Ah(n){return new bl(n)}function mI(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function ly(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function cy(n){for(const e of n.filters)if(e.dt())return e.field;return null}function h0(n){return null!==n.collectionGroup}function Oc(n){const e=qe(n);if(null===e._t){e._t=[];const t=cy(e),r=ly(e);if(null!==t&&null===r)t.isKeyField()||e._t.push(new Rc(t)),e._t.push(new Rc(_r.keyField(),"asc"));else{let i=!1;for(const u of e.explicitOrderBy)e._t.push(u),u.field.isKeyField()&&(i=!0);if(!i){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new Rc(_r.keyField(),u))}}}return e._t}function vi(n){const e=qe(n);if(!e.wt)if("F"===e.limitType)e.wt=lI(e.path,e.collectionGroup,Oc(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of Oc(e))t.push(new Rc(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new El(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new El(e.startAt.position,e.startAt.inclusive):null;e.wt=lI(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.wt}function dy(n,e,t){return new bl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Np(n,e){return Th(vi(n),vi(e))&&n.limitType===e.limitType}function f0(n){return`${Xa(vi(n))}|lt:${n.limitType}`}function p0(n){return`Query(target=${function IT(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${bh(r.value)}`;var r}).join(", ")}]`),wh(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>bh(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>bh(t)).join(",")),`Target(${e})`}(vi(n))}; limitType=${n.limitType})`}function hy(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):ze.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,u,c){const p=TT(i,u,c);return i.inclusive?p<=0:p<0}(t.startAt,Oc(t),r)||t.endAt&&!function(i,u,c){const p=TT(i,u,c);return i.inclusive?p>=0:p>0}(t.endAt,Oc(t),r)));var t,r}function g0(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function m0(n){return(e,t)=>{let r=!1;for(const i of Oc(n)){const u=yI(i,e,t);if(0!==u)return u;r=r||i.field.isKeyField()}return 0}}function yI(n,e,t){const r=n.field.isKeyField()?ze.comparator(e.key,t.key):function(i,u,c){const p=u.data.field(i),_=c.data.field(i);return null!==p&&null!==_?oa(p,_):st()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return st()}}function _I(n,e){if(n.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nc(e)?"-0":e}}function vI(n){return{integerValue:""+n}}function ST(n,e){return ny(e)?vI(e):_I(n,e)}class Pp{constructor(){this._=void 0}}function ox(n,e,t){return n instanceof Rp?function(r,i){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(u.fields.__previous_value__=i),{mapValue:u}}(t,e):n instanceof Mh?MT(n,e):n instanceof xh?xT(n,e):function(r,i){const u=AT(r,i),c=NT(u)+NT(r.yt);return a0(u)&&a0(r.yt)?vI(c):_I(r.It,c)}(n,e)}function ax(n,e,t){return n instanceof Mh?MT(n,e):n instanceof xh?xT(n,e):t}function AT(n,e){return n instanceof eu?a0(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Rp extends Pp{}class Mh extends Pp{constructor(e){super(),this.elements=e}}function MT(n,e){const t=y0(e);for(const r of n.elements)t.some(i=>sa(i,r))||t.push(r);return{arrayValue:{values:t}}}class xh extends Pp{constructor(e){super(),this.elements=e}}function xT(n,e){let t=y0(e);for(const r of n.elements)t=t.filter(i=>!sa(i,r));return{arrayValue:{values:t}}}class eu extends Pp{constructor(e,t){super(),this.It=e,this.yt=t}}function NT(n){return Hn(n.integerValue||n.doubleValue)}function y0(n){return Ih(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Il{constructor(e,t){this.field=e,this.transform=t}}class EI{constructor(e,t){this.version=e,this.transformResults=t}}class Xn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Xn}static exists(e){return new Xn(void 0,e)}static updateTime(e){return new Xn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Nh(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Op{}function bI(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new kp(n.key,Xn.none()):new Ph(n.key,n.data,Xn.none());{const t=n.data,r=_i.empty();let i=new Dn(_r.comparator);for(let u of e.fields)if(!i.has(u)){let c=t.field(u);null===c&&u.length>1&&(u=u.popLast(),c=t.field(u)),null===c?r.delete(u):r.set(u,c),i=i.add(u)}return new $s(n.key,r,new mi(i.toArray()),Xn.none())}}function II(n,e,t){n instanceof Ph?function(r,i,u){const c=r.value.clone(),p=RT(r.fieldTransforms,i,u.transformResults);c.setAll(p),i.convertToFoundDocument(u.version,c).setHasCommittedMutations()}(n,e,t):n instanceof $s?function(r,i,u){if(!Nh(r.precondition,i))return void i.convertToUnknownDocument(u.version);const c=RT(r.fieldTransforms,i,u.transformResults),p=i.data;p.setAll(CI(r)),p.setAll(c),i.convertToFoundDocument(u.version,p).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function fy(n,e,t,r){return n instanceof Ph?function(i,u,c,p){if(!Nh(i.precondition,u))return c;const _=i.value.clone(),b=OT(i.fieldTransforms,p,u);return _.setAll(b),u.convertToFoundDocument(u.version,_).setHasLocalMutations(),null}(n,e,t,r):n instanceof $s?function(i,u,c,p){if(!Nh(i.precondition,u))return c;const _=OT(i.fieldTransforms,p,u),b=u.data;return b.setAll(CI(i)),b.setAll(_),u.convertToFoundDocument(u.version,b).setHasLocalMutations(),null===c?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(T=>T.field))}(n,e,t,r):(c=t,Nh(n.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):c);var u,c}function PT(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),u=AT(r.transform,i||null);null!=u&&(null===t&&(t=_i.empty()),t.set(r.field,u))}return t||null}function DI(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&yh(t,r,(i,u)=>function wI(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Mh&&r instanceof Mh||t instanceof xh&&r instanceof xh?yh(t.elements,r.elements,sa):t instanceof eu&&r instanceof eu?sa(t.yt,r.yt):t instanceof Rp&&r instanceof Rp);var t,r}(i,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Ph extends Op{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class $s extends Op{constructor(e,t,r,i,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function CI(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function RT(n,e,t){const r=new Map;Tt(n.length===t.length);for(let i=0;i<t.length;i++){const u=n[i],c=u.transform,p=e.data.field(u.field);r.set(u.field,ax(c,p,t[i]))}return r}function OT(n,e,t){const r=new Map;for(const i of n){const u=i.transform,c=t.data.field(i.field);r.set(i.field,ox(u,c,e))}return r}class kp extends Op{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _0 extends Op{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class kT{constructor(e){this.count=e}}var Mr,un;function TI(n){switch(n){default:return st();case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0}}function v0(n){if(void 0===n)return yr("GRPC error has no .code"),ce.UNKNOWN;switch(n){case Mr.OK:return ce.OK;case Mr.CANCELLED:return ce.CANCELLED;case Mr.UNKNOWN:return ce.UNKNOWN;case Mr.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case Mr.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case Mr.INTERNAL:return ce.INTERNAL;case Mr.UNAVAILABLE:return ce.UNAVAILABLE;case Mr.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case Mr.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case Mr.NOT_FOUND:return ce.NOT_FOUND;case Mr.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case Mr.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case Mr.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case Mr.ABORTED:return ce.ABORTED;case Mr.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case Mr.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case Mr.DATA_LOSS:return ce.DATA_LOSS;default:return st()}}(un=Mr||(Mr={}))[un.OK=0]="OK",un[un.CANCELLED=1]="CANCELLED",un[un.UNKNOWN=2]="UNKNOWN",un[un.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",un[un.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",un[un.NOT_FOUND=5]="NOT_FOUND",un[un.ALREADY_EXISTS=6]="ALREADY_EXISTS",un[un.PERMISSION_DENIED=7]="PERMISSION_DENIED",un[un.UNAUTHENTICATED=16]="UNAUTHENTICATED",un[un.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",un[un.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",un[un.ABORTED=10]="ABORTED",un[un.OUT_OF_RANGE=11]="OUT_OF_RANGE",un[un.UNIMPLEMENTED=12]="UNIMPLEMENTED",un[un.INTERNAL=13]="INTERNAL",un[un.UNAVAILABLE=14]="UNAVAILABLE",un[un.DATA_LOSS=15]="DATA_LOSS";class tu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,u]of r)if(this.equalsFn(i,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<i.length;u++)if(this.equalsFn(i[u][0],e))return void(i[u]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){gi(this.inner,(t,r)=>{for(const[i,u]of r)e(i,u)})}isEmpty(){return rI(this.inner)}size(){return this.innerSize}}const ux=new $n(ze.comparator);function Gn(){return ux}const SI=new $n(ze.comparator);function kc(...n){let e=SI;for(const t of n)e=e.insert(t.key,t);return e}function AI(n){let e=SI;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function vr(){return Fc()}function MI(){return Fc()}function Fc(){return new tu(n=>n.toString(),(n,e)=>n.isEqual(e))}const FT=new $n(ze.comparator),LT=new Dn(ze.comparator);function $t(...n){let e=LT;for(const t of n)e=e.add(t);return e}const xI=new Dn(Vt);function Fp(){return xI}class Lp{constructor(e,t,r,i,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Rh.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Lp(Nt.min(),i,Fp(),Gn(),$t())}}class Rh{constructor(e,t,r,i,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Rh(r,t,$t(),$t(),$t())}}class Vp{constructor(e,t,r,i){this.Tt=e,this.removedTargetIds=t,this.key=r,this.Et=i}}class NI{constructor(e,t){this.targetId=e,this.At=t}}class w0{constructor(e,t,r=Or.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class PI{constructor(){this.Rt=0,this.bt=b0(),this.Pt=Or.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=$t(),t=$t(),r=$t();return this.bt.forEach((i,u)=>{switch(u){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:st()}}),new Rh(this.Pt,this.vt,e,t,r)}Nt(){this.Vt=!1,this.bt=b0()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class E0{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=Gn(),this.qt=nu(),this.Kt=new Dn(Vt)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const r=this.zt(t);switch(e.state){case 0:this.Ht(t)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),r.Ct(e.resumeToken));break;default:st()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((r,i)=>{this.Ht(i)&&t(i)})}Yt(e){const t=e.targetId,r=e.At.count,i=this.Xt(t);if(i){const u=i.target;if(sy(u))if(0===r){const c=new ze(u.path);this.jt(t,c,Tn.newNoDocument(c,Nt.min()))}else Tt(1===r);else this.Zt(t)!==r&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((u,c)=>{const p=this.Xt(c);if(p){if(u.current&&sy(p.target)){const _=new ze(p.target.path);null!==this.Ut.get(_)||this.ee(c,_)||this.jt(c,_,Tn.newNoDocument(_,e))}u.Dt&&(t.set(c,u.xt()),u.Nt())}});let r=$t();this.qt.forEach((u,c)=>{let p=!0;c.forEachWhile(_=>{const b=this.Xt(_);return!b||2===b.purpose||(p=!1,!1)}),p&&(r=r.add(u))}),this.Ut.forEach((u,c)=>c.setReadTime(e));const i=new Lp(e,t,this.Kt,this.Ut,r);return this.Ut=Gn(),this.qt=nu(),this.Kt=new Dn(Vt),i}Qt(e,t){if(!this.Ht(e))return;const r=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,r),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,r){if(!this.Ht(e))return;const i=this.zt(e);this.ee(e,t)?i.kt(t,1):i.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),r&&(this.Ut=this.Ut.insert(t,r))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let t=this.Lt.get(e);return t||(t=new PI,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new Dn(Vt),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||Pe("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new PI),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function nu(){return new $n(ze.comparator)}function b0(){return new $n(ze.comparator)}const I0={asc:"ASCENDING",desc:"DESCENDING"},ru={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class VT{constructor(e,t){this.databaseId=e,this.gt=t}}function py(n,e){return n.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function RI(n,e){return n.gt?e.toBase64():e.toUint8Array()}function UT(n,e){return py(n,e.toTimestamp())}function Zr(n){return Tt(!!n),Nt.fromTimestamp(function(e){const t=Ja(e);return new Fn(t.seconds,t.nanos)}(n))}function D0(n,e){return(t=n,new sn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function C0(n){const e=sn.fromString(n);return Tt(GT(e)),e}function gy(n,e){return D0(n.databaseId,e.path)}function Eo(n,e){const t=C0(e);if(t.get(1)!==n.databaseId.projectId)throw new Ne(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ne(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ze(yy(t))}function T0(n,e){return D0(n.databaseId,e)}function S0(n){const e=C0(n);return 4===e.length?sn.emptyPath():yy(e)}function my(n){return new sn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function yy(n){return Tt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function A0(n,e,t){return{name:gy(n,e),fields:t.value.mapValue.fields}}function M0(n,e,t){const r=Eo(n,e.name),i=Zr(e.updateTime),u=new _i({mapValue:{fields:e.fields}}),c=Tn.newFoundDocument(r,i,u);return t&&c.setHasCommittedMutations(),t?c.setHasCommittedMutations():c}function Oh(n,e){let t;if(e instanceof Ph)t={update:A0(n,e.key,e.value)};else if(e instanceof kp)t={delete:gy(n,e.key)};else if(e instanceof $s)t={update:A0(n,e.key,e.data),updateMask:HT(e.fieldMask)};else{if(!(e instanceof _0))return st();t={verify:gy(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,u){const c=u.transform;if(c instanceof Rp)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Mh)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof xh)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof eu)return{fieldPath:u.field.canonicalString(),increment:c.yt};throw st()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:UT(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:st()),t;var i}function kh(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Xn.updateTime(Zr(i.updateTime)):void 0!==i.exists?Xn.exists(i.exists):Xn.none():Xn.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(u,c){let p=null;"setToServerValue"in c?(Tt("REQUEST_TIME"===c.setToServerValue),p=new Rp):"appendMissingElements"in c?p=new Mh(c.appendMissingElements.values||[]):"removeAllFromArray"in c?p=new xh(c.removeAllFromArray.values||[]):"increment"in c?p=new eu(u,c.increment):st();const _=_r.fromServerFormat(c.fieldPath);return new Il(_,p)}(n,i)):[];var i;if(e.update){const i=Eo(n,e.update.name),u=new _i({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new mi((e.updateMask.fieldPaths||[]).map(b=>_r.fromServerFormat(b)));return new $s(i,u,c,t,r)}return new Ph(i,u,t,r)}if(e.delete){const i=Eo(n,e.delete);return new kp(i,t)}if(e.verify){const i=Eo(n,e.verify);return new _0(i,t)}return st()}function x0(n,e){return{documents:[T0(n,e.path)]}}function N0(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=T0(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=T0(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(_){if(0===_.length)return;const b=_.map(T=>function(M){if("=="===M.op){if(aI(M.value))return{unaryFilter:{field:Up(M.field),op:"IS_NAN"}};if(u0(M.value))return{unaryFilter:{field:Up(M.field),op:"IS_NULL"}}}else if("!="===M.op){if(aI(M.value))return{unaryFilter:{field:Up(M.field),op:"IS_NOT_NAN"}};if(u0(M.value))return{unaryFilter:{field:Up(M.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Up(M.field),op:lx(M.op),value:M.value}}}(T));return 1===b.length?b[0]:{compositeFilter:{op:"AND",filters:b}}}(e.filters);i&&(t.structuredQuery.where=i);const u=function(_){if(0!==_.length)return _.map(b=>{return{field:Up((T=b).field),direction:BT(T.dir)};var T})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const c=(b=e.limit,n.gt||wh(b)?b:{value:b});var b,p,_;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(p=e.startAt).inclusive,values:p.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function P0(n){let e=S0(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Tt(1===r);const T=t.from[0];T.allDescendants?i=T.collectionId:e=e.child(T.collectionId)}let u=[];t.where&&(u=LI(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(T=>{return new Rc(Lc((M=T).field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction));var M}));let p=null;t.limit&&(p=function(T){let M;return M="object"==typeof T?T.value:T,wh(M)?null:M}(t.limit));let _=null;var T;t.startAt&&(_=new El((T=t.startAt).values||[],!!T.before));let b=null;return t.endAt&&(b=function(T){return new El(T.values||[],!T.before)}(t.endAt)),gI(e,i,c,u,p,"F",_,b)}function LI(n){return n?void 0!==n.unaryFilter?[$T(n)]:void 0!==n.fieldFilter?[jT(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>LI(e)).reduce((e,t)=>e.concat(t)):st():[]}function BT(n){return I0[n]}function lx(n){return ru[n]}function Up(n){return{fieldPath:n.canonicalString()}}function Lc(n){return _r.fromServerFormat(n.fieldPath)}function jT(n){return Wr.create(Lc(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return st()}}(n.fieldFilter.op),n.fieldFilter.value)}function $T(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Lc(n.unaryFilter.field);return Wr.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Lc(n.unaryFilter.field);return Wr.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Lc(n.unaryFilter.field);return Wr.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Lc(n.unaryFilter.field);return Wr.create(i,"!=",{nullValue:"NULL_VALUE"});default:return st()}}function HT(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function GT(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Gi(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=qT(e)),e=cx(n.get(t),e);return qT(e)}function cx(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const u=n.charAt(i);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function qT(n){return n+"\x01\x01"}function iu(n){const e=n.length;if(Tt(e>=2),2===e)return Tt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),sn.emptyPath();const t=e-2,r=[];let i="";for(let u=0;u<e;){const c=n.indexOf("\x01",u);switch((c<0||c>t)&&st(),n.charAt(c+1)){case"\x01":const p=n.substring(u,c);let _;0===i.length?_=p:(i+=p,_=i,i=""),r.push(_);break;case"\x10":i+=n.substring(u,c),i+="\0";break;case"\x11":i+=n.substring(u,c+1);break;default:st()}u=c+2}return new sn(r)}const VI=["userId","batchId"];function Vc(n,e){return[n,Gi(e)]}function UI(n,e,t){return[n,Gi(e),t]}const zT={},BI=["prefixPath","collectionGroup","readTime","documentId"],Uc=["prefixPath","collectionGroup","documentId"],jI=["collectionGroup","readTime","prefixPath","documentId"],R0=["canonicalId","targetId"],O0=["targetId","path"],WT=["path","targetId"],k0=["collectionId","parent"],F0=["indexId","uid"],vy=["uid","sequenceNumber"],dx=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],hx=["indexId","uid","orderedDocumentKey"],fx=["userId","collectionPath","documentId"],px=["userId","collectionPath","largestBatchId"],$I=["userId","collectionGroup","largestBatchId"],HI=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],ZT=[...HI,"documentOverlays"],GI=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],qI=GI,zI=[...qI,"indexConfiguration","indexState","indexEntries"];class wy extends vh{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function kr(n,e){const t=qe(n);return js.M(t.ie,e)}class L0{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const u=this.mutations[i];u.key.isEqual(e.key)&&II(u,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=fy(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=fy(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=MI();return this.mutations.forEach(i=>{const u=e.get(i.key),c=u.overlayedDocument;let p=this.applyToLocalView(c,u.mutatedFields);p=t.has(i.key)?null:p;const _=bI(c,p);null!==_&&r.set(i.key,_),c.isValidDocument()||c.convertToNoDocument(Nt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),$t())}isEqual(e){return this.batchId===e.batchId&&yh(this.mutations,e.mutations,(t,r)=>DI(t,r))&&yh(this.baseMutations,e.baseMutations,(t,r)=>DI(t,r))}}class V0{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Tt(e.mutations.length===r.length);let i=FT;const u=e.mutations;for(let c=0;c<u.length;c++)i=i.insert(u[c].key,r[c].version);return new V0(e,t,r,i)}}class Ey{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class aa{constructor(e,t,r,i,u=Nt.min(),c=Nt.min(),p=Or.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=p}withSequenceNumber(e){return new aa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new aa(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new aa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class KT{constructor(e){this.re=e}}function by(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Iy(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:gy(i=n.re,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:py(i,u.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Bc(e.version)};else{if(!e.isUnknownDocument())return st();r.unknownDocument={path:t.path.toArray(),version:Bc(e.version)}}var i,u;return r}function Iy(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Bc(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Fh(n){const e=new Fn(n.seconds,n.nanoseconds);return Nt.fromTimestamp(e)}function Lh(n,e){const t=(e.baseMutations||[]).map(u=>kh(n.re,u));for(let u=0;u<e.mutations.length-1;++u){const c=e.mutations[u];u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(c.updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u)}const r=e.mutations.map(u=>kh(n.re,u)),i=Fn.fromMillis(e.localWriteTimeMs);return new L0(e.batchId,i,t,r)}function Bp(n){const e=Fh(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Fh(n.lastLimboFreeSnapshotVersion):Nt.min();let r;var i;return void 0!==n.query.documents?(Tt(1===(i=n.query).documents.length),r=vi(Ah(S0(i.documents[0])))):r=vi(P0(n.query)),new aa(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Or.fromBase64String(n.resumeToken))}function ZI(n,e){const t=Bc(e.snapshotVersion),r=Bc(e.lastLimboFreeSnapshotVersion);let i;i=sy(e.target)?x0(n.re,e.target):N0(n.re,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Xa(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function U0(n){const e=P0({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?dy(e,e.limit,"L"):e}function KI(n,e){return new Ey(e.largestBatchId,kh(n.re,e.overlayMutation))}function YT(n,e){const t=e.path.lastSegment();return[n,Gi(e.path.popLast()),t]}function QT(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Bc(r.readTime),documentKey:Gi(r.documentKey.path),largestBatchId:r.largestBatchId}}class gx{getBundleMetadata(e,t){return JT(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Fh(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return JT(e).put({bundleId:(r=t).id,createTime:Bc(Zr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return YI(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:U0(i.bundledQuery),readTime:Fh(i.readTime)};var i})}saveNamedQuery(e,t){return YI(e).put({name:(r=t).name,readTime:Bc(Zr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function JT(n){return kr(n,"bundles")}function YI(n){return kr(n,"namedQueries")}class B0{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new B0(e,t.uid||"")}getOverlay(e,t){return Dy(e).get(YT(this.userId,t)).next(r=>r?KI(this.It,r):null)}getOverlays(e,t){const r=vr();return ie.forEach(t,i=>this.getOverlay(e,i).next(u=>{null!==u&&r.set(i,u)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((u,c)=>{const p=new Ey(t,c);i.push(this.ue(e,p))}),ie.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(c=>i.add(Gi(c.getCollectionPath())));const u=[];return i.forEach(c=>{const p=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);u.push(Dy(e).Y("collectionPathOverlayIndex",p))}),ie.waitFor(u)}getOverlaysForCollection(e,t,r){const i=vr(),u=Gi(t),c=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return Dy(e).W("collectionPathOverlayIndex",c).next(p=>{for(const _ of p){const b=KI(this.It,_);i.set(b.getKey(),b)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const u=vr();let c;const p=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Dy(e).Z({index:"collectionGroupOverlayIndex",range:p},(_,b,T)=>{const M=KI(this.It,b);u.size()<i||M.largestBatchId===c?(u.set(M.getKey(),M),c=M.largestBatchId):T.done()}).next(()=>u)}ue(e,t){return Dy(e).put(function(r,i,u){const[c,p,_]=YT(i,u.mutation.key);return{userId:i,collectionPath:p,documentId:_,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:Oh(r.re,u.mutation)}}(this.It,this.userId,t))}}function Dy(n){return kr(n,"documentOverlays")}class Vh{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(Hn(e.integerValue));else if("doubleValue"in e){const r=Hn(e.doubleValue);isNaN(r)?this.le(t,13):(this.le(t,15),Nc(r)?t.fe(0):t.fe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de(`${r.seconds||""}`),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(_l(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.le(t,45),t.fe(r.latitude||0),t.fe(r.longitude||0)}else"mapValue"in e?yi(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):st()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const r=e.fields||{};this.le(t,55);for(const i of Object.keys(r))this._e(i,t),this.ae(r[i],t)}pe(e,t){const r=e.values||[];this.le(t,50);for(const i of r)this.ae(i,t)}ge(e,t){this.le(t,37),ze.fromName(e).path.forEach(r=>{this.le(t,60),this.Ie(r,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function mx(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function XT(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const u=mx(255&t[i]);if(r+=u,8!==u)break}return r}(n);return Math.ceil(e/8)}Vh.Te=new Vh;class yx{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ae(r.value),r=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Pe(r.value),r=t.next();this.ve()}Ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ae(r);else if(r<2048)this.Ae(960|r>>>6),this.Ae(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r);else{const i=t.codePointAt(0);this.Ae(240|i>>>18),this.Ae(128|63&i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i)}}this.Re()}Se(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Pe(r);else if(r<2048)this.Pe(960|r>>>6),this.Pe(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r);else{const i=t.codePointAt(0);this.Pe(240|i>>>18),this.Pe(128|63&i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i)}}this.ve()}De(e){const t=this.Ce(e),r=XT(t);this.xe(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Ne(e){const t=this.Ce(e),r=XT(t);this.xe(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(i){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,i,!1),new Uint8Array(u.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ae(e){const t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class s{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class o{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Me()}}class a{constructor(){this.Be=new yx,this.Le=new s(this.Be),this.Ue=new o(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class l{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new l(this.indexId,this.documentKey,this.arrayValue,r)}}function h(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=g(n.arrayValue,e.arrayValue),0!==t?t:(t=g(n.directionalValue,e.directionalValue),0!==t?t:ze.comparator(n.documentKey,e.documentKey)))}function g(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class v{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const r=t;r.dt()?this.je=r:this.Qe.push(r)}}We(e){const t=t0(e);if(void 0!==t&&!this.ze(t))return!1;const r=gl(e);let i=0,u=0;for(;i<r.length&&this.ze(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.je){const c=r[i];if(!this.He(this.je,c)||!this.Je(this.Ge[u++],c))return!1;++i}for(;i<r.length;++i){const c=r[i];if(u>=this.Ge.length||!this.Je(this.Ge[u++],c))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class E{constructor(){this.Ye=new I}addToCollectionParentIndex(e,t){return this.Ye.add(t),ie.resolve()}getCollectionParents(e,t){return ie.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return ie.resolve()}deleteFieldIndex(e,t){return ie.resolve()}getDocumentsMatchingTarget(e,t){return ie.resolve(null)}getIndexType(e,t){return ie.resolve(0)}getFieldIndexes(e,t){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,t){return ie.resolve(gs.min())}getMinOffsetFromCollectionGroup(e,t){return ie.resolve(gs.min())}updateCollectionGroup(e,t,r){return ie.resolve()}updateIndexEntries(e,t){return ie.resolve()}}class I{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Dn(sn.comparator),u=!i.has(r);return this.index[t]=i.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Dn(sn.comparator)).toArray()}}const S=new Uint8Array(0);class N{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new I,this.Ze=new tu(r=>Xa(r),(r,i)=>Th(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const u={collectionId:r,parent:Gi(i)};return O(e).put(u)}return ie.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[Yb(t),""],!1,!0);return O(e).W(i).next(u=>{for(const c of u){if(c.collectionId!==t)break;r.push(iu(c.parent))}return r})}addFieldIndex(e,t){const r=X(e),i={indexId:(c=t).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(p=>[p.fieldPath.canonicalString(),p.kind])};var c;delete i.indexId;const u=r.add(i);if(t.indexState){const c=ve(e);return u.next(p=>{c.put(QT(p,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return u.next()}deleteFieldIndex(e,t){const r=X(e),i=ve(e),u=H(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=H(e);let i=!0;const u=new Map;return ie.forEach(this.tn(t),c=>this.en(e,c).next(p=>{i&&(i=!!p),u.set(c,p)})).next(()=>{if(i){let c=$t();const p=[];return ie.forEach(u,(_,b)=>{var T;Pe("IndexedDbIndexManager",`Using index ${T=_,`id=${T.indexId}|cg=${T.collectionGroup}|f=${T.fields.map(gt=>`${gt.fieldPath}:${gt.kind}`).join(",")}`} to execute ${Xa(t)}`);const M=function(gt,ct){const St=t0(ct);if(void 0===St)return null;for(const Pt of oy(gt,St.fieldPath))switch(Pt.op){case"array-contains-any":return Pt.value.arrayValue.values||[];case"array-contains":return[Pt.value]}return null}(b,_),L=function(gt,ct){const St=new Map;for(const Pt of gl(ct))for(const ln of oy(gt,Pt.fieldPath))switch(ln.op){case"==":case"in":St.set(Pt.fieldPath.canonicalString(),ln.value);break;case"not-in":case"!=":return St.set(Pt.fieldPath.canonicalString(),ln.value),Array.from(St.values())}return null}(b,_),G=function(gt,ct){const St=[];let Pt=!0;for(const ln of gl(ct)){const vs=0===ln.kind?cI(gt,ln.fieldPath,gt.startAt):ay(gt,ln.fieldPath,gt.startAt);St.push(vs.value),Pt&&(Pt=vs.inclusive)}return new El(St,Pt)}(b,_),Z=function(gt,ct){const St=[];let Pt=!0;for(const ln of gl(ct)){const vs=0===ln.kind?ay(gt,ln.fieldPath,gt.endAt):cI(gt,ln.fieldPath,gt.endAt);St.push(vs.value),Pt&&(Pt=vs.inclusive)}return new El(St,Pt)}(b,_),ue=this.nn(_,b,G),_e=this.nn(_,b,Z),Ye=this.sn(_,b,L),at=this.rn(_.indexId,M,ue,G.inclusive,_e,Z.inclusive,Ye);return ie.forEach(at,gt=>r.J(gt,t.limit).next(ct=>{ct.forEach(St=>{const Pt=ze.fromSegments(St.documentKey);c.has(Pt)||(c=c.add(Pt),p.push(Pt))})}))}).next(()=>p)}return ie.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,r,i,u,c,p){const _=(null!=t?t.length:1)*Math.max(r.length,u.length),b=_/(null!=t?t.length:1),T=[];for(let M=0;M<_;++M){const L=t?this.on(t[M/b]):S,G=this.un(e,L,r[M%b],i),Z=this.cn(e,L,u[M%b],c),ue=p.map(_e=>this.un(e,L,_e,!0));T.push(...this.createRange(G,Z,ue))}return T}un(e,t,r,i){const u=new l(e,ze.empty(),t,r);return i?u:u.Ke()}cn(e,t,r,i){const u=new l(e,ze.empty(),t,r);return i?u.Ke():u}en(e,t){const r=new v(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(u=>{let c=null;for(const p of u)r.We(p)&&(!c||p.fields.length>c.fields.length)&&(c=p);return c})}getIndexType(e,t){let r=2;return ie.forEach(this.tn(t),i=>this.en(e,i).next(u=>{u?0!==r&&u.fields.length<function(c){let p=new Dn(_r.comparator),_=!1;for(const b of c.filters){const T=b;T.field.isKeyField()||("array-contains"===T.op||"array-contains-any"===T.op?_=!0:p=p.add(T.field))}for(const b of c.orderBy)b.field.isKeyField()||(p=p.add(b.field));return p.size+(_?1:0)}(i)&&(r=1):r=0})).next(()=>r)}an(e,t){const r=new a;for(const i of gl(e)){const u=t.data.field(i.fieldPath);if(null==u)return null;const c=r.qe(i.kind);Vh.Te.ce(u,c)}return r.$e()}on(e){const t=new a;return Vh.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const r=new a;return Vh.Te.ce(wl(this.databaseId,t),r.qe(function(i){const u=gl(i);return 0===u.length?0:u[u.length-1].kind}(e))),r.$e()}sn(e,t,r){if(null===r)return[];let i=[];i.push(new a);let u=0;for(const c of gl(e)){const p=r[u++];for(const _ of i)if(this.ln(t,c.fieldPath)&&Ih(p))i=this.fn(i,c,p);else{const b=_.qe(c.kind);Vh.Te.ce(p,b)}}return this.dn(i)}nn(e,t,r){return this.sn(e,t,r.position)}dn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].$e();return t}fn(e,t,r){const i=[...e],u=[];for(const c of r.arrayValue.values||[])for(const p of i){const _=new a;_.seed(p.$e()),Vh.Te.ce(c,_.qe(t.kind)),u.push(_)}return u}ln(e,t){return!!e.filters.find(r=>r instanceof Wr&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=X(e),i=ve(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(u=>{const c=[];return ie.forEach(u,p=>i.get([p.indexId,this.uid]).next(_=>{c.push(function(b,T){const M=T?new Cp(T.sequenceNumber,new gs(Fh(T.readTime),new ze(iu(T.documentKey)),T.largestBatchId)):Cp.empty(),L=b.fields.map(([G,Z])=>new Qm(_r.fromServerFormat(G),Z));return new Ym(b.indexId,b.collectionGroup,L,M)}(p,_))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const u=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==u?u:Vt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=X(e),u=ve(e);return this._n(e).next(c=>i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(p=>ie.forEach(p,_=>u.put(QT(_.indexId,this.user,c,r)))))}updateIndexEntries(e,t){const r=new Map;return ie.forEach(t,(i,u)=>{const c=r.get(i.collectionGroup);return(c?ie.resolve(c):this.getFieldIndexes(e,i.collectionGroup)).next(p=>(r.set(i.collectionGroup,p),ie.forEach(p,_=>this.wn(e,i,_).next(b=>{const T=this.mn(u,_);return b.isEqual(T)?ie.resolve():this.gn(e,u,_,b,T)}))))})}yn(e,t,r,i){return H(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.hn(r,t.key),documentKey:t.key.path.toArray()})}pn(e,t,r,i){return H(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.hn(r,t.key),t.key.path.toArray()])}wn(e,t,r){const i=H(e);let u=new Dn(h);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.hn(r,t)])},(c,p)=>{u=u.add(new l(r.indexId,t,p.arrayValue,p.directionalValue))}).next(()=>u)}mn(e,t){let r=new Dn(h);const i=this.an(t,e);if(null==i)return r;const u=t0(t);if(null!=u){const c=e.data.field(u.fieldPath);if(Ih(c))for(const p of c.arrayValue.values||[])r=r.add(new l(t.indexId,e.key,this.on(p),i))}else r=r.add(new l(t.indexId,e.key,S,i));return r}gn(e,t,r,i,u){Pe("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const c=[];return function(p,_,b,T,M){const L=p.getIterator(),G=_.getIterator();let Z=Qa(L),ue=Qa(G);for(;Z||ue;){let _e=!1,Ye=!1;if(Z&&ue){const at=b(Z,ue);at<0?Ye=!0:at>0&&(_e=!0)}else null!=Z?Ye=!0:_e=!0;_e?(T(ue),ue=Qa(G)):Ye?(M(Z),Z=Qa(L)):(Z=Qa(L),ue=Qa(G))}}(i,u,h,p=>{c.push(this.yn(e,t,r,p))},p=>{c.push(this.pn(e,t,r,p))}),ie.waitFor(c)}_n(e){let t=1;return ve(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,u)=>{u.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((c,p)=>h(c,p)).filter((c,p,_)=>!p||0!==h(c,_[p-1]));const i=[];i.push(e);for(const c of r){const p=h(c,e),_=h(c,t);if(0===p)i[0]=e.Ke();else if(p>0&&_<0)i.push(c),i.push(c.Ke());else if(_>0)break}i.push(t);const u=[];for(let c=0;c<i.length;c+=2)u.push(IDBKeyRange.bound([i[c].indexId,this.uid,i[c].arrayValue,i[c].directionalValue,S,[]],[i[c+1].indexId,this.uid,i[c+1].arrayValue,i[c+1].directionalValue,S,[]]));return u}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(ke)}getMinOffset(e,t){return ie.mapArray(this.tn(t),r=>this.en(e,r).next(i=>i||st())).next(ke)}}function O(n){return kr(n,"collectionParents")}function H(n){return kr(n,"indexEntries")}function X(n){return kr(n,"indexConfiguration")}function ve(n){return kr(n,"indexState")}function ke(n){Tt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;n0(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new gs(e.readTime,e.documentKey,t)}const Ge={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class We{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new We(e,We.DEFAULT_COLLECTION_PERCENTILE,We.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Et(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),u=[],c=IDBKeyRange.only(t.batchId);let p=0;const _=r.Z({range:c},(T,M,L)=>(p++,L.delete()));u.push(_.next(()=>{Tt(1===p)}));const b=[];for(const T of t.mutations){const M=UI(e,T.key.path,t.batchId);u.push(i.delete(M)),b.push(T.key)}return ie.waitFor(u).next(()=>b)}function Se(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw st();e=n.noDocument}return JSON.stringify(e).length}We.DEFAULT_COLLECTION_PERCENTILE=10,We.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,We.DEFAULT=new We(41943040,We.DEFAULT_COLLECTION_PERCENTILE,We.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),We.DISABLED=new We(-1,0,0);class Dt{constructor(e,t,r,i){this.userId=e,this.It=t,this.indexManager=r,this.referenceDelegate=i,this.In={}}static oe(e,t,r,i){Tt(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new Dt(u,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return gn(e).Z({index:"userMutationsIndex",range:r},(i,u,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const u=Hs(e),c=gn(e);return c.add({}).next(p=>{Tt("number"==typeof p);const _=new L0(p,t,r,i),b=function(L,G,Z){const ue=Z.baseMutations.map(Ye=>Oh(L.re,Ye)),_e=Z.mutations.map(Ye=>Oh(L.re,Ye));return{userId:G,batchId:Z.batchId,localWriteTimeMs:Z.localWriteTime.toMillis(),baseMutations:ue,mutations:_e}}(this.It,this.userId,_),T=[];let M=new Dn((L,G)=>Vt(L.canonicalString(),G.canonicalString()));for(const L of i){const G=UI(this.userId,L.key.path,p);M=M.add(L.key.path.popLast()),T.push(c.put(b)),T.push(u.put(G,zT))}return M.forEach(L=>{T.push(this.indexManager.addToCollectionParentIndex(e,L))}),e.addOnCommittedListener(()=>{this.In[p]=_.keys()}),ie.waitFor(T).next(()=>_)})}lookupMutationBatch(e,t){return gn(e).get(t).next(r=>r?(Tt(r.userId===this.userId),Lh(this.It,r)):null)}Tn(e,t){return this.In[t]?ie.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.In[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return gn(e).Z({index:"userMutationsIndex",range:i},(c,p,_)=>{p.userId===this.userId&&(Tt(p.batchId>=r),u=Lh(this.It,p)),_.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return gn(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(i,u,c)=>{r=u.batchId,c.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return gn(e).W("userMutationsIndex",t).next(r=>r.map(i=>Lh(this.It,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Vc(this.userId,t.path),i=IDBKeyRange.lowerBound(r),u=[];return Hs(e).Z({range:i},(c,p,_)=>{const[b,T,M]=c,L=iu(T);if(b===this.userId&&t.path.isEqual(L))return gn(e).get(M).next(G=>{if(!G)throw st();Tt(G.userId===this.userId),u.push(Lh(this.It,G))});_.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Dn(Vt);const i=[];return t.forEach(u=>{const c=Vc(this.userId,u.path),p=IDBKeyRange.lowerBound(c),_=Hs(e).Z({range:p},(b,T,M)=>{const[L,G,Z]=b,ue=iu(G);L===this.userId&&u.path.isEqual(ue)?r=r.add(Z):M.done()});i.push(_)}),ie.waitFor(i).next(()=>this.En(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,u=Vc(this.userId,r),c=IDBKeyRange.lowerBound(u);let p=new Dn(Vt);return Hs(e).Z({range:c},(_,b,T)=>{const[M,L,G]=_,Z=iu(L);M===this.userId&&r.isPrefixOf(Z)?Z.length===i&&(p=p.add(G)):T.done()}).next(()=>this.En(e,p))}En(e,t){const r=[],i=[];return t.forEach(u=>{i.push(gn(e).get(u).next(c=>{if(null===c)throw st();Tt(c.userId===this.userId),r.push(Lh(this.It,c))}))}),ie.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return Et(e.ie,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),ie.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ie.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Hs(e).Z({range:r},(u,c,p)=>{if(u[0]===this.userId){const _=iu(u[1]);i.push(_)}else p.done()}).next(()=>{Tt(0===i.length)})})}containsKey(e,t){return hn(e,this.userId,t)}Rn(e){return Cy(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function hn(n,e,t){const r=Vc(e,t.path),i=r[1],u=IDBKeyRange.lowerBound(r);let c=!1;return Hs(n).Z({range:u,X:!0},(p,_,b)=>{const[T,M,L]=p;T===e&&M===i&&(c=!0),b.done()}).next(()=>c)}function gn(n){return kr(n,"mutations")}function Hs(n){return kr(n,"documentMutations")}function Cy(n){return kr(n,"mutationQueues")}class su{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new su(0)}static vn(){return new su(-1)}}class j0{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const r=new su(t.highestTargetId);return t.highestTargetId=r.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>Nt.fromTimestamp(new Fn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Vn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Sn(e,i)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(r=>(r.targetCount+=1,this.Cn(t,r),this.Sn(e,r))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Dl(e).delete(t.targetId)).next(()=>this.Vn(e)).next(r=>(Tt(r.targetCount>0),r.targetCount-=1,this.Sn(e,r)))}removeTargets(e,t,r){let i=0;const u=[];return Dl(e).Z((c,p)=>{const _=Bp(p);_.sequenceNumber<=t&&null===r.get(_.targetId)&&(i++,u.push(this.removeTargetData(e,_)))}).next(()=>ie.waitFor(u)).next(()=>i)}forEachTarget(e,t){return Dl(e).Z((r,i)=>{const u=Bp(i);t(u)})}Vn(e){return Ty(e).get("targetGlobalKey").next(t=>(Tt(null!==t),t))}Sn(e,t){return Ty(e).put("targetGlobalKey",t)}Dn(e,t){return Dl(e).put(ZI(this.It,t))}Cn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Xa(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return Dl(e).Z({range:i,index:"queryTargetsIndex"},(c,p,_)=>{const b=Bp(p);Th(t,b.target)&&(u=b,_.done())}).next(()=>u)}addMatchingKeys(e,t,r){const i=[],u=ua(e);return t.forEach(c=>{const p=Gi(c.path);i.push(u.put({targetId:r,path:p})),i.push(this.referenceDelegate.addReference(e,r,c))}),ie.waitFor(i)}removeMatchingKeys(e,t,r){const i=ua(e);return ie.forEach(t,u=>{const c=Gi(u.path);return ie.waitFor([i.delete([r,c]),this.referenceDelegate.removeReference(e,r,u)])})}removeMatchingKeysForTargetId(e,t){const r=ua(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=ua(e);let u=$t();return i.Z({range:r,X:!0},(c,p,_)=>{const b=iu(c[1]),T=new ze(b);u=u.add(T)}).next(()=>u)}containsKey(e,t){const r=Gi(t.path),i=IDBKeyRange.bound([r],[Yb(r)],!1,!0);let u=0;return ua(e).Z({index:"documentTargetsIndex",X:!0,range:i},([c,p],_,b)=>{0!==c&&(u++,b.done())}).next(()=>u>0)}se(e,t){return Dl(e).get(t).next(r=>r?Bp(r):null)}}function Dl(n){return kr(n,"targets")}function Ty(n){return kr(n,"targetGlobal")}function ua(n){return kr(n,"targetDocuments")}function Sy([n,e],[t,r]){const i=Vt(n,t);return 0===i?Vt(e,r):i}class $0{constructor(e){this.xn=e,this.buffer=new Dn(Sy),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Sy(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class H0{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;Pe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ye.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){xc(r)?Pe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Ya(r)}yield t.Fn(3e5)}))}}class BP{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return ie.resolve(Hi.at);const r=new $0(t);return this.$n.forEachTarget(e,i=>r.On(i.sequenceNumber)).next(()=>this.$n.Ln(e,i=>r.On(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.$n.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(Ge)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ge):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let r,i,u,c,p,_,b;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(M=>(M>this.params.maximumSequenceNumbersToCollect?(Pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),i=this.params.maximumSequenceNumbersToCollect):i=M,c=Date.now(),this.nthSequenceNumber(e,i))).next(M=>(r=M,p=Date.now(),this.removeTargets(e,r,t))).next(M=>(u=M,_=Date.now(),this.removeOrphanedDocuments(e,r))).next(M=>(b=Date.now(),Ip()<=ds.in.DEBUG&&Pe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-T}ms\n\tDetermined least recently used ${i} in `+(p-c)+`ms\n\tRemoved ${u} targets in `+(_-p)+`ms\n\tRemoved ${M} documents in `+(b-_)+`ms\nTotal Duration: ${b-T}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:u,documentsRemoved:M})))}}class jP{constructor(e,t){this.db=e,this.garbageCollector=new BP(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}qn(e){let t=0;return this.Ln(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(r,i)=>t(i))}addReference(e,t,r){return QI(e,r)}removeReference(e,t,r){return QI(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return QI(e,t)}Gn(e,t){return function(r,i){let u=!1;return Cy(r).tt(c=>hn(r,c,i).next(p=>(p&&(u=!0),ie.resolve(!p)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let u=0;return this.Kn(e,(c,p)=>{if(p<=t){const _=this.Gn(e,c).next(b=>{if(!b)return u++,r.getEntry(e,c).next(()=>(r.removeEntry(c,Nt.min()),ua(e).delete([0,Gi(c.path)])))});i.push(_)}}).next(()=>ie.waitFor(i)).next(()=>r.apply(e)).next(()=>u)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return QI(e,t)}Kn(e,t){const r=ua(e);let i,u=Hi.at;return r.Z({index:"documentTargetsIndex"},([c,p],{path:_,sequenceNumber:b})=>{0===c?(u!==Hi.at&&t(new ze(iu(i)),u),u=b,i=_):u=Hi.at}).next(()=>{u!==Hi.at&&t(new ze(iu(i)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function QI(n,e){return ua(n).put((r=n.currentSequenceNumber,{targetId:0,path:Gi(e.path),sequenceNumber:r}));var r}class _x{constructor(){this.changes=new tu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Tn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ie.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class $P{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return jp(e).put(r)}removeEntry(e,t,r){return jp(e).delete(function(i,u){const c=i.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],Iy(u),c[c.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Qn(e,r)))}getEntry(e,t){let r=Tn.newInvalidDocument(t);return jp(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(G0(t))},(i,u)=>{r=this.jn(t,u)}).next(()=>r)}Wn(e,t){let r={size:0,document:Tn.newInvalidDocument(t)};return jp(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(G0(t))},(i,u)=>{r={document:this.jn(t,u),size:Se(u)}}).next(()=>r)}getEntries(e,t){let r=Gn();return this.zn(e,t,(i,u)=>{const c=this.jn(i,u);r=r.insert(i,c)}).next(()=>r)}Hn(e,t){let r=Gn(),i=new $n(ze.comparator);return this.zn(e,t,(u,c)=>{const p=this.jn(u,c);r=r.insert(u,p),i=i.insert(u,Se(c))}).next(()=>({documents:r,Jn:i}))}zn(e,t,r){if(t.isEmpty())return ie.resolve();let i=new Dn(bx);t.forEach(_=>i=i.add(_));const u=IDBKeyRange.bound(G0(i.first()),G0(i.last())),c=i.getIterator();let p=c.getNext();return jp(e).Z({index:"documentKeyIndex",range:u},(_,b,T)=>{const M=ze.fromSegments([...b.prefixPath,b.collectionGroup,b.documentId]);for(;p&&bx(p,M)<0;)r(p,null),p=c.getNext();p&&p.isEqual(M)&&(r(p,b),p=c.hasNext()?c.getNext():null),p?T.j(G0(p)):T.done()}).next(()=>{for(;p;)r(p,null),p=c.hasNext()?c.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),Iy(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return jp(e).W(IDBKeyRange.bound(i,u,!0)).next(c=>{let p=Gn();for(const _ of c){const b=this.jn(ze.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);p=p.insert(b.key,b)}return p})}getAllFromCollectionGroup(e,t,r,i){let u=Gn();const c=Ex(t,r),p=Ex(t,gs.max());return jp(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,p,!0)},(_,b,T)=>{const M=this.jn(ze.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);u=u.insert(M.key,M),u.size===i&&T.done()}).next(()=>u)}newChangeBuffer(e){return new HP(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return wx(e).get("remoteDocumentGlobalKey").next(t=>(Tt(!!t),t))}Qn(e,t){return wx(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const r=function WI(n,e){let t;if(e.document)t=M0(n.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=ze.fromSegments(e.noDocument.path),i=Fh(e.noDocument.readTime);t=Tn.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return st();{const r=ze.fromSegments(e.unknownDocument.path),i=Fh(e.unknownDocument.version);t=Tn.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new Fn(r[0],r[1]);return Nt.fromTimestamp(i)}(e.readTime)),t}(this.It,t);if(!r.isNoDocument()||!r.version.isEqual(Nt.min()))return r}return Tn.newInvalidDocument(e)}}function vx(n){return new $P(n)}class HP extends _x{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new tu(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Dn((u,c)=>Vt(u.canonicalString(),c.canonicalString()));return this.changes.forEach((u,c)=>{const p=this.Xn.get(u);if(t.push(this.Yn.removeEntry(e,u,p.readTime)),c.isValidDocument()){const _=by(this.Yn.It,c);i=i.add(u.path.popLast()),r+=Se(_)-p.size,t.push(this.Yn.addEntry(e,u,_))}else if(r-=p.size,this.trackRemovals){const _=by(this.Yn.It,c.convertToNoDocument(Nt.min()));t.push(this.Yn.addEntry(e,u,_))}}),i.forEach(u=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.Yn.updateMetadata(e,r)),ie.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(r=>(this.Xn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:r,Jn:i})=>(i.forEach((u,c)=>{this.Xn.set(u,{size:c,readTime:r.get(u).readTime})}),r))}}function wx(n){return kr(n,"remoteDocumentGlobal")}function jp(n){return kr(n,"remoteDocumentsV14")}function G0(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Ex(n,e){const t=e.documentKey.path.toArray();return[n,Iy(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function bx(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let u=0;u<t.length-2&&u<r.length-2;++u)if(i=Vt(t[u],r[u]),i)return i;return i=Vt(t.length,r.length),i||(i=Vt(t[t.length-2],r[r.length-2]),i||Vt(t[t.length-1],r[r.length-1]))}class GP{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Ix{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.getBaseDocument(e,t,r))).next(i=>(null!==r&&fy(r.mutation,i,mi.empty(),Fn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,$t()).next(()=>r))}getLocalViewOfDocuments(e,t,r=$t()){const i=vr();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(u=>{let c=kc();return u.forEach((p,_)=>{c=c.insert(p,_.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const r=vr();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,$t()))}populateOverlays(e,t,r){const i=[];return r.forEach(u=>{t.has(u)||i.push(u)}),this.documentOverlayCache.getOverlays(e,i).next(u=>{u.forEach((c,p)=>{t.set(c,p)})})}computeViews(e,t,r,i){let u=Gn();const c=Fc(),p=Fc();return t.forEach((_,b)=>{const T=r.get(b.key);i.has(b.key)&&(void 0===T||T.mutation instanceof $s)?u=u.insert(b.key,b):void 0!==T&&(c.set(b.key,T.mutation.getFieldMask()),fy(T.mutation,b,T.mutation.getFieldMask(),Fn.now()))}),this.recalculateAndSaveOverlays(e,u).next(_=>(_.forEach((b,T)=>c.set(b,T)),t.forEach((b,T)=>{var M;return p.set(b,new GP(T,null!==(M=c.get(b))&&void 0!==M?M:null))}),p))}recalculateAndSaveOverlays(e,t){const r=Fc();let i=new $n((c,p)=>c-p),u=$t();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const p of c)p.keys().forEach(_=>{const b=t.get(_);if(null===b)return;let T=r.get(_)||mi.empty();T=p.applyToLocalView(b,T),r.set(_,T);const M=(i.get(p.batchId)||$t()).add(_);i=i.insert(p.batchId,M)})}).next(()=>{const c=[],p=i.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),b=_.key,T=_.value,M=MI();T.forEach(L=>{if(!u.has(L)){const G=bI(t.get(L),r.get(L));null!==G&&M.set(L,G),u=u.add(L)}}),c.push(this.documentOverlayCache.saveOverlays(e,b,M))}return ie.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return ze.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):h0(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(u=>{const c=i-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-u.size):ie.resolve(vr());let p=-1,_=u;return c.next(b=>ie.forEach(b,(T,M)=>(p<M.largestBatchId&&(p=M.largestBatchId),u.get(T)?ie.resolve():this.getBaseDocument(e,T,M).next(L=>{_=_.insert(T,L)}))).next(()=>this.populateOverlays(e,b,u)).next(()=>this.computeViews(e,_,b,$t())).next(T=>({batchId:p,changes:AI(T)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ze(t)).next(r=>{let i=kc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let u=kc();return this.indexManager.getCollectionParents(e,i).next(c=>ie.forEach(c,p=>{const _=(b=t,T=p.child(i),new bl(T,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt));var b,T;return this.getDocumentsMatchingCollectionQuery(e,_,r).next(b=>{b.forEach((T,M)=>{u=u.insert(T,M)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(u=>(i=u,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(u=>{u.forEach((p,_)=>{const b=_.getKey();null===i.get(b)&&(i=i.insert(b,Tn.newInvalidDocument(b)))});let c=kc();return i.forEach((p,_)=>{const b=u.get(p);void 0!==b&&fy(b.mutation,_,mi.empty(),Fn.now()),hy(t,_)&&(c=c.insert(p,_))}),c})}getBaseDocument(e,t,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,t):ie.resolve(Tn.newInvalidDocument(t))}}class qP{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return ie.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:Zr(r.createTime)}),ie.resolve()}getNamedQuery(e,t){return ie.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:U0(r.bundledQuery),readTime:Zr(r.readTime)}),ie.resolve();var r}}class zP{constructor(){this.overlays=new $n(ze.comparator),this.es=new Map}getOverlay(e,t){return ie.resolve(this.overlays.get(t))}getOverlays(e,t){const r=vr();return ie.forEach(t,i=>this.getOverlay(e,i).next(u=>{null!==u&&r.set(i,u)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,u)=>{this.ue(e,t,u)}),ie.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(u=>this.overlays=this.overlays.remove(u)),this.es.delete(r)),ie.resolve()}getOverlaysForCollection(e,t,r){const i=vr(),u=t.length+1,c=new ze(t.child("")),p=this.overlays.getIteratorFrom(c);for(;p.hasNext();){const _=p.getNext().value,b=_.getKey();if(!t.isPrefixOf(b.path))break;b.path.length===u&&_.largestBatchId>r&&i.set(_.getKey(),_)}return ie.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let u=new $n((b,T)=>b-T);const c=this.overlays.getIterator();for(;c.hasNext();){const b=c.getNext().value;if(b.getKey().getCollectionGroup()===t&&b.largestBatchId>r){let T=u.get(b.largestBatchId);null===T&&(T=vr(),u=u.insert(b.largestBatchId,T)),T.set(b.getKey(),b)}}const p=vr(),_=u.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((b,T)=>p.set(b,T)),!(p.size()>=i)););return ie.resolve(p)}ue(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const c=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new Ey(t,r));let u=this.es.get(t);void 0===u&&(u=$t(),this.es.set(t,u)),this.es.set(t,u.add(r.key))}}class eS{constructor(){this.ns=new Dn(wi.ss),this.rs=new Dn(wi.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new wi(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new wi(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new ze(new sn([])),r=new wi(t,e),i=new wi(t,e+1),u=[];return this.rs.forEachInRange([r,i],c=>{this.cs(c),u.push(c.key)}),u}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new ze(new sn([])),r=new wi(t,e),i=new wi(t,e+1);let u=$t();return this.rs.forEachInRange([r,i],c=>{u=u.add(c.key)}),u}containsKey(e){const t=new wi(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class wi{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return ze.comparator(e.key,t.key)||Vt(e._s,t._s)}static os(e,t){return Vt(e._s,t._s)||ze.comparator(e.key,t.key)}}class WP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new Dn(wi.ss)}checkEmpty(e){return ie.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const u=this.ws;this.ws++;const c=new L0(u,t,r,i);this.mutationQueue.push(c);for(const p of i)this.gs=this.gs.add(new wi(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ie.resolve(c)}lookupMutationBatch(e,t){return ie.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ps(t+1),u=i<0?0:i;return ie.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new wi(t,0),i=new wi(t,Number.POSITIVE_INFINITY),u=[];return this.gs.forEachInRange([r,i],c=>{const p=this.ys(c._s);u.push(p)}),ie.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Dn(Vt);return t.forEach(i=>{const u=new wi(i,0),c=new wi(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([u,c],p=>{r=r.add(p._s)})}),ie.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let u=r;ze.isDocumentKey(u)||(u=u.child(""));const c=new wi(new ze(u),0);let p=new Dn(Vt);return this.gs.forEachWhile(_=>{const b=_.key.path;return!!r.isPrefixOf(b)&&(b.length===i&&(p=p.add(_._s)),!0)},c),ie.resolve(this.Is(p))}Is(e){const t=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Tt(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return ie.forEach(t.mutations,i=>{const u=new wi(i.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new wi(t,0),i=this.gs.firstAfterOrEqual(r);return ie.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return ie.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class ZP{constructor(e){this.Es=e,this.docs=new $n(ze.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),u=i?i.size:0,c=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ie.resolve(r?r.document.mutableCopy():Tn.newInvalidDocument(t))}getEntries(e,t){let r=Gn();return t.forEach(i=>{const u=this.docs.get(i);r=r.insert(i,u?u.document.mutableCopy():Tn.newInvalidDocument(i))}),ie.resolve(r)}getAllFromCollection(e,t,r){let i=Gn();const u=new ze(t.child("")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:p,value:{document:_}}=c.getNext();if(!t.isPrefixOf(p.path))break;p.path.length>t.length+1||n0(Xb(_),r)<=0||(i=i.insert(_.key,_.mutableCopy()))}return ie.resolve(i)}getAllFromCollectionGroup(e,t,r,i){st()}As(e,t){return ie.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new KP(this)}getSize(e){return ie.resolve(this.size)}}class KP extends _x{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),ie.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class YP{constructor(e){this.persistence=e,this.Rs=new tu(t=>Xa(t),Th),this.lastRemoteSnapshotVersion=Nt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new eS,this.targetCount=0,this.vs=su.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,i)=>t(i)),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),ie.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new su(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,ie.resolve()}updateTargetData(e,t){return this.Dn(t),ie.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,t,r){let i=0;const u=[];return this.Rs.forEach((c,p)=>{p.sequenceNumber<=t&&null===r.get(p.targetId)&&(this.Rs.delete(c),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),i++)}),ie.waitFor(u).next(()=>i)}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return ie.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),ie.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const i=this.persistence.referenceDelegate,u=[];return i&&t.forEach(c=>{u.push(i.markPotentiallyOrphaned(e,c))}),ie.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),ie.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return ie.resolve(r)}containsKey(e,t){return ie.resolve(this.Ps.containsKey(t))}}class Dx{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new Hi(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new YP(this),this.indexManager=new E,this.remoteDocumentCache=new ZP(r=>this.referenceDelegate.xs(r)),this.It=new KT(t),this.Ns=new qP(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new zP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new WP(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){Pe("MemoryPersistence","Starting transaction:",e);const i=new QP(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(u=>this.referenceDelegate.Os(i).next(()=>u)).toPromise().then(u=>(i.raiseOnCommittedEvent(),u))}Ms(e,t){return ie.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class QP extends vh{constructor(e){super(),this.currentSequenceNumber=e}}class JI{constructor(e){this.persistence=e,this.Fs=new eS,this.$s=null}static Bs(e){return new JI(e)}get Ls(){if(this.$s)return this.$s;throw st()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),ie.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),ie.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),ie.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(u=>this.Ls.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.Ls,r=>{const i=ze.fromPath(r);return this.Us(e,i).next(u=>{u||t.removeEntry(i,Nt.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return ie.or([()=>ie.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class JP{constructor(e){this.It=e}$(e,t,r,i){const u=new Tp("createOrUpgrade",t);var p;r<1&&i>=1&&(e.createObjectStore("owner"),(p=e).createObjectStore("mutationQueues",{keyPath:"userId"}),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",VI,{unique:!0}),p.createObjectStore("documentMutations"),Cx(e),function(p){p.createObjectStore("remoteDocuments")}(e));let c=ie.resolve();return r<3&&i>=3&&(0!==r&&(function(p){p.deleteObjectStore("targetDocuments"),p.deleteObjectStore("targets"),p.deleteObjectStore("targetGlobal")}(e),Cx(e)),c=c.next(()=>function(p){const _=p.store("targetGlobal"),b={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Nt.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",b)}(u))),r<4&&i>=4&&(0!==r&&(c=c.next(()=>function(p,_){return _.store("mutations").W().next(b=>{p.deleteObjectStore("mutations"),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",VI,{unique:!0});const T=_.store("mutations"),M=b.map(L=>T.put(L));return ie.waitFor(M)})}(e,u))),c=c.next(()=>{!function(p){p.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(c=c.next(()=>this.qs(u))),r<6&&i>=6&&(c=c.next(()=>(function(p){p.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(u)))),r<7&&i>=7&&(c=c.next(()=>this.Gs(u))),r<8&&i>=8&&(c=c.next(()=>this.Qs(e,u))),r<9&&i>=9&&(c=c.next(()=>{!function(p){p.objectStoreNames.contains("remoteDocumentChanges")&&p.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(c=c.next(()=>this.js(u))),r<11&&i>=11&&(c=c.next(()=>{(function(p){p.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(p){p.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(c=c.next(()=>{!function(p){const _=p.createObjectStore("documentOverlays",{keyPath:fx});_.createIndex("collectionPathOverlayIndex",px,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",$I,{unique:!1})}(e)})),r<13&&i>=13&&(c=c.next(()=>function(p){const _=p.createObjectStore("remoteDocumentsV14",{keyPath:BI});_.createIndex("documentKeyIndex",Uc),_.createIndex("collectionGroupIndex",jI)}(e)).next(()=>this.Ws(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(c=c.next(()=>this.zs(e,u))),r<15&&i>=15&&(c=c.next(()=>function(p){p.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),p.createObjectStore("indexState",{keyPath:F0}).createIndex("sequenceNumberIndex",vy,{unique:!1}),p.createObjectStore("indexEntries",{keyPath:dx}).createIndex("documentKeyIndex",hx,{unique:!1})}(e))),c}Ks(e){let t=0;return e.store("remoteDocuments").Z((r,i)=>{t+=Se(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}qs(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(i=>ie.forEach(i,u=>{const c=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",c).next(p=>ie.forEach(p,_=>{Tt(_.userId===u.userId);const b=Lh(this.It,_);return Et(e,u.userId,b).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const u=[];return r.Z((c,p)=>{const _=new sn(c),b=[0,Gi(_)];u.push(t.get(b).next(T=>T?ie.resolve():t.put({targetId:0,path:Gi(_),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>ie.waitFor(u))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:k0});const r=t.store("collectionParents"),i=new I,u=c=>{if(i.add(c)){const p=c.lastSegment(),_=c.popLast();return r.put({collectionId:p,parent:Gi(_)})}};return t.store("remoteDocuments").Z({X:!0},(c,p)=>{const _=new sn(c);return u(_.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([c,p,_],b)=>{const T=iu(p);return u(T.popLast())}))}js(e){const t=e.store("targets");return t.Z((r,i)=>{const u=Bp(i),c=ZI(this.It,u);return t.put(c)})}Ws(e,t){const r=t.store("remoteDocuments"),i=[];return r.Z((u,c)=>{const p=t.store("remoteDocumentsV14"),_=(b=c,b.document?new ze(sn.fromString(b.document.name).popFirst(5)):b.noDocument?ze.fromSegments(b.noDocument.path):b.unknownDocument?ze.fromSegments(b.unknownDocument.path):st()).path.toArray();var b;const T={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};i.push(p.put(T))}).next(()=>ie.waitFor(i))}zs(e,t){const r=t.store("mutations"),i=vx(this.It),u=new Dx(JI.Bs,this.It.re);return r.W().next(c=>{const p=new Map;return c.forEach(_=>{var b;let T=null!==(b=p.get(_.userId))&&void 0!==b?b:$t();Lh(this.It,_).keys().forEach(M=>T=T.add(M)),p.set(_.userId,T)}),ie.forEach(p,(_,b)=>{const T=new zr(b),M=B0.oe(this.It,T),L=u.getIndexManager(T),G=Dt.oe(T,this.It,L,u.referenceDelegate);return new Ix(i,G,M,L).recalculateAndSaveOverlaysForDocumentKeys(new wy(t,Hi.at),_).next()})})}}function Cx(n){n.createObjectStore("targetDocuments",{keyPath:O0}).createIndex("documentTargetsIndex",WT,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",R0,{unique:!0}),n.createObjectStore("targetGlobal")}const tS="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class nS{constructor(e,t,r,i,u,c,p,_,b,T,M=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Hs=u,this.window=c,this.document=p,this.Js=b,this.Ys=T,this.Xs=M,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=L=>Promise.resolve(),!nS.C())throw new Ne(ce.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new jP(this,i),this.ii=t+"main",this.It=new KT(_),this.ri=new js(this.ii,this.Xs,new JP(this.It)),this.Cs=new j0(this.referenceDelegate,this.It),this.remoteDocumentCache=vx(this.It),this.Ns=new gx,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===T&&yr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ne(ce.FAILED_PRECONDITION,tS);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new Hi(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var r=(0,ye.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,ye.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,ye.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>XI(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(xc(e))return Pe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Pe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return q0(e).get("owner").next(t=>ie.resolve(this.mi(t)))}gi(e){return XI(e).delete(this.clientId)}yi(){var e=this;return(0,ye.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=kr(r,"clientMetadata");return i.W().next(u=>{const c=e.Ii(u,18e5),p=u.filter(_=>-1===c.indexOf(_));return ie.forEach(p,_=>i.delete(_.clientId)).next(()=>p)})}).catch(()=>[]);if(e.oi)for(const r of t)e.oi.removeItem(e.Ti(r.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?ie.resolve(!0):q0(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Ne(ce.FAILED_PRECONDITION,tS);return!1}}return!(!this.networkEnabled||!this.inForeground)||XI(e).W().next(r=>void 0===this.Ii(r,5e3).find(i=>{if(this.clientId!==i.clientId){const c=!this.inForeground&&i.inForeground,p=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||c&&p)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Pe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ye.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new wy(t,Hi.at);return e._i(r).next(()=>e.gi(r))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(r=>this.pi(r.updateTimeMs,t)&&!this.Ei(r.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>XI(e).W().next(t=>this.Ii(t,18e5).map(r=>r.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return Dt.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new N(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return B0.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,r){Pe("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",u=15===(c=this.Xs)?zI:14===c?qI:13===c?GI:12===c?ZT:11===c?HI:void st();var c;let p;return this.ri.runTransaction(e,i,u,_=>(p=new wy(_,this.Ss?this.Ss.next():Hi.at),"readwrite-primary"===t?this.fi(p).next(b=>!!b||this.di(p)).next(b=>{if(!b)throw yr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Ne(ce.FAILED_PRECONDITION,eI);return r(p)}).next(b=>this.wi(p).next(()=>b)):this.Vi(p).next(()=>r(p)))).then(_=>(p.raiseOnCommittedEvent(),_))}Vi(e){return q0(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ne(ce.FAILED_PRECONDITION,tS)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return q0(e).put("owner",t)}static C(){return js.C()}_i(e){const t=q0(e);return t.get("owner").next(r=>this.mi(r)?(Pe("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ie.resolve())}pi(e,t){const r=Date.now();return!(e<r-t||e>r&&(yr(`Detected an update time that is in the future: ${e} > ${r}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,Yt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const r=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Pe("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return yr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){yr("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function q0(n){return kr(n,"owner")}function XI(n){return kr(n,"clientMetadata")}function rS(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class iS{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=i}static Ci(e,t){let r=$t(),i=$t();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}return new iS(e,t.fromCache,r,i)}}class Tx{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.ki(e,t).next(u=>u||this.Oi(e,t,i,r)).next(u=>u||this.Mi(e,t))}ki(e,t){if(mI(t))return ie.resolve(null);let r=vi(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=dy(t,null,"F"),r=vi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(u=>{const c=$t(...u);return this.Ni.getDocuments(e,c).next(p=>this.indexManager.getMinOffset(e,r).next(_=>{const b=this.Fi(t,p);return this.$i(t,b,c,_.readTime)?this.ki(e,dy(t,null,"F")):this.Bi(e,b,t,_)}))})))}Oi(e,t,r,i){return mI(t)||i.isEqual(Nt.min())?this.Mi(e,t):this.Ni.getDocuments(e,r).next(u=>{const c=this.Fi(t,u);return this.$i(t,c,r,i)?this.Mi(e,t):(Ip()<=ds.in.DEBUG&&Pe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),p0(t)),this.Bi(e,c,t,Jb(i,-1)))})}Fi(e,t){let r=new Dn(m0(e));return t.forEach((i,u)=>{hy(e,u)&&(r=r.add(u))}),r}$i(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(i)>0)}Mi(e,t){return Ip()<=ds.in.DEBUG&&Pe("QueryEngine","Using full collection scan to execute query:",p0(t)),this.Ni.getDocumentsMatchingQuery(e,t,gs.min())}Bi(e,t,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(u=>(t.forEach(c=>{u=u.insert(c.key,c)}),u))}}class XP{constructor(e,t,r,i){this.persistence=e,this.Li=t,this.It=i,this.Ui=new $n(Vt),this.qi=new tu(u=>Xa(u),Th),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ix(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function Sx(n,e,t,r){return new XP(n,e,t,r)}function Ax(n,e){return sS.apply(this,arguments)}function sS(){return sS=(0,ye.Z)(function*(n,e){const t=qe(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(u=>(i=u,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(u=>{const c=[],p=[];let _=$t();for(const b of i){c.push(b.batchId);for(const T of b.mutations)_=_.add(T.key)}for(const b of u){p.push(b.batchId);for(const T of b.mutations)_=_.add(T.key)}return t.localDocuments.getDocuments(r,_).next(b=>({ji:b,removedBatchIds:c,addedBatchIds:p}))})})}),sS.apply(this,arguments)}function eR(n,e){const t=qe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),u=t.Gi.newChangeBuffer({trackRemovals:!0});return function(c,p,_,b){const T=_.batch,M=T.keys();let L=ie.resolve();return M.forEach(G=>{L=L.next(()=>b.getEntry(p,G)).next(Z=>{const ue=_.docVersions.get(G);Tt(null!==ue),Z.version.compareTo(ue)<0&&(T.applyToRemoteDocument(Z,_),Z.isValidDocument()&&(Z.setReadTime(_.commitVersion),b.addEntry(Z)))})}),L.next(()=>c.mutationQueue.removeMutationBatch(p,T))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let p=$t();for(let _=0;_<c.mutationResults.length;++_)c.mutationResults[_].transformResults.length>0&&(p=p.add(c.batch.mutations[_].key));return p}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function Mx(n){const e=qe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function tR(n,e){const t=qe(n),r=e.snapshotVersion;let i=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const c=t.Gi.newChangeBuffer({trackRemovals:!0});i=t.Ui;const p=[];e.targetChanges.forEach((T,M)=>{const L=i.get(M);if(!L)return;p.push(t.Cs.removeMatchingKeys(u,T.removedDocuments,M).next(()=>t.Cs.addMatchingKeys(u,T.addedDocuments,M)));let G=L.withSequenceNumber(u.currentSequenceNumber);var Z,ue,_e;e.targetMismatches.has(M)?G=G.withResumeToken(Or.EMPTY_BYTE_STRING,Nt.min()).withLastLimboFreeSnapshotVersion(Nt.min()):T.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(T.resumeToken,r)),i=i.insert(M,G),ue=G,_e=T,(0===(Z=L).resumeToken.approximateByteSize()||ue.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=3e8||_e.addedDocuments.size+_e.modifiedDocuments.size+_e.removedDocuments.size>0)&&p.push(t.Cs.updateTargetData(u,G))});let _=Gn(),b=$t();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(u,T))}),p.push(xx(u,c,e.documentUpdates).next(T=>{_=T.Wi,b=T.zi})),!r.isEqual(Nt.min())){const T=t.Cs.getLastRemoteSnapshotVersion(u).next(M=>t.Cs.setTargetsMetadata(u,u.currentSequenceNumber,r));p.push(T)}return ie.waitFor(p).next(()=>c.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,_,b)).next(()=>_)}).then(u=>(t.Ui=i,u))}function xx(n,e,t){let r=$t(),i=$t();return t.forEach(u=>r=r.add(u)),e.getEntries(n,r).next(u=>{let c=Gn();return t.forEach((p,_)=>{const b=u.get(p);_.isFoundDocument()!==b.isFoundDocument()&&(i=i.add(p)),_.isNoDocument()&&_.version.isEqual(Nt.min())?(e.removeEntry(p,_.readTime),c=c.insert(p,_)):!b.isValidDocument()||_.version.compareTo(b.version)>0||0===_.version.compareTo(b.version)&&b.hasPendingWrites?(e.addEntry(_),c=c.insert(p,_)):Pe("LocalStore","Ignoring outdated watch update for ",p,". Current version:",b.version," Watch version:",_.version)}),{Wi:c,zi:i}})}function nR(n,e){const t=qe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Ay(n,e){const t=qe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Cs.getTargetData(r,e).next(u=>u?(i=u,ie.resolve(i)):t.Cs.allocateTargetId(r).next(c=>(i=new aa(e,c,0,r.currentSequenceNumber),t.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ui.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(r.targetId,r),t.qi.set(e,r.targetId)),r})}function My(n,e,t){return oS.apply(this,arguments)}function oS(){return oS=(0,ye.Z)(function*(n,e,t){const r=qe(n),i=r.Ui.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!xc(c))throw c;Pe("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ui=r.Ui.remove(e),r.qi.delete(i.target)}),oS.apply(this,arguments)}function eD(n,e,t){const r=qe(n);let i=Nt.min(),u=$t();return r.persistence.runTransaction("Execute query","readonly",c=>function(p,_,b){const T=qe(p),M=T.qi.get(b);return void 0!==M?ie.resolve(T.Ui.get(M)):T.Cs.getTargetData(_,b)}(r,c,vi(e)).next(p=>{if(p)return i=p.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(c,p.targetId).next(_=>{u=_})}).next(()=>r.Li.getDocumentsMatchingQuery(c,e,t?i:Nt.min(),t?u:$t())).next(p=>(Rx(r,g0(e),p),{documents:p,Hi:u})))}function Nx(n,e){const t=qe(n),r=qe(t.Cs),i=t.Ui.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",u=>r.se(u,e).next(c=>c?c.target:null))}function Px(n,e){const t=qe(n),r=t.Ki.get(e)||Nt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Gi.getAllFromCollectionGroup(i,e,Jb(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(Rx(t,e,i),i))}function Rx(n,e,t){let r=n.Ki.get(e)||Nt.min();t.forEach((i,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.Ki.set(e,r)}function aS(){return aS=(0,ye.Z)(function*(n,e,t,r){const i=qe(n);let u=$t(),c=Gn();for(const b of t){const T=e.Ji(b.metadata.name);b.document&&(u=u.add(T));const M=e.Yi(b);M.setReadTime(e.Xi(b.metadata.readTime)),c=c.insert(T,M)}const p=i.Gi.newChangeBuffer({trackRemovals:!0}),_=yield Ay(i,(b=r,vi(Ah(sn.fromString(`__bundle__/docs/${b}`)))));var b;return i.persistence.runTransaction("Apply bundle documents","readwrite",b=>xx(b,p,c).next(T=>(p.apply(b),T)).next(T=>i.Cs.removeMatchingKeysForTargetId(b,_.targetId).next(()=>i.Cs.addMatchingKeys(b,u,_.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(b,T.Wi,T.zi)).next(()=>T.Wi)))}),aS.apply(this,arguments)}function iR(n,e){return uS.apply(this,arguments)}function uS(){return uS=(0,ye.Z)(function*(n,e,t=$t()){const r=yield Ay(n,vi(U0(e.bundledQuery))),i=qe(n);return i.persistence.runTransaction("Save named query","readwrite",u=>{const c=Zr(e.readTime);if(r.snapshotVersion.compareTo(c)>=0)return i.Ns.saveNamedQuery(u,e);const p=r.withResumeToken(Or.EMPTY_BYTE_STRING,c);return i.Ui=i.Ui.insert(p.targetId,p),i.Cs.updateTargetData(u,p).next(()=>i.Cs.removeMatchingKeysForTargetId(u,r.targetId)).next(()=>i.Cs.addMatchingKeys(u,t,r.targetId)).next(()=>i.Ns.saveNamedQuery(u,e))})}),uS.apply(this,arguments)}function Ox(n,e){return`firestore_clients_${n}_${e}`}function kx(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function lS(n,e){return`firestore_targets_${n}_${e}`}class tD{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Zi(e,t,r){const i=JSON.parse(r);let u,c="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return c&&i.error&&(c="string"==typeof i.error.message&&"string"==typeof i.error.code,c&&(u=new Ne(i.error.code,i.error.message))),c?new tD(e,t,i.state,u):(yr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class z0{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Zi(e,t){const r=JSON.parse(t);let i,u="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(i=new Ne(r.error.code,r.error.message))),u?new z0(e,r.state,i):(yr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class nD{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,u=Fp();for(let c=0;i&&c<r.activeTargetIds.length;++c)i=ny(r.activeTargetIds[c]),u=u.add(r.activeTargetIds[c]);return i?new nD(e,u):(yr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class cS{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new cS(t.clientId,t.onlineState):(yr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class dS{constructor(){this.activeTargetIds=Fp()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class hS{constructor(e,t,r,i,u){this.window=e,this.Hs=t,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new $n(Vt),this.started=!1,this.cr=[];const c=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.ar=Ox(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new dS),this.lr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(p){return`firestore_bundle_loaded_v2_${p}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ye.Z)(function*(){const t=yield e.syncEngine.vi();for(const i of t){if(i===e.sr)continue;const u=e.getItem(Ox(e.persistenceKey,i));if(u){const c=nD.Zi(i,u);c&&(e.ur=e.ur.insert(c.clientId,c))}}e.gr();const r=e.storage.getItem(e.wr);if(r){const i=e.yr(r);i&&e.pr(i)}for(const i of e.cr)e.rr(i);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,r){this.Tr(e,t,r),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(lS(this.persistenceKey,e));if(r){const i=z0.Zi(e,r);i&&(t=i.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(lS(this.persistenceKey,e))}updateQueryState(e,t,r){this.Rr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Er(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Pe("SharedClientState","READ",e,t),t}setItem(e,t){Pe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Pe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Pe("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ar)return void yr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,ye.Z)(function*(){if(t.started){if(null!==r.key)if(t.lr.test(r.key)){if(null==r.newValue){const i=t.vr(r.key);return t.Vr(i,null)}{const i=t.Sr(r.key,r.newValue);if(i)return t.Vr(i.clientId,i)}}else if(t.dr.test(r.key)){if(null!==r.newValue){const i=t.Dr(r.key,r.newValue);if(i)return t.Cr(i)}}else if(t._r.test(r.key)){if(null!==r.newValue){const i=t.Nr(r.key,r.newValue);if(i)return t.kr(i)}}else if(r.key===t.wr){if(null!==r.newValue){const i=t.yr(r.newValue);if(i)return t.pr(i)}}else if(r.key===t.hr){const i=function(u){let c=Hi.at;if(null!=u)try{const p=JSON.parse(u);Tt("number"==typeof p),c=p}catch(p){yr("SharedClientState","Failed to read sequence number from WebStorage",p)}return c}(r.newValue);i!==Hi.at&&t.sequenceNumberHandler(i)}else if(r.key===t.mr){const i=t.Or(r.newValue);yield Promise.all(i.map(u=>t.syncEngine.Mr(u)))}}else t.cr.push(r)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,r){const i=new tD(this.currentUser,e,t,r),u=kx(this.persistenceKey,this.currentUser,e);this.setItem(u,i.tr())}Er(e){const t=kx(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,r){const i=lS(this.persistenceKey,e),u=new z0(e,t,r);this.setItem(i,u.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const r=this.vr(e);return nD.Zi(r,t)}Dr(e,t){const r=this.dr.exec(e),i=Number(r[1]);return tD.Zi(new zr(void 0!==r[2]?r[2]:null),i,t)}Nr(e,t){const r=this._r.exec(e),i=Number(r[1]);return z0.Zi(i,t)}yr(e){return cS.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,ye.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);Pe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),u=this.Ir(r),c=[],p=[];return u.forEach(_=>{i.has(_)||c.push(_)}),i.forEach(_=>{u.has(_)||p.push(_)}),this.syncEngine.Br(c,p).then(()=>{this.ur=r})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=Fp();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class Fx{constructor(){this.Lr=new dS,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,r){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new dS,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class sR{qr(e){}shutdown(){}}class Lx{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Pe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Pe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const oR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class aR{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class uR extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,r,i,u){const c=this.ho(e,t);Pe("RestConnection","Sending: ",c,r);const p={};return this.lo(p,i,u),this.fo(e,c,p,r).then(_=>(Pe("RestConnection","Received: ",_),_),_=>{throw Mc("RestConnection",`${e} failed with error: `,_,"url: ",c,"request:",r),_})}_o(e,t,r,i,u,c){return this.ao(e,t,r,i,u)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+gh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,u)=>e[u]=i),r&&r.headers.forEach((i,u)=>e[u]=i)}ho(e,t){return`${this.oo}/v1/${t}:${oR[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,i){return new Promise((u,c)=>{const p=new Hb;p.setWithCredentials(!0),p.listenOnce(dT.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Yv.NO_ERROR:const b=p.getResponseJson();Pe("Connection","XHR received:",JSON.stringify(b)),u(b);break;case Yv.TIMEOUT:Pe("Connection",'RPC "'+e+'" timed out'),c(new Ne(ce.DEADLINE_EXCEEDED,"Request time out"));break;case Yv.HTTP_ERROR:const T=p.getStatus();if(Pe("Connection",'RPC "'+e+'" failed with status:',T,"response text:",p.getResponseText()),T>0){const M=p.getResponseJson().error;if(M&&M.status&&M.message){const L=function(G){const Z=G.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(Z)>=0?Z:ce.UNKNOWN}(M.status);c(new Ne(L,M.message))}else c(new Ne(ce.UNKNOWN,"Server responded with status "+p.getStatus()))}else c(new Ne(ce.UNAVAILABLE,"Connection failed."));break;default:st()}}finally{Pe("Connection",'RPC "'+e+'" completed.')}});const _=JSON.stringify(i);p.send(t,"POST",_,r,15)})}wo(e,t,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=lT(),c=cT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(p.xmlHttpFactory=new hT({})),this.lo(p.initMessageHeaders,t,r),p.encodeInitMessageHeaders=!0;const _=i.join("");Pe("Connection","Creating WebChannel: "+_,p);const b=u.createWebChannel(_,p);let T=!1,M=!1;const L=new aR({Hr:Z=>{M?Pe("Connection","Not sending because WebChannel is closed:",Z):(T||(Pe("Connection","Opening WebChannel transport."),b.open(),T=!0),Pe("Connection","WebChannel sending:",Z),b.send(Z))},Jr:()=>b.close()}),G=(Z,ue,_e)=>{Z.listen(ue,Ye=>{try{_e(Ye)}catch(at){setTimeout(()=>{throw at},0)}})};return G(b,Zm.EventType.OPEN,()=>{M||Pe("Connection","WebChannel transport opened.")}),G(b,Zm.EventType.CLOSE,()=>{M||(M=!0,Pe("Connection","WebChannel transport closed"),L.io())}),G(b,Zm.EventType.ERROR,Z=>{M||(M=!0,Mc("Connection","WebChannel transport errored:",Z),L.io(new Ne(ce.UNAVAILABLE,"The operation could not be completed")))}),G(b,Zm.EventType.MESSAGE,Z=>{var ue;if(!M){const _e=Z.data[0];Tt(!!_e);const Ye=_e,at=Ye.error||(null===(ue=Ye[0])||void 0===ue?void 0:ue.error);if(at){Pe("Connection","WebChannel received error:",at);const gt=at.status;let ct=function(Pt){const ln=Mr[Pt];if(void 0!==ln)return v0(ln)}(gt),St=at.message;void 0===ct&&(ct=ce.INTERNAL,St="Unknown error status: "+gt+" with message "+at.message),M=!0,L.io(new Ne(ct,St)),b.close()}else Pe("Connection","WebChannel received:",_e),L.ro(_e)}}),G(c,$b.STAT_EVENT,Z=>{Z.stat===Qv.PROXY?Pe("Connection","Detected buffering proxy"):Z.stat===Qv.NOPROXY&&Pe("Connection","Detected no buffering proxy")}),setTimeout(()=>{L.so()},0),L}}function Vx(){return typeof window<"u"?window:null}function rD(){return typeof document<"u"?document:null}function W0(n){return new VT(n,!0)}class fS{constructor(e,t,r=1e3,i=1.5,u=6e4){this.Hs=e,this.timerId=t,this.mo=r,this.yo=i,this.po=u,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-r);i>0&&Pe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class Ux{constructor(e,t,r,i,u,c,p,_){this.Hs=e,this.vo=r,this.Vo=i,this.So=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new fS(e,t)}ko(){return 1===this.state||5===this.state||this.Oo()}Oo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var e=this;return(0,ye.Z)(function*(){e.ko()&&(yield e.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Oo()&&null===this.Co&&(this.Co=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}Bo(){var e=this;return(0,ye.Z)(function*(){if(e.Oo())return e.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(e,t){var r=this;return(0,ye.Z)(function*(){r.Uo(),r.qo(),r.No.cancel(),r.Do++,4!==e?r.No.reset():t&&t.code===ce.RESOURCE_EXHAUSTED?(yr(t.toString()),yr("Using maximum backoff delay to prevent overloading the backend."),r.No.Ao()):t&&t.code===ce.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Ko(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),t=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Do===t&&this.Qo(r,i)},r=>{e(()=>{const i=new Ne(ce.UNKNOWN,"Fetching auth token failed: "+r.message);return this.jo(i)})})}Qo(e,t){const r=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.xo=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.Oo()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.jo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Mo(){var e=this;this.state=5,this.No.Ro((0,ye.Z)(function*(){e.state=0,e.start()}))}jo(e){return Pe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return t=>{this.Hs.enqueueAndForget(()=>this.Do===e?t():(Pe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class lR extends Ux{constructor(e,t,r,i,u,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,c),this.It=u}Wo(e,t){return this.So.wo("Listen",e,t)}onMessage(e){this.No.reset();const t=function kI(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:st(),i=e.targetChange.targetIds||[],u=function(_,b){return _.gt?(Tt(void 0===b||"string"==typeof b),Or.fromBase64String(b||"")):(Tt(void 0===b||b instanceof Uint8Array),Or.fromUint8Array(b||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,p=c&&function(_){const b=void 0===_.code?ce.UNKNOWN:v0(_.code);return new Ne(b,_.message||"")}(c);t=new w0(r,i,u,p||null)}else if("documentChange"in e){const r=e.documentChange,i=Eo(n,r.document.name),u=Zr(r.document.updateTime),c=new _i({mapValue:{fields:r.document.fields}}),p=Tn.newFoundDocument(i,u,c);t=new Vp(r.targetIds||[],r.removedTargetIds||[],p.key,p)}else if("documentDelete"in e){const r=e.documentDelete,i=Eo(n,r.document),u=r.readTime?Zr(r.readTime):Nt.min(),c=Tn.newNoDocument(i,u);t=new Vp([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,i=Eo(n,r.document);t=new Vp([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return st();{const r=e.filter,u=new kT(r.count||0);t=new NI(r.targetId,u)}}var _;return t}(this.It,e),r=function(i){if(!("targetChange"in i))return Nt.min();const u=i.targetChange;return u.targetIds&&u.targetIds.length?Nt.min():u.readTime?Zr(u.readTime):Nt.min()}(e);return this.listener.zo(t,r)}Ho(e){const t={};t.database=my(this.It),t.addTarget=function(i,u){let c;const p=u.target;return c=sy(p)?{documents:x0(i,p)}:{query:N0(i,p)},c.targetId=u.targetId,u.resumeToken.approximateByteSize()>0?c.resumeToken=RI(i,u.resumeToken):u.snapshotVersion.compareTo(Nt.min())>0&&(c.readTime=py(i,u.snapshotVersion.toTimestamp())),c}(this.It,e);const r=function FI(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return st()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Lo(t)}Jo(e){const t={};t.database=my(this.It),t.removeTarget=e,this.Lo(t)}}class cR extends Ux{constructor(e,t,r,i,u,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,c),this.It=u,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,t){return this.So.wo("Write",e,t)}onMessage(e){if(Tt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const t=function _y(n,e){return n&&n.length>0?(Tt(void 0!==e),n.map(t=>function(r,i){let u=Zr(r.updateTime?r.updateTime:i);return u.isEqual(Nt.min())&&(u=Zr(i)),new EI(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Zr(e.commitTime);return this.listener.tu(r,t)}return Tt(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=my(this.It),this.Lo(e)}Zo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Oh(this.It,r))};this.Lo(t)}}class dR extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.So=r,this.It=i,this.su=!1}iu(){if(this.su)throw new Ne(ce.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,u])=>this.So.ao(e,t,r,i,u)).catch(i=>{throw"FirebaseError"===i.name?(i.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ne(ce.UNKNOWN,i.toString())})}_o(e,t,r,i){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,c])=>this.So._o(e,t,r,u,c,i)).catch(u=>{throw"FirebaseError"===u.name?(u.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ne(ce.UNKNOWN,u.toString())})}terminate(){this.su=!0}}class fR{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}cu(){0===this.ru&&(this.au("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.au("Offline"),Promise.resolve())))}lu(e){"Online"===this.state?this.au("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.au("Offline")))}set(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.au(e)}au(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(yr(t),this.uu=!1):Pe("OnlineStateTracker",t)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class pR{constructor(e,t,r,i,u){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=u,this.gu.qr(p=>{r.enqueueAndForget((0,ye.Z)(function*(){var _;jc(c)&&(Pe("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,ye.Z)(function*(b){const T=qe(b);T.wu.add(4),yield xy(T),T.yu.set("Unknown"),T.wu.delete(4),yield Z0(T)}),function(b){return _.apply(this,arguments)})(c))}))}),this.yu=new fR(r,i)}}function Z0(n){return gS.apply(this,arguments)}function gS(){return gS=(0,ye.Z)(function*(n){if(jc(n))for(const e of n.mu)yield e(!0)}),gS.apply(this,arguments)}function xy(n){return mS.apply(this,arguments)}function mS(){return mS=(0,ye.Z)(function*(n){for(const e of n.mu)yield e(!1)}),mS.apply(this,arguments)}function iD(n,e){const t=qe(n);t._u.has(e.targetId)||(t._u.set(e.targetId,e),vS(t)?_S(t):Py(t).Oo()&&yS(t,e))}function K0(n,e){const t=qe(n),r=Py(t);t._u.delete(e),r.Oo()&&Bx(t,e),0===t._u.size&&(r.Oo()?r.$o():jc(t)&&t.yu.set("Unknown"))}function yS(n,e){n.pu.Mt(e.targetId),Py(n).Ho(e)}function Bx(n,e){n.pu.Mt(e),Py(n).Jo(e)}function _S(n){n.pu=new E0({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),se:e=>n._u.get(e)||null}),Py(n).start(),n.yu.cu()}function vS(n){return jc(n)&&!Py(n).ko()&&n._u.size>0}function jc(n){return 0===qe(n).wu.size}function jx(n){n.pu=void 0}function gR(n){return wS.apply(this,arguments)}function wS(){return wS=(0,ye.Z)(function*(n){n._u.forEach((e,t)=>{yS(n,e)})}),wS.apply(this,arguments)}function mR(n,e){return ES.apply(this,arguments)}function ES(){return ES=(0,ye.Z)(function*(n,e){jx(n),vS(n)?(n.yu.lu(e),_S(n)):n.yu.set("Unknown")}),ES.apply(this,arguments)}function yR(n,e,t){return bS.apply(this,arguments)}function bS(){return bS=(0,ye.Z)(function*(n,e,t){if(n.yu.set("Online"),e instanceof w0&&2===e.state&&e.cause)try{yield(r=(0,ye.Z)(function*(i,u){const c=u.cause;for(const p of u.targetIds)i._u.has(p)&&(yield i.remoteSyncer.rejectListen(p,c),i._u.delete(p),i.pu.removeTarget(p))}),function(i,u){return r.apply(this,arguments)})(n,e)}catch(r){Pe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield sD(n,r)}else if(e instanceof Vp?n.pu.Gt(e):e instanceof NI?n.pu.Yt(e):n.pu.Wt(e),!t.isEqual(Nt.min()))try{const r=yield Mx(n.localStore);t.compareTo(r)>=0&&(yield function(i,u){const c=i.pu.te(u);return c.targetChanges.forEach((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const b=i._u.get(_);b&&i._u.set(_,b.withResumeToken(p.resumeToken,u))}}),c.targetMismatches.forEach(p=>{const _=i._u.get(p);if(!_)return;i._u.set(p,_.withResumeToken(Or.EMPTY_BYTE_STRING,_.snapshotVersion)),Bx(i,p);const b=new aa(_.target,p,1,_.sequenceNumber);yS(i,b)}),i.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){Pe("RemoteStore","Failed to raise snapshot:",r),yield sD(n,r)}var r}),bS.apply(this,arguments)}function sD(n,e,t){return IS.apply(this,arguments)}function IS(){return IS=(0,ye.Z)(function*(n,e,t){if(!xc(e))throw e;n.wu.add(1),yield xy(n),n.yu.set("Offline"),t||(t=()=>Mx(n.localStore)),n.asyncQueue.enqueueRetryable((0,ye.Z)(function*(){Pe("RemoteStore","Retrying IndexedDB access"),yield t(),n.wu.delete(1),yield Z0(n)}))}),IS.apply(this,arguments)}function $x(n,e){return e().catch(t=>sD(n,t,e))}function Ny(n){return DS.apply(this,arguments)}function DS(){return DS=(0,ye.Z)(function*(n){const e=qe(n),t=Uh(e);let r=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;_R(e);)try{const i=yield nR(e.localStore,r);if(null===i){0===e.du.length&&t.$o();break}r=i.batchId,vR(e,i)}catch(i){yield sD(e,i)}Hx(e)&&Gx(e)}),DS.apply(this,arguments)}function _R(n){return jc(n)&&n.du.length<10}function vR(n,e){n.du.push(e);const t=Uh(n);t.Oo()&&t.Xo&&t.Zo(e.mutations)}function Hx(n){return jc(n)&&!Uh(n).ko()&&n.du.length>0}function Gx(n){Uh(n).start()}function wR(n){return CS.apply(this,arguments)}function CS(){return CS=(0,ye.Z)(function*(n){Uh(n).nu()}),CS.apply(this,arguments)}function ER(n){return TS.apply(this,arguments)}function TS(){return TS=(0,ye.Z)(function*(n){const e=Uh(n);for(const t of n.du)e.Zo(t.mutations)}),TS.apply(this,arguments)}function bR(n,e,t){return SS.apply(this,arguments)}function SS(){return SS=(0,ye.Z)(function*(n,e,t){const r=n.du.shift(),i=V0.from(r,e,t);yield $x(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Ny(n)}),SS.apply(this,arguments)}function IR(n,e){return AS.apply(this,arguments)}function AS(){return AS=(0,ye.Z)(function*(n,e){var t;e&&Uh(n).Xo&&(yield(t=(0,ye.Z)(function*(r,i){if(TI(u=i.code)&&u!==ce.ABORTED){const c=r.du.shift();Uh(r).Fo(),yield $x(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,i)),yield Ny(r)}var u}),function(r,i){return t.apply(this,arguments)})(n,e)),Hx(n)&&Gx(n)}),AS.apply(this,arguments)}function qx(n,e){return MS.apply(this,arguments)}function MS(){return MS=(0,ye.Z)(function*(n,e){const t=qe(n);t.asyncQueue.verifyOperationInProgress(),Pe("RemoteStore","RemoteStore received new credentials");const r=jc(t);t.wu.add(3),yield xy(t),r&&t.yu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.wu.delete(3),yield Z0(t)}),MS.apply(this,arguments)}function xS(n,e){return NS.apply(this,arguments)}function NS(){return NS=(0,ye.Z)(function*(n,e){const t=qe(n);e?(t.wu.delete(2),yield Z0(t)):e||(t.wu.add(2),yield xy(t),t.yu.set("Unknown"))}),NS.apply(this,arguments)}function Py(n){return n.Iu||(n.Iu=function(e,t,r){const i=qe(e);return i.iu(),new lR(t,i.So,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:gR.bind(null,n),Zr:mR.bind(null,n),zo:yR.bind(null,n)}),n.mu.push(function(){var e=(0,ye.Z)(function*(t){t?(n.Iu.Fo(),vS(n)?_S(n):n.yu.set("Unknown")):(yield n.Iu.stop(),jx(n))});return function(t){return e.apply(this,arguments)}}())),n.Iu}function Uh(n){return n.Tu||(n.Tu=function(e,t,r){const i=qe(e);return i.iu(),new cR(t,i.So,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:wR.bind(null,n),Zr:IR.bind(null,n),eu:ER.bind(null,n),tu:bR.bind(null,n)}),n.mu.push(function(){var e=(0,ye.Z)(function*(t){t?(n.Tu.Fo(),yield Ny(n)):(yield n.Tu.stop(),n.du.length>0&&(Pe("RemoteStore",`Stopping write stream with ${n.du.length} pending writes`),n.du=[]))});return function(t){return e.apply(this,arguments)}}())),n.Tu}class PS{constructor(e,t,r,i,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=u,this.deferred=new Ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,r,i,u){const c=Date.now()+r,p=new PS(e,t,c,i,u);return p.start(r),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ne(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ry(n,e){if(yr("AsyncQueue",`${e}: ${n}`),xc(n))return new Ne(ce.UNAVAILABLE,`${e}: ${n}`);throw n}class Oy{constructor(e){this.comparator=e?(t,r)=>e(t,r)||ze.comparator(t.key,r.key):(t,r)=>ze.comparator(t.key,r.key),this.keyedMap=kc(),this.sortedSet=new $n(this.comparator)}static emptySet(e){return new Oy(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Oy)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,u=r.getNext().key;if(!i.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Oy;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class zx{constructor(){this.Eu=new $n(ze.comparator)}track(e){const t=e.doc.key,r=this.Eu.get(t);r?0!==e.type&&3===r.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==r.type?this.Eu=this.Eu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Eu=this.Eu.remove(t):1===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):st():this.Eu=this.Eu.insert(t,e)}Au(){const e=[];return this.Eu.inorderTraversal((t,r)=>{e.push(r)}),e}}class ky{constructor(e,t,r,i,u,c,p,_,b){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=b}static fromInitialDocuments(e,t,r,i,u){const c=[];return t.forEach(p=>{c.push({type:0,doc:p})}),new ky(e,t,Oy.emptySet(t),c,r,i,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Np(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class DR{constructor(){this.Ru=void 0,this.listeners=[]}}class CR{constructor(){this.queries=new tu(e=>f0(e),Np),this.onlineState="Unknown",this.bu=new Set}}function RS(n,e){return OS.apply(this,arguments)}function OS(){return OS=(0,ye.Z)(function*(n,e){const t=qe(n),r=e.query;let i=!1,u=t.queries.get(r);if(u||(i=!0,u=new DR),i)try{u.Ru=yield t.onListen(r)}catch(c){const p=Ry(c,`Initialization of query '${p0(e.query)}' failed`);return void e.onError(p)}t.queries.set(r,u),u.listeners.push(e),e.Pu(t.onlineState),u.Ru&&e.vu(u.Ru)&&LS(t)}),OS.apply(this,arguments)}function kS(n,e){return FS.apply(this,arguments)}function FS(){return FS=(0,ye.Z)(function*(n,e){const t=qe(n),r=e.query;let i=!1;const u=t.queries.get(r);if(u){const c=u.listeners.indexOf(e);c>=0&&(u.listeners.splice(c,1),i=0===u.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),FS.apply(this,arguments)}function TR(n,e){const t=qe(n);let r=!1;for(const i of e){const c=t.queries.get(i.query);if(c){for(const p of c.listeners)p.vu(i)&&(r=!0);c.Ru=i}}r&&LS(t)}function SR(n,e,t){const r=qe(n),i=r.queries.get(e);if(i)for(const u of i.listeners)u.onError(t);r.queries.delete(e)}function LS(n){n.bu.forEach(e=>{e.next()})}class VS{constructor(e,t,r){this.query=e,this.Vu=t,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=r||{}}vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new ky(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Su?this.Cu(e)&&(this.Vu.next(e),t=!0):this.xu(e,this.onlineState)&&(this.Nu(e),t=!0),this.Du=e,t}onError(e){this.Vu.error(e)}Pu(e){this.onlineState=e;let t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}xu(e,t){return!e.fromCache||(!this.options.ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Cu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(e){e=ky.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Su=!0,this.Vu.next(e)}}class AR{constructor(e,t){this.payload=e,this.byteLength=t}Ou(){return"metadata"in this.payload}}class Wx{constructor(e){this.It=e}Ji(e){return Eo(this.It,e)}Yi(e){return e.metadata.exists?M0(this.It,e.document,!1):Tn.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return Zr(e)}}class MR{constructor(e,t,r){this.Mu=e,this.localStore=t,this.It=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Zx(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=sn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,r=new Wx(this.It);for(const i of e)if(i.metadata.queries){const u=r.Ji(i.metadata.name);for(const c of i.metadata.queries){const p=(t.get(c)||$t()).add(u);t.set(c,p)}}return t}complete(){var e=this;return(0,ye.Z)(function*(){const t=yield function rR(n,e,t,r){return aS.apply(this,arguments)}(e.localStore,new Wx(e.It),e.documents,e.Mu.id),r=e.$u(e.documents);for(const i of e.queries)yield iR(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function Zx(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class Kx{constructor(e){this.key=e}}class Yx{constructor(e){this.key=e}}class Qx{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=$t(),this.mutatedKeys=$t(),this.Gu=m0(e),this.Qu=new Oy(this.Gu)}get ju(){return this.Uu}Wu(e,t){const r=t?t.zu:new zx,i=t?t.Qu:this.Qu;let u=t?t.mutatedKeys:this.mutatedKeys,c=i,p=!1;const _="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,b="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((T,M)=>{const L=i.get(T),G=hy(this.query,M)?M:null,Z=!!L&&this.mutatedKeys.has(L.key),ue=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let _e=!1;L&&G?L.data.isEqual(G.data)?Z!==ue&&(r.track({type:3,doc:G}),_e=!0):this.Hu(L,G)||(r.track({type:2,doc:G}),_e=!0,(_&&this.Gu(G,_)>0||b&&this.Gu(G,b)<0)&&(p=!0)):!L&&G?(r.track({type:0,doc:G}),_e=!0):L&&!G&&(r.track({type:1,doc:L}),_e=!0,(_||b)&&(p=!0)),_e&&(G?(c=c.add(G),u=ue?u.add(T):u.delete(T)):(c=c.delete(T),u=u.delete(T)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const T="F"===this.query.limitType?c.last():c.first();c=c.delete(T.key),u=u.delete(T.key),r.track({type:1,doc:T})}return{Qu:c,zu:r,$i:p,mutatedKeys:u}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const u=e.zu.Au();u.sort((b,T)=>function(M,L){const G=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return st()}};return G(M)-G(L)}(b.type,T.type)||this.Gu(b.doc,T.doc)),this.Ju(r);const c=t?this.Yu():[],p=0===this.Ku.size&&this.current?1:0,_=p!==this.qu;return this.qu=p,0!==u.length||_?{snapshot:new ky(this.query,e.Qu,i,u,e.mutatedKeys,0===p,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:c}:{Xu:c}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new zx,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=$t(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new Yx(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new Kx(r))}),t}tc(e){this.Uu=e.Hi,this.Ku=$t();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return ky.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class xR{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class NR{constructor(e){this.key=e,this.nc=!1}}class PR{constructor(e,t,r,i,u,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.sc={},this.ic=new tu(p=>f0(p),Np),this.rc=new Map,this.oc=new Set,this.uc=new $n(ze.comparator),this.cc=new Map,this.ac=new eS,this.hc={},this.lc=new Map,this.fc=su.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function RR(n,e){return US.apply(this,arguments)}function US(){return US=(0,ye.Z)(function*(n,e){const t=uA(n);let r,i;const u=t.ic.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),i=u.view.ec();else{const c=yield Ay(t.localStore,vi(e));t.isPrimaryClient&&iD(t.remoteStore,c);const p=t.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,i=yield BS(t,e,r,"current"===p,c.resumeToken)}return i}),US.apply(this,arguments)}function BS(n,e,t,r,i){return jS.apply(this,arguments)}function jS(){return jS=(0,ye.Z)(function*(n,e,t,r,i){n._c=(M,L,G)=>{return(Z=(0,ye.Z)(function*(ue,_e,Ye,at){let gt=_e.view.Wu(Ye);gt.$i&&(gt=yield eD(ue.localStore,_e.query,!1).then(({documents:Pt})=>_e.view.Wu(Pt,gt)));const ct=at&&at.targetChanges.get(_e.targetId),St=_e.view.applyChanges(gt,ue.isPrimaryClient,ct);return QS(ue,_e.targetId,St.Xu),St.snapshot}),function(ue,_e,Ye,at){return Z.apply(this,arguments)})(n,M,L,G);var Z};const u=yield eD(n.localStore,e,!0),c=new Qx(e,u.Hi),p=c.Wu(u.documents),_=Rh.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),b=c.applyChanges(p,n.isPrimaryClient,_);QS(n,t,b.Xu);const T=new xR(e,t,c);return n.ic.set(e,T),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),b.snapshot}),jS.apply(this,arguments)}function OR(n,e){return $S.apply(this,arguments)}function $S(){return $S=(0,ye.Z)(function*(n,e){const t=qe(n),r=t.ic.get(e),i=t.rc.get(r.targetId);if(i.length>1)return t.rc.set(r.targetId,i.filter(u=>!Np(u,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield My(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),K0(t.remoteStore,r.targetId),Fy(t,r.targetId)}).catch(Ya))):(Fy(t,r.targetId),yield My(t.localStore,r.targetId,!0))}),$S.apply(this,arguments)}function HS(){return HS=(0,ye.Z)(function*(n,e,t){const r=lA(n);try{const i=yield function(u,c){const p=qe(u),_=Fn.now(),b=c.reduce((L,G)=>L.add(G.key),$t());let T,M;return p.persistence.runTransaction("Locally write mutations","readwrite",L=>{let G=Gn(),Z=$t();return p.Gi.getEntries(L,b).next(ue=>{G=ue,G.forEach((_e,Ye)=>{Ye.isValidDocument()||(Z=Z.add(_e))})}).next(()=>p.localDocuments.getOverlayedDocuments(L,G)).next(ue=>{T=ue;const _e=[];for(const Ye of c){const at=PT(Ye,T.get(Ye.key).overlayedDocument);null!=at&&_e.push(new $s(Ye.key,at,l0(at.value.mapValue),Xn.exists(!0)))}return p.mutationQueue.addMutationBatch(L,_,_e,c)}).next(ue=>{M=ue;const _e=ue.applyToLocalDocumentSet(T,Z);return p.documentOverlayCache.saveOverlays(L,ue.batchId,_e)})}).then(()=>({batchId:M.batchId,changes:AI(T)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(u,c,p){let _=u.hc[u.currentUser.toKey()];_||(_=new $n(Vt)),_=_.insert(c,p),u.hc[u.currentUser.toKey()]=_}(r,i.batchId,t),yield $c(r,i.changes),yield Ny(r.remoteStore)}catch(i){const u=Ry(i,"Failed to persist write");t.reject(u)}}),HS.apply(this,arguments)}function Jx(n,e){return GS.apply(this,arguments)}function GS(){return GS=(0,ye.Z)(function*(n,e){const t=qe(n);try{const r=yield tR(t.localStore,e);e.targetChanges.forEach((i,u)=>{const c=t.cc.get(u);c&&(Tt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.nc=!0:i.modifiedDocuments.size>0?Tt(c.nc):i.removedDocuments.size>0&&(Tt(c.nc),c.nc=!1))}),yield $c(t,r,e)}catch(r){yield Ya(r)}}),GS.apply(this,arguments)}function Xx(n,e,t){const r=qe(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ic.forEach((u,c)=>{const p=c.view.Pu(e);p.snapshot&&i.push(p.snapshot)}),function(u,c){const p=qe(u);p.onlineState=c;let _=!1;p.queries.forEach((b,T)=>{for(const M of T.listeners)M.Pu(c)&&(_=!0)}),_&&LS(p)}(r.eventManager,e),i.length&&r.sc.zo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function FR(n,e,t){return qS.apply(this,arguments)}function qS(){return qS=(0,ye.Z)(function*(n,e,t){const r=qe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.cc.get(e),u=i&&i.key;if(u){let c=new $n(ze.comparator);c=c.insert(u,Tn.newNoDocument(u,Nt.min()));const p=$t().add(u),_=new Lp(Nt.min(),new Map,new Dn(Vt),c,p);yield Jx(r,_),r.uc=r.uc.remove(u),r.cc.delete(e),JS(r)}else yield My(r.localStore,e,!1).then(()=>Fy(r,e,t)).catch(Ya)}),qS.apply(this,arguments)}function LR(n,e){return zS.apply(this,arguments)}function zS(){return zS=(0,ye.Z)(function*(n,e){const t=qe(n),r=e.batch.batchId;try{const i=yield eR(t.localStore,e);YS(t,r,null),KS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield $c(t,i)}catch(i){yield Ya(i)}}),zS.apply(this,arguments)}function VR(n,e,t){return WS.apply(this,arguments)}function WS(){return WS=(0,ye.Z)(function*(n,e,t){const r=qe(n);try{const i=yield function(u,c){const p=qe(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let b;return p.mutationQueue.lookupMutationBatch(_,c).next(T=>(Tt(null!==T),b=T.keys(),p.mutationQueue.removeMutationBatch(_,T))).next(()=>p.mutationQueue.performConsistencyCheck(_)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(_,b,c)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,b)).next(()=>p.localDocuments.getDocuments(_,b))})}(r.localStore,e);YS(r,e,t),KS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield $c(r,i)}catch(i){yield Ya(i)}}),WS.apply(this,arguments)}function ZS(){return ZS=(0,ye.Z)(function*(n,e){const t=qe(n);jc(t.remoteStore)||Pe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const c=qe(u);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",p=>c.mutationQueue.getHighestUnacknowledgedBatchId(p))}(t.localStore);if(-1===r)return void e.resolve();const i=t.lc.get(r)||[];i.push(e),t.lc.set(r,i)}catch(r){const i=Ry(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),ZS.apply(this,arguments)}function KS(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function YS(n,e,t){const r=qe(n);let i=r.hc[r.currentUser.toKey()];if(i){const u=i.get(e);u&&(t?u.reject(t):u.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function Fy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.rc.get(e))n.ic.delete(r),t&&n.sc.wc(r,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(r=>{n.ac.containsKey(r)||eN(n,r)})}function eN(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(K0(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),JS(n))}function QS(n,e,t){for(const r of t)r instanceof Kx?(n.ac.addReference(r.key,e),BR(n,r)):r instanceof Yx?(Pe("SyncEngine","Document no longer in limbo: "+r.key),n.ac.removeReference(r.key,e),n.ac.containsKey(r.key)||eN(n,r.key)):st()}function BR(n,e){const t=e.key,r=t.path.canonicalString();n.uc.get(t)||n.oc.has(r)||(Pe("SyncEngine","New document in limbo: "+t),n.oc.add(r),JS(n))}function JS(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new ze(sn.fromString(e)),r=n.fc.next();n.cc.set(r,new NR(t)),n.uc=n.uc.insert(t,r),iD(n.remoteStore,new aa(vi(Ah(t.path)),r,2,Hi.at))}}function $c(n,e,t){return XS.apply(this,arguments)}function XS(){return XS=(0,ye.Z)(function*(n,e,t){const r=qe(n),i=[],u=[],c=[];var p;r.ic.isEmpty()||(r.ic.forEach((p,_)=>{c.push(r._c(_,e,t).then(b=>{if((b||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(_.targetId,b?.fromCache?"not-current":"current"),b){i.push(b);const T=iS.Ci(_.targetId,b);u.push(T)}}))}),yield Promise.all(c),r.sc.zo(i),yield(p=(0,ye.Z)(function*(_,b){const T=qe(_);try{yield T.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>ie.forEach(b,L=>ie.forEach(L.Si,G=>T.persistence.referenceDelegate.addReference(M,L.targetId,G)).next(()=>ie.forEach(L.Di,G=>T.persistence.referenceDelegate.removeReference(M,L.targetId,G)))))}catch(M){if(!xc(M))throw M;Pe("LocalStore","Failed to update sequence numbers: "+M)}for(const M of b){const L=M.targetId;if(!M.fromCache){const G=T.Ui.get(L),ue=G.withLastLimboFreeSnapshotVersion(G.snapshotVersion);T.Ui=T.Ui.insert(L,ue)}}}),function(_,b){return p.apply(this,arguments)})(r.localStore,u))}),XS.apply(this,arguments)}function jR(n,e){return eA.apply(this,arguments)}function eA(){return eA=(0,ye.Z)(function*(n,e){const t=qe(n);if(!t.currentUser.isEqual(e)){Pe("SyncEngine","User change. New user:",e.toKey());const r=yield Ax(t.localStore,e);t.currentUser=e,(i=t).lc.forEach(c=>{c.forEach(p=>{p.reject(new Ne(ce.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.lc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield $c(t,r.ji)}var i}),eA.apply(this,arguments)}function $R(n,e){const t=qe(n),r=t.cc.get(e);if(r&&r.nc)return $t().add(r.key);{let i=$t();const u=t.rc.get(e);if(!u)return i;for(const c of u){const p=t.ic.get(c);i=i.unionWith(p.view.ju)}return i}}function HR(n,e){return tA.apply(this,arguments)}function tA(){return tA=(0,ye.Z)(function*(n,e){const t=qe(n),r=yield eD(t.localStore,e.query,!0),i=e.view.tc(r);return t.isPrimaryClient&&QS(t,e.targetId,i.Xu),i}),tA.apply(this,arguments)}function GR(n,e){return nA.apply(this,arguments)}function nA(){return nA=(0,ye.Z)(function*(n,e){const t=qe(n);return Px(t.localStore,e).then(r=>$c(t,r))}),nA.apply(this,arguments)}function qR(n,e,t,r){return rA.apply(this,arguments)}function rA(){return rA=(0,ye.Z)(function*(n,e,t,r){const i=qe(n),u=yield function(c,p){const _=qe(c),b=qe(_.mutationQueue);return _.persistence.runTransaction("Lookup mutation documents","readonly",T=>b.Tn(T,p).next(M=>M?_.localDocuments.getDocuments(T,M):ie.resolve(null)))}(i.localStore,e);var p;null!==u?("pending"===t?yield Ny(i.remoteStore):"acknowledged"===t||"rejected"===t?(YS(i,e,r||null),KS(i,e),p=e,qe(qe(i.localStore).mutationQueue).An(p)):st(),yield $c(i,u)):Pe("SyncEngine","Cannot apply mutation batch with id: "+e)}),rA.apply(this,arguments)}function iA(){return iA=(0,ye.Z)(function*(n,e){const t=qe(n);if(uA(t),lA(t),!0===e&&!0!==t.dc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield tN(t,r.toArray());t.dc=!0,yield xS(t.remoteStore,!0);for(const u of i)iD(t.remoteStore,u)}else if(!1===e&&!1!==t.dc){const r=[];let i=Promise.resolve();t.rc.forEach((u,c)=>{t.sharedClientState.isLocalQueryTarget(c)?r.push(c):i=i.then(()=>(Fy(t,c),My(t.localStore,c,!0))),K0(t.remoteStore,c)}),yield i,yield tN(t,r),function(u){const c=qe(u);c.cc.forEach((p,_)=>{K0(c.remoteStore,_)}),c.ac.fs(),c.cc=new Map,c.uc=new $n(ze.comparator)}(t),t.dc=!1,yield xS(t.remoteStore,!1)}}),iA.apply(this,arguments)}function tN(n,e,t){return sA.apply(this,arguments)}function sA(){return sA=(0,ye.Z)(function*(n,e,t){const r=qe(n),i=[],u=[];for(const c of e){let p;const _=r.rc.get(c);if(_&&0!==_.length){p=yield Ay(r.localStore,vi(_[0]));for(const b of _){const T=r.ic.get(b),M=yield HR(r,T);M.snapshot&&u.push(M.snapshot)}}else{const b=yield Nx(r.localStore,c);p=yield Ay(r.localStore,b),yield BS(r,nN(b),c,!1,p.resumeToken)}i.push(p)}return r.sc.zo(u),i}),sA.apply(this,arguments)}function nN(n){return gI(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function WR(n){const e=qe(n);return qe(qe(e.localStore).persistence).vi()}function ZR(n,e,t,r){return oA.apply(this,arguments)}function oA(){return oA=(0,ye.Z)(function*(n,e,t,r){const i=qe(n);if(i.dc)return void Pe("SyncEngine","Ignoring unexpected query state notification.");const u=i.rc.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const c=yield Px(i.localStore,g0(u[0])),p=Lp.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Or.EMPTY_BYTE_STRING);yield $c(i,c,p);break}case"rejected":yield My(i.localStore,e,!0),Fy(i,e,r);break;default:st()}}),oA.apply(this,arguments)}function KR(n,e,t){return aA.apply(this,arguments)}function aA(){return aA=(0,ye.Z)(function*(n,e,t){const r=uA(n);if(r.dc){for(const i of e){if(r.rc.has(i)){Pe("SyncEngine","Adding an already active target "+i);continue}const u=yield Nx(r.localStore,i),c=yield Ay(r.localStore,u);yield BS(r,nN(u),c.targetId,!1,c.resumeToken),iD(r.remoteStore,c)}for(const i of t)r.rc.has(i)&&(yield My(r.localStore,i,!1).then(()=>{K0(r.remoteStore,i),Fy(r,i)}).catch(Ya))}}),aA.apply(this,arguments)}function uA(n){const e=qe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Jx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$R.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=FR.bind(null,e),e.sc.zo=TR.bind(null,e.eventManager),e.sc.wc=SR.bind(null,e.eventManager),e}function lA(n){const e=qe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=LR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=VR.bind(null,e),e}class rN{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ye.Z)(function*(){t.It=W0(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return Sx(this.persistence,new Tx,e.initialUser,this.It)}yc(e){return new Dx(JI.Bs,this.It)}gc(e){return new Fx}terminate(){var e=this;return(0,ye.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class iN extends rN{constructor(e,t,r){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,ye.Z)(function*(){yield t().call(r,e),yield r.Ac.initialize(r,e),yield lA(r.Ac.syncEngine),yield Ny(r.Ac.remoteStore),yield r.persistence.li(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return Sx(this.persistence,new Tx,e.initialUser,this.It)}Tc(e,t){return new H0(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const r=new Ap(t,this.persistence);return new vT(e.asyncQueue,r)}yc(e){const t=rS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?We.withCacheSize(this.cacheSizeBytes):We.DEFAULT;return new nS(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,Vx(),rD(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(e){return new Fx}}class QR extends iN{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,ye.Z)(function*(){yield t().call(r,e);const i=r.Ac.syncEngine;r.sharedClientState instanceof hS&&(r.sharedClientState.syncEngine={Fr:qR.bind(null,i),$r:ZR.bind(null,i),Br:KR.bind(null,i),vi:WR.bind(null,i),Mr:GR.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.li(function(){var u=(0,ye.Z)(function*(c){yield function zR(n,e){return iA.apply(this,arguments)}(r.Ac.syncEngine,c),r.gcScheduler&&(c&&!r.gcScheduler.started?r.gcScheduler.start():c||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(c&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():c||r.indexBackfillerScheduler.stop())});return function(c){return u.apply(this,arguments)}}())})()}gc(e){const t=Vx();if(!hS.C(t))throw new Ne(ce.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=rS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new hS(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class cA{initialize(e,t){var r=this;return(0,ye.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>Xx(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=jR.bind(null,r.syncEngine),yield xS(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new CR}createDatastore(e){const t=W0(e.databaseInfo.databaseId),r=new uR(e.databaseInfo);return new dR(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,u=p=>Xx(this.syncEngine,p,0),c=Lx.C()?new Lx:new sR,new pR(t,r,i,u,c);var t,r,i,u,c}createSyncEngine(e,t){return function(r,i,u,c,p,_,b){const T=new PR(r,i,u,c,p,_);return b&&(T.dc=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ye.Z)(function*(t){const r=qe(t);Pe("RemoteStore","RemoteStore shutting down."),r.wu.add(5),yield xy(r),r.gu.shutdown(),r.yu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function dA(n,e,t){if(!t)throw new Ne(ce.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function sN(n,e,t,r){if(!0===e&&!0===r)throw new Ne(ce.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function oN(n){if(!ze.isDocumentKey(n))throw new Ne(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function aN(n){if(ze.isDocumentKey(n))throw new Ne(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function oD(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":st()}function on(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ne(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=oD(n);throw new Ne(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function uN(n,e){if(e<=0)throw new Ne(ce.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}const lN=new Map;class cN{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ne(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ne(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,sN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Y0{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cN({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ne(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ne(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cN(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new fT;switch(t.type){case"gapi":return new Xv(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ne(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=lN.get(e);t&&(Pe("ComponentProvider","Removing Datastore"),lN.delete(e),t.terminate())}(this),Promise.resolve()}}class er{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new er(this.firestore,e,this._key)}}class qi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new qi(this.firestore,e,this._query)}}class Cl extends qi{constructor(e,t,r){super(e,t,Ah(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new er(this.firestore,null,new ze(e))}withConverter(e){return new Cl(this.firestore,e,this._path)}}function hN(n,e,...t){if(n=(0,Yt.m9)(n),dA("collection","path",e),n instanceof Y0){const r=sn.fromString(e,...t);return aN(r),new Cl(n,null,r)}{if(!(n instanceof er||n instanceof Cl))throw new Ne(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(sn.fromString(e,...t));return aN(r),new Cl(n.firestore,null,r)}}function aD(n,e,...t){if(n=(0,Yt.m9)(n),1===arguments.length&&(e=Kb.R()),dA("doc","path",e),n instanceof Y0){const r=sn.fromString(e,...t);return oN(r),new er(n,null,new ze(r))}{if(!(n instanceof er||n instanceof Cl))throw new Ne(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(sn.fromString(e,...t));return oN(r),new er(n.firestore,n instanceof Cl?n.converter:null,new ze(r))}}function fN(n,e){return n=(0,Yt.m9)(n),e=(0,Yt.m9)(e),(n instanceof er||n instanceof Cl)&&(e instanceof er||e instanceof Cl)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function hA(n,e){return n=(0,Yt.m9)(n),e=(0,Yt.m9)(e),n instanceof qi&&e instanceof qi&&n.firestore===e.firestore&&Np(n._query,e._query)&&n.converter===e.converter}function pN(n,e=10240){let t=0;return{read:()=>(0,ye.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,ye.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class uD{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):yr("Uncaught Error in snapshot listener:",e)}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class XR{constructor(e,t){this.Pc=e,this.It=t,this.metadata=new Ar,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(r=>{r&&r.Ou()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,ye.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,ye.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,ye.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const r=e.vc.decode(t),i=Number(r);isNaN(i)&&e.Dc(`length string (${r}) is not valid number`);const u=yield e.Cc(i);return new AR(JSON.parse(u),t.length+i)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,ye.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Cc(e){var t=this;return(0,ye.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const r=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,ye.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class nO{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ye.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ne(ce.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,ye.Z)(function*(u,c){const p=qe(u),_=my(p.It)+"/documents",b={documents:c.map(G=>gy(p.It,G))},T=yield p._o("BatchGetDocuments",_,b,c.length),M=new Map;T.forEach(G=>{const Z=function OI(n,e){return"found"in e?function(t,r){Tt(!!r.found);const i=Eo(t,r.found.name),u=Zr(r.found.updateTime),c=new _i({mapValue:{fields:r.found.fields}});return Tn.newFoundDocument(i,u,c)}(n,e):"missing"in e?function(t,r){Tt(!!r.missing),Tt(!!r.readTime);const i=Eo(t,r.missing),u=Zr(r.readTime);return Tn.newNoDocument(i,u)}(n,e):st()}(p.It,G);M.set(Z.key.toString(),Z)});const L=[];return c.forEach(G=>{const Z=M.get(G.toString());Tt(!!Z),L.push(Z)}),L}),function(u,c){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new kp(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ye.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const u=ze.fromPath(i);e.mutations.push(new _0(u,e.precondition(u)))}),yield(r=(0,ye.Z)(function*(i,u){const c=qe(i),p=my(c.It)+"/documents",_={writes:u.map(b=>Oh(c.It,b))};yield c.ao("Commit",p,_)}),function(i,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw st();t=Nt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Ne(ce.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Nt.min())?Xn.exists(!1):Xn.updateTime(t):Xn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Nt.min()))throw new Ne(ce.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Xn.updateTime(t)}return Xn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class rO{constructor(e,t,r,i,u){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=u,this.kc=r.maxAttempts,this.No=new fS(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.No.Ro((0,ye.Z)(function*(){const t=new nO(e.datastore),r=e.Mc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(u=>{e.Fc(u)}))}).catch(i=>{e.Fc(i)})}))}Mc(e){try{const t=this.updateFunction(e);return!wh(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!TI(t)}return!1}}class iO{constructor(e,t,r,i){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=zr.UNAUTHENTICATED,this.clientId=Kb.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,ye.Z)(function*(p){Pe("FirestoreClient","Received user=",p.uid),yield u.authCredentialListener(p),u.user=p});return function(p){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(Pe("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,ye.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ne(ce.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ye.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Ry(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function gN(n,e){return fA.apply(this,arguments)}function fA(){return fA=(0,ye.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Pe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,ye.Z)(function*(u){r.isEqual(u)||(yield Ax(e.localStore,u),r=u)});return function(u){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),fA.apply(this,arguments)}function mN(n,e){return pA.apply(this,arguments)}function pA(){return pA=(0,ye.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield gA(n);Pe("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>qx(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,u)=>qx(e.remoteStore,u)),n.onlineComponents=e}),pA.apply(this,arguments)}function gA(n){return mA.apply(this,arguments)}function mA(){return mA=(0,ye.Z)(function*(n){return n.offlineComponents||(Pe("FirestoreClient","Using default OfflineComponentProvider"),yield gN(n,new rN)),n.offlineComponents}),mA.apply(this,arguments)}function lD(n){return yA.apply(this,arguments)}function yA(){return yA=(0,ye.Z)(function*(n){return n.onlineComponents||(Pe("FirestoreClient","Using default OnlineComponentProvider"),yield mN(n,new cA)),n.onlineComponents}),yA.apply(this,arguments)}function yN(n){return gA(n).then(e=>e.persistence)}function cD(n){return gA(n).then(e=>e.localStore)}function _A(n){return lD(n).then(e=>e.remoteStore)}function vA(n){return lD(n).then(e=>e.syncEngine)}function Ly(n){return wA.apply(this,arguments)}function wA(){return wA=(0,ye.Z)(function*(n){const e=yield lD(n),t=e.eventManager;return t.onListen=RR.bind(null,e.syncEngine),t.onUnlisten=OR.bind(null,e.syncEngine),t}),wA.apply(this,arguments)}function vN(n,e,t={}){const r=new Ar;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(i,u,c,p,_){const b=new uD({next:M=>{u.enqueueAndForget(()=>kS(i,T));const L=M.docs.has(c);!L&&M.fromCache?_.reject(new Ne(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&M.fromCache&&p&&"server"===p.source?_.reject(new Ne(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(M)},error:M=>_.reject(M)}),T=new VS(Ah(c.path),b,{includeMetadataChanges:!0,ku:!0});return RS(i,T)}(yield Ly(n),n.asyncQueue,e,t,r)})),r.promise}function wN(n,e,t={}){const r=new Ar;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(i,u,c,p,_){const b=new uD({next:M=>{u.enqueueAndForget(()=>kS(i,T)),M.fromCache&&"server"===p.source?_.reject(new Ne(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(M)},error:M=>_.reject(M)}),T=new VS(c,b,{includeMetadataChanges:!0,ku:!0});return RS(i,T)}(yield Ly(n),n.asyncQueue,e,t,r)})),r.promise}class hO{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.No=new fS(this,"async_queue_retry"),this.Wc=()=>{const t=rD();t&&Pe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.No.Po()};const e=rD();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const t=rD();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const t=new Ar;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,ye.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.No.reset()}catch(t){if(!xc(t))throw t;Pe("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.No.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{throw this.Kc=r,this.Gc=!1,yr("INTERNAL UNHANDLED ERROR: ",function(u){let c=u.message||"";return u.stack&&(c=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),c}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=t,t}enqueueAfterDelay(e,t,r){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const i=PS.createAndSchedule(this,e,t,r,u=>this.Yc(u));return this.qc.push(i),i}zc(){this.Kc&&st()}verifyOperationInProgress(){}Xc(){var e=this;return(0,ye.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.qc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.qc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.qc.indexOf(e);this.qc.splice(t,1)}}function EA(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class fO{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ar,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class tr extends Y0{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new hO,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||EN(this),this._firestoreClient.terminate()}}function Fr(n){return n._firestoreClient||EN(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function EN(n){var e;const t=n._freezeSettings(),r=(u=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new s0(n._databaseId,u,n._persistenceKey,(p=t).host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,p.useFetchStreams));var u,p;n._firestoreClient=new iO(n._authCredentials,n._appCheckCredentials,n._queue,r)}function bN(n,e,t){const r=new Ar;return n.asyncQueue.enqueue((0,ye.Z)(function*(){try{yield gN(n,t),yield mN(n,e),r.resolve()}catch(i){const u=i;if(!("FirebaseError"===(c=u).name?c.code===ce.FAILED_PRECONDITION||c.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code))throw u;Mc("Error enabling offline persistence. Falling back to persistence disabled: "+u),r.reject(u)}var c})).then(()=>r.promise)}function IN(n){if(n._initialized||n._terminated)throw new Ne(ce.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Tl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Tl(Or.fromBase64String(e))}catch(t){throw new Ne(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Tl(Or.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Hc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ne(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _r(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class $p{constructor(e){this._methodName=e}}class dD{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ne(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ne(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Vt(this._lat,e._lat)||Vt(this._long,e._long)}}const IO=/^__.*__$/;class DO{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new $s(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ph(e,this.data,t,this.fieldTransforms)}}class DN{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new $s(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function CN(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw st()}}class hD{constructor(e,t,r,i,u,c){this.settings=e,this.databaseId=t,this.It=r,this.ignoreUndefinedProperties=i,void 0===u&&this.na(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new hD(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return gD(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(CN(this.sa)&&IO.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class CO{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=r||W0(e)}da(e,t,r,i=!1){return new hD({sa:e,methodName:t,fa:r,path:_r.emptyPath(),oa:!1,la:i},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Hp(n){const e=n._freezeSettings(),t=W0(n._databaseId);return new CO(n._databaseId,!!e.ignoreUndefinedProperties,t)}function fD(n,e,t,r,i,u={}){const c=n.da(u.merge||u.mergeFields?2:0,e,t,i);CA("Data must be an object, but it was:",c,r);const p=AN(r,c);let _,b;if(u.merge)_=new mi(c.fieldMask),b=c.fieldTransforms;else if(u.mergeFields){const T=[];for(const M of u.mergeFields){const L=TA(e,M,t);if(!c.contains(L))throw new Ne(ce.INVALID_ARGUMENT,`Field '${L}' is specified in your field mask but missing from your input data.`);xN(T,L)||T.push(L)}_=new mi(T),b=c.fieldTransforms.filter(M=>_.covers(M.field))}else _=null,b=c.fieldTransforms;return new DO(new _i(p),_,b)}class Q0 extends $p{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Q0}}function TN(n,e,t){return new hD({sa:3,fa:e.settings.fa,methodName:n._methodName,oa:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class bA extends $p{_toFieldTransform(e){return new Il(e.path,new Rp)}isEqual(e){return e instanceof bA}}class TO extends $p{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=TN(this,e,!0),r=this._a.map(u=>Gp(u,t)),i=new Mh(r);return new Il(e.path,i)}isEqual(e){return this===e}}class SO extends $p{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=TN(this,e,!0),r=this._a.map(u=>Gp(u,t)),i=new xh(r);return new Il(e.path,i)}isEqual(e){return this===e}}class AO extends $p{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new eu(e.It,ST(e.It,this.wa));return new Il(e.path,t)}isEqual(e){return this===e}}function IA(n,e,t,r){const i=n.da(1,e,t);CA("Data must be an object, but it was:",i,r);const u=[],c=_i.empty();gi(r,(_,b)=>{const T=pD(e,_,t);b=(0,Yt.m9)(b);const M=i.ca(T);if(b instanceof Q0)u.push(T);else{const L=Gp(b,M);null!=L&&(u.push(T),c.set(T,L))}});const p=new mi(u);return new DN(c,p,i.fieldTransforms)}function DA(n,e,t,r,i,u){const c=n.da(1,e,t),p=[TA(e,r,t)],_=[i];if(u.length%2!=0)throw new Ne(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let L=0;L<u.length;L+=2)p.push(TA(e,u[L])),_.push(u[L+1]);const b=[],T=_i.empty();for(let L=p.length-1;L>=0;--L)if(!xN(b,p[L])){const G=p[L];let Z=_[L];Z=(0,Yt.m9)(Z);const ue=c.ca(G);if(Z instanceof Q0)b.push(G);else{const _e=Gp(Z,ue);null!=_e&&(b.push(G),T.set(G,_e))}}const M=new mi(b);return new DN(T,M,c.fieldTransforms)}function SN(n,e,t,r=!1){return Gp(t,n.da(r?4:3,e))}function Gp(n,e){if(MN(n=(0,Yt.m9)(n)))return CA("Unsupported field value:",e,n),AN(n,e);if(n instanceof $p)return function(t,r){if(!CN(r.sa))throw r.ha(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,r){const i=[];let u=0;for(const c of t){let p=Gp(c,r.aa(u));null==p&&(p={nullValue:"NULL_VALUE"}),i.push(p),u++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,Yt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return ST(r.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Fn.fromDate(t);return{timestampValue:py(r.It,i)}}if(t instanceof Fn){const i=new Fn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:py(r.It,i)}}if(t instanceof dD)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Tl)return{bytesValue:RI(r.It,t._byteString)};if(t instanceof er){const i=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(i))throw r.ha(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:D0(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ha(`Unsupported field value: ${oD(t)}`)}(n,e)}function AN(n,e){const t={};return rI(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):gi(n,(r,i)=>{const u=Gp(i,e.ra(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function MN(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Fn||n instanceof dD||n instanceof Tl||n instanceof er||n instanceof $p)}function CA(n,e,t){if(!MN(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=oD(t);throw e.ha("an object"===r?n+" a custom object":n+" "+r)}var r}function TA(n,e,t){if((e=(0,Yt.m9)(e))instanceof Hc)return e._internalPath;if("string"==typeof e)return pD(n,e);throw gD("Field path arguments must be of type string or ",n,!1,void 0,t)}const MO=new RegExp("[~\\*/\\[\\]]");function pD(n,e,t){if(e.search(MO)>=0)throw gD(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Hc(...e.split("."))._internalPath}catch{throw gD(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function gD(n,e,t,r,i){const u=r&&!r.isEmpty(),c=void 0!==i;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(u||c)&&(_+=" (found",u&&(_+=` in field ${r}`),c&&(_+=` in document ${i}`),_+=")"),new Ne(ce.INVALID_ARGUMENT,p+n+_)}function xN(n,e){return n.some(t=>t.isEqual(e))}class J0{constructor(e,t,r,i,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new er(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new xO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(mD("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class xO extends J0{data(){return super.data()}}function mD(n,e){return"string"==typeof e?pD(n,e):e instanceof Hc?e._internalPath:e._delegate._internalPath}function NN(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ne(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class X0{}function Bh(n,...e){for(const t of e)n=t._apply(n);return n}class NO extends X0{constructor(e,t,r){super(),this.ma=e,this.ga=t,this.ya=r,this.type="where"}_apply(e){const t=Hp(e.firestore),r=function(i,u,c,p,_,b,T){let M;if(_.isKeyField()){if("array-contains"===b||"array-contains-any"===b)throw new Ne(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if("in"===b||"not-in"===b){LN(T,b);const G=[];for(const Z of T)G.push(FN(p,i,Z));M={arrayValue:{values:G}}}else M=FN(p,i,T)}else"in"!==b&&"not-in"!==b&&"array-contains-any"!==b||LN(T,b),M=SN(c,"where",T,"in"===b||"not-in"===b);const L=Wr.create(_,b,M);return function(G,Z){if(Z.dt()){const _e=cy(G);if(null!==_e&&!_e.isEqual(Z.field))throw new Ne(ce.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${_e.toString()}' and '${Z.field.toString()}'`);const Ye=ly(G);null!==Ye&&VN(0,Z.field,Ye)}const ue=function(_e,Ye){for(const at of _e.filters)if(Ye.indexOf(at.op)>=0)return at.op;return null}(G,function(_e){switch(_e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Z.op));if(null!==ue)throw new Ne(ce.INVALID_ARGUMENT,ue===Z.op?`Invalid query. You cannot use more than one '${Z.op.toString()}' filter.`:`Invalid query. You cannot use '${Z.op.toString()}' filters with '${ue.toString()}' filters.`)}(i,L),L}(e._query,0,t,e.firestore._databaseId,this.ma,this.ga,this.ya);return new qi(e.firestore,e.converter,function(i,u){const c=i.filters.concat([u]);return new bl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),c,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class RO extends X0{constructor(e,t){super(),this.ma=e,this.pa=t,this.type="orderBy"}_apply(e){const t=function(r,i,u){if(null!==r.startAt)throw new Ne(ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Ne(ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new Rc(i,u);return function(p,_){if(null===ly(p)){const b=cy(p);null!==b&&VN(0,b,_.field)}}(r,c),c}(e._query,this.ma,this.pa);return new qi(e.firestore,e.converter,function(r,i){const u=r.explicitOrderBy.concat([i]);return new bl(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class PN extends X0{constructor(e,t,r){super(),this.type=e,this.Ia=t,this.Ta=r}_apply(e){return new qi(e.firestore,e.converter,dy(e._query,this.Ia,this.Ta))}}class RN extends X0{constructor(e,t,r){super(),this.type=e,this.Ea=t,this.Aa=r}_apply(e){const t=kN(e,this.type,this.Ea,this.Aa);return new qi(e.firestore,e.converter,(i=t,new bl((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class ON extends X0{constructor(e,t,r){super(),this.type=e,this.Ea=t,this.Aa=r}_apply(e){const t=kN(e,this.type,this.Ea,this.Aa);return new qi(e.firestore,e.converter,(i=t,new bl((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function kN(n,e,t,r){if(t[0]=(0,Yt.m9)(t[0]),t[0]instanceof J0)return function(i,u,c,p,_){if(!p)throw new Ne(ce.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const b=[];for(const T of Oc(i))if(T.field.isKeyField())b.push(wl(u,p.key));else{const M=p.data.field(T.field);if(r0(M))throw new Ne(ce.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+T.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===M){const L=T.field.canonicalString();throw new Ne(ce.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${L}' (used as the orderBy) does not exist.`)}b.push(M)}return new El(b,_)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Hp(n.firestore);return function(u,c,p,_,b,T){const M=u.explicitOrderBy;if(b.length>M.length)throw new Ne(ce.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const L=[];for(let G=0;G<b.length;G++){const Z=b[G];if(M[G].field.isKeyField()){if("string"!=typeof Z)throw new Ne(ce.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof Z}`);if(!h0(u)&&-1!==Z.indexOf("/"))throw new Ne(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${Z}' contains a slash.`);const ue=u.path.child(sn.fromString(Z));if(!ze.isDocumentKey(ue))throw new Ne(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${ue}' is not because it contains an odd number of segments.`);const _e=new ze(ue);L.push(wl(c,_e))}else{const ue=SN(p,_,Z);L.push(ue)}}return new El(L,T)}(n._query,n.firestore._databaseId,i,e,t,r)}}function FN(n,e,t){if("string"==typeof(t=(0,Yt.m9)(t))){if(""===t)throw new Ne(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!h0(e)&&-1!==t.indexOf("/"))throw new Ne(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(sn.fromString(t));if(!ze.isDocumentKey(r))throw new Ne(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return wl(n,new ze(r))}if(t instanceof er)return wl(n,t._key);throw new Ne(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${oD(t)}.`)}function LN(n,e){if(!Array.isArray(n)||0===n.length)throw new Ne(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Ne(ce.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function VN(n,e,t){if(!t.isEqual(e))throw new Ne(ce.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class SA{convertValue(e,t="none"){switch(Pc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Hn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(_l(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw st()}}convertObject(e,t){const r={};return gi(e.fields,(i,u)=>{r[i]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new dD(Hn(e.latitude),Hn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=oI(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(ty(e));default:return null}}convertTimestamp(e){const t=Ja(e);return new Fn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=sn.fromString(e);Tt(GT(r));const i=new ia(r.get(1),r.get(3)),u=new ze(r.popFirst(5));return i.isEqual(t)||yr(`Document ${u} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function yD(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class jO extends SA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Tl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new er(this.firestore,null,t)}}class qp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Gc extends J0{constructor(e,t,r,i,u,c){super(e,t,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ew(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(mD("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class ew extends Gc{data(e={}){return super.data(e)}}class jh{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new qp(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new ew(this._firestore,this._userDataWriter,r.key,r,new qp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ne(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new ew(r._firestore,r._userDataWriter,c.doc.key,c.doc,new qp(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>i||3!==c.type).map(c=>{const p=new ew(r._firestore,r._userDataWriter,c.doc.key,c.doc,new qp(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let _=-1,b=-1;return 0!==c.type&&(_=u.indexOf(c.doc.key),u=u.delete(c.doc.key)),1!==c.type&&(u=u.add(c.doc),b=u.indexOf(c.doc.key)),{type:$O(c.type),doc:p,oldIndex:_,newIndex:b}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function $O(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return st()}}function UN(n,e){return n instanceof Gc&&e instanceof Gc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof jh&&e instanceof jh&&n._firestore===e._firestore&&hA(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class $h extends SA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Tl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new er(this.firestore,null,t)}}function BN(n,e,t){n=on(n,er);const r=on(n.firestore,tr),i=yD(n.converter,e,t);return Vy(r,[fD(Hp(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Xn.none())])}function jN(n,e,t,...r){n=on(n,er);const i=on(n.firestore,tr),u=Hp(i);let c;return c="string"==typeof(e=(0,Yt.m9)(e))||e instanceof Hc?DA(u,"updateDoc",n._key,e,t,r):IA(u,"updateDoc",n._key,e),Vy(i,[c.toMutation(n._key,Xn.exists(!0))])}function $N(n,...e){var t,r,i;n=(0,Yt.m9)(n);let u={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||EA(e[c])||(u=e[c],c++);const p={includeMetadataChanges:u.includeMetadataChanges};if(EA(e[c])){const M=e[c];e[c]=null===(t=M.next)||void 0===t?void 0:t.bind(M),e[c+1]=null===(r=M.error)||void 0===r?void 0:r.bind(M),e[c+2]=null===(i=M.complete)||void 0===i?void 0:i.bind(M)}let _,b,T;if(n instanceof er)b=on(n.firestore,tr),T=Ah(n._key.path),_={next:M=>{e[c]&&e[c](AA(b,n,M))},error:e[c+1],complete:e[c+2]};else{const M=on(n,qi);b=on(M.firestore,tr),T=M._query;const L=new $h(b);_={next:G=>{e[c]&&e[c](new jh(b,L,M,G))},error:e[c+1],complete:e[c+2]},NN(n._query)}return function(M,L,G,Z){const ue=new uD(Z),_e=new VS(L,ue,G);return M.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return RS(yield Ly(M),_e)})),()=>{ue.bc(),M.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return kS(yield Ly(M),_e)}))}}(Fr(b),T,p,_)}function Vy(n,e){return function(t,r){const i=new Ar;return t.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function kR(n,e,t){return HS.apply(this,arguments)}(yield vA(t),r,i)})),i.promise}(Fr(n),e)}function AA(n,e,t){const r=t.docs.get(e._key),i=new $h(n);return new Gc(n,i,e._key,r,new qp(t.hasPendingWrites,t.fromCache),e.converter)}const JO={maxAttempts:5};class HN{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Hp(e)}set(e,t,r){this._verifyNotCommitted();const i=Hh(e,this._firestore),u=yD(i.converter,t,r),c=fD(this._dataReader,"WriteBatch.set",i._key,u,null!==i.converter,r);return this._mutations.push(c.toMutation(i._key,Xn.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const u=Hh(e,this._firestore);let c;return c="string"==typeof(t=(0,Yt.m9)(t))||t instanceof Hc?DA(this._dataReader,"WriteBatch.update",u._key,t,r,i):IA(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(c.toMutation(u._key,Xn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Hh(e,this._firestore);return this._mutations=this._mutations.concat(new kp(t._key,Xn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ne(ce.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Hh(n,e){if((n=(0,Yt.m9)(n)).firestore!==e)throw new Ne(ce.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class XO extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Hp(e)}get(e){const t=Hh(e,this._firestore),r=new jO(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return st();const u=i[0];if(u.isFoundDocument())return new J0(this._firestore,r,u.key,u,t.converter);if(u.isNoDocument())return new J0(this._firestore,r,t._key,null,t.converter);throw st()})}set(e,t,r){const i=Hh(e,this._firestore),u=yD(i.converter,t,r),c=fD(this._dataReader,"Transaction.set",i._key,u,null!==i.converter,r);return this._transaction.set(i._key,c),this}update(e,t,r,...i){const u=Hh(e,this._firestore);let c;return c="string"==typeof(t=(0,Yt.m9)(t))||t instanceof Hc?DA(this._dataReader,"Transaction.update",u._key,t,r,i):IA(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,c),this}delete(e){const t=Hh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Hh(e,this._firestore),r=new $h(this._firestore);return super.get(e).then(i=>new Gc(this._firestore,r,t._key,i._document,new qp(!1,!1),t.converter))}}function MA(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ne("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function qN(){if(typeof Uint8Array>"u")throw new Ne("unimplemented","Uint8Arrays are not available in this environment.")}function zN(){if(!function wT(){return typeof atob<"u"}())throw new Ne("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){gh=Us.SDK_VERSION,(0,Us._registerComponent)(new Za.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const u=t.getProvider("app").getImmediate(),c=new tr(new pT(t.getProvider("auth-internal")),new Wb(t.getProvider("app-check-internal")),function(p,_){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Ne(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ia(p.options.projectId,_)}(u,r),u);return i=Object.assign({useFetchStreams:e},i),c._setSettings(i),c},"PUBLIC").setMultipleInstances(!0)),(0,Us.registerVersion)(Gb,"3.7.1",n),(0,Us.registerVersion)(Gb,"3.7.1","esm2017")}();class tw{constructor(e){this._delegate=e}static fromBase64String(e){return zN(),new tw(Tl.fromBase64String(e))}static fromUint8Array(e){return qN(),new tw(Tl.fromUint8Array(e))}toBase64(){return zN(),this._delegate.toBase64()}toUint8Array(){return qN(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function xA(n){return function uk(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class lk{enableIndexedDbPersistence(e,t){return function gO(n,e){IN(n=on(n,tr));const t=Fr(n),r=n._freezeSettings(),i=new cA;return bN(t,i,new iN(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function mO(n){IN(n=on(n,tr));const e=Fr(n),t=n._freezeSettings(),r=new cA;return bN(e,r,new QR(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function yO(n){if(n._initialized&&!n._terminated)throw new Ne(ce.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ar;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ye.Z)(function*(){try{yield(t=(0,ye.Z)(function*(r){if(!js.C())return Promise.resolve();const i=r+"main";yield js.delete(i)}),function(r){return t.apply(this,arguments)})(rS(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class WN{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof ia||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Mc("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function dN(n,e,t,r={}){var i;const u=(n=on(n,Y0))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==e&&Mc("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},u),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let c,p;if("string"==typeof r.mockUserToken)c=r.mockUserToken,p=zr.MOCK_USER;else{c=(0,Yt.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new Ne(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new zr(_)}n._authCredentials=new Jv(new Km(c,p))}}(this._delegate,e,t,r)}enableNetwork(){return function vO(n){return function sO(n){return n.asyncQueue.enqueue((0,ye.Z)(function*(){const e=yield yN(n),t=yield _A(n);return e.setNetworkEnabled(!0),function(r){const i=qe(r);return i.wu.delete(0),Z0(i)}(t)}))}(Fr(n=on(n,tr)))}(this._delegate)}disableNetwork(){return function wO(n){return function oO(n){return n.asyncQueue.enqueue((0,ye.Z)(function*(){const e=yield yN(n),t=yield _A(n);return e.setNetworkEnabled(!1),(r=(0,ye.Z)(function*(i){const u=qe(i);u.wu.add(0),yield xy(u),u.yu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(Fr(n=on(n,tr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,sN("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function _O(n){return function(e){const t=new Ar;return e.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function UR(n,e){return ZS.apply(this,arguments)}(yield vA(e),t)})),t.promise}(Fr(n=on(n,tr)))}(this._delegate)}onSnapshotsInSync(e){return function QO(n,e){return function lO(n,e){const t=new uD(e);return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return r=yield Ly(n),i=t,qe(r).bu.add(i),void i.next();var r,i})),()=>{t.bc(),n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return r=yield Ly(n),i=t,void qe(r).bu.delete(i);var r,i}))}}(Fr(n=on(n,tr)),EA(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ne("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Uy(this,hN(this._delegate,e))}catch(t){throw ms(t,"collection()","Firestore.collection()")}}doc(e){try{return new la(this,aD(this._delegate,e))}catch(t){throw ms(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ys(this,function JR(n,e){if(n=on(n,Y0),dA("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ne(ce.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new qi(n,null,(t=e,new bl(sn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw ms(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function ek(n,e,t){n=on(n,tr);const r=Object.assign(Object.assign({},JO),t);return function(i){if(i.maxAttempts<1)throw new Ne(ce.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,u,c){const p=new Ar;return i.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){const _=yield function _N(n){return lD(n).then(e=>e.datastore)}(i);new rO(i.asyncQueue,_,c,u,p).run()})),p.promise}(Fr(n),i=>e(new XO(n,i)),r)}(this._delegate,t=>e(new ZN(this,t)))}batch(){return Fr(this._delegate),new KN(new HN(this._delegate,e=>Vy(this._delegate,e)))}loadBundle(e){return function EO(n,e){const t=Fr(n=on(n,tr)),r=new fO;return function cO(n,e,t,r){const i=function(u,c){let p;return p="string"==typeof u?(new TextEncoder).encode(u):u,_=function(_,b){if(_ instanceof Uint8Array)return pN(_,b);if(_ instanceof ArrayBuffer)return pN(new Uint8Array(_),b);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(p),new XR(_,c);var _}(t,W0(e));n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){!function YR(n,e,t){const r=qe(n);var i;(i=(0,ye.Z)(function*(u,c,p){try{const _=yield c.getMetadata();if(yield function(L,G){const Z=qe(L),ue=Zr(G.createTime);return Z.persistence.runTransaction("hasNewerBundle","readonly",_e=>Z.Ns.getBundleMetadata(_e,G.id)).then(_e=>!!_e&&_e.createTime.compareTo(ue)>=0)}(u.localStore,_))return yield c.close(),p._completeWith({taskState:"Success",documentsLoaded:(L=_).totalDocuments,bytesLoaded:L.totalBytes,totalDocuments:L.totalDocuments,totalBytes:L.totalBytes}),Promise.resolve(new Set);p._updateProgress(Zx(_));const b=new MR(_,u.localStore,c.It);let T=yield c.mc();for(;T;){const L=yield b.Fu(T);L&&p._updateProgress(L),T=yield c.mc()}const M=yield b.complete();return yield $c(u,M.Lu,void 0),yield function(L,G){const Z=qe(L);return Z.persistence.runTransaction("Save bundle","readwrite",ue=>Z.Ns.saveBundleMetadata(ue,G))}(u.localStore,_),p._completeWith(M.progress),Promise.resolve(M.Bu)}catch(_){return Mc("SyncEngine",`Loading bundle failed with ${_}`),p._failWith(_),Promise.resolve(new Set)}var L}),function(u,c,p){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield vA(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function bO(n,e){return function dO(n,e){return n.asyncQueue.enqueue((0,ye.Z)(function*(){return function(t,r){const i=qe(t);return i.persistence.runTransaction("Get named query","readonly",u=>i.Ns.getNamedQuery(u,r))}(yield cD(n),e)}))}(Fr(n=on(n,tr)),e).then(t=>t?new qi(n,null,t.query):null)}(this._delegate,e).then(t=>t?new ys(this,t):null)}}class _D extends SA{constructor(e){super(),this.firestore=e}convertBytes(e){return new tw(new Tl(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return la.forKey(t,this.firestore,null)}}class ZN{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new _D(e)}get(e){const t=Wp(e);return this._delegate.get(t).then(r=>new nw(this._firestore,new Gc(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Wp(e);return r?(MA("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const u=Wp(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...i),this}delete(e){const t=Wp(e);return this._delegate.delete(t),this}}class KN{constructor(e){this._delegate=e}set(e,t,r){const i=Wp(e);return r?(MA("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const u=Wp(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...i),this}delete(e){const t=Wp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class zp{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new ew(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new rw(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=zp.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let u=i.get(t);return u||(u=new zp(e,new _D(e),t),i.set(t,u)),u}}zp.INSTANCES=new WeakMap;class la{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new _D(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Ne("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new la(t,new er(t._delegate,r,new ze(e)))}static forKey(e,t,r){return new la(t,new er(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Uy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Uy(this.firestore,hN(this._delegate,e))}catch(t){throw ms(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Yt.m9)(e))instanceof er&&fN(this._delegate,e)}set(e,t){t=MA("DocumentReference.set",t);try{return t?BN(this._delegate,e,t):BN(this._delegate,e)}catch(r){throw ms(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?jN(this._delegate,e):jN(this._delegate,e,t,...r)}catch(i){throw ms(i,"updateDoc()","DocumentReference.update()")}}delete(){return function KO(n){return Vy(on(n.firestore,tr),[new kp(n._key,Xn.none())])}(this._delegate)}onSnapshot(...e){const t=YN(e),r=QN(e,i=>new nw(this.firestore,new Gc(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return $N(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function GO(n){n=on(n,er);const e=on(n.firestore,tr),t=Fr(e),r=new $h(e);return function aO(n,e){const t=new Ar;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return(r=(0,ye.Z)(function*(i,u,c){try{const p=yield function(_,b){const T=qe(_);return T.persistence.runTransaction("read document","readonly",M=>T.localDocuments.getDocument(M,b))}(i,u);p.isFoundDocument()?c.resolve(p):p.isNoDocument()?c.resolve(null):c.reject(new Ne(ce.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(p){const _=Ry(p,`Failed to get document '${u} from cache`);c.reject(_)}}),function(i,u,c){return r.apply(this,arguments)})(yield cD(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Gc(e,r,n._key,i,new qp(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function qO(n){n=on(n,er);const e=on(n.firestore,tr);return vN(Fr(e),n._key,{source:"server"}).then(t=>AA(e,n,t))}(this._delegate):function HO(n){n=on(n,er);const e=on(n.firestore,tr);return vN(Fr(e),n._key).then(t=>AA(e,n,t))}(this._delegate),t.then(r=>new nw(this.firestore,new Gc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new la(this.firestore,this._delegate.withConverter(e?zp.getInstance(this.firestore,e):null))}}function ms(n,e,t){return n.message=n.message.replace(e,t),n}function YN(n){for(const e of n)if("object"==typeof e&&!xA(e))return e;return{}}function QN(n,e){var t,r;let i;return i=xA(n[0])?n[0]:xA(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{i.next&&i.next(e(u))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class nw{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new la(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return UN(this._delegate,e._delegate)}}class rw extends nw{data(e){const t=this._delegate.data(e);return function mh(n,e){n||st()}(void 0!==t),t}}class ys{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new _D(e)}where(e,t,r){try{return new ys(this.firestore,Bh(this._delegate,function PO(n,e,t){const r=e,i=mD("where",n);return new NO(i,r,t)}(e,t,r)))}catch(i){throw ms(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new ys(this.firestore,Bh(this._delegate,function OO(n,e="asc"){const t=e,r=mD("orderBy",n);return new RO(r,t)}(e,t)))}catch(r){throw ms(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ys(this.firestore,Bh(this._delegate,function kO(n){return uN("limit",n),new PN("limit",n,"F")}(e)))}catch(t){throw ms(t,"limit()","Query.limit()")}}limitToLast(e){try{return new ys(this.firestore,Bh(this._delegate,function FO(n){return uN("limitToLast",n),new PN("limitToLast",n,"L")}(e)))}catch(t){throw ms(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ys(this.firestore,Bh(this._delegate,function LO(...n){return new RN("startAt",n,!0)}(...e)))}catch(t){throw ms(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ys(this.firestore,Bh(this._delegate,function VO(...n){return new RN("startAfter",n,!1)}(...e)))}catch(t){throw ms(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ys(this.firestore,Bh(this._delegate,function UO(...n){return new ON("endBefore",n,!1)}(...e)))}catch(t){throw ms(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ys(this.firestore,Bh(this._delegate,function BO(...n){return new ON("endAt",n,!0)}(...e)))}catch(t){throw ms(t,"endAt()","Query.endAt()")}}isEqual(e){return hA(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function WO(n){n=on(n,qi);const e=on(n.firestore,tr),t=Fr(e),r=new $h(e);return function uO(n,e){const t=new Ar;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return(r=(0,ye.Z)(function*(i,u,c){try{const p=yield eD(i,u,!0),_=new Qx(u,p.Hi),b=_.Wu(p.documents),T=_.applyChanges(b,!1);c.resolve(T.snapshot)}catch(p){const _=Ry(p,`Failed to execute query '${u} against cache`);c.reject(_)}}),function(i,u,c){return r.apply(this,arguments)})(yield cD(n),e,t);var r})),t.promise}(t,n._query).then(i=>new jh(e,r,n,i))}(this._delegate):"server"===e?.source?function ZO(n){n=on(n,qi);const e=on(n.firestore,tr),t=Fr(e),r=new $h(e);return wN(t,n._query,{source:"server"}).then(i=>new jh(e,r,n,i))}(this._delegate):function zO(n){n=on(n,qi);const e=on(n.firestore,tr),t=Fr(e),r=new $h(e);return NN(n._query),wN(t,n._query).then(i=>new jh(e,r,n,i))}(this._delegate),t.then(r=>new NA(this.firestore,new jh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=YN(e),r=QN(e,i=>new NA(this.firestore,new jh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return $N(this._delegate,t,r)}withConverter(e){return new ys(this.firestore,this._delegate.withConverter(e?zp.getInstance(this.firestore,e):null))}}class dk{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new rw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class NA{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ys(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new rw(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new dk(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new rw(this._firestore,r))})}isEqual(e){return UN(this._delegate,e._delegate)}}class Uy extends ys{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new la(this.firestore,e):null}doc(e){try{return new la(this.firestore,void 0===e?aD(this._delegate):aD(this._delegate,e))}catch(t){throw ms(t,"doc()","CollectionReference.doc()")}}add(e){return function YO(n,e){const t=on(n.firestore,tr),r=aD(n),i=yD(n.converter,e);return Vy(t,[fD(Hp(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Xn.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new la(this.firestore,t))}isEqual(e){return fN(this._delegate,e._delegate)}withConverter(e){return new Uy(this.firestore,this._delegate.withConverter(e?zp.getInstance(this.firestore,e):null))}}function Wp(n){return on(n,er)}class PA{constructor(...e){this._delegate=new Hc(...e)}static documentId(){return new PA(_r.keyField().canonicalString())}isEqual(e){return(e=(0,Yt.m9)(e))instanceof Hc&&this._delegate._internalPath.isEqual(e._internalPath)}}class Zp{constructor(e){this._delegate=e}static serverTimestamp(){const e=function nk(){return new bA("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Zp(e)}static delete(){const e=function tk(){return new Q0("deleteField")}();return e._methodName="FieldValue.delete",new Zp(e)}static arrayUnion(...e){const t=function rk(...n){return new TO("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Zp(t)}static arrayRemove(...e){const t=function ik(...n){return new SO("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Zp(t)}static increment(e){const t=function sk(n){return new AO("increment",n)}(e);return t._methodName="FieldValue.increment",new Zp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const hk={Firestore:WN,GeoPoint:dD,Timestamp:Fn,Blob:tw,Transaction:ZN,WriteBatch:KN,DocumentReference:la,DocumentSnapshot:nw,Query:ys,QueryDocumentSnapshot:rw,QuerySnapshot:NA,CollectionReference:Uy,FieldPath:PA,FieldValue:Zp,setLogLevel:function ck(n){!function qb(n){ra.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function pk(n){(function fk(n,e){n.INTERNAL.registerComponent(new Za.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},hk)))})(n,(e,t)=>new WN(e,t,new lk)),n.registerVersion("@firebase/firestore-compat","0.2.1")}(Y_.Z);var gk=k(6451),vD=k(5363),mk=k(6063);class yk extends dn.x{constructor(e=1/0,t=1/0,r=mk.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:u,_windowTime:c}=this;t||(r.push(e),!i&&r.push(u.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,u=i.slice();for(let c=0;c<u.length&&!e.closed;c+=r?1:2)e.next(u[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,u=(i?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!i){const c=t.now();let p=0;for(let _=1;_<r.length&&r[_]<=c;_+=2)p=_;p&&r.splice(0,p+1)}}}var _k=k(3099);function JN(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,_k.B)({connector:()=>new yk(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function XN(n,e){return(0,Ai.m)(e)?qt(()=>n,e):qt(()=>n)}var RA=k(9468);k(5867);const t1=new Map,Ik={activated:!1,tokenObservers:[]},Dk={initialized:!1,enabled:!1};function Ei(n){return t1.get(n)||Ik}function ca(n,e){t1.set(n,e)}function ED(){return Dk}class Mk{constructor(e,t,r,i,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=i,i>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ye.Z)(function*(){t.stop();try{t.pending=new Yt.BH,yield function xk(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Yt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const _s=new Yt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function r1(n){if(!Ei(n).activated)throw _s.create("use-before-activation",{appName:n.name})}function LA(n,e){return VA.apply(this,arguments)}function VA(){return VA=(0,ye.Z)(function*({url:n,body:e},t){var r,i;const u={"Content-Type":"application/json"},c=t.getImmediate({optional:!0});if(c){const G=yield c.getHeartbeatsHeader();G&&(u["X-Firebase-Client"]=G)}const p={method:"POST",body:JSON.stringify(e),headers:u};let _,b;try{_=yield fetch(n,p)}catch(G){throw _s.create("fetch-network-error",{originalErrorMessage:null===(r=G)||void 0===r?void 0:r.message})}if(200!==_.status)throw _s.create("fetch-status-error",{httpStatus:_.status});try{b=yield _.json()}catch(G){throw _s.create("fetch-parse-error",{originalErrorMessage:null===(i=G)||void 0===i?void 0:i.message})}const T=b.ttl.match(/^([\d.]+)(s)$/);if(!T||!T[2]||isNaN(Number(T[1])))throw _s.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${b.ttl}`});const M=1e3*Number(T[1]),L=Date.now();return{token:b.token,expireTimeMillis:L+M,issuedAtTimeMillis:L}}),VA.apply(this,arguments)}function Ok(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const iw="firebase-app-check-store";let DD=null;function s1(){return DD||(DD=new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=i=>{n(i.target.result)},r.onerror=i=>{var u;e(_s.create("storage-open",{originalErrorMessage:null===(u=i.target.error)||void 0===u?void 0:u.message}))},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(iw,{keyPath:"compositeKey"})}}catch(r){e(_s.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}}),DD)}function UA(){return UA=(0,ye.Z)(function*(n,e){const r=(yield s1()).transaction(iw,"readwrite"),u=r.objectStore(iw).put({compositeKey:n,value:e});return new Promise((c,p)=>{u.onsuccess=_=>{c()},r.onerror=_=>{var b;p(_s.create("storage-set",{originalErrorMessage:null===(b=_.target.error)||void 0===b?void 0:b.message}))}})}),UA.apply(this,arguments)}const sw=new ds.Yd("@firebase/app-check");function $A(n,e){return(0,Yt.hl)()?function Vk(n,e){return function o1(n,e){return UA.apply(this,arguments)}(function u1(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{sw.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function l1(){return ED().enabled}function c1(){return GA.apply(this,arguments)}function GA(){return GA=(0,ye.Z)(function*(){const n=ED();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),GA.apply(this,arguments)}const Gk={error:"UNKNOWN_ERROR"};function qk(n){return Yt.US.encodeString(JSON.stringify(n),!1)}function CD(n){return qA.apply(this,arguments)}function qA(){return qA=(0,ye.Z)(function*(n,e=!1){const t=n.app;r1(t);const r=Ei(t);let u,i=r.token;if(i&&!By(i)&&(ca(t,Object.assign(Object.assign({},r),{token:void 0})),i=void 0),!i){const _=yield r.cachedTokenPromise;_&&(By(_)?i=_:yield $A(t,void 0))}if(!e&&i&&By(i))return{token:i.token};let p,c=!1;if(l1()){r.exchangeTokenPromise||(r.exchangeTokenPromise=LA(Ok(t,yield c1()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),c=!0);const _=yield r.exchangeTokenPromise;return yield $A(t,_),ca(t,Object.assign(Object.assign({},r),{token:_})),{token:_.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),c=!0),i=yield r.exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?sw.warn(_.message):sw.error(_),u=_}return i?u?p=By(i)?{token:i.token,internalError:u}:f1(u):(p={token:i.token},ca(t,Object.assign(Object.assign({},r),{token:i})),yield $A(t,i)):p=f1(u),c&&h1(t,p),p}),qA.apply(this,arguments)}function WA(n,e){const t=Ei(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),ca(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function d1(n){const{app:e}=n,t=Ei(e);let r=t.tokenRefresher;r||(r=function zk(n){const{app:e}=n;return new Mk((0,ye.Z)(function*(){let r;if(r=Ei(e).token?yield CD(n,!0):yield CD(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Ei(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),ca(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function h1(n,e){const t=Ei(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function By(n){return n.expireTimeMillis-Date.now()>0}function f1(n){return{token:qk(Gk),error:n}}class Wk{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Ei(this.app);for(const t of e)WA(this.app,t.next);return Promise.resolve()}}const E1="app-check-internal";!function aF(){(0,Us._registerComponent)(new Za.wA("app-check",n=>function Zk(n,e){return new Wk(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(E1).initialize()})),(0,Us._registerComponent)(new Za.wA(E1,n=>function Kk(n){return{getToken:e=>CD(n,e),addTokenListener:e=>function zA(n,e,t,r){const{app:i}=n,u=Ei(i),c={next:t,error:r,type:e};if(ca(i,Object.assign(Object.assign({},u),{tokenObservers:[...u.tokenObservers,c]})),u.token&&By(u.token)){const p=u.token;Promise.resolve().then(()=>{t({token:p.token}),d1(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>d1(n))}(n,"INTERNAL",e),removeTokenListener:e=>WA(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Us.registerVersion)("@firebase/app-check","0.5.15")}();class QA{constructor(){return(0,Tr.vb)("app-check")}}typeof window<"u"&&window,k(127);const I1=new d.OlP("angularfire2.auth.use-emulator"),D1=new d.OlP("angularfire2.auth.settings"),C1=new d.OlP("angularfire2.auth.tenant-id"),T1=new d.OlP("angularfire2.auth.langugage-code"),S1=new d.OlP("angularfire2.auth.use-device-language"),A1=new d.OlP("angularfire.auth.persistence"),M1=(n,e,t,r,i,u,c,p)=>(0,ti.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),r&&(_.tenantId=r),_.languageCode=i,u&&_.useDeviceLanguage(),c)for(const[b,T]of Object.entries(c))_.settings[b]=T;return p&&_.setPersistence(p),_},[t,r,i,u,c,p]);let x1=(()=>{class n{constructor(t,r,i,u,c,p,_,b,T,M,L,G){const Z=new dn.x,ue=rt(void 0).pipe((0,vD.Q)(c.outsideAngular),qt(()=>u.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,9545)))),(0,bt.U)(()=>(0,ti.on)(t,u,r)),(0,bt.U)(_e=>M1(_e,u,p,b,T,M,_,L)),JN({bufferSize:1,refCount:!1}));if(Ir(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=rt(null);else{ue.pipe(Ie()).subscribe();const Ye=ue.pipe(qt(ct=>ct.getRedirectResult().then(St=>St,()=>null)),Tr.iC,JN({bufferSize:1,refCount:!1})),at=ue.pipe(qt(ct=>new Dr.y(St=>({unsubscribe:u.runOutsideAngular(()=>ct.onAuthStateChanged(Pt=>St.next(Pt),Pt=>St.error(Pt),()=>St.complete()))})))),gt=ue.pipe(qt(ct=>new Dr.y(St=>({unsubscribe:u.runOutsideAngular(()=>ct.onIdTokenChanged(Pt=>St.next(Pt),Pt=>St.error(Pt),()=>St.complete()))}))));this.authState=Ye.pipe(XN(at),(0,RA.R)(c.outsideAngular),(0,vD.Q)(c.insideAngular)),this.user=Ye.pipe(XN(gt),(0,RA.R)(c.outsideAngular),(0,vD.Q)(c.insideAngular)),this.idToken=this.user.pipe(qt(ct=>ct?(0,rn.D)(ct.getIdToken()):rt(null))),this.idTokenResult=this.user.pipe(qt(ct=>ct?(0,rn.D)(ct.getIdTokenResult()):rt(null))),this.credential=(0,gk.T)(Ye,Z,this.authState.pipe(C(ct=>!ct))).pipe((0,bt.U)(ct=>ct?.user?ct:null),(0,RA.R)(c.outsideAngular),(0,vD.Q)(c.insideAngular))}return(0,ti.pX)(this,ue,u,{spy:{apply:(_e,Ye,at)=>{(_e.startsWith("signIn")||_e.startsWith("createUser"))&&at.then(gt=>Z.next(gt))}}})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ti.Dh),d.LFG(ti.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Tr.HU),d.LFG(I1,8),d.LFG(D1,8),d.LFG(C1,8),d.LFG(T1,8),d.LFG(S1,8),d.LFG(A1,8),d.LFG(QA,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function N1(n,e){return function fF(n,e=Xo.z){return new Dr.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function XA(n,e){return N1(n,e).pipe((0,bt.U)(t=>({payload:t,type:"query"})))}function SD(n,e){return XA(n,e).pipe(D(void 0),Gr(),(0,bt.U)(([t,r])=>{const i=r.payload.docChanges(),u=i.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((c,p)=>{const _=i.find(T=>T.doc.ref.isEqual(c.ref)),b=t?.payload.docs.find(T=>T.ref.isEqual(c.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(c.metadata)||!_&&b&&JSON.stringify(b.metadata)===JSON.stringify(c.metadata)||u.push({type:"modified",payload:{oldIndex:p,newIndex:p,type:"modified",doc:c}})}),u}))}function P1(n,e,t){return SD(n,t).pipe(lt((r,i)=>function gF(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function mF(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return eM(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return eM(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return eM(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(u=>u.payload),e),[]),function Dc(n,e=gr.y){return n=n??mm,(0,Bn.e)((t,r)=>{let i,u=!0;t.subscribe((0,ar.x)(r,c=>{const p=e(c);(u||!n(i,p))&&(u=!1,i=p,r.next(c))}))})}(),(0,bt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function eM(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function R1(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class O1{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=SD(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,bt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(D(void 0),Gr(),C(([r,i])=>i.length>0||!r),(0,bt.U)(([r,i])=>i),Tr.iC)}auditTrail(e){return this.stateChanges(e).pipe(lt((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=R1(e);return P1(this.query,t,this.afs.schedulers.outsideAngular).pipe(Tr.iC)}valueChanges(e={}){return XA(this.query,this.afs.schedulers.outsideAngular).pipe((0,bt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Tr.iC)}get(e){return(0,rn.D)(this.query.get(e)).pipe(Tr.iC)}add(e){return this.ref.add(e)}doc(e){return new k1(this.ref.doc(e),this.afs)}}class k1{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:u}=F1(r,t);return new O1(i,u,this.afs)}snapshotChanges(){return function pF(n,e){return N1(n,e).pipe(D(void 0),Gr(),(0,bt.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Tr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,bt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,rn.D)(this.ref.get(e)).pipe(Tr.iC)}}class yF{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?SD(this.query,this.afs.schedulers.outsideAngular).pipe((0,bt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),C(t=>t.length>0),Tr.iC):SD(this.query,this.afs.schedulers.outsideAngular).pipe(Tr.iC)}auditTrail(e){return this.stateChanges(e).pipe(lt((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=R1(e);return P1(this.query,t,this.afs.schedulers.outsideAngular).pipe(Tr.iC)}valueChanges(e={}){return XA(this.query,this.afs.schedulers.outsideAngular).pipe((0,bt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),Tr.iC)}get(e){return(0,rn.D)(this.query.get(e)).pipe(Tr.iC)}}const _F=new d.OlP("angularfire2.enableFirestorePersistence"),vF=new d.OlP("angularfire2.firestore.persistenceSettings"),wF=new d.OlP("angularfire2.firestore.settings"),EF=new d.OlP("angularfire2.firestore.use-emulator");function F1(n,e=(t=>t)){return{query:e(n),ref:n}}let bF=(()=>{class n{constructor(t,r,i,u,c,p,_,b,T,M,L,G,Z,ue,_e,Ye,at){this.schedulers=_;const gt=(0,ti.on)(t,p,r),ct=T;M&&M1(gt,p,L,Z,ue,_e,G,Ye),[this.firestore,this.persistenceEnabled$]=(0,ti.cc)(`${gt.name}.firestore`,"AngularFirestore",gt.name,()=>{const St=p.runOutsideAngular(()=>gt.firestore());if(u&&St.settings(u),ct&&St.useEmulator(...ct),i&&!Ir(c)){const Pt=()=>{try{return(0,rn.D)(St.enablePersistence(b||void 0).then(()=>!0,()=>!1))}catch(ln){return typeof console<"u"&&console.warn(ln),rt(!1)}};return[St,p.runOutsideAngular(Pt)]}return[St,rt(!1)]},[u,ct,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:c}=F1(i,r),p=this.schedulers.ngZone.run(()=>u);return new O1(p,c,this)}collectionGroup(t,r){const i=r||(c=>c),u=this.firestore.collectionGroup(t);return new yF(i(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new k1(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ti.Dh),d.LFG(ti.xv,8),d.LFG(_F,8),d.LFG(wF,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Tr.HU),d.LFG(vF,8),d.LFG(EF,8),d.LFG(x1,8),d.LFG(I1,8),d.LFG(D1,8),d.LFG(C1,8),d.LFG(T1,8),d.LFG(S1,8),d.LFG(A1,8),d.LFG(QA,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),AD=(()=>{class n{constructor(t){this.firestore=t}agregarproducto(t){return this.firestore.collection("productos").add(t)}getProducts(){return this.firestore.collection("productos",t=>t.orderBy("table","asc")).snapshotChanges()}deleteProducts(t){return this.firestore.collection("productos").doc(t).delete()}getProducto(t){return this.firestore.collection("productos").doc(t).snapshotChanges()}update(t,r){return this.firestore.collection("productos").doc(t).update(r)}ajustarProducto(t){return this.firestore.collection("ajustes").add(t)}obtenerAjuste(t){return this.firestore.collection("ajustes").doc(t).snapshotChanges()}obtProductos(){return this.firestore.collection("ajustes").snapshotChanges()}updatex(t,r){return this.firestore.collection("ajustes").doc(t).update(r)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(bF))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),L1=(()=>{class n{constructor(t,r,i,u){this.fb=t,this._servicio=r,this.aRouter=i,this.router=u,this.adjustProduct=this.fb.group({sabor01:[""],sabor02:[""],sabor03:[""],sabor04:[""],sabor05:[""],sabor06:[""],sabor07:[""],sabor08:[""],sabor09:[""],sabor10:[""],sabor11:[""],sabor12:[""]}),this.id=this.aRouter.snapshot.paramMap.get("id")}ngOnInit(){this.ajustesImp()}ajustar(){null===this.id?this.ajustarAddProduct():this.ajustesEdit(this.id)}ajustarAddProduct(){const t={sabor01:this.adjustProduct.value.sabor01,sabor02:this.adjustProduct.value.sabor02,sabor03:this.adjustProduct.value.sabor03,sabor04:this.adjustProduct.value.sabor04,sabor05:this.adjustProduct.value.sabor05,sabor06:this.adjustProduct.value.sabor06,sabor07:this.adjustProduct.value.sabor07,sabor08:this.adjustProduct.value.sabor08,sabor09:this.adjustProduct.value.sabor09,sabor10:this.adjustProduct.value.sabor10,sabor11:this.adjustProduct.value.sabor11,sabor12:this.adjustProduct.value.sabor12};console.log(t),this._servicio.ajustarProducto(t).then(()=>{console.log("registrado con exito")})}ajustesEdit(t){this._servicio.updatex(t,{sabor01:this.adjustProduct.value.sabor01,sabor02:this.adjustProduct.value.sabor02,sabor03:this.adjustProduct.value.sabor03,sabor04:this.adjustProduct.value.sabor04,sabor05:this.adjustProduct.value.sabor05,sabor06:this.adjustProduct.value.sabor06,sabor07:this.adjustProduct.value.sabor07,sabor08:this.adjustProduct.value.sabor08,sabor09:this.adjustProduct.value.sabor09,sabor10:this.adjustProduct.value.sabor10,sabor11:this.adjustProduct.value.sabor11,sabor12:this.adjustProduct.value.sabor12}).then(()=>{}),this.router.navigate(["/mod"])}ajustesImp(){null!==this.id&&this._servicio.obtenerAjuste(this.id).subscribe(t=>{this.adjustProduct.setValue({sabor01:t.payload.data().sabor01,sabor02:t.payload.data().sabor02,sabor03:t.payload.data().sabor03,sabor04:t.payload.data().sabor04,sabor05:t.payload.data().sabor05,sabor06:t.payload.data().sabor06,sabor07:t.payload.data().sabor07,sabor08:t.payload.data().sabor08,sabor09:t.payload.data().sabor09,sabor10:t.payload.data().sabor10,sabor11:t.payload.data().sabor11,sabor12:t.payload.data().sabor12})})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(HE),d.Y36(AD),d.Y36(Bi),d.Y36(Cr))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-adjust"]],decls:34,vars:1,consts:[[1,"contenedor"],[3,"formGroup","ngSubmit"],[1,"flavors"],[1,"col"],["type","text","placeholder","sabor01","formControlName","sabor01",1,""],["type","text","placeholder","sabor02","formControlName","sabor02",1,""],["type","text","placeholder","sabor03","formControlName","sabor03",1,""],["type","text","placeholder","sabor04","formControlName","sabor04",1,""],["type","text","placeholder","sabor05","formControlName","sabor05",1,""],["type","text","placeholder","sabor06","formControlName","sabor06",1,""],["type","text","placeholder","sabor07","formControlName","sabor07",1,""],["type","text","placeholder","sabor08","formControlName","sabor08",1,""],["type","text","placeholder","sabor09","formControlName","sabor09",1,""],["type","text","placeholder","sabor10","formControlName","sabor10",1,""],["type","text","placeholder","sabor11","formControlName","sabor11",1,""],["type","text","placeholder","sabor12","formControlName","sabor12",1,""],[1,"mt-3","text-center"],["type","text","routerLink","/mod",1,"btn","btn-secondary","btn-lg","mr-3"],["type","submit",1,"btn","btn-dark","btn-lg"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0)(1,"form",1),d.NdJ("ngSubmit",function(){return r.ajustar()}),d.TgZ(2,"div",2)(3,"h3"),d._uU(4,"ajustar sabores"),d.qZA(),d.TgZ(5,"div",3),d._UZ(6,"input",4),d.qZA(),d.TgZ(7,"div",3),d._UZ(8,"input",5),d.qZA(),d.TgZ(9,"div",3),d._UZ(10,"input",6),d.qZA(),d.TgZ(11,"div",3),d._UZ(12,"input",7),d.qZA(),d.TgZ(13,"div",3),d._UZ(14,"input",8),d.qZA(),d.TgZ(15,"div",3),d._UZ(16,"input",9),d.qZA(),d.TgZ(17,"div",3),d._UZ(18,"input",10),d.qZA(),d.TgZ(19,"div",3),d._UZ(20,"input",11),d.qZA(),d.TgZ(21,"div",3),d._UZ(22,"input",12),d.qZA(),d.TgZ(23,"div",3),d._UZ(24,"input",13),d.qZA(),d.TgZ(25,"div",3),d._UZ(26,"input",14),d.qZA(),d.TgZ(27,"div",3),d._UZ(28,"input",15),d.qZA()(),d.TgZ(29,"div",16)(30,"button",17),d._uU(31,"Regresar"),d.qZA(),d.TgZ(32,"button",18),d._uU(33,"Aceptar"),d.qZA()()()()),2&t&&(d.xp6(1),d.Q6J("formGroup",r.adjustProduct))},dependencies:[el,lm,vc,Yg,Bf,Gf,Jd]}),n})();class V1{}const qc="*";function DF(n,e){return{type:7,name:n,definitions:e,options:{}}}function U1(n,e=null){return{type:4,styles:e,timings:n}}function B1(n,e=null){return{type:2,steps:n,options:e}}function ow(n){return{type:6,styles:n,offset:null}}function tM(n,e,t){return{type:0,name:n,styles:e,options:t}}function j1(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function $1(n){Promise.resolve().then(n)}class aw{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){$1(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class H1{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const u=this.players.length;0==u?$1(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++t==u&&this._onFinish()}),c.onDestroy(()=>{++r==u&&this._onDestroy()}),c.onStart(()=>{++i==u&&this._onStart()})}),this.totalTime=this.players.reduce((c,p)=>Math.max(c,p.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const G1=["toast-component",""];function CF(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"button",5),d.NdJ("click",function(){d.CHM(t);const i=d.oxw();return d.KtG(i.remove())}),d.TgZ(1,"span",6),d._uU(2,"\xd7"),d.qZA()()}}function TF(n,e){if(1&n&&(d.ynx(0),d._uU(1),d.BQk()),2&n){const t=d.oxw(2);d.xp6(1),d.hij("[",t.duplicatesCount+1,"]")}}function SF(n,e){if(1&n&&(d.TgZ(0,"div"),d._uU(1),d.YNc(2,TF,2,1,"ng-container",4),d.qZA()),2&n){const t=d.oxw();d.Tol(t.options.titleClass),d.uIk("aria-label",t.title),d.xp6(1),d.hij(" ",t.title," "),d.xp6(1),d.Q6J("ngIf",t.duplicatesCount)}}function AF(n,e){if(1&n&&d._UZ(0,"div",7),2&n){const t=d.oxw();d.Tol(t.options.messageClass),d.Q6J("innerHTML",t.message,d.oJD)}}function MF(n,e){if(1&n&&(d.TgZ(0,"div",8),d._uU(1),d.qZA()),2&n){const t=d.oxw();d.Tol(t.options.messageClass),d.uIk("aria-label",t.message),d.xp6(1),d.hij(" ",t.message," ")}}function xF(n,e){if(1&n&&(d.TgZ(0,"div"),d._UZ(1,"div",9),d.qZA()),2&n){const t=d.oxw();d.xp6(1),d.Udp("width",t.width+"%")}}class LF{constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class UF{constructor(e){this._overlayRef=e,this.duplicatesCount=0,this._afterClosed=new dn.x,this._activate=new dn.x,this._manualClose=new dn.x,this._resetTimeout=new dn.x,this._countDuplicate=new dn.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}class MD{constructor(e,t,r,i,u,c){this.toastId=e,this.config=t,this.message=r,this.title=i,this.toastType=u,this.toastRef=c,this._onTap=new dn.x,this._onAction=new dn.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const z1=new d.OlP("ToastConfig");class BF extends class VF{attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}{constructor(e,t,r){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=r}attachComponentPortal(e,t){const r=this._componentFactoryResolver.resolveComponentFactory(e.component);let i;return i=r.create(e.injector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(i),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(i)),i}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}class jF{constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}}let $F=(()=>{class n{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),this._containerElement=t}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ae))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),HF=(()=>{class n{constructor(t,r,i,u){this._overlayContainer=t,this._componentFactoryResolver=r,this._appRef=i,this._document=u,this._paneElements=new Map}create(t,r){return this._createOverlayRef(this.getPaneElement(t,r))}getPaneElement(t="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[t]||(this._paneElements.get(r)[t]=this._createPaneElement(t,r)),this._paneElements.get(r)[t]}_createPaneElement(t,r){const i=this._document.createElement("div");return i.id="toast-container",i.classList.add(t),i.classList.add("toast-container"),r?r.getContainerElement().appendChild(i):this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalHost(t){return new BF(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new jF(this._createPortalHost(t))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG($F),d.LFG(d._Vd),d.LFG(d.z2F),d.LFG(ae))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xD=(()=>{class n{constructor(t,r,i,u,c){this.overlay=r,this._injector=i,this.sanitizer=u,this.ngZone=c,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...t.default,...t.config},t.config.iconClasses&&(this.toastrConfig.iconClasses={...t.default.iconClasses,...t.config.iconClasses})}show(t,r,i={},u=""){return this._preBuildNotification(u,t,r,this.applyConfig(i))}success(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,r,this.applyConfig(i))}error(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,r,this.applyConfig(i))}info(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,r,this.applyConfig(i))}warning(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,r,this.applyConfig(i))}clear(t){for(const r of this.toasts)if(void 0!==t){if(r.toastId===t)return void r.toastRef.manualClose()}else r.toastRef.manualClose()}remove(t){const r=this._findToast(t);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const i=this.toasts[this.currentlyActive].toastRef;i.isInactive()||(this.currentlyActive=this.currentlyActive+1,i.activate())}return!0}findDuplicate(t="",r="",i,u){const{includeTitleDuplicates:c}=this.toastrConfig;for(const p of this.toasts){const _=c&&p.title===t;if((!c||_)&&p.message===r)return p.toastRef.onDuplicate(i,u),p}return null}applyConfig(t={}){return{...this.toastrConfig,...t}}_findToast(t){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===t)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(t,r,i,u){return u.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,r,i,u)):this._buildNotification(t,r,i,u)}_buildNotification(t,r,i,u){if(!u.toastComponent)throw new Error("toastComponent required");const c=this.findDuplicate(i,r,this.toastrConfig.resetTimeoutOnDuplicate&&u.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&i||r)&&this.toastrConfig.preventDuplicates&&null!==c)return c;this.previousToastMessage=r;let p=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(p=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const _=this.overlay.create(u.positionClass,this.overlayContainer);this.index=this.index+1;let b=r;r&&u.enableHtml&&(b=this.sanitizer.sanitize(d.q3G.HTML,r));const T=new UF(_),M=new MD(this.index,u,b,i,t,T),G=d.zs3.create({providers:[{provide:MD,useValue:M}],parent:this._injector}),Z=new LF(u.toastComponent,G),ue=_.attach(Z,u.newestOnTop);T.componentInstance=ue.instance;const _e={toastId:this.index,title:i||"",message:r||"",toastRef:T,onShown:T.afterActivate(),onHidden:T.afterClosed(),onTap:M.onTap(),onAction:M.onAction(),portal:ue};return p||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{_e.toastRef.activate()})),this.toasts.push(_e),_e}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(z1),d.LFG(HF),d.LFG(d.zs3),d.LFG(Oa),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const GF={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null,toastComponent:(()=>{class n{constructor(t,r,i){this.toastrService=t,this.toastPackage=r,this.ngZone=i,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(u=>{this.duplicatesCount=u})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),r)):this.timeout=setTimeout(()=>t(),r)}outsideInterval(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),r)):this.intervalId=setInterval(()=>t(),r)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(xD),d.Y36(MD),d.Y36(d.R0b))},n.\u0275cmp=d.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,r){1&t&&d.NdJ("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&t&&(d.d8E("@flyInOut",r.state),d.Tol(r.toastClasses),d.Udp("display",r.displayStyle))},attrs:G1,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,r){1&t&&(d.YNc(0,CF,3,0,"button",0),d.YNc(1,SF,3,5,"div",1),d.YNc(2,AF,1,3,"div",2),d.YNc(3,MF,2,4,"div",3),d.YNc(4,xF,2,2,"div",4)),2&t&&(d.Q6J("ngIf",r.options.closeButton),d.xp6(1),d.Q6J("ngIf",r.title),d.xp6(1),d.Q6J("ngIf",r.message&&r.options.enableHtml),d.xp6(1),d.Q6J("ngIf",r.message&&!r.options.enableHtml),d.xp6(1),d.Q6J("ngIf",r.options.progressBar))},dependencies:[xn],encapsulation:2,data:{animation:[DF("flyInOut",[tM("inactive",ow({opacity:0})),tM("active",ow({opacity:1})),tM("removed",ow({opacity:0})),j1("inactive => active",U1("{{ easeTime }}ms {{ easing }}")),j1("active => removed",U1("{{ easeTime }}ms {{ easing }}"))])]}}),n})()};let qF=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[{provide:z1,useValue:{default:GF,config:t}}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[To]}),n})();function zF(n,e){1&n&&(d.TgZ(0,"div",23)(1,"span",24),d._uU(2,"Loading..."),d.qZA()())}function WF(n,e){1&n&&(d.TgZ(0,"span"),d._uU(1,"TODOS LOS CAMPOS SON OBLIGATORIOS"),d.qZA())}function ZF(n,e){if(1&n&&(d.TgZ(0,"option",25),d._uU(1),d.qZA()),2&n){const t=e.$implicit;d.Q6J("ngValue",t),d.xp6(1),d.hij(" ",t," ")}}function KF(n,e){if(1&n&&(d.TgZ(0,"option",25),d._uU(1),d.qZA()),2&n){const t=e.$implicit;d.Q6J("ngValue",t.nombre),d.xp6(1),d.hij(" ",t.nombre," ")}}function YF(n,e){if(1&n&&(d.TgZ(0,"option",25),d._uU(1),d.qZA()),2&n){const t=e.$implicit;d.Q6J("ngValue",t),d.xp6(1),d.hij(" ",t," ")}}function QF(n,e){if(1&n&&(d.TgZ(0,"option",25),d._uU(1),d.qZA()),2&n){const t=e.$implicit;d.Q6J("ngValue",t),d.xp6(1),d.hij(" ",t," ")}}function JF(n,e){if(1&n&&(d.TgZ(0,"option",25),d._uU(1),d.qZA()),2&n){const t=e.$implicit;d.Q6J("ngValue",t),d.xp6(1),d.hij(" ",t," ")}}let W1=(()=>{class n{constructor(t,r,i,u,c){this.fb=t,this._Servicio=r,this.router=i,this.toastr=u,this.aRouter=c,this.subbmited=!1,this.loading=!1,this.titleChange="Agregar Producto",this.mesa=["Mesa #1","Mesa #2","Mesa #3","Mesa #4","Mesa #5"],this.productos=["","Ensalada peque\xf1a"," Ensalada Grande","Estrella","Banana Split","Fresa Split","Copa cereza","Copa Oreo","Copa queso","Copa Arequipe","Banano Queso","Copa kiwi","helado chocorramo","Helado corazon","Malteada","Milo","Sunday","Michelada de soda","Fresas con chocolate","Maracumango","Brownie con helado","Cholado","Combo Tentacion","Paleta de agua","Paleta mango biche","cono","helado casero","chococono"],this.prices=[700,1e3,1700,2e3,2500,4e3,4200,5e3,5500,5600,6500,7e3,7500,8500,9500,1e4,10500,11e3],this.products=[{nombre:"Ensalada peque\xf1a",precio:6500},{nombre:"Ensalada Grande",precio:1e4},{nombre:"Banana Split",precio:7500},{nombre:"Fresa Split",precio:8500},{nombre:"Copa cereza",precio:8500},{nombre:"Copa Oreo",precio:8500},{nombre:"Copa queso",precio:8500},{nombre:"Copa Arequipe",precio:8500},{nombre:"helado chocorramo",precio:5e3},{nombre:"Helado corazon",precio:6500},{nombre:"malteada",precio:8e3},{nombre:"Fresas con chocolate",precio:8e3},{nombre:"Maracumango",precio:8500},{nombre:"Cholado",precio:4500},{nombre:"Combo Tentacion",precio:11e3},{nombre:"Paleta de agua",precio:700},{nombre:"Paleta mango biche",precio:1200},{nombre:"cono",precio:2e3},{nombre:"helado casero",precio:1500},{nombre:"chococono",precio:2500}],this.flavors=[],this.createProduct=this.fb.group({table:["",Ff.required],product:["",Ff.required],flavor:[""],flavor2:[""],flavor3:[""],price:["",Ff.required],note:["",Ff.maxLength(30)]}),this.id=this.aRouter.snapshot.paramMap.get("id")}ngOnInit(){this.EXeditProducto(),this.obtener()}agregarEditarProducto(){this.subbmited=!0,!this.createProduct.invalid&&(null===this.id?this.agregarProducto():this.editarProducto(this.id))}agregarProducto(){const t={table:this.createProduct.value.table,product:this.createProduct.value.product,flavor:this.createProduct.value.flavor,flavor2:this.createProduct.value.flavor2,flavor3:this.createProduct.value.flavor3,price:this.createProduct.value.price,note:this.createProduct.value.note,fechaCreacion:new Date,fechaActualizacion:new Date};this.loading=!0,this._Servicio.agregarproducto(t).then(()=>{this.toastr.success("Agregado con exito!!","Producto Agregado"),this.loading=!1,this.router.navigate(["/"])}).catch(r=>{console.log(r)})}editarProducto(t){this.loading=!0;const r={table:this.createProduct.value.table,product:this.createProduct.value.product,flavor:this.createProduct.value.flavor,flavor2:this.createProduct.value.flavor2,flavor3:this.createProduct.value.flavor3,price:this.createProduct.value.price,note:this.createProduct.value.note,fechaActualizacion:new Date};this._Servicio.update(t,r).then(()=>{this.loading=!1,this.toastr.info("Producto modificado con exito","Actualizacio Exitosa")}),this.router.navigate(["/"])}EXeditProducto(){null!==this.id&&(this.titleChange="Editar Producto",this.loading=!0,this._Servicio.getProducto(this.id).subscribe(t=>{this.loading=!1,this.createProduct.setValue({table:t.payload.data().table,product:t.payload.data().product,flavor:t.payload.data().flavor,flavor2:t.payload.data().flavor2,flavor3:t.payload.data().flavor3,price:t.payload.data().price,note:t.payload.data().note})}))}obtener(){this._Servicio.obtProductos().subscribe(t=>{this.flavors=[],t.forEach(r=>{this.flavors.push(" "),this.flavors.push(r.payload.doc.data().sabor01,r.payload.doc.data().sabor02,r.payload.doc.data().sabor03,r.payload.doc.data().sabor04,r.payload.doc.data().sabor05,r.payload.doc.data().sabor06,r.payload.doc.data().sabor07,r.payload.doc.data().sabor08,r.payload.doc.data().sabor09,r.payload.doc.data().sabor10,r.payload.doc.data().sabor11,r.payload.doc.data().sabor12)}),this.flavors=this.flavors.filter(r=>Boolean(r))})}onProductSelected(t){const c=t.target.value.match(/^[\d]+:\s*(.*)$/)[1],p=this.products.find(_=>_.nombre===c);console.log(p?.precio),this.selectedProductPrice=p?.precio}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(HE),d.Y36(AD),d.Y36(Cr),d.Y36(xD),d.Y36(Bi))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-create-product"]],decls:46,vars:10,consts:[[1,"add"],[1,""],[1,"card","text-white","bg-secondary","mb-3",2,"max-width","25rem"],[1,"card-header","text-center"],["class","spn spinner-border","role","status",4,"ngIf"],[1,"card-body"],[4,"ngIf"],[1,"mt-4","content-select",3,"formGroup","ngSubmit"],[1,"selector"],["id","table","formControlName","table"],[3,"ngValue",4,"ngFor","ngForOf"],["id","product","formControlName","product",3,"change"],[1,"flavors"],[1,"sabor"],["id","flavor","formControlName","flavor"],["id","flavor2","formControlName","flavor2"],["id","flavor3","formControlName","flavor3"],["type","number","formControlName","price",1,"form-control","mt-2","text-center",3,"ngModel","ngModelChange"],[1,"col"],["type","text","placeholder","Agregar nota","formControlName","note",1,"form-control","mt-2","text-center"],[1,"mt-3","text-center"],["type","text","routerLink","/",1,"btn","btn-secondary","btn-lg","mr-3"],["type","submit",1,"btn","btn-dark","btn-lg"],["role","status",1,"spn","spinner-border"],[1,"visually-hidden"],[3,"ngValue"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0)(1,"div",1)(2,"div",1)(3,"div",2)(4,"h3",3),d._uU(5),d.YNc(6,zF,3,0,"div",4),d.qZA(),d.TgZ(7,"div",5),d.YNc(8,WF,2,0,"span",6),d.TgZ(9,"form",7),d.NdJ("ngSubmit",function(){return r.agregarEditarProducto()}),d.TgZ(10,"div",8)(11,"p"),d._uU(12,"Elegir Mesa"),d.qZA(),d.TgZ(13,"select",9),d.YNc(14,ZF,2,2,"option",10),d.qZA(),d.TgZ(15,"p"),d._uU(16,"Elegir Producto"),d.qZA(),d.TgZ(17,"select",11),d.NdJ("change",function(u){return r.onProductSelected(u)}),d.YNc(18,KF,2,2,"option",10),d.qZA()(),d.TgZ(19,"div",12)(20,"div",13)(21,"p"),d._uU(22,"Sabor 1"),d.qZA(),d.TgZ(23,"select",14),d.YNc(24,YF,2,2,"option",10),d.qZA()(),d.TgZ(25,"div",13)(26,"p"),d._uU(27,"Sabor 2"),d.qZA(),d.TgZ(28,"select",15),d.YNc(29,QF,2,2,"option",10),d.qZA()(),d.TgZ(30,"div",13)(31,"p"),d._uU(32,"Sabor 3"),d.qZA(),d.TgZ(33,"select",16),d.YNc(34,JF,2,2,"option",10),d.qZA()()(),d.TgZ(35,"div",8)(36,"p"),d._uU(37,"Precio"),d.qZA(),d.TgZ(38,"input",17),d.NdJ("ngModelChange",function(u){return r.selectedProductPrice=u}),d.qZA()(),d.TgZ(39,"div",18),d._UZ(40,"input",19),d.qZA(),d.TgZ(41,"div",20)(42,"button",21),d._uU(43," Regresar "),d.qZA(),d.TgZ(44,"button",22),d._uU(45,"Aceptar"),d.qZA()()()()()()()()),2&t&&(d.xp6(5),d.hij(" ",r.titleChange," "),d.xp6(1),d.Q6J("ngIf",r.loading),d.xp6(2),d.Q6J("ngIf",r.subbmited&&r.createProduct.invalid),d.xp6(1),d.Q6J("formGroup",r.createProduct),d.xp6(5),d.Q6J("ngForOf",r.mesa),d.xp6(4),d.Q6J("ngForOf",r.products),d.xp6(6),d.Q6J("ngForOf",r.flavors),d.xp6(5),d.Q6J("ngForOf",r.flavors),d.xp6(5),d.Q6J("ngForOf",r.flavors),d.xp6(4),d.Q6J("ngModel",r.selectedProductPrice))},dependencies:[Zi,xn,el,lm,z_,qf,vc,cm,q_,Yg,Bf,Gf,Jd],styles:['@charset "UTF-8";.btn[_ngcontent-%COMP%]{margin-right:12px}.spn[_ngcontent-%COMP%]{float:right}.content-select[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{appearance:none;-webkit-appearance:none;-moz-appearance:none}.content-select[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]::-ms-expand{display:none}.content-select[_ngcontent-%COMP%]{max-width:340px}.content-select[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{margin:5px;text-align:center;display:inline-block;width:100%;cursor:pointer;padding:7px 10px;height:42px;outline:0;border:0;background:rgba(240,240,240,.137254902);color:#f8f8f8;font-size:1em;color:#fbf9f9;font-family:Quicksand,sans-serif;border:2px solid rgba(240,240,240,.2);border-radius:12px;position:relative;transition:all .25s ease}.content-select[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:hover{background:#de0d8e}.content-select[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;right:20px;top:calc(50% - 13px);width:16px;height:16px;display:block;border-left:4px solid #f007c9;border-bottom:4px solid #d10feb;transform:rotate(-45deg);transition:all .25s ease}.content-select[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{margin-top:3px}.flavors[_ngcontent-%COMP%]{display:flex;gap:1em}.flavors[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .selector[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;margin-top:12px;margin-bottom:0}.sabor[_ngcontent-%COMP%]{width:33%}.add[_ngcontent-%COMP%]{margin-top:12px;display:flex;justify-content:center;flex-wrap:wrap}']}),n})();function XF(n,e){1&n&&(d.TgZ(0,"h5",9),d._uU(1,"No hay productos agregados"),d.qZA())}const eL=function(n){return["/edit-product/",n]};function tL(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"tr",13)(1,"td",14),d._uU(2),d.qZA(),d.TgZ(3,"td",15),d._uU(4),d.qZA(),d.TgZ(5,"td",16),d._uU(6),d._UZ(7,"br"),d._uU(8),d._UZ(9,"br"),d._uU(10),d.qZA(),d.TgZ(11,"td",17),d._uU(12),d.ALo(13,"currency"),d.qZA(),d.TgZ(14,"td",18),d._uU(15),d.qZA(),d.TgZ(16,"td",19),d._UZ(17,"i",20),d.TgZ(18,"i",21),d.NdJ("click",function(){const u=d.CHM(t).$implicit,c=d.oxw(2);return d.KtG(c.eliminarProducto(u.id))}),d.qZA()()()}if(2&n){const t=e.$implicit;d.xp6(2),d.Oqu(t.table),d.xp6(2),d.Oqu(t.product),d.xp6(2),d.Oqu(t.flavor),d.xp6(2),d.Oqu(t.flavor2),d.xp6(2),d.Oqu(t.flavor3),d.xp6(2),d.hij("$",d.gM2(13,8,t.price," ","symbol","3.0"),""),d.xp6(3),d.Oqu(t.note),d.xp6(2),d.Q6J("routerLink",d.VKq(13,eL,t.id))}}function nL(n,e){if(1&n&&(d.TgZ(0,"table",10)(1,"thead")(2,"th",11),d._uU(3,"Mesa"),d.qZA(),d.TgZ(4,"th",11),d._uU(5,"Producto"),d.qZA(),d.TgZ(6,"th",11),d._uU(7,"Sabor(es)"),d.qZA(),d.TgZ(8,"th",11),d._uU(9,"Precio"),d.qZA(),d.TgZ(10,"th",11),d._uU(11,"Nota"),d.qZA(),d._UZ(12,"th",11),d.qZA(),d.TgZ(13,"tbody"),d.YNc(14,tL,19,15,"tr",12),d.qZA()()),2&n){const t=d.oxw();d.xp6(14),d.Q6J("ngForOf",t.productos)}}let rL=(()=>{class n{constructor(t,r){this._services=t,this.toastr=r,this.productos=[],this.sumas=[],this.all=[]}ngOnInit(){this.getProducts()}getProducts(){this._services.getProducts().subscribe(t=>{this.productos=[],t.forEach(r=>{this.productos.push({id:r.payload.doc.id,...r.payload.doc.data()});const i=this.productos.reduce((u,c)=>u+c.price,0);this.total=i,console.log(i)})})}eliminarProducto(t){this._services.deleteProducts(t).then(()=>{this.toastr.error("El producto fue eliminado con exito","Producto eliminado"),console.log("deleted...")}).catch(r=>{console.log(r)})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(AD),d.Y36(xD))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-list-products"]],decls:13,vars:3,consts:[[1,"contenedor","mt-4"],[1,"card"],[1,"prod"],[1,"h5"],[1,"float"],["routerLink","/create-product",1,"btn","btn-dark","btn-lg"],["class","mt-5",4,"ngIf"],[2,"padding-left","16px","margin-bottom","13px"],["class","table",4,"ngIf"],[1,"mt-5"],[1,"table"],[1,"th"],["class","tr",4,"ngFor","ngForOf"],[1,"tr"],["data-label","Mesa:",1,"td"],["data-label","Producto:",1,"td"],["data-label","Sabor(es):",1,"td"],["data-label","Precio:",1,"td"],["data-label","Agregar Nota:",1,"td"],[2,"padding-left","136px","border-bottom","1px solid"],[1,"fas","fa-edit","fa-lg","text-info",3,"routerLink"],[1,"fas","fa-trash-alt","fa-lg","text-danger","mt-2",3,"click"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),d._uU(4,"LISTA DE PRODUCTOS"),d.qZA(),d.TgZ(5,"div",4)(6,"button",5),d._uU(7,"Agregar"),d.qZA()(),d._UZ(8,"br"),d.YNc(9,XF,2,0,"h5",6),d.TgZ(10,"div",7),d._uU(11),d.qZA(),d.YNc(12,nL,15,1,"table",8),d.qZA()()()),2&t&&(d.xp6(9),d.Q6J("ngIf",0==r.productos.length),d.xp6(2),d.hij("Total = ",r.total,""),d.xp6(1),d.Q6J("ngIf",r.productos.length>0))},dependencies:[Zi,xn,el,As],styles:[".float[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-right:6px}.h5[_ngcontent-%COMP%]{position:relative;bottom:33px;left:16px}i[_ngcontent-%COMP%]{cursor:pointer}.fas[_ngcontent-%COMP%]{margin-right:12px}.table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:3px 15px;text-align:center;font-size:16px}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#92c9e6;color:#fff}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#d9ff0026}@media (max-width: 500px){.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{display:none}.table[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:block;width:100%}.table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{margin-bottom:15px}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-left:50%;text-align:left;position:relative}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{content:attr(data-label);position:absolute;left:0;width:50%;padding-left:15px;font-size:15px;font-weight:700;text-align:left}}"]}),n})();function iL(n,e){if(1&n&&(d.TgZ(0,"div"),d._uU(1),d.qZA()),2&n){const t=d.oxw().$implicit;d.xp6(1),d.hij("sabor 1: ",t.sabor01," ")}}function sL(n,e){}function oL(n,e){if(1&n&&(d.TgZ(0,"div"),d._uU(1),d.qZA()),2&n){const t=d.oxw().$implicit;d.xp6(1),d.hij("sabor 2: ",t.sabor02," ")}}function aL(n,e){}function uL(n,e){if(1&n&&(d.TgZ(0,"div"),d._uU(1),d.qZA()),2&n){const t=d.oxw().$implicit;d.xp6(1),d.hij("sabor 3: ",t.sabor03," ")}}function lL(n,e){}function cL(n,e){if(1&n&&(d.TgZ(0,"div"),d._uU(1),d.qZA()),2&n){const t=d.oxw().$implicit;d.xp6(1),d.hij("sabor 4: ",t.sabor04," ")}}function dL(n,e){}function hL(n,e){if(1&n&&(d.TgZ(0,"div"),d._uU(1),d.qZA()),2&n){const t=d.oxw().$implicit;d.xp6(1),d.hij("sabor 5: ",t.sabor05," ")}}function fL(n,e){}function pL(n,e){if(1&n&&(d.TgZ(0,"div"),d._uU(1),d.qZA()),2&n){const t=d.oxw().$implicit;d.xp6(1),d.hij("sabor 6 ",t.sabor06," ")}}function gL(n,e){}function mL(n,e){if(1&n&&(d.TgZ(0,"div"),d._uU(1),d.qZA()),2&n){const t=d.oxw().$implicit;d.xp6(1),d.hij("sabor 7: ",t.sabor07," ")}}function yL(n,e){}function _L(n,e){if(1&n&&(d.TgZ(0,"div"),d._uU(1),d.qZA()),2&n){const t=d.oxw().$implicit;d.xp6(1),d.hij("sabor 8: ",t.sabor08," ")}}function vL(n,e){}function wL(n,e){if(1&n&&(d.TgZ(0,"div"),d._uU(1),d.qZA()),2&n){const t=d.oxw().$implicit;d.xp6(1),d.hij("sabor 9: ",t.sabor09," ")}}function EL(n,e){}function bL(n,e){if(1&n&&(d.TgZ(0,"div"),d._uU(1),d.qZA()),2&n){const t=d.oxw().$implicit;d.xp6(1),d.hij("sabor 10: ",t.sabor10," ")}}function IL(n,e){}function DL(n,e){if(1&n&&(d.TgZ(0,"div"),d._uU(1),d.qZA()),2&n){const t=d.oxw().$implicit;d.xp6(1),d.hij("sabor 11: ",t.sabor11," ")}}function CL(n,e){}function TL(n,e){if(1&n&&(d.TgZ(0,"div"),d._uU(1),d.qZA()),2&n){const t=d.oxw().$implicit;d.xp6(1),d.hij("sabor 12: ",t.sabor12," ")}}const SL=function(n){return["/adjust/",n]};function AL(n,e){if(1&n&&(d.TgZ(0,"div"),d.YNc(1,iL,2,1,"div",1),d.YNc(2,sL,0,0,"ng-template",null,2,d.W1O),d.YNc(4,oL,2,1,"div",1),d.YNc(5,aL,0,0,"ng-template",null,2,d.W1O),d.YNc(7,uL,2,1,"div",1),d.YNc(8,lL,0,0,"ng-template",null,2,d.W1O),d.YNc(10,cL,2,1,"div",1),d.YNc(11,dL,0,0,"ng-template",null,2,d.W1O),d.YNc(13,hL,2,1,"div",1),d.YNc(14,fL,0,0,"ng-template",null,2,d.W1O),d.YNc(16,pL,2,1,"div",1),d.YNc(17,gL,0,0,"ng-template",null,2,d.W1O),d.YNc(19,mL,2,1,"div",1),d.YNc(20,yL,0,0,"ng-template",null,2,d.W1O),d.YNc(22,_L,2,1,"div",1),d.YNc(23,vL,0,0,"ng-template",null,2,d.W1O),d.YNc(25,wL,2,1,"div",1),d.YNc(26,EL,0,0,"ng-template",null,2,d.W1O),d.YNc(28,bL,2,1,"div",1),d.YNc(29,IL,0,0,"ng-template",null,2,d.W1O),d.YNc(31,DL,2,1,"div",1),d.YNc(32,CL,0,0,"ng-template",null,2,d.W1O),d.YNc(34,TL,2,1,"div",1),d.TgZ(35,"div"),d._UZ(36,"i",3),d.qZA(),d.TgZ(37,"button",4),d._uU(38,"Regresar"),d.qZA()()),2&n){const t=e.$implicit,r=d.MAs(3);d.xp6(1),d.Q6J("ngIf",""!==t.sabor01)("ngIfElse",r),d.xp6(3),d.Q6J("ngIf",""!==t.sabor02)("ngIfElse",r),d.xp6(3),d.Q6J("ngIf",""!==t.sabor03)("ngIfElse",r),d.xp6(3),d.Q6J("ngIf",""!==t.sabor04)("ngIfElse",r),d.xp6(3),d.Q6J("ngIf",""!==t.sabor05)("ngIfElse",r),d.xp6(3),d.Q6J("ngIf",""!==t.sabor06)("ngIfElse",r),d.xp6(3),d.Q6J("ngIf",""!==t.sabor07)("ngIfElse",r),d.xp6(3),d.Q6J("ngIf",""!==t.sabor08)("ngIfElse",r),d.xp6(3),d.Q6J("ngIf",""!==t.sabor09)("ngIfElse",r),d.xp6(3),d.Q6J("ngIf",""!==t.sabor10)("ngIfElse",r),d.xp6(3),d.Q6J("ngIf",""!==t.sabor11)("ngIfElse",r),d.xp6(3),d.Q6J("ngIf",""!==t.sabor12)("ngIfElse",r),d.xp6(2),d.Q6J("routerLink",d.VKq(25,SL,t.id))}}const ML=[{path:"",redirectTo:"list-products",pathMatch:"full"},{path:"list-products",component:rL},{path:"create-product",component:W1},{path:"edit-product/:id",component:W1},{path:"mod",component:(()=>{class n{constructor(t){this._service=t,this.ajustes=[]}ngOnInit(){this.getAdjust()}getAdjust(){this._service.obtProductos().subscribe(t=>{this.ajustes=[],t.forEach(r=>{this.ajustes.push({id:r.payload.doc.id,...r.payload.doc.data()})})})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(AD))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-modificar"]],decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],["elseBlock",""],[1,"fas","fa-edit","fa-lg","text-danger",3,"routerLink"],["type","text","routerLink","/",1,"btn","btn-secondary","btn-lg","mr-3"]],template:function(t,r){1&t&&(d.TgZ(0,"div"),d.YNc(1,AL,39,27,"div",0),d.qZA()),2&t&&(d.xp6(1),d.Q6J("ngForOf",r.ajustes))},dependencies:[Zi,xn,el],styles:["div[_ngcontent-%COMP%]{margin:8px}"]}),n})()},{path:"crear",component:L1},{path:"adjust/:id",component:L1},{path:"**",redirectTo:"list-products",pathMatch:"full"}];let xL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[Zw.forRoot(ML),Zw]}),n})();const NL=function(){return["/mod/"]};let PL=(()=>{class n{constructor(){this.today=new Date,this.date=new Date(2021,1,21)}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-navbar"]],decls:16,vars:6,consts:[[1,"nav"],[2,"margin-left","12px","margin-top","6px"],["type","checkbox","id","nav__checkbox",1,"nav__checkbox"],["for","nav__checkbox",1,"nav__toggle"],["src","https://www.clipartmax.com/png/full/36-365828_navbar-toggle-icon-menu-hamburger-png-white.png",1,"hamburger"],[1,"close"],[1,"nav__menu"],[2,"color","rgba(255, 255, 255, 0)"],[1,"menu"],[2,"color","white","position","relative","right","67px",3,"routerLink"]],template:function(t,r){1&t&&(d.TgZ(0,"nav",0)(1,"span",1),d._uU(2),d.ALo(3,"date"),d.qZA(),d._UZ(4,"input",2),d.TgZ(5,"label",3),d._UZ(6,"img",4),d.TgZ(7,"span",5),d._uU(8,"X"),d.qZA()(),d.TgZ(9,"ul",6)(10,"li")(11,"span",7),d._uU(12," B "),d.qZA()(),d.TgZ(13,"li",8)(14,"a",9),d._uU(15,"Ajustar sabores"),d.qZA()()()()),2&t&&(d.xp6(2),d.Oqu(d.xi3(3,2,r.today,"d, MMM y, EEEE h:mm:ss a")),d.xp6(12),d.Q6J("routerLink",d.DdM(5,NL)))},dependencies:[mc,Kh],styles:[".navbar[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap}.adjust[_ngcontent-%COMP%]{margin-right:10px;cursor:pointer}.nav[_ngcontent-%COMP%]{border-bottom:1px solid rgb(254,252,252)}.nav__toggle[_ngcontent-%COMP%]{position:absolute;cursor:pointer;margin:0rem 1rem;right:0}.close[_ngcontent-%COMP%]{margin-top:8px;margin-left:4px;font-size:34px}.close[_ngcontent-%COMP%], input[type=checkbox][_ngcontent-%COMP%]{display:none}.hamburger[_ngcontent-%COMP%]{margin-top:12px;width:30px;height:30px}.menu[_ngcontent-%COMP%]{position:relative;left:170px}.nav__menu[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem;align-items:center;margin:1rem}li[_ngcontent-%COMP%]{list-style:none;display:none}li[_ngcontent-%COMP%]:first-child{margin-right:auto;display:block}.nav__menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:initial;font-size:1.2rem}#nav__checkbox[_ngcontent-%COMP%]:checked ~ ul.nav__menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:block}#nav__checkbox[_ngcontent-%COMP%]:checked ~ label.nav__toggle[_ngcontent-%COMP%]   .hamburger[_ngcontent-%COMP%]{display:none}#nav__checkbox[_ngcontent-%COMP%]:checked ~ label.nav__toggle[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{display:block}@media only screen and (min-width: 768px){.nav__toggle[_ngcontent-%COMP%]{display:none}.nav__menu[_ngcontent-%COMP%]{flex-direction:row}.nav__menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:block}}"]}),n})(),RL=(()=>{class n{constructor(){this.title="IceCreamShop"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(t,r){1&t&&d._UZ(0,"app-navbar")(1,"router-outlet")},dependencies:[Tf,PL]}),n})();const Z1_firebase={apiKey:"AIzaSyDM-VLc0vP957ORl88fcEiciO4cPQJIFsc",authDomain:"icecreamproducts-ad8db.firebaseapp.com",projectId:"icecreamproducts-ad8db",storageBucket:"icecreamproducts-ad8db.appspot.com",messagingSenderId:"1033061040970",appId:"1:1033061040970:web:3a76ddad9e9b3e854277b3"};function K1(n){return new d.vHH(3e3,!1)}function pV(){return typeof window<"u"&&typeof window.document<"u"}function rM(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Gh(n){switch(n.length){case 0:return new aw;case 1:return n[0];default:return new H1(n)}}function Y1(n,e,t,r,i=new Map,u=new Map){const c=[],p=[];let _=-1,b=null;if(r.forEach(T=>{const M=T.get("offset"),L=M==_,G=L&&b||new Map;T.forEach((Z,ue)=>{let _e=ue,Ye=Z;if("offset"!==ue)switch(_e=e.normalizePropertyName(_e,c),Ye){case"!":Ye=i.get(ue);break;case qc:Ye=u.get(ue);break;default:Ye=e.normalizeStyleValue(ue,_e,Ye,c)}G.set(_e,Ye)}),L||p.push(G),b=G,_=M}),c.length)throw function nV(n){return new d.vHH(3502,!1)}();return p}function iM(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&sM(t,"start",n)));break;case"done":n.onDone(()=>r(t&&sM(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&sM(t,"destroy",n)))}}function sM(n,e,t){const u=oM(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),c=n._data;return null!=c&&(u._data=c),u}function oM(n,e,t,r,i="",u=0,c){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:u,disabled:!!c}}function bo(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function Q1(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let aM=(n,e)=>!1,J1=(n,e,t)=>[],X1=null;function uM(n){const e=n.parentNode||n.host;return e===X1?null:e}(rM()||typeof Element<"u")&&(pV()?(X1=(()=>document.documentElement)(),aM=(n,e)=>{for(;e;){if(e===n)return!0;e=uM(e)}return!1}):aM=(n,e)=>n.contains(e),J1=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Kp=null,eP=!1;const tP=aM,nP=J1;let rP=(()=>{class n{validateStyleProperty(t){return function mV(n){Kp||(Kp=function yV(){return typeof document<"u"?document.body:null}()||{},eP=!!Kp.style&&"WebkitAppearance"in Kp.style);let e=!0;return Kp.style&&!function gV(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Kp.style,!e&&eP&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Kp.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return tP(t,r)}getParentElement(t){return uM(t)}query(t,r,i){return nP(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,u,c,p=[],_){return new aw(i,u)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),lM=(()=>{class n{}return n.NOOP=new rP,n})();const cM="ng-enter",ND="ng-leave",PD="ng-trigger",RD=".ng-trigger",sP="ng-animating",dM=".ng-animating";function zc(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:hM(parseFloat(e[1]),e[2])}function hM(n,e){return"s"===e?1e3*n:n}function OD(n,e,t){return n.hasOwnProperty("duration")?n:function wV(n,e,t){let i,u=0,c="";if("string"==typeof n){const p=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===p)return e.push(K1()),{duration:0,delay:0,easing:""};i=hM(parseFloat(p[1]),p[2]);const _=p[3];null!=_&&(u=hM(parseFloat(_),p[4]));const b=p[5];b&&(c=b)}else i=n;if(!t){let p=!1,_=e.length;i<0&&(e.push(function OL(){return new d.vHH(3100,!1)}()),p=!0),u<0&&(e.push(function kL(){return new d.vHH(3101,!1)}()),p=!0),p&&e.splice(_,0,K1())}return{duration:i,delay:u,easing:c}}(n,e,t)}function uw(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function oP(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function qh(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function uP(n,e,t){return t?e+":"+t+";":""}function lP(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=uP(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=uP(0,DV(t),n.style[t]));n.setAttribute("style",e)}function Sl(n,e,t){n.style&&(e.forEach((r,i)=>{const u=pM(i);t&&!t.has(i)&&t.set(i,n.style[u]),n.style[u]=r}),rM()&&lP(n))}function Yp(n,e){n.style&&(e.forEach((t,r)=>{const i=pM(r);n.style[i]=""}),rM()&&lP(n))}function lw(n){return Array.isArray(n)?1==n.length?n[0]:B1(n):n}const fM=new RegExp("{{\\s*(.+?)\\s*}}","g");function cP(n){let e=[];if("string"==typeof n){let t;for(;t=fM.exec(n);)e.push(t[1]);fM.lastIndex=0}return e}function cw(n,e,t){const r=n.toString(),i=r.replace(fM,(u,c)=>{let p=e[c];return null==p&&(t.push(function LL(n){return new d.vHH(3003,!1)}()),p=""),p.toString()});return i==r?n:i}function kD(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const IV=/-+([a-z0-9])/g;function pM(n){return n.replace(IV,(...e)=>e[1].toUpperCase())}function DV(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Io(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function VL(n){return new d.vHH(3004,!1)}()}}function dP(n,e){return window.getComputedStyle(n)[e]}function xV(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function NV(n,e,t){if(":"==n[0]){const _=function PV(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function JL(n){return new d.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof _)return void e.push(_);n=_}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function QL(n){return new d.vHH(3015,!1)}()),e;const i=r[1],u=r[2],c=r[3];e.push(hP(i,c));"<"==u[0]&&!("*"==i&&"*"==c)&&e.push(hP(c,i))}(r,t,e)):t.push(n),t}const UD=new Set(["true","1"]),BD=new Set(["false","0"]);function hP(n,e){const t=UD.has(n)||BD.has(n),r=UD.has(e)||BD.has(e);return(i,u)=>{let c="*"==n||n==i,p="*"==e||e==u;return!c&&t&&"boolean"==typeof i&&(c=i?UD.has(n):BD.has(n)),!p&&r&&"boolean"==typeof u&&(p=u?UD.has(e):BD.has(e)),c&&p}}const RV=new RegExp("s*:selfs*,?","g");function gM(n,e,t,r){return new OV(n).build(e,t,r)}class OV{constructor(e){this._driver=e}build(e,t,r){const i=new LV(t);return this._resetContextStyleTimingState(i),Io(this,lw(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const u=[],c=[];return"@"==e.name.charAt(0)&&t.errors.push(function BL(){return new d.vHH(3006,!1)}()),e.definitions.forEach(p=>{if(this._resetContextStyleTimingState(t),0==p.type){const _=p,b=_.name;b.toString().split(/\s*,\s*/).forEach(T=>{_.name=T,u.push(this.visitState(_,t))}),_.name=b}else if(1==p.type){const _=this.visitTransition(p,t);r+=_.queryCount,i+=_.depCount,c.push(_)}else t.errors.push(function jL(){return new d.vHH(3007,!1)}())}),{type:7,name:e.name,states:u,transitions:c,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const u=new Set,c=i||{};r.styles.forEach(p=>{p instanceof Map&&p.forEach(_=>{cP(_).forEach(b=>{c.hasOwnProperty(b)||u.add(b)})})}),u.size&&(kD(u.values()),t.errors.push(function $L(n,e){return new d.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Io(this,lw(e.animation),t);return{type:1,matchers:xV(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Qp(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Io(this,r,t)),options:Qp(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const u=e.steps.map(c=>{t.currentTime=r;const p=Io(this,c,t);return i=Math.max(i,t.currentTime),p});return t.currentTime=i,{type:3,steps:u,options:Qp(e.options)}}visitAnimate(e,t){const r=function UV(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return mM(OD(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(u=>"{"==u.charAt(0)&&"{"==u.charAt(1))){const u=mM(0,0,"");return u.dynamic=!0,u.strValue=t,u}const i=OD(t,e);return mM(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,u=e.styles?e.styles:ow({});if(5==u.type)i=this.visitKeyframes(u,t);else{let c=e.styles,p=!1;if(!c){p=!0;const b={};r.easing&&(b.easing=r.easing),c=ow(b)}t.currentTime+=r.duration+r.delay;const _=this.visitStyle(c,t);_.isEmptyStep=p,i=_}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let p of i)"string"==typeof p?p===qc?r.push(p):t.errors.push(new d.vHH(3002,!1)):r.push(oP(p));let u=!1,c=null;return r.forEach(p=>{if(p instanceof Map&&(p.has("easing")&&(c=p.get("easing"),p.delete("easing")),!u))for(let _ of p.values())if(_.toString().indexOf("{{")>=0){u=!0;break}}),{type:6,styles:r,easing:c,offset:e.offset,containsDynamicStyles:u,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,u=t.currentTime;r&&u>0&&(u-=r.duration+r.delay),e.styles.forEach(c=>{"string"!=typeof c&&c.forEach((p,_)=>{const b=t.collectedStyles.get(t.currentQuerySelector),T=b.get(_);let M=!0;T&&(u!=i&&u>=T.startTime&&i<=T.endTime&&(t.errors.push(function GL(n,e,t,r,i){return new d.vHH(3010,!1)}()),M=!1),u=T.startTime),M&&b.set(_,{startTime:u,endTime:i}),t.options&&function bV(n,e,t){const r=e.params||{},i=cP(n);i.length&&i.forEach(u=>{r.hasOwnProperty(u)||t.push(function FL(n){return new d.vHH(3001,!1)}())})}(p,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function qL(){return new d.vHH(3011,!1)}()),r;let u=0;const c=[];let p=!1,_=!1,b=0;const T=e.steps.map(Ye=>{const at=this._makeStyleAst(Ye,t);let gt=null!=at.offset?at.offset:function VV(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(at.styles),ct=0;return null!=gt&&(u++,ct=at.offset=gt),_=_||ct<0||ct>1,p=p||ct<b,b=ct,c.push(ct),at});_&&t.errors.push(function zL(){return new d.vHH(3012,!1)}()),p&&t.errors.push(function WL(){return new d.vHH(3200,!1)}());const M=e.steps.length;let L=0;u>0&&u<M?t.errors.push(function ZL(){return new d.vHH(3202,!1)}()):0==u&&(L=1/(M-1));const G=M-1,Z=t.currentTime,ue=t.currentAnimateTimings,_e=ue.duration;return T.forEach((Ye,at)=>{const gt=L>0?at==G?1:L*at:c[at],ct=gt*_e;t.currentTime=Z+ue.delay+ct,ue.duration=ct,this._validateStyleAst(Ye,t),Ye.offset=gt,r.styles.push(Ye)}),r}visitReference(e,t){return{type:8,animation:Io(this,lw(e.animation),t),options:Qp(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Qp(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Qp(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[u,c]=function kV(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(RV,"")),n=n.replace(/@\*/g,RD).replace(/@\w+/g,t=>RD+"-"+t.slice(1)).replace(/:animating/g,dM),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+u:u,bo(t.collectedStyles,t.currentQuerySelector,new Map);const p=Io(this,lw(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:u,limit:i.limit||0,optional:!!i.optional,includeSelf:c,animation:p,originalSelector:e.selector,options:Qp(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function KL(){return new d.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:OD(e.timings,t.errors,!0);return{type:12,animation:Io(this,lw(e.animation),t),timings:r,options:null}}}class LV{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Qp(n){return n?(n=uw(n)).params&&(n.params=function FV(n){return n?uw(n):null}(n.params)):n={},n}function mM(n,e,t){return{duration:n,delay:e,easing:t}}function yM(n,e,t,r,i,u,c=null,p=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:u,totalTime:i+u,easing:c,subTimeline:p}}class jD{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const $V=new RegExp(":enter","g"),GV=new RegExp(":leave","g");function _M(n,e,t,r,i,u=new Map,c=new Map,p,_,b=[]){return(new qV).buildKeyframes(n,e,t,r,i,u,c,p,_,b)}class qV{buildKeyframes(e,t,r,i,u,c,p,_,b,T=[]){b=b||new jD;const M=new vM(e,t,b,i,u,T,[]);M.options=_;const L=_.delay?zc(_.delay):0;M.currentTimeline.delayNextStep(L),M.currentTimeline.setStyles([c],null,M.errors,_),Io(this,r,M);const G=M.timelines.filter(Z=>Z.containsAnimation());if(G.length&&p.size){let Z;for(let ue=G.length-1;ue>=0;ue--){const _e=G[ue];if(_e.element===t){Z=_e;break}}Z&&!Z.allowOnlyTimelineStyles()&&Z.setStyles([p],null,M.errors,_)}return G.length?G.map(Z=>Z.buildKeyframes()):[yM(t,[],[],[],0,L,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),u=t.currentTimeline.currentTime,c=this._visitSubInstructions(r,i,i.options);u!=c&&t.transformIntoNewTimeline(c)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const u=i?.delay;if(u){const c="number"==typeof u?u:zc(cw(u,i?.params??{},t.errors));r.delayNextStep(c)}}}_visitSubInstructions(e,t,r){let u=t.currentTimeline.currentTime;const c=null!=r.duration?zc(r.duration):null,p=null!=r.delay?zc(r.delay):null;return 0!==c&&e.forEach(_=>{const b=t.appendInstructionToTimeline(_,c,p);u=Math.max(u,b.duration+b.delay)}),u}visitReference(e,t){t.updateOptions(e.options,!0),Io(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const u=e.options;if(u&&(u.params||u.delay)&&(i=t.createSubContext(u),i.transformIntoNewTimeline(),null!=u.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=$D);const c=zc(u.delay);i.delayNextStep(c)}e.steps.length&&(e.steps.forEach(c=>Io(this,c,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const u=e.options&&e.options.delay?zc(e.options.delay):0;e.steps.forEach(c=>{const p=t.createSubContext(e.options);u&&p.delayNextStep(u),Io(this,c,p),i=Math.max(i,p.currentTimeline.currentTime),r.push(p.currentTimeline)}),r.forEach(c=>t.currentTimeline.mergeTimelineCollectedStyles(c)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return OD(t.params?cw(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const u=e.style;5==u.type?this.visitKeyframes(u,t):(t.incrementTime(r.duration),this.visitStyle(u,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const u=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(u):r.setStyles(e.styles,u,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,u=r.duration,p=t.createSubContext().currentTimeline;p.easing=r.easing,e.styles.forEach(_=>{p.forwardTime((_.offset||0)*u),p.setStyles(_.styles,_.easing,t.errors,t.options),p.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(p),t.transformIntoNewTimeline(i+u),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},u=i.delay?zc(i.delay):0;u&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=$D);let c=r;const p=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=p.length;let _=null;p.forEach((b,T)=>{t.currentQueryIndex=T;const M=t.createSubContext(e.options,b);u&&M.delayNextStep(u),b===t.element&&(_=M.currentTimeline),Io(this,e.animation,M),M.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,M.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(c),_&&(t.currentTimeline.mergeTimelineCollectedStyles(_),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,u=e.timings,c=Math.abs(u.duration),p=c*(t.currentQueryTotal-1);let _=c*t.currentQueryIndex;switch(u.duration<0?"reverse":u.easing){case"reverse":_=p-_;break;case"full":_=r.currentStaggerTime}const T=t.currentTimeline;_&&T.delayNextStep(_);const M=T.currentTime;Io(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-M+(i.startTime-r.currentTimeline.startTime)}}const $D={};class vM{constructor(e,t,r,i,u,c,p,_){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=u,this.errors=c,this.timelines=p,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=$D,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new HD(this._driver,t,0),p.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=zc(r.duration)),null!=r.delay&&(i.delay=zc(r.delay));const u=r.params;if(u){let c=i.params;c||(c=this.options.params={}),Object.keys(u).forEach(p=>{(!t||!c.hasOwnProperty(p))&&(c[p]=cw(u[p],c,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,u=new vM(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return u.previousNode=this.previousNode,u.currentAnimateTimings=this.currentAnimateTimings,u.options=this._copyOptions(),u.updateOptions(e),u.currentQueryIndex=this.currentQueryIndex,u.currentQueryTotal=this.currentQueryTotal,u.parentContext=this,this.subContextCount++,u}transformIntoNewTimeline(e){return this.previousNode=$D,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},u=new zV(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(u),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,u,c){let p=[];if(i&&p.push(this.element),e.length>0){e=(e=e.replace($V,"."+this._enterClassName)).replace(GV,"."+this._leaveClassName);let b=this._driver.query(this.element,e,1!=r);0!==r&&(b=r<0?b.slice(b.length+r,b.length):b.slice(0,r)),p.push(...b)}return!u&&0==p.length&&c.push(function YL(n){return new d.vHH(3014,!1)}()),p}}class HD{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new HD(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||qc),this._currentKeyframe.set(t,qc);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const u=i&&i.params||{},c=function WV(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let u of r)t.set(u,qc)}else qh(i,t)}),t}(e,this._globalTimelineStyles);for(let[p,_]of c){const b=cw(_,u,r);this._pendingStyles.set(p,b),this._localTimelineStyles.has(p)||this._backFill.set(p,this._globalTimelineStyles.get(p)??qc),this._updateStyle(p,b)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((p,_)=>{const b=qh(p,new Map,this._backFill);b.forEach((T,M)=>{"!"===T?e.add(M):T===qc&&t.add(M)}),r||b.set("offset",_/this.duration),i.push(b)});const u=e.size?kD(e.values()):[],c=t.size?kD(t.values()):[];if(r){const p=i[0],_=new Map(p);p.set("offset",0),_.set("offset",1),i=[p,_]}return yM(this.element,i,u,c,this.duration,this.startTime,this.easing,!1)}}class zV extends HD{constructor(e,t,r,i,u,c,p=!1){super(e,t,c.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=u,this._stretchStartingKeyframe=p,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const u=[],c=r+t,p=t/c,_=qh(e[0]);_.set("offset",0),u.push(_);const b=qh(e[0]);b.set("offset",gP(p)),u.push(b);const T=e.length-1;for(let M=1;M<=T;M++){let L=qh(e[M]);const G=L.get("offset");L.set("offset",gP((t+G*r)/c)),u.push(L)}r=c,t=0,i="",e=u}return yM(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function gP(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class wM{}const ZV=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class KV extends wM{normalizePropertyName(e,t){return pM(e)}normalizeStyleValue(e,t,r,i){let u="";const c=r.toString().trim();if(ZV.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)u="px";else{const p=r.match(/^[+-]?[\d\.]+([a-z]*)$/);p&&0==p[1].length&&i.push(function UL(n,e){return new d.vHH(3005,!1)}())}return c+u}}function mP(n,e,t,r,i,u,c,p,_,b,T,M,L){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:u,toState:r,toStyles:c,timelines:p,queriedElements:_,preStyleProps:b,postStyleProps:T,totalTime:M,errors:L}}const EM={};class yP{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function YV(n,e,t,r,i){return n.some(u=>u(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,u,c,p,_,b,T){const M=[],L=this.ast.options&&this.ast.options.params||EM,Z=this.buildStyles(r,p&&p.params||EM,M),ue=_&&_.params||EM,_e=this.buildStyles(i,ue,M),Ye=new Set,at=new Map,gt=new Map,ct="void"===i,St={params:QV(ue,L),delay:this.ast.options?.delay},Pt=T?[]:_M(e,t,this.ast.animation,u,c,Z,_e,St,b,M);let ln=0;if(Pt.forEach(Wc=>{ln=Math.max(Wc.duration+Wc.delay,ln)}),M.length)return mP(t,this._triggerName,r,i,ct,Z,_e,[],[],at,gt,ln,M);Pt.forEach(Wc=>{const Zc=Wc.element,PP=bo(at,Zc,new Set);Wc.preStyleProps.forEach(Jp=>PP.add(Jp));const hw=bo(gt,Zc,new Set);Wc.postStyleProps.forEach(Jp=>hw.add(Jp)),Zc!==t&&Ye.add(Zc)});const vs=kD(Ye.values());return mP(t,this._triggerName,r,i,ct,Z,_e,Pt,vs,at,gt,ln)}}function QV(n,e){const t=uw(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class JV{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=uw(this.defaultParams);return Object.keys(e).forEach(u=>{const c=e[u];null!==c&&(i[u]=c)}),this.styles.styles.forEach(u=>{"string"!=typeof u&&u.forEach((c,p)=>{c&&(c=cw(c,i,t));const _=this.normalizer.normalizePropertyName(p,t);c=this.normalizer.normalizeStyleValue(p,_,c,t),r.set(_,c)})}),r}}class eU{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new JV(i.style,i.options&&i.options.params||{},r))}),_P(this.states,"true","1"),_P(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new yP(e,i,this.states))}),this.fallbackTransition=function tU(n,e,t){return new yP(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,p)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(c=>c.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function _P(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const nU=new jD;class rU{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],u=gM(this._driver,t,r,[]);if(r.length)throw function rV(n){return new d.vHH(3503,!1)}();this._animations.set(e,u)}_buildPlayer(e,t,r){const i=e.element,u=Y1(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,u,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],u=this._animations.get(e);let c;const p=new Map;if(u?(c=_M(this._driver,t,u,cM,ND,new Map,new Map,r,nU,i),c.forEach(T=>{const M=bo(p,T.element,new Map);T.postStyleProps.forEach(L=>M.set(L,null))})):(i.push(function iV(){return new d.vHH(3300,!1)}()),c=[]),i.length)throw function sV(n){return new d.vHH(3504,!1)}();p.forEach((T,M)=>{T.forEach((L,G)=>{T.set(G,this._driver.computeStyle(M,G,qc))})});const b=Gh(c.map(T=>{const M=p.get(T.element);return this._buildPlayer(T,new Map,M)}));return this._playersById.set(e,b),b.onDestroy(()=>this.destroy(e)),this.players.push(b),b}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function oV(n){return new d.vHH(3301,!1)}();return t}listen(e,t,r,i){const u=oM(t,"","","");return iM(this._getPlayer(e),r,u,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const u=this._getPlayer(e);switch(r){case"play":u.play();break;case"pause":u.pause();break;case"reset":u.reset();break;case"restart":u.restart();break;case"finish":u.finish();break;case"init":u.init();break;case"setPosition":u.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const vP="ng-animate-queued",bM="ng-animate-disabled",uU=[],wP={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},lU={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},da="__ng_removed";class IM{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function fU(n){return n??null}(r?e.value:e),r){const u=uw(e);delete u.value,this.options=u}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const dw="void",DM=new IM(dw);class cU{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,ha(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function aV(n,e){return new d.vHH(3302,!1)}();if(null==r||0==r.length)throw function uV(n){return new d.vHH(3303,!1)}();if(!function pU(n){return"start"==n||"done"==n}(r))throw function lV(n,e){return new d.vHH(3400,!1)}();const u=bo(this._elementListeners,e,[]),c={name:t,phase:r,callback:i};u.push(c);const p=bo(this._engine.statesByElement,e,new Map);return p.has(t)||(ha(e,PD),ha(e,PD+"-"+t),p.set(t,DM)),()=>{this._engine.afterFlush(()=>{const _=u.indexOf(c);_>=0&&u.splice(_,1),this._triggers.has(t)||p.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function cV(n){return new d.vHH(3401,!1)}();return t}trigger(e,t,r,i=!0){const u=this._getTrigger(t),c=new CM(this.id,t,e);let p=this._engine.statesByElement.get(e);p||(ha(e,PD),ha(e,PD+"-"+t),this._engine.statesByElement.set(e,p=new Map));let _=p.get(t);const b=new IM(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&_&&b.absorbOptions(_.options),p.set(t,b),_||(_=DM),b.value!==dw&&_.value===b.value){if(!function yU(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const u=t[i];if(!e.hasOwnProperty(u)||n[u]!==e[u])return!1}return!0}(_.params,b.params)){const ue=[],_e=u.matchStyles(_.value,_.params,ue),Ye=u.matchStyles(b.value,b.params,ue);ue.length?this._engine.reportError(ue):this._engine.afterFlush(()=>{Yp(e,_e),Sl(e,Ye)})}return}const L=bo(this._engine.playersByElement,e,[]);L.forEach(ue=>{ue.namespaceId==this.id&&ue.triggerName==t&&ue.queued&&ue.destroy()});let G=u.matchTransition(_.value,b.value,e,b.params),Z=!1;if(!G){if(!i)return;G=u.fallbackTransition,Z=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:G,fromState:_,toState:b,player:c,isFallbackTransition:Z}),Z||(ha(e,vP),c.onStart(()=>{jy(e,vP)})),c.onDone(()=>{let ue=this.players.indexOf(c);ue>=0&&this.players.splice(ue,1);const _e=this._engine.playersByElement.get(e);if(_e){let Ye=_e.indexOf(c);Ye>=0&&_e.splice(Ye,1)}}),this.players.push(c),L.push(c),c}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,RD,!0);r.forEach(i=>{if(i[da])return;const u=this._engine.fetchNamespacesByElement(i);u.size?u.forEach(c=>c.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const u=this._engine.statesByElement.get(e),c=new Map;if(u){const p=[];if(u.forEach((_,b)=>{if(c.set(b,_.value),this._triggers.has(b)){const T=this.trigger(e,b,dw,i);T&&p.push(T)}}),p.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,c),r&&Gh(p).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(u=>{const c=u.name;if(i.has(c))return;i.add(c);const _=this._triggers.get(c).fallbackTransition,b=r.get(c)||DM,T=new IM(dw),M=new CM(this.id,c,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:c,transition:_,fromState:b,toState:T,player:M,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const u=r.players.length?r.playersByQueriedElement.get(e):[];if(u&&u.length)i=!0;else{let c=e;for(;c=c.parentNode;)if(r.statesByElement.get(c)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const u=e[da];(!u||u===wP)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){ha(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const u=r.element,c=this._elementListeners.get(u);c&&c.forEach(p=>{if(p.name==r.triggerName){const _=oM(u,r.triggerName,r.fromState.value,r.toState.value);_._data=e,iM(r.player,p.phase,_,p.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const u=r.transition.ast.depCount,c=i.transition.ast.depCount;return 0==u||0==c?u-c:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class dU{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,u)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new cU(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let c=!1,p=this.driver.getParentElement(t);for(;p;){const _=i.get(p);if(_){const b=r.indexOf(_);r.splice(b+1,0,e),c=!0;break}p=this.driver.getParentElement(p)}c||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const u=this._fetchNamespace(i.namespaceId);u&&t.add(u)}return t}trigger(e,t,r,i){if(GD(t)){const u=this._fetchNamespace(e);if(u)return u.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!GD(t))return;const u=t[da];if(u&&u.setForRemoval){u.setForRemoval=!1,u.setForMove=!0;const c=this.collectedLeaveElements.indexOf(t);c>=0&&this.collectedLeaveElements.splice(c,1)}if(e){const c=this._fetchNamespace(e);c&&c.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),ha(e,bM)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),jy(e,bM))}removeNode(e,t,r,i){if(GD(t)){const u=e?this._fetchNamespace(e):null;if(u?u.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const c=this.namespacesByHostElement.get(t);c&&c.id!==e&&c.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,u){this.collectedLeaveElements.push(t),t[da]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:u}}listen(e,t,r,i,u){return GD(t)?this._fetchNamespace(e).listen(t,r,i,u):()=>{}}_buildInstruction(e,t,r,i,u){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,u)}destroyInnerAnimations(e){let t=this.driver.query(e,RD,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,dM,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Gh(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[da];if(t&&t.setForRemoval){if(e[da]=wP,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(bM)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)ha(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Gh(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function dV(n){return new d.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new jD,i=[],u=new Map,c=[],p=new Map,_=new Map,b=new Map,T=new Set;this.disabledNodes.forEach(pt=>{T.add(pt);const At=this.driver.query(pt,".ng-animate-queued",!0);for(let Ot=0;Ot<At.length;Ot++)T.add(At[Ot])});const M=this.bodyNode,L=Array.from(this.statesByElement.keys()),G=IP(L,this.collectedEnterElements),Z=new Map;let ue=0;G.forEach((pt,At)=>{const Ot=cM+ue++;Z.set(At,Ot),pt.forEach(mn=>ha(mn,Ot))});const _e=[],Ye=new Set,at=new Set;for(let pt=0;pt<this.collectedLeaveElements.length;pt++){const At=this.collectedLeaveElements[pt],Ot=At[da];Ot&&Ot.setForRemoval&&(_e.push(At),Ye.add(At),Ot.hasAnimation?this.driver.query(At,".ng-star-inserted",!0).forEach(mn=>Ye.add(mn)):at.add(At))}const gt=new Map,ct=IP(L,Array.from(Ye));ct.forEach((pt,At)=>{const Ot=ND+ue++;gt.set(At,Ot),pt.forEach(mn=>ha(mn,Ot))}),e.push(()=>{G.forEach((pt,At)=>{const Ot=Z.get(At);pt.forEach(mn=>jy(mn,Ot))}),ct.forEach((pt,At)=>{const Ot=gt.get(At);pt.forEach(mn=>jy(mn,Ot))}),_e.forEach(pt=>{this.processLeaveNode(pt)})});const St=[],Pt=[];for(let pt=this._namespaceList.length-1;pt>=0;pt--)this._namespaceList[pt].drainQueuedTransitions(t).forEach(Ot=>{const mn=Ot.player,bi=Ot.element;if(St.push(mn),this.collectedEnterElements.length){const zi=bi[da];if(zi&&zi.setForMove){if(zi.previousTriggersValues&&zi.previousTriggersValues.has(Ot.triggerName)){const Xp=zi.previousTriggersValues.get(Ot.triggerName),fa=this.statesByElement.get(Ot.element);if(fa&&fa.has(Ot.triggerName)){const WD=fa.get(Ot.triggerName);WD.value=Xp,fa.set(Ot.triggerName,WD)}}return void mn.destroy()}}const Al=!M||!this.driver.containsElement(M,bi),Do=gt.get(bi),zh=Z.get(bi),wr=this._buildInstruction(Ot,r,zh,Do,Al);if(wr.errors&&wr.errors.length)return void Pt.push(wr);if(Al)return mn.onStart(()=>Yp(bi,wr.fromStyles)),mn.onDestroy(()=>Sl(bi,wr.toStyles)),void i.push(mn);if(Ot.isFallbackTransition)return mn.onStart(()=>Yp(bi,wr.fromStyles)),mn.onDestroy(()=>Sl(bi,wr.toStyles)),void i.push(mn);const kP=[];wr.timelines.forEach(zi=>{zi.stretchStartingKeyframe=!0,this.disabledNodes.has(zi.element)||kP.push(zi)}),wr.timelines=kP,r.append(bi,wr.timelines),c.push({instruction:wr,player:mn,element:bi}),wr.queriedElements.forEach(zi=>bo(p,zi,[]).push(mn)),wr.preStyleProps.forEach((zi,Xp)=>{if(zi.size){let fa=_.get(Xp);fa||_.set(Xp,fa=new Set),zi.forEach((WD,AM)=>fa.add(AM))}}),wr.postStyleProps.forEach((zi,Xp)=>{let fa=b.get(Xp);fa||b.set(Xp,fa=new Set),zi.forEach((WD,AM)=>fa.add(AM))})});if(Pt.length){const pt=[];Pt.forEach(At=>{pt.push(function hV(n,e){return new d.vHH(3505,!1)}())}),St.forEach(At=>At.destroy()),this.reportError(pt)}const ln=new Map,vs=new Map;c.forEach(pt=>{const At=pt.element;r.has(At)&&(vs.set(At,At),this._beforeAnimationBuild(pt.player.namespaceId,pt.instruction,ln))}),i.forEach(pt=>{const At=pt.element;this._getPreviousPlayers(At,!1,pt.namespaceId,pt.triggerName,null).forEach(mn=>{bo(ln,At,[]).push(mn),mn.destroy()})});const Wc=_e.filter(pt=>CP(pt,_,b)),Zc=new Map;bP(Zc,this.driver,at,b,qc).forEach(pt=>{CP(pt,_,b)&&Wc.push(pt)});const hw=new Map;G.forEach((pt,At)=>{bP(hw,this.driver,new Set(pt),_,"!")}),Wc.forEach(pt=>{const At=Zc.get(pt),Ot=hw.get(pt);Zc.set(pt,new Map([...Array.from(At?.entries()??[]),...Array.from(Ot?.entries()??[])]))});const Jp=[],RP=[],OP={};c.forEach(pt=>{const{element:At,player:Ot,instruction:mn}=pt;if(r.has(At)){if(T.has(At))return Ot.onDestroy(()=>Sl(At,mn.toStyles)),Ot.disabled=!0,Ot.overrideTotalTime(mn.totalTime),void i.push(Ot);let bi=OP;if(vs.size>1){let Do=At;const zh=[];for(;Do=Do.parentNode;){const wr=vs.get(Do);if(wr){bi=wr;break}zh.push(Do)}zh.forEach(wr=>vs.set(wr,bi))}const Al=this._buildAnimation(Ot.namespaceId,mn,ln,u,hw,Zc);if(Ot.setRealPlayer(Al),bi===OP)Jp.push(Ot);else{const Do=this.playersByElement.get(bi);Do&&Do.length&&(Ot.parentPlayer=Gh(Do)),i.push(Ot)}}else Yp(At,mn.fromStyles),Ot.onDestroy(()=>Sl(At,mn.toStyles)),RP.push(Ot),T.has(At)&&i.push(Ot)}),RP.forEach(pt=>{const At=u.get(pt.element);if(At&&At.length){const Ot=Gh(At);pt.setRealPlayer(Ot)}}),i.forEach(pt=>{pt.parentPlayer?pt.syncPlayerEvents(pt.parentPlayer):pt.destroy()});for(let pt=0;pt<_e.length;pt++){const At=_e[pt],Ot=At[da];if(jy(At,ND),Ot&&Ot.hasAnimation)continue;let mn=[];if(p.size){let Al=p.get(At);Al&&Al.length&&mn.push(...Al);let Do=this.driver.query(At,dM,!0);for(let zh=0;zh<Do.length;zh++){let wr=p.get(Do[zh]);wr&&wr.length&&mn.push(...wr)}}const bi=mn.filter(Al=>!Al.destroyed);bi.length?gU(this,At,bi):this.processLeaveNode(At)}return _e.length=0,Jp.forEach(pt=>{this.players.push(pt),pt.onDone(()=>{pt.destroy();const At=this.players.indexOf(pt);this.players.splice(At,1)}),pt.play()}),Jp}elementContainsData(e,t){let r=!1;const i=t[da];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,u){let c=[];if(t){const p=this.playersByQueriedElement.get(e);p&&(c=p)}else{const p=this.playersByElement.get(e);if(p){const _=!u||u==dw;p.forEach(b=>{b.queued||!_&&b.triggerName!=i||c.push(b)})}}return(r||i)&&(c=c.filter(p=>!(r&&r!=p.namespaceId||i&&i!=p.triggerName))),c}_beforeAnimationBuild(e,t,r){const u=t.element,c=t.isRemovalTransition?void 0:e,p=t.isRemovalTransition?void 0:t.triggerName;for(const _ of t.timelines){const b=_.element,T=b!==u,M=bo(r,b,[]);this._getPreviousPlayers(b,T,c,p,t.toState).forEach(G=>{const Z=G.getRealPlayer();Z.beforeDestroy&&Z.beforeDestroy(),G.destroy(),M.push(G)})}Yp(u,t.fromStyles)}_buildAnimation(e,t,r,i,u,c){const p=t.triggerName,_=t.element,b=[],T=new Set,M=new Set,L=t.timelines.map(Z=>{const ue=Z.element;T.add(ue);const _e=ue[da];if(_e&&_e.removedBeforeQueried)return new aw(Z.duration,Z.delay);const Ye=ue!==_,at=function mU(n){const e=[];return DP(n,e),e}((r.get(ue)||uU).map(ln=>ln.getRealPlayer())).filter(ln=>!!ln.element&&ln.element===ue),gt=u.get(ue),ct=c.get(ue),St=Y1(0,this._normalizer,0,Z.keyframes,gt,ct),Pt=this._buildPlayer(Z,St,at);if(Z.subTimeline&&i&&M.add(ue),Ye){const ln=new CM(e,p,ue);ln.setRealPlayer(Pt),b.push(ln)}return Pt});b.forEach(Z=>{bo(this.playersByQueriedElement,Z.element,[]).push(Z),Z.onDone(()=>function hU(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,Z.element,Z))}),T.forEach(Z=>ha(Z,sP));const G=Gh(L);return G.onDestroy(()=>{T.forEach(Z=>jy(Z,sP)),Sl(_,t.toStyles)}),M.forEach(Z=>{bo(i,Z,[]).push(G)}),G}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new aw(e.duration,e.delay)}}class CM{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new aw,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>iM(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){bo(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function GD(n){return n&&1===n.nodeType}function EP(n,e){const t=n.style.display;return n.style.display=e??"none",t}function bP(n,e,t,r,i){const u=[];t.forEach(_=>u.push(EP(_)));const c=[];r.forEach((_,b)=>{const T=new Map;_.forEach(M=>{const L=e.computeStyle(b,M,i);T.set(M,L),(!L||0==L.length)&&(b[da]=lU,c.push(b))}),n.set(b,T)});let p=0;return t.forEach(_=>EP(_,u[p++])),c}function IP(n,e){const t=new Map;if(n.forEach(p=>t.set(p,[])),0==e.length)return t;const i=new Set(e),u=new Map;function c(p){if(!p)return 1;let _=u.get(p);if(_)return _;const b=p.parentNode;return _=t.has(b)?b:i.has(b)?1:c(b),u.set(p,_),_}return e.forEach(p=>{const _=c(p);1!==_&&t.get(_).push(p)}),t}function ha(n,e){n.classList?.add(e)}function jy(n,e){n.classList?.remove(e)}function gU(n,e,t){Gh(t).onDone(()=>n.processLeaveNode(e))}function DP(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof H1?DP(r.players,e):e.push(r)}}function CP(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(u=>i.add(u)):e.set(n,r),t.delete(n),!0}class qD{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,u)=>{},this._transitionEngine=new dU(e,t,r),this._timelineEngine=new rU(e,t,r),this._transitionEngine.onRemovalComplete=(i,u)=>this.onRemovalComplete(i,u)}registerTrigger(e,t,r,i,u){const c=e+"-"+i;let p=this._triggerCache[c];if(!p){const _=[],T=gM(this._driver,u,_,[]);if(_.length)throw function tV(n,e){return new d.vHH(3404,!1)}();p=function XV(n,e,t){return new eU(n,e,t)}(i,T,this._normalizer),this._triggerCache[c]=p}this._transitionEngine.registerTrigger(t,i,p)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[u,c]=Q1(r);this._timelineEngine.command(u,t,c,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,u){if("@"==r.charAt(0)){const[c,p]=Q1(r);return this._timelineEngine.listen(c,t,p,u)}return this._transitionEngine.listen(e,t,r,i,u)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let vU=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let u=n.initialStylesByElement.get(t);u||n.initialStylesByElement.set(t,u=new Map),this._initialStyles=u}start(){this._state<1&&(this._startStyles&&Sl(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Sl(this._element,this._initialStyles),this._endStyles&&(Sl(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Yp(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Yp(this._element,this._endStyles),this._endStyles=null),Sl(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function TM(n){let e=null;return n.forEach((t,r)=>{(function wU(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class TP{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:dP(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class EU{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return tP(e,t)}getParentElement(e){return uM(e)}query(e,t,r){return nP(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,u,c=[]){const _={duration:r,delay:i,fill:0==i?"both":"forwards"};u&&(_.easing=u);const b=new Map,T=c.filter(G=>G instanceof TP);(function CV(n,e){return 0===n||0===e})(r,i)&&T.forEach(G=>{G.currentSnapshot.forEach((Z,ue)=>b.set(ue,Z))});let M=function EV(n){return n.length?n[0]instanceof Map?n:n.map(e=>oP(e)):[]}(t).map(G=>qh(G));M=function TV(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((u,c)=>{r.has(c)||i.push(c),r.set(c,u)}),i.length)for(let u=1;u<e.length;u++){let c=e[u];i.forEach(p=>c.set(p,dP(n,p)))}}return e}(e,M,b);const L=function _U(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=TM(e[0]),e.length>1&&(r=TM(e[e.length-1]))):e instanceof Map&&(t=TM(e)),t||r?new vU(n,t,r):null}(e,M);return new TP(e,M,_,L)}}let bU=(()=>{class n extends V1{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:d.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?B1(t):t;return SP(this._renderer,null,r,"register",[i]),new IU(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.FYo),d.LFG(ae))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class IU extends class IF{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new DU(this._id,e,t||{},this._renderer)}}class DU{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return SP(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function SP(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const AP="@.disabled";let CU=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(u,c)=>{const p=c?.parentNode(u);p&&c.removeChild(p,u)}}createRenderer(t,r){const u=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let T=this._rendererCache.get(u);return T||(T=new MP("",u,this.engine),this._rendererCache.set(u,T)),T}const c=r.id,p=r.id+"-"+this._currentId;this._currentId++,this.engine.register(p,t);const _=T=>{Array.isArray(T)?T.forEach(_):this.engine.registerTrigger(c,p,t,T.name,T)};return r.data.animation.forEach(_),new TU(this,p,u,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(u=>{const[c,p]=u;c(p)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.FYo),d.LFG(qD),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class MP{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==AP?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class TU extends MP{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==AP?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function SU(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let u=t.slice(1),c="";return"@"!=u.charAt(0)&&([u,c]=function AU(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(u)),this.engine.listen(this.namespaceId,i,u,c,p=>{this.factory.scheduleListenerCallback(p._data||-1,r,p)})}return this.delegate.listen(e,t,r)}}let MU=(()=>{class n extends qD{constructor(t,r,i,u){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ae),d.LFG(lM),d.LFG(wM),d.LFG(d.z2F))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const xP=[{provide:V1,useClass:bU},{provide:wM,useFactory:function xU(){return new KV}},{provide:qD,useClass:MU},{provide:d.FYo,useFactory:function NU(n,e,t){return new CU(n,e,t)},deps:[eo,qD,d.R0b]}],SM=[{provide:lM,useFactory:()=>new EU},{provide:d.QbO,useValue:"BrowserAnimations"},...xP],NP=[{provide:lM,useClass:rP},{provide:d.QbO,useValue:"NoopAnimations"},...xP];let PU=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?NP:SM}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:SM,imports:[ku]}),n})();const qn=void 0;!function Vn(n,e,t){(0,d.dwT)(n,e,t)}(["es",[["a.\xa0m.","p.\xa0m."],qn,qn],qn,[["D","L","M","X","J","V","S"],["dom","lun","mar","mi\xe9","jue","vie","s\xe1b"],["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],["DO","LU","MA","MI","JU","VI","SA"]],qn,[["E","F","M","A","M","J","J","A","S","O","N","D"],["ene","feb","mar","abr","may","jun","jul","ago","sept","oct","nov","dic"],["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]],qn,[["a. C.","d. C."],qn,["antes de Cristo","despu\xe9s de Cristo"]],1,[6,0],["d/M/yy","d MMM y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["H:mm","H:mm:ss","H:mm:ss z","H:mm:ss (zzzz)"],["{1}, {0}",qn,qn,qn],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","euro",{AUD:[qn,"$"],BRL:[qn,"R$"],BYN:[qn,"\u0440."],CAD:[qn,"$"],CNY:[qn,"\xa5"],EGP:[],ESP:["\u20a7"],GBP:[qn,"\xa3"],HKD:[qn,"$"],ILS:[qn,"\u20aa"],INR:[qn,"\u20b9"],JPY:[qn,"\xa5"],KRW:[qn,"\u20a9"],MXN:[qn,"$"],NZD:[qn,"$"],PHP:[qn,"\u20b1"],RON:[qn,"L"],THB:["\u0e3f"],TWD:[qn,"NT$"],USD:["US$","$"],XAF:[],XCD:[qn,"$"],XOF:[]},"ltr",function RU(n){const e=n,t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length,i=parseInt(n.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return 1===e?1:0===i&&0!==t&&t%1e6==0&&0===r||!(i>=0&&i<=5)?4:5}],"es");let OU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n,bootstrap:[RL]}),n.\u0275inj=d.cJS({providers:[{provide:d.soG,useValue:"es"}],imports:[ku,xL,ti.hO.initializeApp(Z1_firebase),$E,PU,qF.forRoot({timeOut:4e3,positionClass:"toast-bottom-right",preventDuplicates:!0})]}),n})();(0,d.G48)(),Ou().bootstrapModule(OU).catch(n=>console.error(n))},5867:(dt,Ae,k)=>{k.d(Ae,{C6:()=>d.getApps,Mq:()=>d.getApp});var d=k(9681);(0,d.registerVersion)("firebase","9.12.1","app")},127:(dt,Ae,k)=>{k.d(Ae,{Z:()=>d.Z});var d=k(3942);d.Z.registerVersion("firebase","9.12.1","app-compat")},9545:(dt,Ae,k)=>{k.r(Ae);var d=k(5861),ee=k(3942),R=k(2090),se=k(9681),re=k(1877),de=k(655),ae=k(4859);const be=function Le(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},nt=function xe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},me=new R.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Xe=new re.Yd("@firebase/auth");function ot(y,...f){Xe.logLevel<=re.in.ERROR&&Xe.error(`Auth (${se.SDK_VERSION}): ${y}`,...f)}function Me(y,...f){throw je(y,...f)}function we(y,...f){return je(y,...f)}function De(y,f,m){const w=Object.assign(Object.assign({},nt()),{[f]:m});return new R.LL("auth","Firebase",w).create(f,{appName:y.name})}function Be(y,f,m){if(!(f instanceof m))throw m.name!==f.constructor.name&&Me(y,"argument-error"),De(y,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function je(y,...f){if("string"!=typeof y){const m=f[0],w=[...f.slice(1)];return w[0]&&(w[0].appName=y.name),y._errorFactory.create(m,...w)}return me.create(y,...f)}function U(y,f,...m){if(!y)throw je(f,...m)}function ge(y){const f="INTERNAL ASSERTION FAILED: "+y;throw ot(f),new Error(f)}function z(y,f){y||ge(f)}const J=new Map;function ne(y){z(y instanceof Function,"Expected a class definition");let f=J.get(y);return f?(z(f instanceof y,"Instance stored in cache mismatched with class"),f):(f=new y,J.set(y,f),f)}function Re(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function mt(){return"http:"===Xt()||"https:"===Xt()}function Xt(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class cn{constructor(f,m){this.shortDelay=f,this.longDelay=m,z(m>f,"Short delay should be less than long delay!"),this.isMobile=(0,R.uI)()||(0,R.b$)()}get(){return function Gt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(mt()||(0,R.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function wn(y,f){z(y.emulator,"Emulator should always be set here");const{url:m}=y.emulator;return f?`${m}${f.startsWith("/")?f.slice(1):f}`:m}class Qt{static initialize(f,m,w){this.fetchImpl=f,m&&(this.headersImpl=m),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ge("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ge("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ge("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const en={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Lr=new cn(3e4,6e4);function Ft(y,f){return y.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:y.tenantId}):f}function fn(y,f,m,w){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,d.Z)(function*(y,f,m,w,A={}){return Ii(y,A,(0,d.Z)(function*(){let P={},q={};w&&("GET"===f?q=w:P={body:JSON.stringify(w)});const le=(0,R.xO)(Object.assign({key:y.config.apiKey},q)).slice(1),Fe=yield y._getAdditionalHeaders();return Fe["Content-Type"]="application/json",y.languageCode&&(Fe["X-Firebase-Locale"]=y.languageCode),Qt.fetch()(Di(y,y.config.apiHost,m,le),Object.assign({method:f,headers:Fe,referrerPolicy:"no-referrer"},P))}))})).apply(this,arguments)}function Ii(y,f,m){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,d.Z)(function*(y,f,m){y._canInitEmulator=!1;const w=Object.assign(Object.assign({},en),f);try{const A=new si(y),P=yield Promise.race([m(),A.promise]);A.clearNetworkTimeout();const q=yield P.json();if("needConfirmation"in q)throw oi(y,"account-exists-with-different-credential",q);if(P.ok&&!("errorMessage"in q))return q;{const le=P.ok?q.errorMessage:q.error.message,[Fe,Je]=le.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Fe)throw oi(y,"credential-already-in-use",q);if("EMAIL_EXISTS"===Fe)throw oi(y,"email-already-in-use",q);if("USER_DISABLED"===Fe)throw oi(y,"user-disabled",q);const vt=w[Fe]||Fe.toLowerCase().replace(/[_\s]+/g,"-");if(Je)throw De(y,vt,Je);Me(y,vt)}}catch(A){if(A instanceof R.ZR)throw A;Me(y,"network-request-failed")}})).apply(this,arguments)}function Kr(y,f,m,w){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,d.Z)(function*(y,f,m,w,A={}){const P=yield fn(y,f,m,w,A);return"mfaPendingCredential"in P&&Me(y,"multi-factor-auth-required",{_serverResponse:P}),P})).apply(this,arguments)}function Di(y,f,m,w){const A=`${f}${m}?${w}`;return y.config.emulator?wn(y.config,A):`${y.config.apiScheme}://${A}`}class si{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((m,w)=>{this.timer=setTimeout(()=>w(we(this.auth,"network-request-failed")),Lr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function oi(y,f,m){const w={appName:y.name};m.email&&(w.email=m.email),m.phoneNumber&&(w.phoneNumber=m.phoneNumber);const A=we(y,f,w);return A.customData._tokenResponse=m,A}function Ke(){return(Ke=(0,d.Z)(function*(y,f){return fn(y,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function xr(y,f){return ws.apply(this,arguments)}function ws(){return(ws=(0,d.Z)(function*(y,f){return fn(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function nr(y,f){return ai.apply(this,arguments)}function ai(){return(ai=(0,d.Z)(function*(y,f){return fn(y,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function Ri(y){if(y)try{const f=new Date(Number(y));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function _n(){return(_n=(0,d.Z)(function*(y,f=!1){const m=(0,R.m9)(y),w=yield m.getIdToken(f),A=ut(w);U(A&&A.exp&&A.auth_time&&A.iat,m.auth,"internal-error");const P="object"==typeof A.firebase?A.firebase:void 0,q=P?.sign_in_provider;return{claims:A,token:w,authTime:Ri(yt(A.auth_time)),issuedAtTime:Ri(yt(A.iat)),expirationTime:Ri(yt(A.exp)),signInProvider:q||null,signInSecondFactor:P?.sign_in_second_factor||null}})).apply(this,arguments)}function yt(y){return 1e3*Number(y)}function ut(y){var f;const[m,w,A]=y.split(".");if(void 0===m||void 0===w||void 0===A)return ot("JWT malformed, contained fewer than 3 sections"),null;try{const P=(0,R.tV)(w);return P?JSON.parse(P):(ot("Failed to decode base64 JWT payload"),null)}catch(P){return ot("Caught error parsing JWT payload as JSON",null===(f=P)||void 0===f?void 0:f.toString()),null}}function Er(y,f){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,d.Z)(function*(y,f,m=!1){if(m)return f;try{return yield f}catch(w){throw w instanceof R.ZR&&Yr(w)&&y.auth.currentUser===y&&(yield y.auth.signOut()),w}})).apply(this,arguments)}function Yr({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class xt{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var m;if(f){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const A=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,A)}}schedule(f=!1){var m=this;if(!this.isRunning)return;const w=this.getInterval(f);this.timerId=setTimeout((0,d.Z)(function*(){yield m.iteration()}),w)}iteration(){var f=this;return(0,d.Z)(function*(){var m;try{yield f.user.getIdToken(!0)}catch(w){return void("auth/network-request-failed"===(null===(m=w)||void 0===m?void 0:m.code)&&f.schedule(!0))}f.schedule()})()}}class Es{constructor(f,m){this.createdAt=f,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ri(this.lastLoginAt),this.creationTime=Ri(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function tn(y){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,d.Z)(function*(y){var f;const m=y.auth,w=yield y.getIdToken(),A=yield Er(y,nr(m,{idToken:w}));U(A?.users.length,m,"internal-error");const P=A.users[0];y._notifyReloadListener(P);const q=null!==(f=P.providerUserInfo)&&void 0!==f&&f.length?tt(P.providerUserInfo):[],le=Ur(y.providerData,q),vt=!!y.isAnonymous&&!(y.email&&P.passwordHash||le?.length),_t={uid:P.localId,displayName:P.displayName||null,photoURL:P.photoUrl||null,email:P.email||null,emailVerified:P.emailVerified||!1,phoneNumber:P.phoneNumber||null,tenantId:P.tenantId||null,providerData:le,metadata:new Es(P.createdAt,P.lastLoginAt),isAnonymous:vt};Object.assign(y,_t)})).apply(this,arguments)}function rr(){return(rr=(0,d.Z)(function*(y){const f=(0,R.m9)(y);yield tn(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function Ur(y,f){return[...y.filter(w=>!f.some(A=>A.providerId===w.providerId)),...f]}function tt(y){return y.map(f=>{var{providerId:m}=f,w=(0,de._T)(f,["providerId"]);return{providerId:m,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function et(){return(et=(0,d.Z)(function*(y,f){const m=yield Ii(y,{},(0,d.Z)(function*(){const w=(0,R.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:A,apiKey:P}=y.config,q=Di(y,A,"/v1/token",`key=${P}`),le=yield y._getAdditionalHeaders();return le["Content-Type"]="application/x-www-form-urlencoded",Qt.fetch()(q,{method:"POST",headers:le,body:w})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Ct{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){U(f.idToken,"internal-error"),U(typeof f.idToken<"u","internal-error"),U(typeof f.refreshToken<"u","internal-error");const m="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function an(y){const f=ut(y);return U(f,"internal-error"),U(typeof f.exp<"u","internal-error"),U(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,m)}getToken(f,m=!1){var w=this;return(0,d.Z)(function*(){return U(!w.accessToken||w.refreshToken,f,"user-token-expired"),m||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(f,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,m){var w=this;return(0,d.Z)(function*(){const{accessToken:A,refreshToken:P,expiresIn:q}=yield function Ce(y,f){return et.apply(this,arguments)}(f,m);w.updateTokensAndExpiration(A,P,Number(q))})()}updateTokensAndExpiration(f,m,w){this.refreshToken=m||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(f,m){const{refreshToken:w,accessToken:A,expirationTime:P}=m,q=new Ct;return w&&(U("string"==typeof w,"internal-error",{appName:f}),q.refreshToken=w),A&&(U("string"==typeof A,"internal-error",{appName:f}),q.accessToken=A),P&&(U("number"==typeof P,"internal-error",{appName:f}),q.expirationTime=P),q}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new Ct,this.toJSON())}_performRefresh(){return ge("not implemented")}}function It(y,f){U("string"==typeof y||typeof y>"u","internal-error",{appName:f})}class Ut{constructor(f){var{uid:m,auth:w,stsTokenManager:A}=f,P=(0,de._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new xt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=w,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=P.displayName||null,this.email=P.email||null,this.emailVerified=P.emailVerified||!1,this.phoneNumber=P.phoneNumber||null,this.photoURL=P.photoURL||null,this.isAnonymous=P.isAnonymous||!1,this.tenantId=P.tenantId||null,this.providerData=P.providerData?[...P.providerData]:[],this.metadata=new Es(P.createdAt||void 0,P.lastLoginAt||void 0)}getIdToken(f){var m=this;return(0,d.Z)(function*(){const w=yield Er(m,m.stsTokenManager.getToken(m.auth,f));return U(w,m.auth,"internal-error"),m.accessToken!==w&&(m.accessToken=w,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),w})()}getIdTokenResult(f){return function zn(y){return _n.apply(this,arguments)}(this,f)}reload(){return function nn(y){return rr.apply(this,arguments)}(this)}_assign(f){this!==f&&(U(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(m=>Object.assign({},m)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new Ut(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){U(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,m=!1){var w=this;return(0,d.Z)(function*(){let A=!1;f.idToken&&f.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(f),A=!0),m&&(yield tn(w)),yield w.auth._persistUserIfCurrent(w),A&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var f=this;return(0,d.Z)(function*(){const m=yield f.getIdToken();return yield Er(f,function pa(y,f){return Ke.apply(this,arguments)}(f.auth,{idToken:m})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,m){var w,A,P,q,le,Fe,Je,vt;const _t=null!==(w=m.displayName)&&void 0!==w?w:void 0,Jn=null!==(A=m.email)&&void 0!==A?A:void 0,An=null!==(P=m.phoneNumber)&&void 0!==P?P:void 0,Ld=null!==(q=m.photoURL)&&void 0!==q?q:void 0,dc=null!==(le=m.tenantId)&&void 0!==le?le:void 0,hc=null!==(Fe=m._redirectEventId)&&void 0!==Fe?Fe:void 0,n_=null!==(Je=m.createdAt)&&void 0!==Je?Je:void 0,Mg=null!==(vt=m.lastLoginAt)&&void 0!==vt?vt:void 0,{uid:fc,emailVerified:r_,isAnonymous:i_,providerData:Ko,stsTokenManager:za}=m;U(fc&&za,f,"internal-error");const Sf=Ct.fromJSON(this.name,za);U("string"==typeof fc,f,"internal-error"),It(_t,f.name),It(Jn,f.name),U("boolean"==typeof r_,f,"internal-error"),U("boolean"==typeof i_,f,"internal-error"),It(An,f.name),It(Ld,f.name),It(dc,f.name),It(hc,f.name),It(n_,f.name),It(Mg,f.name);const Vd=new Ut({uid:fc,auth:f,email:Jn,emailVerified:r_,displayName:_t,isAnonymous:i_,photoURL:Ld,phoneNumber:An,tenantId:dc,stsTokenManager:Sf,createdAt:n_,lastLoginAt:Mg});return Ko&&Array.isArray(Ko)&&(Vd.providerData=Ko.map(Xu=>Object.assign({},Xu))),hc&&(Vd._redirectEventId=hc),Vd}static _fromIdTokenResponse(f,m,w=!1){return(0,d.Z)(function*(){const A=new Ct;A.updateFromServerResponse(m);const P=new Ut({uid:m.localId,auth:f,stsTokenManager:A,isAnonymous:w});return yield tn(P),P})()}}const V=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(m,w){var A=this;return(0,d.Z)(function*(){A.storage[m]=w})()}_get(m){var w=this;return(0,d.Z)(function*(){const A=w.storage[m];return void 0===A?null:A})()}_remove(m){var w=this;return(0,d.Z)(function*(){delete w.storage[m]})()}_addListener(m,w){}_removeListener(m,w){}}return y.type="NONE",y})();function W(y,f,m){return`firebase:${y}:${f}:${m}`}class Ee{constructor(f,m,w){this.persistence=f,this.auth=m,this.userKey=w;const{config:A,name:P}=this.auth;this.fullUserKey=W(this.userKey,A.apiKey,P),this.fullPersistenceKey=W("persistence",A.apiKey,P),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,d.Z)(function*(){const m=yield f.persistence._get(f.fullUserKey);return m?Ut._fromJSON(f.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var m=this;return(0,d.Z)(function*(){if(m.persistence===f)return;const w=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=f,w?m.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,m,w="authUser"){return(0,d.Z)(function*(){if(!m.length)return new Ee(ne(V),f,w);const A=(yield Promise.all(m.map(function(){var Je=(0,d.Z)(function*(vt){if(yield vt._isAvailable())return vt});return function(vt){return Je.apply(this,arguments)}}()))).filter(Je=>Je);let P=A[0]||ne(V);const q=W(w,f.config.apiKey,f.name);let le=null;for(const Je of m)try{const vt=yield Je._get(q);if(vt){const _t=Ut._fromJSON(f,vt);Je!==P&&(le=_t),P=Je;break}}catch{}const Fe=A.filter(Je=>Je._shouldAllowMigration);return P._shouldAllowMigration&&Fe.length?(P=Fe[0],le&&(yield P._set(q,le.toJSON())),yield Promise.all(m.map(function(){var Je=(0,d.Z)(function*(vt){if(vt!==P)try{yield vt._remove(q)}catch{}});return function(vt){return Je.apply(this,arguments)}}())),new Ee(P,f,w)):new Ee(P,f,w)})()}}function Q(y){const f=y.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(yn(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(He(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Ve(f))return"Blackberry";if($e(f))return"Webos";if(ht(f))return"Safari";if((f.includes("chrome/")||Jt(f))&&!f.includes("edge/"))return"Chrome";if(Zt(f))return"Android";{const w=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function He(y=(0,R.z$)()){return/firefox\//i.test(y)}function ht(y=(0,R.z$)()){const f=y.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function Jt(y=(0,R.z$)()){return/crios\//i.test(y)}function yn(y=(0,R.z$)()){return/iemobile/i.test(y)}function Zt(y=(0,R.z$)()){return/android/i.test(y)}function Ve(y=(0,R.z$)()){return/blackberry/i.test(y)}function $e(y=(0,R.z$)()){return/webos/i.test(y)}function Ht(y=(0,R.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function qs(y=(0,R.z$)()){return Ht(y)||Zt(y)||$e(y)||Ve(y)||/windows phone/i.test(y)||yn(y)}function bs(y,f=[]){let m;switch(y){case"Browser":m=Q((0,R.z$)());break;case"Worker":m=`${Q((0,R.z$)())}-${y}`;break;default:m=y}const w=f.length?f.join(","):"FirebaseCore-web";return`${m}/JsCore/${se.SDK_VERSION}/${w}`}class Co{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,m){const w=P=>new Promise((q,le)=>{try{q(f(P))}catch(Fe){le(Fe)}});w.onAbort=m,this.queue.push(w);const A=this.queue.length-1;return()=>{this.queue[A]=()=>Promise.resolve()}}runMiddleware(f){var m=this;return(0,d.Z)(function*(){var w;if(m.auth.currentUser===f)return;const A=[];try{for(const P of m.queue)yield P(f),P.onAbort&&A.push(P.onAbort)}catch(P){A.reverse();for(const q of A)try{q()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:null===(w=P)||void 0===w?void 0:w.message})}})()}}class Bt{constructor(f,m,w){this.app=f,this.heartbeatServiceProvider=m,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zs(this),this.idTokenSubscription=new zs(this),this.beforeStateQueue=new Co(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=me,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(f,m){var w=this;return m&&(this._popupRedirectResolver=ne(m)),this._initializationPromise=this.queue((0,d.Z)(function*(){var A,P;if(!w._deleted&&(w.persistenceManager=yield Ee.create(w,f),!w._deleted)){if(null!==(A=w._popupRedirectResolver)&&void 0!==A&&A._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(m),w.lastNotifiedUid=(null===(P=w.currentUser)||void 0===P?void 0:P.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,d.Z)(function*(){if(f._deleted)return;const m=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||m){if(f.currentUser&&m&&f.currentUser.uid===m.uid)return f._currentUser._assign(m),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(m,!0)}})()}initializeCurrentUser(f){var m=this;return(0,d.Z)(function*(){var w;const A=yield m.assertedPersistence.getCurrentUser();let P=A,q=!1;if(f&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const le=null===(w=m.redirectUser)||void 0===w?void 0:w._redirectEventId,Fe=P?._redirectEventId,Je=yield m.tryRedirectSignIn(f);(!le||le===Fe)&&Je?.user&&(P=Je.user,q=!0)}if(!P)return m.directlySetCurrentUser(null);if(!P._redirectEventId){if(q)try{yield m.beforeStateQueue.runMiddleware(P)}catch(le){P=A,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(le))}return P?m.reloadAndSetCurrentUserOrClear(P):m.directlySetCurrentUser(null)}return U(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===P._redirectEventId?m.directlySetCurrentUser(P):m.reloadAndSetCurrentUserOrClear(P)})()}tryRedirectSignIn(f){var m=this;return(0,d.Z)(function*(){let w=null;try{w=yield m._popupRedirectResolver._completeRedirectFn(m,f,!0)}catch{yield m._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(f){var m=this;return(0,d.Z)(function*(){var w;try{yield tn(f)}catch(A){if("auth/network-request-failed"!==(null===(w=A)||void 0===w?void 0:w.code))return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function Ze(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var f=this;return(0,d.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var m=this;return(0,d.Z)(function*(){const w=f?(0,R.m9)(f):null;return w&&U(w.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(w&&w._clone(m))})()}_updateCurrentUser(f,m=!1){var w=this;return(0,d.Z)(function*(){if(!w._deleted)return f&&U(w.tenantId===f.tenantId,w,"tenant-id-mismatch"),m||(yield w.beforeStateQueue.runMiddleware(f)),w.queue((0,d.Z)(function*(){yield w.directlySetCurrentUser(f),w.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,d.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var m=this;return this.queue((0,d.Z)(function*(){yield m.assertedPersistence.setPersistence(ne(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new R.LL("auth","Firebase",f())}onAuthStateChanged(f,m,w){return this.registerStateListener(this.authStateSubscription,f,m,w)}beforeAuthStateChanged(f,m){return this.beforeStateQueue.pushCallback(f,m)}onIdTokenChanged(f,m,w){return this.registerStateListener(this.idTokenSubscription,f,m,w)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,m){var w=this;return(0,d.Z)(function*(){const A=yield w.getOrInitRedirectPersistenceManager(m);return null===f?A.removeCurrentUser():A.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var m=this;return(0,d.Z)(function*(){if(!m.redirectPersistenceManager){const w=f&&ne(f)||m._popupRedirectResolver;U(w,m,"argument-error"),m.redirectPersistenceManager=yield Ee.create(m,[ne(w._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(f){var m=this;return(0,d.Z)(function*(){var w,A;return m._isInitialized&&(yield m.queue((0,d.Z)(function*(){}))),(null===(w=m._currentUser)||void 0===w?void 0:w._redirectEventId)===f?m._currentUser:(null===(A=m.redirectUser)||void 0===A?void 0:A._redirectEventId)===f?m.redirectUser:null})()}_persistUserIfCurrent(f){var m=this;return(0,d.Z)(function*(){if(f===m.currentUser)return m.queue((0,d.Z)(function*(){return m.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(m=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,m,w,A){if(this._deleted)return()=>{};const P="function"==typeof m?m:m.next.bind(m),q=this._isInitialized?Promise.resolve():this._initializationPromise;return U(q,this,"internal-error"),q.then(()=>P(this.currentUser)),"function"==typeof m?f.addObserver(m,w,A):f.addObserver(m)}directlySetCurrentUser(f){var m=this;return(0,d.Z)(function*(){m.currentUser&&m.currentUser!==f&&m._currentUser._stopProactiveRefresh(),f&&m.isProactiveRefreshEnabled&&f._startProactiveRefresh(),m.currentUser=f,f?yield m.assertedPersistence.setCurrentUser(f):yield m.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return U(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=bs(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,d.Z)(function*(){var m;const w={"X-Client-Version":f.clientVersion};f.app.options.appId&&(w["X-Firebase-gmpid"]=f.app.options.appId);const A=yield null===(m=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return A&&(w["X-Firebase-Client"]=A),w})()}}function Cn(y){return(0,R.m9)(y)}class zs{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,R.ne)(m=>this.observer=m)}get next(){return U(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ki(y){const f=y.indexOf(":");return f<0?"":y.substr(0,f+1)}function Is(y){if(!y)return null;const f=Number(y);return isNaN(f)?null:f}class br{constructor(f,m){this.providerId=f,this.signInMethod=m}toJSON(){return ge("not implemented")}_getIdTokenResponse(f){return ge("not implemented")}_linkToIdToken(f,m){return ge("not implemented")}_getReauthenticationResolver(f){return ge("not implemented")}}function Vn(y,f){return au.apply(this,arguments)}function au(){return(au=(0,d.Z)(function*(y,f){return fn(y,"POST","/v1/accounts:resetPassword",Ft(y,f))})).apply(this,arguments)}function pn(y,f){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,d.Z)(function*(y,f){return fn(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function xl(y,f){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,d.Z)(function*(y,f){return fn(y,"POST","/v1/accounts:update",Ft(y,f))})).apply(this,arguments)}function Zi(){return(Zi=(0,d.Z)(function*(y,f){return Kr(y,"POST","/v1/accounts:signInWithPassword",Ft(y,f))})).apply(this,arguments)}function Cs(y,f){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,d.Z)(function*(y,f){return fn(y,"POST","/v1/accounts:sendOobCode",Ft(y,f))})).apply(this,arguments)}function xn(y,f){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,d.Z)(function*(y,f){return Cs(y,f)})).apply(this,arguments)}function hr(y,f){return Br.apply(this,arguments)}function Br(){return(Br=(0,d.Z)(function*(y,f){return Cs(y,f)})).apply(this,arguments)}function uu(y,f){return ma.apply(this,arguments)}function ma(){return(ma=(0,d.Z)(function*(y,f){return Cs(y,f)})).apply(this,arguments)}function Pl(y,f){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,d.Z)(function*(y,f){return Cs(y,f)})).apply(this,arguments)}function Kc(){return(Kc=(0,d.Z)(function*(y,f){return Kr(y,"POST","/v1/accounts:signInWithEmailLink",Ft(y,f))})).apply(this,arguments)}function Rl(){return(Rl=(0,d.Z)(function*(y,f){return Kr(y,"POST","/v1/accounts:signInWithEmailLink",Ft(y,f))})).apply(this,arguments)}class Ol extends br{constructor(f,m,w,A=null){super("password",w),this._email=f,this._password=m,this._tenantId=A}static _fromEmailAndPassword(f,m){return new Ol(f,m,"password")}static _fromEmailAndCode(f,m,w=null){return new Ol(f,m,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(f){var m=this;return(0,d.Z)(function*(){switch(m.signInMethod){case"password":return function ga(y,f){return Zi.apply(this,arguments)}(f,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function Wh(y,f){return Kc.apply(this,arguments)}(f,{email:m._email,oobCode:m._password});default:Me(f,"internal-error")}})()}_linkToIdToken(f,m){var w=this;return(0,d.Z)(function*(){switch(w.signInMethod){case"password":return pn(f,{idToken:m,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function Zh(y,f){return Rl.apply(this,arguments)}(f,{idToken:m,email:w._email,oobCode:w._password});default:Me(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function sr(y,f){return Yc.apply(this,arguments)}function Yc(){return(Yc=(0,d.Z)(function*(y,f){return Kr(y,"POST","/v1/accounts:signInWithIdp",Ft(y,f))})).apply(this,arguments)}class Ki extends br{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const m=new Ki(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(m.idToken=f.idToken),f.accessToken&&(m.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(m.nonce=f.nonce),f.pendingToken&&(m.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(m.accessToken=f.oauthToken,m.secret=f.oauthTokenSecret):Me("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:w,signInMethod:A}=m,P=(0,de._T)(m,["providerId","signInMethod"]);if(!w||!A)return null;const q=new Ki(w,A);return q.idToken=P.idToken||void 0,q.accessToken=P.accessToken||void 0,q.secret=P.secret,q.nonce=P.nonce,q.pendingToken=P.pendingToken||null,q}_getIdTokenResponse(f){return sr(f,this.buildRequest())}_linkToIdToken(f,m){const w=this.buildRequest();return w.idToken=m,sr(f,w)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,sr(f,m)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),f.postBody=(0,R.xO)(m)}return f}}function tg(y,f){return Qc.apply(this,arguments)}function Qc(){return(Qc=(0,d.Z)(function*(y,f){return fn(y,"POST","/v1/accounts:sendVerificationCode",Ft(y,f))})).apply(this,arguments)}function Ts(){return(Ts=(0,d.Z)(function*(y,f){return Kr(y,"POST","/v1/accounts:signInWithPhoneNumber",Ft(y,f))})).apply(this,arguments)}function Jc(){return(Jc=(0,d.Z)(function*(y,f){const m=yield Kr(y,"POST","/v1/accounts:signInWithPhoneNumber",Ft(y,f));if(m.temporaryProof)throw oi(y,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const rg={USER_NOT_FOUND:"user-not-found"};function Xc(){return(Xc=(0,d.Z)(function*(y,f){return Kr(y,"POST","/v1/accounts:signInWithPhoneNumber",Ft(y,Object.assign(Object.assign({},f),{operation:"REAUTH"})),rg)})).apply(this,arguments)}class Ss extends br{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,m){return new Ss({verificationId:f,verificationCode:m})}static _fromTokenResponse(f,m){return new Ss({phoneNumber:f,temporaryProof:m})}_getIdTokenResponse(f){return function kl(y,f){return Ts.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,m){return function ng(y,f){return Jc.apply(this,arguments)}(f,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function Kh(y,f){return Xc.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:m,verificationId:w,verificationCode:A}=this.params;return f&&m?{temporaryProof:f,phoneNumber:m}:{sessionInfo:w,code:A}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:m,verificationCode:w,phoneNumber:A,temporaryProof:P}=f;return w||m||A||P?new Ss({verificationId:m,verificationCode:w,phoneNumber:A,temporaryProof:P}):null}}class lu{constructor(f){var m,w,A,P,q,le;const Fe=(0,R.zd)((0,R.pd)(f)),Je=null!==(m=Fe.apiKey)&&void 0!==m?m:null,vt=null!==(w=Fe.oobCode)&&void 0!==w?w:null,_t=function ed(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(A=Fe.mode)&&void 0!==A?A:null);U(Je&&vt&&_t,"argument-error"),this.apiKey=Je,this.operation=_t,this.code=vt,this.continueUrl=null!==(P=Fe.continueUrl)&&void 0!==P?P:null,this.languageCode=null!==(q=Fe.languageCode)&&void 0!==q?q:null,this.tenantId=null!==(le=Fe.tenantId)&&void 0!==le?le:null}static parseLink(f){const m=function td(y){const f=(0,R.zd)((0,R.pd)(y)).link,m=f?(0,R.zd)((0,R.pd)(f)).deep_link_id:null,w=(0,R.zd)((0,R.pd)(y)).deep_link_id;return(w?(0,R.zd)((0,R.pd)(w)).link:null)||w||m||f||y}(f);try{return new lu(m)}catch{return null}}}let Fi=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(m,w){return Ol._fromEmailAndPassword(m,w)}static credentialWithLink(m,w){const A=lu.parseLink(w);return U(A,"argument-error"),Ol._fromEmailAndCode(m,A.code,A.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class Yi{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class Qi extends Yi{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class As extends Qi{static credentialFromJSON(f){const m="string"==typeof f?JSON.parse(f):f;return U("providerId"in m&&"signInMethod"in m,"argument-error"),Ki._fromParams(m)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return U(f.idToken||f.accessToken,"argument-error"),Ki._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return As.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return As.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:m,oauthAccessToken:w,oauthTokenSecret:A,pendingToken:P,nonce:q,providerId:le}=f;if(!w&&!A&&!m&&!P||!le)return null;try{return new As(le)._credential({idToken:m,accessToken:w,nonce:q,pendingToken:P})}catch{return null}}}let ya=(()=>{class y extends Qi{constructor(){super("facebook.com")}static credential(m){return Ki._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),cu=(()=>{class y extends Qi{constructor(){super("google.com"),this.addScope("profile")}static credential(m,w){return Ki._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:w})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:w,oauthAccessToken:A}=m;if(!w&&!A)return null;try{return y.credential(w,A)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Fl=(()=>{class y extends Qi{constructor(){super("github.com")}static credential(m){return Ki._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class To extends br{constructor(f,m){super(f,f),this.pendingToken=m}_getIdTokenResponse(f){return sr(f,this.buildRequest())}_linkToIdToken(f,m){const w=this.buildRequest();return w.idToken=m,sr(f,w)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,sr(f,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:w,signInMethod:A,pendingToken:P}=m;return w&&A&&P&&w===A?new To(w,P):null}static _create(f,m){return new To(f,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ui extends Yi{constructor(f){U(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return ui.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return ui.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const m=To.fromJSON(f);return U(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:m,providerId:w}=f;if(!m||!w)return null;try{return To._create(w,m)}catch{return null}}}let Jr=(()=>{class y extends Qi{constructor(){super("twitter.com")}static credential(m,w){return Ki._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:w})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:w,oauthTokenSecret:A}=m;if(!w||!A)return null;try{return y.credential(w,A)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function So(y,f){return nd.apply(this,arguments)}function nd(){return(nd=(0,d.Z)(function*(y,f){return Kr(y,"POST","/v1/accounts:signUp",Ft(y,f))})).apply(this,arguments)}class Ir{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,m,w,A=!1){return(0,d.Z)(function*(){const P=yield Ut._fromIdTokenResponse(f,w,A),q=Jh(w);return new Ir({user:P,providerId:q,_tokenResponse:w,operationType:m})})()}static _forOperation(f,m,w){return(0,d.Z)(function*(){yield f._updateTokensIfNecessary(w,!0);const A=Jh(w);return new Ir({user:f,providerId:A,_tokenResponse:w,operationType:m})})()}}function Jh(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Nn(){return(Nn=(0,d.Z)(function*(y){var f;const m=Cn(y);if(yield m._initializationPromise,null!==(f=m.currentUser)&&void 0!==f&&f.isAnonymous)return new Ir({user:m.currentUser,providerId:null,operationType:"signIn"});const w=yield So(m,{returnSecureToken:!0}),A=yield Ir._fromIdTokenResponse(m,"signIn",w,!0);return yield m._updateCurrentUser(A.user),A})).apply(this,arguments)}class du extends R.ZR{constructor(f,m,w,A){var P;super(m.code,m.message),this.operationType=w,this.user=A,Object.setPrototypeOf(this,du.prototype),this.customData={appName:f.name,tenantId:null!==(P=f.tenantId)&&void 0!==P?P:void 0,_serverResponse:m.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(f,m,w,A){return new du(f,m,w,A)}}function ef(y,f,m,w){return("reauthenticate"===f?m._getReauthenticationResolver(y):m._getIdTokenResponse(y)).catch(P=>{throw"auth/multi-factor-auth-required"===P.code?du._fromErrorAndOperation(y,P,f,w):P})}function li(y){return new Set(y.map(({providerId:f})=>f).filter(f=>!!f))}function hu(){return(hu=(0,d.Z)(function*(y,f){const m=(0,R.m9)(y);yield Kt(!0,m,f);const{providerUserInfo:w}=yield xr(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[f]}),A=li(w||[]);return m.providerData=m.providerData.filter(P=>A.has(P.providerId)),A.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function Ao(y,f){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,d.Z)(function*(y,f,m=!1){const w=yield Er(y,f._linkToIdToken(y.auth,yield y.getIdToken()),m);return Ir._forOperation(y,"link",w)})).apply(this,arguments)}function Kt(y,f,m){return fu.apply(this,arguments)}function fu(){return(fu=(0,d.Z)(function*(y,f,m){yield tn(f);const A=!1===y?"provider-already-linked":"no-such-provider";U(li(f.providerData).has(m)===y,f.auth,A)})).apply(this,arguments)}function Zs(y,f){return pu.apply(this,arguments)}function pu(){return(pu=(0,d.Z)(function*(y,f,m=!1){var w;const{auth:A}=y,P="reauthenticate";try{const q=yield Er(y,ef(A,P,f,y),m);U(q.idToken,A,"internal-error");const le=ut(q.idToken);U(le,A,"internal-error");const{sub:Fe}=le;return U(y.uid===Fe,A,"user-mismatch"),Ir._forOperation(y,P,q)}catch(q){throw"auth/user-not-found"===(null===(w=q)||void 0===w?void 0:w.code)&&Me(A,"user-mismatch"),q}})).apply(this,arguments)}function Ti(y,f){return gu.apply(this,arguments)}function gu(){return(gu=(0,d.Z)(function*(y,f,m=!1){const w="signIn",A=yield ef(y,w,f),P=yield Ir._fromIdTokenResponse(y,w,A);return m||(yield y._updateCurrentUser(P.user)),P})).apply(this,arguments)}function Sn(y,f){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,d.Z)(function*(y,f){return Ti(Cn(y),f)})).apply(this,arguments)}function mu(y,f){return tf.apply(this,arguments)}function tf(){return(tf=(0,d.Z)(function*(y,f){const m=(0,R.m9)(y);return yield Kt(!1,m,f.providerId),Ao(m,f)})).apply(this,arguments)}function yu(y,f){return _u.apply(this,arguments)}function _u(){return(_u=(0,d.Z)(function*(y,f){return Zs((0,R.m9)(y),f)})).apply(this,arguments)}function Ll(y,f){return es.apply(this,arguments)}function es(){return(es=(0,d.Z)(function*(y,f){return Kr(y,"POST","/v1/accounts:signInWithCustomToken",Ft(y,f))})).apply(this,arguments)}function _a(){return(_a=(0,d.Z)(function*(y,f){const m=Cn(y),w=yield Ll(m,{token:f,returnSecureToken:!0}),A=yield Ir._fromIdTokenResponse(m,"signIn",w);return yield m._updateCurrentUser(A.user),A})).apply(this,arguments)}class Te{constructor(f,m){this.factorId=f,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(f,m){return"phoneInfo"in m?zt._fromServerResponse(f,m):Me(f,"internal-error")}}class zt extends Te{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,m){return new zt(m)}}function vu(y,f,m){var w;U((null===(w=m.url)||void 0===w?void 0:w.length)>0,y,"invalid-continue-uri"),U(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),f.continueUrl=m.url,f.dynamicLinkDomain=m.dynamicLinkDomain,f.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(U(m.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),f.iOSBundleId=m.iOS.bundleId),m.android&&(U(m.android.packageName.length>0,y,"missing-android-pkg-name"),f.androidInstallApp=m.android.installApp,f.androidMinimumVersionCode=m.android.minimumVersion,f.androidPackageName=m.android.packageName)}function Pn(){return(Pn=(0,d.Z)(function*(y,f,m){const w=(0,R.m9)(y),A={requestType:"PASSWORD_RESET",email:f};m&&vu(w,A,m),yield hr(w,A)})).apply(this,arguments)}function Mo(){return(Mo=(0,d.Z)(function*(y,f,m){yield Vn((0,R.m9)(y),{oobCode:f,newPassword:m})})).apply(this,arguments)}function va(){return(va=(0,d.Z)(function*(y,f){yield xl((0,R.m9)(y),{oobCode:f})})).apply(this,arguments)}function wa(y,f){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,d.Z)(function*(y,f){const m=(0,R.m9)(y),w=yield Vn(m,{oobCode:f}),A=w.requestType;switch(U(A,m,"internal-error"),A){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":U(w.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":U(w.mfaInfo,m,"internal-error");default:U(w.email,m,"internal-error")}let P=null;return w.mfaInfo&&(P=Te._fromServerResponse(Cn(m),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:P},operation:A}})).apply(this,arguments)}function rd(){return(rd=(0,d.Z)(function*(y,f){const{data:m}=yield wa((0,R.m9)(y),f);return m.email})).apply(this,arguments)}function Rn(){return(Rn=(0,d.Z)(function*(y,f,m){const w=Cn(y),A=yield So(w,{returnSecureToken:!0,email:f,password:m}),P=yield Ir._fromIdTokenResponse(w,"signIn",A);return yield w._updateCurrentUser(P.user),P})).apply(this,arguments)}function Ks(){return(Ks=(0,d.Z)(function*(y,f,m){const w=(0,R.m9)(y),A={requestType:"EMAIL_SIGNIN",email:f};U(m.handleCodeInApp,w,"argument-error"),m&&vu(w,A,m),yield uu(w,A)})).apply(this,arguments)}function ba(){return(ba=(0,d.Z)(function*(y,f,m){const w=(0,R.m9)(y),A=Fi.credentialWithLink(f,m||Re());return U(A._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),Sn(w,A)})).apply(this,arguments)}function sg(y,f){return $l.apply(this,arguments)}function $l(){return($l=(0,d.Z)(function*(y,f){return fn(y,"POST","/v1/accounts:createAuthUri",Ft(y,f))})).apply(this,arguments)}function Ia(){return(Ia=(0,d.Z)(function*(y,f){const w={identifier:f,continueUri:mt()?Re():"http://localhost"},{signinMethods:A}=yield sg((0,R.m9)(y),w);return A||[]})).apply(this,arguments)}function Da(){return(Da=(0,d.Z)(function*(y,f){const m=(0,R.m9)(y),A={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};f&&vu(m.auth,A,f);const{email:P}=yield xn(m.auth,A);P!==y.email&&(yield y.reload())})).apply(this,arguments)}function Iu(){return(Iu=(0,d.Z)(function*(y,f,m){const w=(0,R.m9)(y),P={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:f};m&&vu(w.auth,P,m);const{email:q}=yield Pl(w.auth,P);q!==y.email&&(yield y.reload())})).apply(this,arguments)}function Du(y,f){return ql.apply(this,arguments)}function ql(){return(ql=(0,d.Z)(function*(y,f){return fn(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Wl(){return(Wl=(0,d.Z)(function*(y,{displayName:f,photoURL:m}){if(void 0===f&&void 0===m)return;const w=(0,R.m9)(y),P={idToken:yield w.getIdToken(),displayName:f,photoUrl:m,returnSecureToken:!0},q=yield Er(w,Du(w.auth,P));w.displayName=q.displayName||null,w.photoURL=q.photoUrl||null;const le=w.providerData.find(({providerId:Fe})=>"password"===Fe);le&&(le.displayName=w.displayName,le.photoURL=w.photoURL),yield w._updateTokensIfNecessary(q)})).apply(this,arguments)}function Qs(y,f,m){return Cu.apply(this,arguments)}function Cu(){return(Cu=(0,d.Z)(function*(y,f,m){const{auth:w}=y,P={idToken:yield y.getIdToken(),returnSecureToken:!0};f&&(P.email=f),m&&(P.password=m);const q=yield Er(y,pn(w,P));yield y._updateTokensIfNecessary(q,!0)})).apply(this,arguments)}class Xr{constructor(f,m,w={}){this.isNewUser=f,this.providerId=m,this.profile=w}}class bn extends Xr{constructor(f,m,w,A){super(f,m,w),this.username=A}}class sd extends Xr{constructor(f,m){super(f,"facebook.com",m)}}class Zl extends bn{constructor(f,m){super(f,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class nf extends Xr{constructor(f,m){super(f,"google.com",m)}}class Kl extends bn{constructor(f,m,w){super(f,"twitter.com",m,w)}}function Tu(y){const{user:f,_tokenResponse:m}=y;return f.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function or(y){var f,m;if(!y)return null;const{providerId:w}=y,A=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},P=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!w&&y?.idToken){const q=null===(m=null===(f=ut(y.idToken))||void 0===f?void 0:f.firebase)||void 0===m?void 0:m.sign_in_provider;if(q)return new Xr(P,"anonymous"!==q&&"custom"!==q?q:null)}if(!w)return null;switch(w){case"facebook.com":return new sd(P,A);case"github.com":return new Zl(P,A);case"google.com":return new nf(P,A);case"twitter.com":return new Kl(P,A,y.screenName||null);case"custom":case"anonymous":return new Xr(P,null);default:return new Xr(P,w,A)}}(m)}class Xs{constructor(f,m,w){this.type=f,this.credential=m,this.auth=w}static _fromIdtoken(f,m){return new Xs("enroll",f,m)}static _fromMfaPendingCredential(f){return new Xs("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var m,w;if(f?.multiFactorSession){if(null!==(m=f.multiFactorSession)&&void 0!==m&&m.pendingCredential)return Xs._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(w=f.multiFactorSession)&&void 0!==w&&w.idToken)return Xs._fromIdtoken(f.multiFactorSession.idToken)}return null}}class Au{constructor(f,m,w){this.session=f,this.hints=m,this.signInResolver=w}static _fromError(f,m){const w=Cn(f),A=m.customData._serverResponse,P=(A.mfaInfo||[]).map(le=>Te._fromServerResponse(w,le));U(A.mfaPendingCredential,w,"internal-error");const q=Xs._fromMfaPendingCredential(A.mfaPendingCredential);return new Au(q,P,function(){var le=(0,d.Z)(function*(Fe){const Je=yield Fe._process(w,q);delete A.mfaInfo,delete A.mfaPendingCredential;const vt=Object.assign(Object.assign({},A),{idToken:Je.idToken,refreshToken:Je.refreshToken});switch(m.operationType){case"signIn":const _t=yield Ir._fromIdTokenResponse(w,m.operationType,vt);return yield w._updateCurrentUser(_t.user),_t;case"reauthenticate":return U(m.user,w,"internal-error"),Ir._forOperation(m.user,m.operationType,vt);default:Me(w,"internal-error")}});return function(Fe){return le.apply(this,arguments)}}())}resolveSignIn(f){var m=this;return(0,d.Z)(function*(){return m.signInResolver(f)})()}}function Mu(y,f){return fn(y,"POST","/v2/accounts/mfaEnrollment:start",Ft(y,f))}class rf{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(w=>Te._fromServerResponse(f.auth,w)))})}static _fromUser(f){return new rf(f)}getSession(){var f=this;return(0,d.Z)(function*(){return Xs._fromIdtoken(yield f.user.getIdToken(),f.user.auth)})()}enroll(f,m){var w=this;return(0,d.Z)(function*(){const A=f,P=yield w.getSession(),q=yield Er(w.user,A._process(w.user.auth,P,m));return yield w.user._updateTokensIfNecessary(q),w.user.reload()})()}unenroll(f){var m=this;return(0,d.Z)(function*(){var w;const A="string"==typeof f?f:f.uid,P=yield m.user.getIdToken(),q=yield Er(m.user,function ld(y,f){return fn(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Ft(y,f))}(m.user.auth,{idToken:P,mfaEnrollmentId:A}));m.enrolledFactors=m.enrolledFactors.filter(({uid:le})=>le!==A),yield m.user._updateTokensIfNecessary(q);try{yield m.user.reload()}catch(le){if("auth/user-token-expired"!==(null===(w=le)||void 0===w?void 0:w.code))throw le}})()}}const eo=new WeakMap,to="__sak";class Nu{constructor(f,m){this.storageRetriever=f,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(to,"1"),this.storage.removeItem(to),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,m){return this.storage.setItem(f,JSON.stringify(m)),Promise.resolve()}_get(f){const m=this.storage.getItem(f);return Promise.resolve(m?JSON.parse(m):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ta=(()=>{class y extends Nu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,w)=>this.onStorageEvent(m,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ca(){const y=(0,R.z$)();return ht(y)||Ht(y)}()&&function En(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=qs(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const w of Object.keys(this.listeners)){const A=this.storage.getItem(w),P=this.localCache[w];A!==P&&m(w,P,A)}}onStorageEvent(m,w=!1){if(!m.key)return void this.forAllChangedKeys((le,Fe,Je)=>{this.notifyListeners(le,Je)});const A=m.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const le=this.storage.getItem(A);if(m.newValue!==le)null!==m.newValue?this.storage.setItem(A,m.newValue):this.storage.removeItem(A);else if(this.localCache[A]===m.newValue&&!w)return}const P=()=>{const le=this.storage.getItem(A);!w&&this.localCache[A]===le||this.notifyListeners(A,le)},q=this.storage.getItem(A);!function ir(){return(0,R.w1)()&&10===document.documentMode}()||q===m.newValue||m.newValue===m.oldValue?P():setTimeout(P,10)}notifyListeners(m,w){this.localCache[m]=w;const A=this.listeners[m];if(A)for(const P of Array.from(A))P(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,w,A)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:w,newValue:A}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,w){var A=()=>super._set,P=this;return(0,d.Z)(function*(){yield A().call(P,m,w),P.localCache[m]=JSON.stringify(w)})()}_get(m){var w=()=>super._get,A=this;return(0,d.Z)(function*(){const P=yield w().call(A,m);return A.localCache[m]=JSON.stringify(P),P})()}_remove(m){var w=()=>super._remove,A=this;return(0,d.Z)(function*(){yield w().call(A,m),delete A.localCache[m]})()}}return y.type="LOCAL",y})(),Vi=(()=>{class y extends Nu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,w){}_removeListener(m,w){}}return y.type="SESSION",y})();let hd=(()=>{class y{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const w=this.receivers.find(P=>P.isListeningto(m));if(w)return w;const A=new y(m);return this.receivers.push(A),A}isListeningto(m){return this.eventTarget===m}handleEvent(m){var w=this;return(0,d.Z)(function*(){const A=m,{eventId:P,eventType:q,data:le}=A.data,Fe=w.handlersMap[q];if(!Fe?.size)return;A.ports[0].postMessage({status:"ack",eventId:P,eventType:q});const Je=Array.from(Fe).map(function(){var _t=(0,d.Z)(function*(Jn){return Jn(A.origin,le)});return function(Jn){return _t.apply(this,arguments)}}()),vt=yield function Aa(y){return Promise.all(y.map(function(){var f=(0,d.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(w){return{fulfilled:!1,reason:w}}});return function(m){return f.apply(this,arguments)}}()))}(Je);A.ports[0].postMessage({status:"done",eventId:P,eventType:q,response:vt})})()}_subscribe(m,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(w)}_unsubscribe(m,w){this.handlersMap[m]&&w&&this.handlersMap[m].delete(w),(!w||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function Ma(y="",f=10){let m="";for(let w=0;w<f;w++)m+=Math.floor(10*Math.random());return y+m}class Yl{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,m,w=50){var A=this;return(0,d.Z)(function*(){const P=typeof MessageChannel<"u"?new MessageChannel:null;if(!P)throw new Error("connection_unavailable");let q,le;return new Promise((Fe,Je)=>{const vt=Ma("",20);P.port1.start();const _t=setTimeout(()=>{Je(new Error("unsupported_event"))},w);le={messageChannel:P,onMessage(Jn){const An=Jn;if(An.data.eventId===vt)switch(An.data.status){case"ack":clearTimeout(_t),q=setTimeout(()=>{Je(new Error("timeout"))},3e3);break;case"done":clearTimeout(q),Fe(An.data.response);break;default:clearTimeout(_t),clearTimeout(q),Je(new Error("invalid_response"))}}},A.handlers.add(le),P.port1.addEventListener("message",le.onMessage),A.target.postMessage({eventType:f,eventId:vt,data:m},[P.port2])}).finally(()=>{le&&A.removeMessageHandler(le)})})()}}function Un(){return window}function Pu(){return typeof Un().WorkerGlobalScope<"u"&&"function"==typeof Un().importScripts}function xa(){return(xa=(0,d.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ns="firebaseLocalStorageDb",Ps="firebaseLocalStorage",ku="fbase_key";class ro{constructor(f){this.request=f}toPromise(){return new Promise((f,m)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Na(y,f){return y.transaction([Ps],f?"readwrite":"readonly").objectStore(Ps)}function Ro(){const y=indexedDB.open(Ns,1);return new Promise((f,m)=>{y.addEventListener("error",()=>{m(y.error)}),y.addEventListener("upgradeneeded",()=>{const w=y.result;try{w.createObjectStore(Ps,{keyPath:ku})}catch(A){m(A)}}),y.addEventListener("success",(0,d.Z)(function*(){const w=y.result;w.objectStoreNames.contains(Ps)?f(w):(w.close(),yield function pd(){const y=indexedDB.deleteDatabase(Ns);return new ro(y).toPromise()}(),f(yield Ro()))}))})}function ns(y,f,m){return Ql.apply(this,arguments)}function Ql(){return(Ql=(0,d.Z)(function*(y,f,m){const w=Na(y,!0).put({[ku]:f,value:m});return new ro(w).toPromise()})).apply(this,arguments)}function Pa(){return(Pa=(0,d.Z)(function*(y,f){const m=Na(y,!1).get(f),w=yield new ro(m).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function io(y,f){const m=Na(y,!0).delete(f);return new ro(m).toPromise()}const Oo=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,d.Z)(function*(){return m.db||(m.db=yield Ro()),m.db})()}_withRetries(m){var w=this;return(0,d.Z)(function*(){let A=0;for(;;)try{const P=yield w._openDb();return yield m(P)}catch(P){if(A++>3)throw P;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,d.Z)(function*(){return Pu()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,d.Z)(function*(){m.receiver=hd._getInstance(function Ou(){return Pu()?self:null}()),m.receiver._subscribe("keyChanged",function(){var w=(0,d.Z)(function*(A,P){return{keyProcessed:(yield m._poll()).includes(P.key)}});return function(A,P){return w.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var w=(0,d.Z)(function*(A,P){return["keyChanged"]});return function(A,P){return w.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,d.Z)(function*(){var w,A;if(m.activeServiceWorker=yield function no(){return xa.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Yl(m.activeServiceWorker);const P=yield m.sender._send("ping",{},800);!P||(null===(w=P[0])||void 0===w?void 0:w.fulfilled)&&(null===(A=P[0])||void 0===A?void 0:A.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var w=this;return(0,d.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function Ru(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:m},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Ro();return yield ns(m,to,"1"),yield io(m,to),!0}catch{}return!1})()}_withPendingWrite(m){var w=this;return(0,d.Z)(function*(){w.pendingWrites++;try{yield m()}finally{w.pendingWrites--}})()}_set(m,w){var A=this;return(0,d.Z)(function*(){return A._withPendingWrite((0,d.Z)(function*(){return yield A._withRetries(P=>ns(P,m,w)),A.localCache[m]=w,A.notifyServiceWorker(m)}))})()}_get(m){var w=this;return(0,d.Z)(function*(){const A=yield w._withRetries(P=>function Fu(y,f){return Pa.apply(this,arguments)}(P,m));return w.localCache[m]=A,A})()}_remove(m){var w=this;return(0,d.Z)(function*(){return w._withPendingWrite((0,d.Z)(function*(){return yield w._withRetries(A=>io(A,m)),delete w.localCache[m],w.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,d.Z)(function*(){const w=yield m._withRetries(q=>{const le=Na(q,!1).getAll();return new ro(le).toPromise()});if(!w)return[];if(0!==m.pendingWrites)return[];const A=[],P=new Set;for(const{fbase_key:q,value:le}of w)P.add(q),JSON.stringify(m.localCache[q])!==JSON.stringify(le)&&(m.notifyListeners(q,le),A.push(q));for(const q of Object.keys(m.localCache))m.localCache[q]&&!P.has(q)&&(m.notifyListeners(q,null),A.push(q));return A})()}notifyListeners(m,w){this.localCache[m]=w;const A=this.listeners[m];if(A)for(const P of Array.from(A))P(w)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function ko(y,f){return fn(y,"POST","/v2/accounts/mfaSignIn:start",Ft(y,f))}function Rs(){return(Rs=(0,d.Z)(function*(y){return(yield fn(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Lo(y){return new Promise((f,m)=>{const w=document.createElement("script");w.setAttribute("src",y),w.onload=f,w.onerror=A=>{const P=we("internal-error");P.customData=A,m(P)},w.type="text/javascript",w.charset="UTF-8",function Fo(){var y,f;return null!==(f=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==f?f:document}().appendChild(w)})}function Uu(y){return`__${y}${Math.floor(1e6*Math.random())}`}const Ra=1e12;class vn{constructor(f){this.auth=f,this.counter=Ra,this._widgets=new Map}render(f,m){const w=this.counter;return this._widgets.set(w,new og(f,this.auth.name,m||{})),this.counter++,w}reset(f){var m;const w=f||Ra;null===(m=this._widgets.get(w))||void 0===m||m.delete(),this._widgets.delete(w)}getResponse(f){var m;return(null===(m=this._widgets.get(f||Ra))||void 0===m?void 0:m.getResponse())||""}execute(f){var m=this;return(0,d.Z)(function*(){var w;return null===(w=m._widgets.get(f||Ra))||void 0===w||w.execute(),""})()}}class og{constructor(f,m,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const A="string"==typeof f?document.getElementById(f):f;U(A,"argument-error",{appName:m}),this.container=A,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function $y(y){const f=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<y;w++)f.push(m.charAt(Math.floor(Math.random()*m.length)));return f.join("")}(50);const{callback:f,"expired-callback":m}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ag=Uu("rcb"),Hy=new cn(3e4,6e4);class sf{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=Un().grecaptcha)||void 0===f||!f.render)}load(f,m=""){return U(function fw(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(m),f,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(Un().grecaptcha):new Promise((w,A)=>{const P=Un().setTimeout(()=>{A(we(f,"network-request-failed"))},Hy.get());Un()[ag]=()=>{Un().clearTimeout(P),delete Un()[ag];const le=Un().grecaptcha;if(!le)return void A(we(f,"internal-error"));const Fe=le.render;le.render=(Je,vt)=>{const _t=Fe(Je,vt);return this.counter++,_t},this.hostLanguage=m,w(le)},Lo(`https://www.google.com/recaptcha/api.js??${(0,R.xO)({onload:ag,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(P),A(we(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var m;return!(null===(m=Un().grecaptcha)||void 0===m||!m.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Oa{load(f){return(0,d.Z)(function*(){return new vn(f)})()}clearedOneInstance(){}}const ug="recaptcha",lg={theme:"light",type:"image"};class pr{constructor(f,m=Object.assign({},lg),w){this.parameters=m,this.type=ug,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Cn(w),this.isInvisible="invisible"===this.parameters.size,U(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const A="string"==typeof f?document.getElementById(f):f;U(A,this.auth,"argument-error"),this.container=A,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Oa:new sf,this.validateStartingState()}verify(){var f=this;return(0,d.Z)(function*(){f.assertNotDestroyed();const m=yield f.render(),w=f.getAssertedRecaptcha();return w.getResponse(m)||new Promise(P=>{const q=le=>{!le||(f.tokenChangeListeners.delete(q),P(le))};f.tokenChangeListeners.add(q),f.isInvisible&&w.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){U(!this.parameters.sitekey,this.auth,"argument-error"),U(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),U(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return m=>{if(this.tokenChangeListeners.forEach(w=>w(m)),"function"==typeof f)f(m);else if("string"==typeof f){const w=Un()[f];"function"==typeof w&&w(m)}}}assertNotDestroyed(){U(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,d.Z)(function*(){if(yield f.init(),!f.widgetId){let m=f.container;if(!f.isInvisible){const w=document.createElement("div");m.appendChild(w),m=w}f.widgetId=f.getAssertedRecaptcha().render(m,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,d.Z)(function*(){U(mt()&&!Pu(),f.auth,"internal-error"),yield function ti(){let y=null;return new Promise(f=>{"complete"!==document.readyState?(y=()=>f(),window.addEventListener("load",y)):f()}).catch(f=>{throw y&&window.removeEventListener("load",y),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const m=yield function ei(y){return Rs.apply(this,arguments)}(f.auth);U(m,f.auth,"internal-error"),f.parameters.sitekey=m})()}getAssertedRecaptcha(){return U(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class rn{constructor(f,m){this.verificationId=f,this.onConfirmation=m}confirm(f){const m=Ss._fromVerification(this.verificationId,f);return this.onConfirmation(m)}}function rt(){return(rt=(0,d.Z)(function*(y,f,m){const w=Cn(y),A=yield Dr(w,f,(0,R.m9)(m));return new rn(A,P=>Sn(w,P))})).apply(this,arguments)}function kn(){return(kn=(0,d.Z)(function*(y,f,m){const w=(0,R.m9)(y);yield Kt(!1,w,"phone");const A=yield Dr(w.auth,f,(0,R.m9)(m));return new rn(A,P=>mu(w,P))})).apply(this,arguments)}function is(){return(is=(0,d.Z)(function*(y,f,m){const w=(0,R.m9)(y),A=yield Dr(w.auth,f,(0,R.m9)(m));return new rn(A,P=>yu(w,P))})).apply(this,arguments)}function Dr(y,f,m){return Bu.apply(this,arguments)}function Bu(){return(Bu=(0,d.Z)(function*(y,f,m){var w;const A=yield m.verify();try{let P;if(U("string"==typeof A,y,"argument-error"),U(m.type===ug,y,"argument-error"),P="string"==typeof f?{phoneNumber:f}:f,"session"in P){const q=P.session;if("phoneNumber"in P)return U("enroll"===q.type,y,"internal-error"),(yield Mu(y,{idToken:q.credential,phoneEnrollmentInfo:{phoneNumber:P.phoneNumber,recaptchaToken:A}})).phoneSessionInfo.sessionInfo;{U("signin"===q.type,y,"internal-error");const le=(null===(w=P.multiFactorHint)||void 0===w?void 0:w.uid)||P.multiFactorUid;return U(le,y,"missing-multi-factor-info"),(yield ko(y,{mfaPendingCredential:q.credential,mfaEnrollmentId:le,phoneSignInInfo:{recaptchaToken:A}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:q}=yield tg(y,{phoneNumber:P.phoneNumber,recaptchaToken:A});return q}}finally{m._reset()}})).apply(this,arguments)}function Xl(){return(Xl=(0,d.Z)(function*(y,f){yield Ao((0,R.m9)(y),f)})).apply(this,arguments)}let ju=(()=>{class y{constructor(m){this.providerId=y.PROVIDER_ID,this.auth=Cn(m)}verifyPhoneNumber(m,w){return Dr(this.auth,m,(0,R.m9)(w))}static credential(m,w){return Ss._fromVerification(m,w)}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:w,temporaryProof:A}=m;return w&&A?Ss._fromTokenResponse(w,A):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function oo(y,f){return f?ne(f):(U(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class $u extends br{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return sr(f,this._buildIdpRequest())}_linkToIdToken(f,m){return sr(f,this._buildIdpRequest(m))}_getReauthenticationResolver(f){return sr(f,this._buildIdpRequest())}_buildIdpRequest(f){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(m.idToken=f),m}}function gr(y){return Ti(y.auth,new $u(y),y.bypassAuthState)}function bt(y){const{auth:f,user:m}=y;return U(m,f,"internal-error"),Zs(m,new $u(y),y.bypassAuthState)}function Os(y){return Hu.apply(this,arguments)}function Hu(){return(Hu=(0,d.Z)(function*(y){const{auth:f,user:m}=y;return U(m,f,"internal-error"),Ao(m,new $u(y),y.bypassAuthState)})).apply(this,arguments)}class Bo{constructor(f,m,w,A,P=!1){this.auth=f,this.resolver=w,this.user=A,this.bypassAuthState=P,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var f=this;return new Promise(function(){var m=(0,d.Z)(function*(w,A){f.pendingPromise={resolve:w,reject:A};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(P){f.reject(P)}});return function(w,A){return m.apply(this,arguments)}}())}onAuthEvent(f){var m=this;return(0,d.Z)(function*(){const{urlResponse:w,sessionId:A,postBody:P,tenantId:q,error:le,type:Fe}=f;if(le)return void m.reject(le);const Je={auth:m.auth,requestUri:w,sessionId:A,tenantId:q||void 0,postBody:P||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Fe)(Je))}catch(vt){m.reject(vt)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return gr;case"linkViaPopup":case"linkViaRedirect":return Os;case"reauthViaPopup":case"reauthViaRedirect":return bt;default:Me(this.auth,"internal-error")}}resolve(f){z(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){z(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Gu=new cn(2e3,1e4);function ka(){return(ka=(0,d.Z)(function*(y,f,m){const w=Cn(y);Be(y,f,Yi);const A=oo(w,m);return new jo(w,"signInViaPopup",f,A).executeNotNull()})).apply(this,arguments)}function md(){return(md=(0,d.Z)(function*(y,f,m){const w=(0,R.m9)(y);Be(w.auth,f,Yi);const A=oo(w.auth,m);return new jo(w.auth,"reauthViaPopup",f,A,w).executeNotNull()})).apply(this,arguments)}function ss(){return(ss=(0,d.Z)(function*(y,f,m){const w=(0,R.m9)(y);Be(w.auth,f,Yi);const A=oo(w.auth,m);return new jo(w.auth,"linkViaPopup",f,A,w).executeNotNull()})).apply(this,arguments)}let jo=(()=>{class y extends Bo{constructor(m,w,A,P,q){super(m,w,P,q),this.provider=A,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var m=this;return(0,d.Z)(function*(){const w=yield m.execute();return U(w,m.auth,"internal-error"),w})()}onExecution(){var m=this;return(0,d.Z)(function*(){z(1===m.filter.length,"Popup operations only handle one event");const w=Ma();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],w),m.authWindow.associatedEvent=w,m.resolver._originValidation(m.auth).catch(A=>{m.reject(A)}),m.resolver._isIframeWebStorageSupported(m.auth,A=>{A||m.reject(we(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(we(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const m=()=>{var w,A;this.pollId=null!==(A=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==A&&A.closed?window.setTimeout(()=>{this.pollId=null,this.reject(we(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,Gu.get())};m()}}return y.currentPopupAction=null,y})();const ni=new Map;class qu extends Bo{constructor(f,m,w=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,w),this.eventId=null}execute(){var f=()=>super.execute,m=this;return(0,d.Z)(function*(){let w=ni.get(m.auth._key());if(!w){try{const P=(yield function zu(y,f){return Ai.apply(this,arguments)}(m.resolver,m.auth))?yield f().call(m):null;w=()=>Promise.resolve(P)}catch(A){w=()=>Promise.reject(A)}ni.set(m.auth._key(),w)}return m.bypassAuthState||ni.set(m.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(f){var m=()=>super.onAuthEvent,w=this;return(0,d.Z)(function*(){if("signInViaRedirect"===f.type)return m().call(w,f);if("unknown"!==f.type){if(f.eventId){const A=yield w.auth._redirectUserForId(f.eventId);if(A)return w.user=A,m().call(w,f);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function Ai(){return(Ai=(0,d.Z)(function*(y,f){const m=ec(f),w=Ui(y);if(!(yield w._isAvailable()))return!1;const A="true"===(yield w._get(m));return yield w._remove(m),A})).apply(this,arguments)}function uo(y,f){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,d.Z)(function*(y,f){return Ui(y)._set(ec(f),"true")})).apply(this,arguments)}function Bn(y,f){ni.set(y._key(),f)}function Ui(y){return ne(y._redirectPersistence)}function ec(y){return W("pendingRedirect",y.config.apiKey,y.name)}function D(){return(D=(0,d.Z)(function*(y,f,m){const w=Cn(y);Be(y,f,Yi);const A=oo(w,m);return yield uo(A,w),A._openRedirect(w,f,"signInViaRedirect")})).apply(this,arguments)}function F(){return(F=(0,d.Z)(function*(y,f,m){const w=(0,R.m9)(y);Be(w.auth,f,Yi);const A=oo(w.auth,m);yield uo(A,w.auth);const P=yield lt(w);return A._openRedirect(w.auth,f,"reauthViaRedirect",P)})).apply(this,arguments)}function Ie(){return(Ie=(0,d.Z)(function*(y,f,m){const w=(0,R.m9)(y);Be(w.auth,f,Yi);const A=oo(w.auth,m);yield Kt(!1,w,f.providerId),yield uo(A,w.auth);const P=yield lt(w);return A._openRedirect(w.auth,f,"linkViaRedirect",P)})).apply(this,arguments)}function Qe(){return(Qe=(0,d.Z)(function*(y,f){return yield Cn(y)._initializationPromise,ft(y,f,!1)})).apply(this,arguments)}function ft(y,f){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,d.Z)(function*(y,f,m=!1){const w=Cn(y),A=oo(w,f),q=yield new qu(w,A,m).execute();return q&&!m&&(delete q.user._redirectEventId,yield w._persistUserIfCurrent(q.user),yield w._setRedirectUser(null,f)),q})).apply(this,arguments)}function lt(y){return In.apply(this,arguments)}function In(){return(In=(0,d.Z)(function*(y){const f=Ma(`${y.uid}:::`);return y._redirectEventId=f,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),f})).apply(this,arguments)}class $o{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let m=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(f,w)&&(m=!0,this.sendToConsumer(f,w),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function Rt(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return os(y);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=f,m=!0)),m}sendToConsumer(f,m){var w;if(f.error&&!os(f)){const A=(null===(w=f.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";m.onError(we(this.auth,A))}else m.onAuthEvent(f)}isEventForConsumer(f,m){const w=null===m.eventId||!!f.eventId&&f.eventId===m.eventId;return m.filter.includes(f.type)&&w}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ho(f))}saveEventToCache(f){this.cachedEventUids.add(Ho(f)),this.lastProcessedEventTime=Date.now()}}function Ho(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(f=>f).join("-")}function os({type:y,error:f}){return"unknown"===y&&"auth/no-auth-event"===f?.code}function di(y){return lo.apply(this,arguments)}function lo(){return(lo=(0,d.Z)(function*(y,f={}){return fn(y,"GET","/v1/projects",f)})).apply(this,arguments)}const Mi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,co=/^https?/;function as(){return(as=(0,d.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:f}=yield di(y);for(const m of f)try{if(dg(m))return}catch{}Me(y,"unauthorized-domain")})).apply(this,arguments)}function dg(y){const f=Re(),{protocol:m,hostname:w}=new URL(f);if(y.startsWith("chrome-extension://")){const q=new URL(y);return""===q.hostname&&""===w?"chrome-extension:"===m&&y.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===m&&q.hostname===w}if(!co.test(m))return!1;if(Mi.test(y))return w===y;const A=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+A+"|"+A+")$","i").test(w)}const hg=new cn(3e4,6e4);function lf(){const y=Un().___jsl;if(y?.H)for(const f of Object.keys(y.H))if(y.H[f].r=y.H[f].r||[],y.H[f].L=y.H[f].L||[],y.H[f].r=[...y.H[f].L],y.CP)for(let m=0;m<y.CP.length;m++)y.CP[m]=null}let Kn=null;function Go(y){return Kn=Kn||function cf(y){return new Promise((f,m)=>{var w,A,P;function q(){lf(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{lf(),m(we(y,"network-request-failed"))},timeout:hg.get()})}if(null!==(A=null===(w=Un().gapi)||void 0===w?void 0:w.iframes)&&void 0!==A&&A.Iframe)f(gapi.iframes.getContext());else{if(null===(P=Un().gapi)||void 0===P||!P.load){const le=Uu("iframefcb");return Un()[le]=()=>{gapi.load?q():m(we(y,"network-request-failed"))},Lo(`https://apis.google.com/js/api.js?onload=${le}`).catch(Fe=>m(Fe))}q()}}).catch(f=>{throw Kn=null,f})}(y),Kn}const vd=new cn(5e3,15e3),qy={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zy(y){const f=y.config;U(f.authDomain,y,"auth-domain-config-required");const m=f.emulator?wn(f,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,w={apiKey:f.apiKey,appName:y.name,v:se.SDK_VERSION},A=wd.get(y.config.apiHost);A&&(w.eid=A);const P=y._getFrameworks();return P.length&&(w.fw=P.join(",")),`${m}?${(0,R.xO)(w).slice(1)}`}function Wu(){return Wu=(0,d.Z)(function*(y){const f=yield Go(y),m=Un().gapi;return U(m,y,"internal-error"),f.open({where:document.body,url:zy(y),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qy,dontclear:!0},w=>new Promise(function(){var A=(0,d.Z)(function*(P,q){yield w.restyle({setHideOnLeave:!1});const le=we(y,"network-request-failed"),Fe=Un().setTimeout(()=>{q(le)},vd.get());function Je(){Un().clearTimeout(Fe),P(w)}w.ping(Je).then(Je,()=>{q(le)})});return function(P,q){return A.apply(this,arguments)}}()))}),Wu.apply(this,arguments)}const Ed={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ho{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function us(y,f,m,w,A,P){U(y.config.authDomain,y,"auth-domain-config-required"),U(y.config.apiKey,y,"invalid-api-key");const q={apiKey:y.config.apiKey,appName:y.name,authType:m,redirectUrl:w,v:se.SDK_VERSION,eventId:A};if(f instanceof Yi){f.setDefaultLanguage(y.languageCode),q.providerId=f.providerId||"",(0,R.xb)(f.getCustomParameters())||(q.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Fe,Je]of Object.entries(P||{}))q[Fe]=Je}if(f instanceof Qi){const Fe=f.getScopes().filter(Je=>""!==Je);Fe.length>0&&(q.scopes=Fe.join(","))}y.tenantId&&(q.tid=y.tenantId);const le=q;for(const Fe of Object.keys(le))void 0===le[Fe]&&delete le[Fe];return`${function Wy({config:y}){return y.emulator?wn(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,R.xO)(le).slice(1)}`}const Zu="webStorageSupport";class ls extends class Id{constructor(f){this.factorId=f}_process(f,m,w){switch(m.type){case"enroll":return this._finalizeEnroll(f,m.credential,w);case"signin":return this._finalizeSignIn(f,m.credential);default:return ge("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new ls(f)}_finalizeEnroll(f,m,w){return function xu(y,f){return fn(y,"POST","/v2/accounts/mfaEnrollment:finalize",Ft(y,f))}(f,{idToken:m,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,m){return function Vu(y,f){return fn(y,"POST","/v2/accounts/mfaSignIn:finalize",Ft(y,f))}(f,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let zo=(()=>{class y{constructor(){}static assertion(m){return ls._fromCredential(m)}}return y.FACTOR_ID="phone",y})();var nc="@firebase/auth",gf="0.20.10";class gg{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var m=this;return(0,d.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const m=this.auth.onIdTokenChanged(w=>{var A;f((null===(A=w)||void 0===A?void 0:A.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,m),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const m=this.internalListeners.get(f);!m||(this.internalListeners.delete(f),m(),this.updateProactiveRefresh())}assertAuthConfigured(){U(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ua(){return window}function ks(){return(ks=(0,d.Z)(function*(y,f,m){var w;const{BuildInfo:A}=Ua();z(f.sessionId,"AuthEvent did not contain a session ID");const P=yield mf(f.sessionId),q={};return Ht()?q.ibi=A.packageName:Zt()?q.apn=A.packageName:Me(y,"operation-not-supported-in-this-environment"),A.displayName&&(q.appDisplayName=A.displayName),q.sessionId=P,us(y,m,f.type,void 0,null!==(w=f.eventId)&&void 0!==w?w:void 0,q)})).apply(this,arguments)}function Fs(){return(Fs=(0,d.Z)(function*(y){const{BuildInfo:f}=Ua(),m={};Ht()?m.iosBundleId=f.packageName:Zt()?m.androidPackageName=f.packageName:Me(y,"operation-not-supported-in-this-environment"),yield di(y,m)})).apply(this,arguments)}function _g(){return(_g=(0,d.Z)(function*(y,f,m){const{cordova:w}=Ua();let A=()=>{};try{yield new Promise((P,q)=>{let le=null;function Fe(){var _t;P();const Jn=null===(_t=w.plugins.browsertab)||void 0===_t?void 0:_t.close;"function"==typeof Jn&&Jn(),"function"==typeof m?.close&&m.close()}function Je(){le||(le=window.setTimeout(()=>{q(we(y,"redirect-cancelled-by-user"))},2e3))}function vt(){"visible"===document?.visibilityState&&Je()}f.addPassiveListener(Fe),document.addEventListener("resume",Je,!1),Zt()&&document.addEventListener("visibilitychange",vt,!1),A=()=>{f.removePassiveListener(Fe),document.removeEventListener("resume",Je,!1),document.removeEventListener("visibilitychange",vt,!1),le&&window.clearTimeout(le)}})}finally{A()}})).apply(this,arguments)}function mf(y){return fo.apply(this,arguments)}function fo(){return(fo=(0,d.Z)(function*(y){const f=Td(y),m=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(m)).map(A=>A.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Td(y){if(z(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const f=new ArrayBuffer(y.length),m=new Uint8Array(f);for(let w=0;w<y.length;w++)m[w]=y.charCodeAt(w);return m}(0,R.Pz)("authIdTokenMaxAge"),function Ky(y){(0,se._registerComponent)(new ae.wA("auth",(f,{options:m})=>{const w=f.getProvider("app").getImmediate(),A=f.getProvider("heartbeat"),{apiKey:P,authDomain:q}=w.options;return((le,Fe)=>{U(P&&!P.includes(":"),"invalid-api-key",{appName:le.name}),U(!q?.includes(":"),"argument-error",{appName:le.name});const Je={apiKey:P,authDomain:q,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bs(y)},vt=new Bt(le,Fe,Je);return function Oe(y,f){const m=f?.persistence||[],w=(Array.isArray(m)?m:[m]).map(ne);f?.errorMap&&y._updateErrorMap(f.errorMap),y._initializeWithPersistence(w,f?.popupRedirectResolver)}(vt,m),vt})(w,A)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,m,w)=>{f.getProvider("auth-internal").initialize()})),(0,se._registerComponent)(new ae.wA("auth-internal",f=>{const m=Cn(f.getProvider("auth").getImmediate());return new gg(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,se.registerVersion)(nc,gf,function Zy(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,se.registerVersion)(nc,gf,"esm2017")}("Browser");class yf extends $o{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(f)),super.onEvent(f)}initialized(){var f=this;return(0,d.Z)(function*(){yield f.initPromise})()}}function Ba(y){return _f.apply(this,arguments)}function _f(){return(_f=(0,d.Z)(function*(y){const f=yield Sd()._get(ja(y));return f&&(yield Sd()._remove(ja(y))),f})).apply(this,arguments)}function sc(){const y=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const w=Math.floor(Math.random()*f.length);y.push(f.charAt(w))}return y.join("")}function Sd(){return ne(Ta)}function ja(y){return W("authEvent",y.config.apiKey,y.name)}function $a(y){if(!y?.includes("?"))return{};const[f,...m]=y.split("?");return(0,R.zd)(m.join("?"))}function Ls(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:we("no-auth-event")}}function xd(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function Ku(y=(0,R.z$)()){return!("file:"!==xd()&&"ionic:"!==xd()&&"capacitor:"!==xd()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function Tg(){try{const y=self.localStorage,f=Ma();if(y)return y.setItem(f,"1"),y.removeItem(f),!function Cg(y=(0,R.z$)()){return function Ig(){return(0,R.w1)()&&11===document?.documentMode}()||function Dg(y=(0,R.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,R.hl)()}catch{return Nd()&&(0,R.hl)()}return!1}function Nd(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Pd(){return(function yw(){return"http:"===xd()||"https:"===xd()}()||(0,R.ru)()||Ku())&&!function Ef(){return(0,R.b$)()||(0,R.UG)()}()&&Tg()&&!Nd()}function Rd(){return Ku()&&typeof document<"u"}function bf(){return(bf=(0,d.Z)(function*(){return!!Rd()&&new Promise(y=>{const f=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),y(!0)})})})).apply(this,arguments)}const $r={LOCAL:"local",NONE:"none",SESSION:"session"},Wo=U,Hr="persistence";function Qu(y){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,d.Z)(function*(y){yield y._initializationPromise;const f=Bi(),m=W(Hr,y.config.apiKey,y.name);f&&f.setItem(m,y._getPersistence())})).apply(this,arguments)}function Bi(){var y;try{return(null===(y=function Od(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const ac=U;class hi{constructor(){this.browserResolver=ne(class tc{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Vi,this._completeRedirectFn=ft,this._overrideRedirectResult=Bn}_openPopup(f,m,w,A){var P=this;return(0,d.Z)(function*(){var q;z(null===(q=P.eventManagers[f._key()])||void 0===q?void 0:q.manager,"_initialize() not called before _openPopup()");const le=us(f,m,w,Re(),A);return function hf(y,f,m,w=500,A=600){const P=Math.max((window.screen.availHeight-A)/2,0).toString(),q=Math.max((window.screen.availWidth-w)/2,0).toString();let le="";const Fe=Object.assign(Object.assign({},Ed),{width:w.toString(),height:A.toString(),top:P,left:q}),Je=(0,R.z$)().toLowerCase();m&&(le=Jt(Je)?"_blank":m),He(Je)&&(f=f||"http://localhost",Fe.scrollbars="yes");const vt=Object.entries(Fe).reduce((Jn,[An,Ld])=>`${Jn}${An}=${Ld},`,"");if(function Qr(y=(0,R.z$)()){var f;return Ht(y)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(Je)&&"_self"!==le)return function qo(y,f){const m=document.createElement("a");m.href=y,m.target=f;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(w)}(f||"",le),new ho(null);const _t=window.open(f||"",le,vt);U(_t,y,"popup-blocked");try{_t.focus()}catch{}return new ho(_t)}(f,le,Ma())})()}_openRedirect(f,m,w,A){var P=this;return(0,d.Z)(function*(){return yield P._originValidation(f),function Si(y){Un().location.href=y}(us(f,m,w,Re(),A)),new Promise(()=>{})})()}_initialize(f){const m=f._key();if(this.eventManagers[m]){const{manager:A,promise:P}=this.eventManagers[m];return A?Promise.resolve(A):(z(P,"If manager is not set, promise should be"),P)}const w=this.initAndGetManager(f);return this.eventManagers[m]={promise:w},w.catch(()=>{delete this.eventManagers[m]}),w}initAndGetManager(f){var m=this;return(0,d.Z)(function*(){const w=yield function df(y){return Wu.apply(this,arguments)}(f),A=new $o(f);return w.register("authEvent",P=>(U(P?.authEvent,f,"invalid-auth-event"),{status:A.onEvent(P.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[f._key()]={manager:A},m.iframes[f._key()]=w,A})()}_isIframeWebStorageSupported(f,m){this.iframes[f._key()].send(Zu,{type:Zu},A=>{var P;const q=null===(P=A?.[0])||void 0===P?void 0:P[Zu];void 0!==q&&m(!!q),Me(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function _d(y){return as.apply(this,arguments)}(f)),this.originValidationPromises[m]}get _shouldInitProactively(){return qs()||ht()||Ht()}}),this.cordovaResolver=ne(class Ad{constructor(){this._redirectPersistence=Vi,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ft,this._overrideRedirectResult=Bn}_initialize(f){var m=this;return(0,d.Z)(function*(){const w=f._key();let A=m.eventManagers.get(w);return A||(A=new yf(f),m.eventManagers.set(w,A),m.attachCallbackListeners(f,A)),A})()}_openPopup(f){Me(f,"operation-not-supported-in-this-environment")}_openRedirect(f,m,w,A){var P=this;return(0,d.Z)(function*(){!function mw(y){var f,m,w,A,P,q,le,Fe,Je,vt;const _t=Ua();U("function"==typeof(null===(f=_t?.universalLinks)||void 0===f?void 0:f.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),U(typeof(null===(m=_t?.BuildInfo)||void 0===m?void 0:m.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),U("function"==typeof(null===(P=null===(A=null===(w=_t?.cordova)||void 0===w?void 0:w.plugins)||void 0===A?void 0:A.browsertab)||void 0===P?void 0:P.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),U("function"==typeof(null===(Fe=null===(le=null===(q=_t?.cordova)||void 0===q?void 0:q.plugins)||void 0===le?void 0:le.browsertab)||void 0===Fe?void 0:Fe.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),U("function"==typeof(null===(vt=null===(Je=_t?.cordova)||void 0===Je?void 0:Je.InAppBrowser)||void 0===vt?void 0:vt.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const q=yield P._initialize(f);yield q.initialized(),q.resetRedirect(),function yd(){ni.clear()}(),yield P._originValidation(f);const le=function vg(y,f,m=null){return{type:f,eventId:m,urlResponse:null,sessionId:sc(),postBody:null,tenantId:y.tenantId,error:we(y,"no-auth-event")}}(f,w,A);yield function wg(y,f){return Sd()._set(ja(y),f)}(f,le);const Fe=yield function cs(y,f,m){return ks.apply(this,arguments)}(f,le,m),Je=yield function Cd(y){const{cordova:f}=Ua();return new Promise(m=>{f.plugins.browsertab.isAvailable(w=>{let A=null;w?f.plugins.browsertab.openUrl(y):A=f.InAppBrowser.open(y,function dr(y=(0,R.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),m(A)})})}(Fe);return function ZD(y,f,m){return _g.apply(this,arguments)}(f,q,Je)})()}_isIframeWebStorageSupported(f,m){throw new Error("Method not implemented.")}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function yg(y){return Fs.apply(this,arguments)}(f)),this.originValidationPromises[m]}attachCallbackListeners(f,m){const{universalLinks:w,handleOpenURL:A,BuildInfo:P}=Ua(),q=setTimeout((0,d.Z)(function*(){yield Ba(f),m.onEvent(Ls())}),500),le=function(){var vt=(0,d.Z)(function*(_t){clearTimeout(q);const Jn=yield Ba(f);let An=null;Jn&&_t?.url&&(An=function Eg(y,f){var m,w;const A=function Yn(y){const f=$a(y),m=f.link?decodeURIComponent(f.link):void 0,w=$a(m).link,A=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return $a(A).link||A||w||m||y}(f);if(A.includes("/__/auth/callback")){const P=$a(A),q=P.firebaseError?function oc(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(P.firebaseError)):null,le=null===(w=null===(m=q?.code)||void 0===m?void 0:m.split("auth/"))||void 0===w?void 0:w[1],Fe=le?we(le):null;return Fe?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Fe,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:A,postBody:null}}return null}(Jn,_t.url)),m.onEvent(An||Ls())});return function(Jn){return vt.apply(this,arguments)}}();typeof w<"u"&&"function"==typeof w.subscribe&&w.subscribe(null,le);const Fe=A,Je=`${P.packageName.toLowerCase()}://`;Ua().handleOpenURL=function(){var vt=(0,d.Z)(function*(_t){if(_t.toLowerCase().startsWith(Je)&&le({url:_t}),"function"==typeof Fe)try{Fe(_t)}catch(Jn){console.error(Jn)}});return function(_t){return vt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Vi,this._completeRedirectFn=ft,this._overrideRedirectResult=Bn}_initialize(f){var m=this;return(0,d.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,m,w,A){var P=this;return(0,d.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._openPopup(f,m,w,A)})()}_openRedirect(f,m,w,A){var P=this;return(0,d.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._openRedirect(f,m,w,A)})()}_isIframeWebStorageSupported(f,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,m)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return Rd()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ac(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,d.Z)(function*(){if(f.underlyingResolver)return;const m=yield function Xy(){return bf.apply(this,arguments)}();f.underlyingResolver=m?f.cordovaResolver:f.browserResolver})()}}function Ju(y){return y.unwrap()}function If(y){return uc(y)}function uc(y){const{_tokenResponse:f}=y instanceof R.ZR?y.customData:y;if(!f)return null;if(!(y instanceof R.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return ju.credentialFromResult(y);const m=f.providerId;if(!m||"password"===m)return null;let w;switch(m){case"google.com":w=cu;break;case"facebook.com":w=ya;break;case"github.com":w=Fl;break;case"twitter.com":w=Jr;break;default:const{oauthIdToken:A,oauthAccessToken:P,oauthTokenSecret:q,pendingToken:le,nonce:Fe}=f;return P||q||A||le?le?m.startsWith("saml.")?To._create(m,le):Ki._fromParams({providerId:m,signInMethod:m,pendingToken:le,idToken:A,accessToken:P}):new As(m).credential({idToken:A,accessToken:P,rawNonce:Fe}):null}return y instanceof R.ZR?w.credentialFromError(y):w.credentialFromResult(y)}function Qn(y,f){return f.catch(m=>{throw m instanceof R.ZR&&function Sg(y,f){var m,w;const A=null===(m=f.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===(null===(w=f)||void 0===w?void 0:w.code))f.resolver=new t_(y,function On(y,f){var m;const w=(0,R.m9)(y),A=f;return U(f.customData.operationType,w,"argument-error"),U(null===(m=A.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,w,"argument-error"),Au._fromError(w,A)}(y,f));else if(A){const P=uc(f),q=f;P&&(q.credential=P,q.tenantId=A.tenantId||void 0,q.email=A.email||void 0,q.phoneNumber=A.phoneNumber||void 0)}}(y,m),m}).then(m=>{const A=m.user;return{operationType:m.operationType,credential:If(m),additionalUserInfo:Tu(m),user:po.getOrCreate(A)}})}function Df(y,f){return qa.apply(this,arguments)}function qa(){return(qa=(0,d.Z)(function*(y,f){const m=yield f;return{verificationId:m.verificationId,confirm:w=>Qn(y,m.confirm(w))}})).apply(this,arguments)}class t_{constructor(f,m){this.resolver=m,this.auth=function kd(y){return y.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return Qn(Ju(this.auth),this.resolver.resolveSignIn(f))}}class po{constructor(f){this._delegate=f,this.multiFactor=function Po(y){const f=(0,R.m9)(y);return eo.has(f)||eo.set(f,rf._fromUser(f)),eo.get(f)}(f)}static getOrCreate(f){return po.USER_MAP.has(f)||po.USER_MAP.set(f,new po(f)),po.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var m=this;return(0,d.Z)(function*(){return Qn(m.auth,mu(m._delegate,f))})()}linkWithPhoneNumber(f,m){var w=this;return(0,d.Z)(function*(){return Df(w.auth,function dn(y,f,m){return kn.apply(this,arguments)}(w._delegate,f,m))})()}linkWithPopup(f){var m=this;return(0,d.Z)(function*(){return Qn(m.auth,function uf(y,f,m){return ss.apply(this,arguments)}(m._delegate,f,hi))})()}linkWithRedirect(f){var m=this;return(0,d.Z)(function*(){return yield Qu(Cn(m.auth)),function Y(y,f,m){return function oe(y,f,m){return Ie.apply(this,arguments)}(y,f,m)}(m._delegate,f,hi)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var m=this;return(0,d.Z)(function*(){return Qn(m.auth,yu(m._delegate,f))})()}reauthenticateWithPhoneNumber(f,m){return Df(this.auth,function gd(y,f,m){return is.apply(this,arguments)}(this._delegate,f,m))}reauthenticateWithPopup(f){return Qn(this.auth,function af(y,f,m){return md.apply(this,arguments)}(this._delegate,f,hi))}reauthenticateWithRedirect(f){var m=this;return(0,d.Z)(function*(){return yield Qu(Cn(m.auth)),function C(y,f,m){return function x(y,f,m){return F.apply(this,arguments)}(y,f,m)}(m._delegate,f,hi)})()}sendEmailVerification(f){return function Hl(y,f){return Da.apply(this,arguments)}(this._delegate,f)}unlink(f){var m=this;return(0,d.Z)(function*(){return yield function jr(y,f){return hu.apply(this,arguments)}(m._delegate,f),m})()}updateEmail(f){return function id(y,f){return Qs((0,R.m9)(y),f,null)}(this._delegate,f)}updatePassword(f){return function Ys(y,f){return Qs((0,R.m9)(y),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function cg(y,f){return Xl.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function zl(y,f){return Wl.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,m){return function Gl(y,f,m){return Iu.apply(this,arguments)}(this._delegate,f,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}po.USER_MAP=new WeakMap;const go=U;let Cf=(()=>{class y{constructor(m,w){if(this.app=m,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:A}=m.options;go(A,"invalid-api-key",{appName:m.name}),go(A,"invalid-api-key",{appName:m.name});const P=typeof window<"u"?hi:void 0;this._delegate=w.initialize({options:{persistence:Ag(A,m.name),popupRedirectResolver:P}}),this._delegate._updateErrorMap(be),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?po.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,w){!function ou(y,f,m){const w=Cn(y);U(w._canInitEmulator,w,"emulator-config-failed"),U(/^https?:\/\//.test(f),w,"invalid-emulator-scheme");const A=!!m?.disableWarnings,P=ki(f),{host:q,port:le}=function Zn(y){const f=ki(y),m=/(\/\/)?([^?#/]+)/.exec(y.substr(f.length));if(!m)return{host:"",port:null};const w=m[2].split("@").pop()||"",A=/^(\[[^\]]+\])(:|$)/.exec(w);if(A){const P=A[1];return{host:P,port:Is(w.substr(P.length+1))}}{const[P,q]=w.split(":");return{host:P,port:Is(q)}}}(f);w.config.emulator={url:`${P}//${q}${null===le?"":`:${le}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:q,port:le,protocol:P.replace(":",""),options:Object.freeze({disableWarnings:A})}),A||function Ds(){function y(){const f=document.createElement("p"),m=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,m,w)}applyActionCode(m){return function ci(y,f){return va.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return wa(this._delegate,m)}confirmPasswordReset(m,w){return function Eu(y,f,m){return Mo.apply(this,arguments)}(this._delegate,m,w)}createUserWithEmailAndPassword(m,w){var A=this;return(0,d.Z)(function*(){return Qn(A._delegate,function Ea(y,f,m){return Rn.apply(this,arguments)}(A._delegate,m,w))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function bu(y,f){return Ia.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function ts(y,f){return"EMAIL_SIGNIN"===lu.parseLink(f)?.operation}(0,m)}getRedirectResult(){var m=this;return(0,d.Z)(function*(){go(Pd(),m._delegate,"operation-not-supported-in-this-environment");const w=yield function Ue(y,f){return Qe.apply(this,arguments)}(m._delegate,hi);return w?Qn(m._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function wf(y,f){Cn(y)._logFramework(f)}(this._delegate,m)}onAuthStateChanged(m,w,A){const{next:P,error:q,complete:le}=Fd(m,w,A);return this._delegate.onAuthStateChanged(P,q,le)}onIdTokenChanged(m,w,A){const{next:P,error:q,complete:le}=Fd(m,w,A);return this._delegate.onIdTokenChanged(P,q,le)}sendSignInLinkToEmail(m,w){return function jl(y,f,m){return Ks.apply(this,arguments)}(this._delegate,m,w)}sendPasswordResetEmail(m,w){return function wu(y,f,m){return Pn.apply(this,arguments)}(this._delegate,m,w||void 0)}setPersistence(m){var w=this;return(0,d.Z)(function*(){let A;switch(function Yu(y,f){Wo(Object.values($r).includes(f),y,"invalid-persistence-type"),(0,R.b$)()?Wo(f!==$r.SESSION,y,"unsupported-persistence-type"):(0,R.UG)()?Wo(f===$r.NONE,y,"unsupported-persistence-type"):Nd()?Wo(f===$r.NONE||f===$r.LOCAL&&(0,R.hl)(),y,"unsupported-persistence-type"):Wo(f===$r.NONE||Tg(),y,"unsupported-persistence-type")}(w._delegate,m),m){case $r.SESSION:A=Vi;break;case $r.LOCAL:A=(yield ne(Oo)._isAvailable())?Oo:Ta;break;case $r.NONE:A=V;break;default:return Me("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(A)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return Qn(this._delegate,function Xh(y){return Nn.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return Qn(this._delegate,Sn(this._delegate,m))}signInWithCustomToken(m){return Qn(this._delegate,function Vl(y,f){return _a.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,w){return Qn(this._delegate,function Li(y,f,m){return Sn((0,R.m9)(y),Fi.credential(f,m))}(this._delegate,m,w))}signInWithEmailLink(m,w){return Qn(this._delegate,function ig(y,f,m){return ba.apply(this,arguments)}(this._delegate,m,w))}signInWithPhoneNumber(m,w){return Df(this._delegate,function Uo(y,f,m){return rt.apply(this,arguments)}(this._delegate,m,w))}signInWithPopup(m){var w=this;return(0,d.Z)(function*(){return go(Pd(),w._delegate,"operation-not-supported-in-this-environment"),Qn(w._delegate,function ar(y,f,m){return ka.apply(this,arguments)}(w._delegate,m,hi))})()}signInWithRedirect(m){var w=this;return(0,d.Z)(function*(){return go(Pd(),w._delegate,"operation-not-supported-in-this-environment"),yield Qu(w._delegate),function qt(y,f,m){return function Fa(y,f,m){return D.apply(this,arguments)}(y,f,m)}(w._delegate,m,hi)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function Bl(y,f){return rd.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=$r,y})();function Fd(y,f,m){let w=y;"function"!=typeof y&&({next:w,error:f,complete:m}=y);const A=w;return{next:q=>A(q&&po.getOrCreate(q)),error:f,complete:m}}function Ag(y,f){const m=function e_(y,f){const m=Bi();if(!m)return[];const w=W(Hr,y,f);switch(m.getItem(w)){case $r.NONE:return[V];case $r.LOCAL:return[Oo,Vi];case $r.SESSION:return[Vi];default:return[]}}(y,f);if(typeof self<"u"&&!m.includes(Oo)&&m.push(Oo),typeof window<"u")for(const w of[Ta,Vi])m.includes(w)||m.push(w);return m.includes(V)||m.push(V),m}class lc{constructor(){this.providerId="phone",this._delegate=new ju(Ju(ee.Z.auth()))}static credential(f,m){return ju.credential(f,m)}verifyPhoneNumber(f,m){return this._delegate.verifyPhoneNumber(f,m)}unwrap(){return this._delegate}}lc.PHONE_SIGN_IN_METHOD=ju.PHONE_SIGN_IN_METHOD,lc.PROVIDER_ID=ju.PROVIDER_ID;const _w=U;class cc{constructor(f,m,w=ee.Z.app()){var A;_w(null===(A=w.options)||void 0===A?void 0:A.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new pr(f,m,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Tf(y){y.INTERNAL.registerComponent(new ae.wA("auth-compat",f=>{const m=f.getProvider("app-compat").getImmediate(),w=f.getProvider("auth");return new Cf(m,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Fi,FacebookAuthProvider:ya,GithubAuthProvider:Fl,GoogleAuthProvider:cu,OAuthProvider:As,SAMLAuthProvider:ui,PhoneAuthProvider:lc,PhoneMultiFactorGenerator:zo,RecaptchaVerifier:cc,TwitterAuthProvider:Jr,Auth:Cf,AuthCredential:br,Error:R.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.23")}(ee.Z)},9751:(dt,Ae,k)=>{k.d(Ae,{y:()=>he});var d=k(2961),ee=k(727),R=k(8822),se=k(9635),re=k(2416),de=k(576),ae=k(2806);let he=(()=>{class K{constructor(xe){xe&&(this._subscribe=xe)}lift(xe){const be=new K;return be.source=this,be.operator=xe,be}subscribe(xe,be,nt){const me=function j(K){return K&&K instanceof d.Lv||function B(K){return K&&(0,de.m)(K.next)&&(0,de.m)(K.error)&&(0,de.m)(K.complete)}(K)&&(0,ee.Nn)(K)}(xe)?xe:new d.Hp(xe,be,nt);return(0,ae.x)(()=>{const{operator:pe,source:Xe}=this;me.add(pe?pe.call(me,Xe):Xe?this._subscribe(me):this._trySubscribe(me))}),me}_trySubscribe(xe){try{return this._subscribe(xe)}catch(be){xe.error(be)}}forEach(xe,be){return new(be=fe(be))((nt,me)=>{const pe=new d.Hp({next:Xe=>{try{xe(Xe)}catch(ot){me(ot),pe.unsubscribe()}},error:me,complete:nt});this.subscribe(pe)})}_subscribe(xe){var be;return null===(be=this.source)||void 0===be?void 0:be.subscribe(xe)}[R.L](){return this}pipe(...xe){return(0,se.U)(xe)(this)}toPromise(xe){return new(xe=fe(xe))((be,nt)=>{let me;this.subscribe(pe=>me=pe,pe=>nt(pe),()=>be(me))})}}return K.create=Le=>new K(Le),K})();function fe(K){var Le;return null!==(Le=K??re.v.Promise)&&void 0!==Le?Le:Promise}},7579:(dt,Ae,k)=>{k.d(Ae,{x:()=>ae});var d=k(9751),ee=k(727);const se=(0,k(3888).d)(fe=>function(){fe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var re=k(8737),de=k(2806);let ae=(()=>{class fe extends d.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(j){const K=new he(this,this);return K.operator=j,K}_throwIfClosed(){if(this.closed)throw new se}next(j){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const K of this.currentObservers)K.next(j)}})}error(j){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=j;const{observers:K}=this;for(;K.length;)K.shift().error(j)}})}complete(){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:j}=this;for(;j.length;)j.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var j;return(null===(j=this.observers)||void 0===j?void 0:j.length)>0}_trySubscribe(j){return this._throwIfClosed(),super._trySubscribe(j)}_subscribe(j){return this._throwIfClosed(),this._checkFinalizedStatuses(j),this._innerSubscribe(j)}_innerSubscribe(j){const{hasError:K,isStopped:Le,observers:xe}=this;return K||Le?ee.Lc:(this.currentObservers=null,xe.push(j),new ee.w0(()=>{this.currentObservers=null,(0,re.P)(xe,j)}))}_checkFinalizedStatuses(j){const{hasError:K,thrownError:Le,isStopped:xe}=this;K?j.error(Le):xe&&j.complete()}asObservable(){const j=new d.y;return j.source=this,j}}return fe.create=(B,j)=>new he(B,j),fe})();class he extends ae{constructor(B,j){super(),this.destination=B,this.source=j}next(B){var j,K;null===(K=null===(j=this.destination)||void 0===j?void 0:j.next)||void 0===K||K.call(j,B)}error(B){var j,K;null===(K=null===(j=this.destination)||void 0===j?void 0:j.error)||void 0===K||K.call(j,B)}complete(){var B,j;null===(j=null===(B=this.destination)||void 0===B?void 0:B.complete)||void 0===j||j.call(B)}_subscribe(B){var j,K;return null!==(K=null===(j=this.source)||void 0===j?void 0:j.subscribe(B))&&void 0!==K?K:ee.Lc}}},2961:(dt,Ae,k)=>{k.d(Ae,{Hp:()=>nt,Lv:()=>K});var d=k(576),ee=k(727),R=k(2416),se=k(7849);function re(){}const de=fe("C",void 0,void 0);function fe(Me,we,De){return{kind:Me,value:we,error:De}}var B=k(3410),j=k(2806);class K extends ee.w0{constructor(we){super(),this.isStopped=!1,we?(this.destination=we,(0,ee.Nn)(we)&&we.add(this)):this.destination=ot}static create(we,De,Be){return new nt(we,De,Be)}next(we){this.isStopped?Xe(function he(Me){return fe("N",Me,void 0)}(we),this):this._next(we)}error(we){this.isStopped?Xe(function ae(Me){return fe("E",void 0,Me)}(we),this):(this.isStopped=!0,this._error(we))}complete(){this.isStopped?Xe(de,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(we){this.destination.next(we)}_error(we){try{this.destination.error(we)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Le=Function.prototype.bind;function xe(Me,we){return Le.call(Me,we)}class be{constructor(we){this.partialObserver=we}next(we){const{partialObserver:De}=this;if(De.next)try{De.next(we)}catch(Be){me(Be)}}error(we){const{partialObserver:De}=this;if(De.error)try{De.error(we)}catch(Be){me(Be)}else me(we)}complete(){const{partialObserver:we}=this;if(we.complete)try{we.complete()}catch(De){me(De)}}}class nt extends K{constructor(we,De,Be){let je;if(super(),(0,d.m)(we)||!we)je={next:we??void 0,error:De??void 0,complete:Be??void 0};else{let U;this&&R.v.useDeprecatedNextContext?(U=Object.create(we),U.unsubscribe=()=>this.unsubscribe(),je={next:we.next&&xe(we.next,U),error:we.error&&xe(we.error,U),complete:we.complete&&xe(we.complete,U)}):je=we}this.destination=new be(je)}}function me(Me){R.v.useDeprecatedSynchronousErrorHandling?(0,j.O)(Me):(0,se.h)(Me)}function Xe(Me,we){const{onStoppedNotification:De}=R.v;De&&B.z.setTimeout(()=>De(Me,we))}const ot={closed:!0,next:re,error:function pe(Me){throw Me},complete:re}},727:(dt,Ae,k)=>{k.d(Ae,{Lc:()=>de,w0:()=>re,Nn:()=>ae});var d=k(576);const R=(0,k(3888).d)(fe=>function(j){fe(this),this.message=j?`${j.length} errors occurred during unsubscription:\n${j.map((K,Le)=>`${Le+1}) ${K.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=j});var se=k(8737);class re{constructor(B){this.initialTeardown=B,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let B;if(!this.closed){this.closed=!0;const{_parentage:j}=this;if(j)if(this._parentage=null,Array.isArray(j))for(const xe of j)xe.remove(this);else j.remove(this);const{initialTeardown:K}=this;if((0,d.m)(K))try{K()}catch(xe){B=xe instanceof R?xe.errors:[xe]}const{_finalizers:Le}=this;if(Le){this._finalizers=null;for(const xe of Le)try{he(xe)}catch(be){B=B??[],be instanceof R?B=[...B,...be.errors]:B.push(be)}}if(B)throw new R(B)}}add(B){var j;if(B&&B!==this)if(this.closed)he(B);else{if(B instanceof re){if(B.closed||B._hasParent(this))return;B._addParent(this)}(this._finalizers=null!==(j=this._finalizers)&&void 0!==j?j:[]).push(B)}}_hasParent(B){const{_parentage:j}=this;return j===B||Array.isArray(j)&&j.includes(B)}_addParent(B){const{_parentage:j}=this;this._parentage=Array.isArray(j)?(j.push(B),j):j?[j,B]:B}_removeParent(B){const{_parentage:j}=this;j===B?this._parentage=null:Array.isArray(j)&&(0,se.P)(j,B)}remove(B){const{_finalizers:j}=this;j&&(0,se.P)(j,B),B instanceof re&&B._removeParent(this)}}re.EMPTY=(()=>{const fe=new re;return fe.closed=!0,fe})();const de=re.EMPTY;function ae(fe){return fe instanceof re||fe&&"closed"in fe&&(0,d.m)(fe.remove)&&(0,d.m)(fe.add)&&(0,d.m)(fe.unsubscribe)}function he(fe){(0,d.m)(fe)?fe():fe.unsubscribe()}},2416:(dt,Ae,k)=>{k.d(Ae,{v:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(dt,Ae,k)=>{k.d(Ae,{E:()=>ee});const ee=new(k(9751).y)(re=>re.complete())},8996:(dt,Ae,k)=>{k.d(Ae,{D:()=>we});var d=k(8421),ee=k(5363),R=k(9468),de=k(9751),he=k(2202),fe=k(576),B=k(9672);function K(De,Be){if(!De)throw new Error("Iterable cannot be null");return new de.y(je=>{(0,B.f)(je,Be,()=>{const U=De[Symbol.asyncIterator]();(0,B.f)(je,Be,()=>{U.next().then(ge=>{ge.done?je.complete():je.next(ge.value)})},0,!0)})})}var Le=k(3670),xe=k(8239),be=k(1144),nt=k(6495),me=k(2206),pe=k(4532),Xe=k(3260);function we(De,Be){return Be?function Me(De,Be){if(null!=De){if((0,Le.c)(De))return function se(De,Be){return(0,d.Xf)(De).pipe((0,R.R)(Be),(0,ee.Q)(Be))}(De,Be);if((0,be.z)(De))return function ae(De,Be){return new de.y(je=>{let U=0;return Be.schedule(function(){U===De.length?je.complete():(je.next(De[U++]),je.closed||this.schedule())})})}(De,Be);if((0,xe.t)(De))return function re(De,Be){return(0,d.Xf)(De).pipe((0,R.R)(Be),(0,ee.Q)(Be))}(De,Be);if((0,me.D)(De))return K(De,Be);if((0,nt.T)(De))return function j(De,Be){return new de.y(je=>{let U;return(0,B.f)(je,Be,()=>{U=De[he.h](),(0,B.f)(je,Be,()=>{let ge,z;try{({value:ge,done:z}=U.next())}catch(J){return void je.error(J)}z?je.complete():je.next(ge)},0,!0)}),()=>(0,fe.m)(U?.return)&&U.return()})}(De,Be);if((0,Xe.L)(De))return function ot(De,Be){return K((0,Xe.Q)(De),Be)}(De,Be)}throw(0,pe.z)(De)}(De,Be):(0,d.Xf)(De)}},8421:(dt,Ae,k)=>{k.d(Ae,{Xf:()=>Le});var d=k(655),ee=k(1144),R=k(8239),se=k(9751),re=k(3670),de=k(2206),ae=k(4532),he=k(6495),fe=k(3260),B=k(576),j=k(7849),K=k(8822);function Le(Me){if(Me instanceof se.y)return Me;if(null!=Me){if((0,re.c)(Me))return function xe(Me){return new se.y(we=>{const De=Me[K.L]();if((0,B.m)(De.subscribe))return De.subscribe(we);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Me);if((0,ee.z)(Me))return function be(Me){return new se.y(we=>{for(let De=0;De<Me.length&&!we.closed;De++)we.next(Me[De]);we.complete()})}(Me);if((0,R.t)(Me))return function nt(Me){return new se.y(we=>{Me.then(De=>{we.closed||(we.next(De),we.complete())},De=>we.error(De)).then(null,j.h)})}(Me);if((0,de.D)(Me))return pe(Me);if((0,he.T)(Me))return function me(Me){return new se.y(we=>{for(const De of Me)if(we.next(De),we.closed)return;we.complete()})}(Me);if((0,fe.L)(Me))return function Xe(Me){return pe((0,fe.Q)(Me))}(Me)}throw(0,ae.z)(Me)}function pe(Me){return new se.y(we=>{(function ot(Me,we){var De,Be,je,U;return(0,d.mG)(this,void 0,void 0,function*(){try{for(De=(0,d.KL)(Me);!(Be=yield De.next()).done;)if(we.next(Be.value),we.closed)return}catch(ge){je={error:ge}}finally{try{Be&&!Be.done&&(U=De.return)&&(yield U.call(De))}finally{if(je)throw je.error}}we.complete()})})(Me,we).catch(De=>we.error(De))})}},6451:(dt,Ae,k)=>{k.d(Ae,{T:()=>de});var d=k(8189),ee=k(8421),R=k(515),se=k(7669),re=k(8996);function de(...ae){const he=(0,se.yG)(ae),fe=(0,se._6)(ae,1/0),B=ae;return B.length?1===B.length?(0,ee.Xf)(B[0]):(0,d.J)(fe)((0,re.D)(B,he)):R.E}},5403:(dt,Ae,k)=>{k.d(Ae,{x:()=>ee});var d=k(2961);function ee(se,re,de,ae,he){return new R(se,re,de,ae,he)}class R extends d.Lv{constructor(re,de,ae,he,fe,B){super(re),this.onFinalize=fe,this.shouldUnsubscribe=B,this._next=de?function(j){try{de(j)}catch(K){re.error(K)}}:super._next,this._error=he?function(j){try{he(j)}catch(K){re.error(K)}finally{this.unsubscribe()}}:super._error,this._complete=ae?function(){try{ae()}catch(j){re.error(j)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var re;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:de}=this;super.unsubscribe(),!de&&(null===(re=this.onFinalize)||void 0===re||re.call(this))}}}},4004:(dt,Ae,k)=>{k.d(Ae,{U:()=>R});var d=k(4482),ee=k(5403);function R(se,re){return(0,d.e)((de,ae)=>{let he=0;de.subscribe((0,ee.x)(ae,fe=>{ae.next(se.call(re,fe,he++))}))})}},8189:(dt,Ae,k)=>{k.d(Ae,{J:()=>R});var d=k(5577),ee=k(4671);function R(se=1/0){return(0,d.z)(ee.y,se)}},5577:(dt,Ae,k)=>{k.d(Ae,{z:()=>he});var d=k(4004),ee=k(8421),R=k(4482),se=k(9672),re=k(5403),ae=k(576);function he(fe,B,j=1/0){return(0,ae.m)(B)?he((K,Le)=>(0,d.U)((xe,be)=>B(K,xe,Le,be))((0,ee.Xf)(fe(K,Le))),j):("number"==typeof B&&(j=B),(0,R.e)((K,Le)=>function de(fe,B,j,K,Le,xe,be,nt){const me=[];let pe=0,Xe=0,ot=!1;const Me=()=>{ot&&!me.length&&!pe&&B.complete()},we=Be=>pe<K?De(Be):me.push(Be),De=Be=>{xe&&B.next(Be),pe++;let je=!1;(0,ee.Xf)(j(Be,Xe++)).subscribe((0,re.x)(B,U=>{Le?.(U),xe?we(U):B.next(U)},()=>{je=!0},void 0,()=>{if(je)try{for(pe--;me.length&&pe<K;){const U=me.shift();be?(0,se.f)(B,be,()=>De(U)):De(U)}Me()}catch(U){B.error(U)}}))};return fe.subscribe((0,re.x)(B,we,()=>{ot=!0,Me()})),()=>{nt?.()}}(K,Le,fe,j)))}},5363:(dt,Ae,k)=>{k.d(Ae,{Q:()=>se});var d=k(9672),ee=k(4482),R=k(5403);function se(re,de=0){return(0,ee.e)((ae,he)=>{ae.subscribe((0,R.x)(he,fe=>(0,d.f)(he,re,()=>he.next(fe),de),()=>(0,d.f)(he,re,()=>he.complete(),de),fe=>(0,d.f)(he,re,()=>he.error(fe),de)))})}},3099:(dt,Ae,k)=>{k.d(Ae,{B:()=>re});var d=k(8421),ee=k(7579),R=k(2961),se=k(4482);function re(ae={}){const{connector:he=(()=>new ee.x),resetOnError:fe=!0,resetOnComplete:B=!0,resetOnRefCountZero:j=!0}=ae;return K=>{let Le,xe,be,nt=0,me=!1,pe=!1;const Xe=()=>{xe?.unsubscribe(),xe=void 0},ot=()=>{Xe(),Le=be=void 0,me=pe=!1},Me=()=>{const we=Le;ot(),we?.unsubscribe()};return(0,se.e)((we,De)=>{nt++,!pe&&!me&&Xe();const Be=be=be??he();De.add(()=>{nt--,0===nt&&!pe&&!me&&(xe=de(Me,j))}),Be.subscribe(De),!Le&&nt>0&&(Le=new R.Hp({next:je=>Be.next(je),error:je=>{pe=!0,Xe(),xe=de(ot,fe,je),Be.error(je)},complete:()=>{me=!0,Xe(),xe=de(ot,B),Be.complete()}}),(0,d.Xf)(we).subscribe(Le))})(K)}}function de(ae,he,...fe){if(!0===he)return void ae();if(!1===he)return;const B=new R.Hp({next:()=>{B.unsubscribe(),ae()}});return he(...fe).subscribe(B)}},9468:(dt,Ae,k)=>{k.d(Ae,{R:()=>ee});var d=k(4482);function ee(R,se=0){return(0,d.e)((re,de)=>{de.add(R.schedule(()=>re.subscribe(de),se))})}},8505:(dt,Ae,k)=>{k.d(Ae,{b:()=>re});var d=k(576),ee=k(4482),R=k(5403),se=k(4671);function re(de,ae,he){const fe=(0,d.m)(de)||ae||he?{next:de,error:ae,complete:he}:de;return fe?(0,ee.e)((B,j)=>{var K;null===(K=fe.subscribe)||void 0===K||K.call(fe);let Le=!0;B.subscribe((0,R.x)(j,xe=>{var be;null===(be=fe.next)||void 0===be||be.call(fe,xe),j.next(xe)},()=>{var xe;Le=!1,null===(xe=fe.complete)||void 0===xe||xe.call(fe),j.complete()},xe=>{var be;Le=!1,null===(be=fe.error)||void 0===be||be.call(fe,xe),j.error(xe)},()=>{var xe,be;Le&&(null===(xe=fe.unsubscribe)||void 0===xe||xe.call(fe)),null===(be=fe.finalize)||void 0===be||be.call(fe)}))}):se.y}},4408:(dt,Ae,k)=>{k.d(Ae,{o:()=>re});var d=k(727);class ee extends d.w0{constructor(ae,he){super()}schedule(ae,he=0){return this}}const R={setInterval(de,ae,...he){const{delegate:fe}=R;return fe?.setInterval?fe.setInterval(de,ae,...he):setInterval(de,ae,...he)},clearInterval(de){const{delegate:ae}=R;return(ae?.clearInterval||clearInterval)(de)},delegate:void 0};var se=k(8737);class re extends ee{constructor(ae,he){super(ae,he),this.scheduler=ae,this.work=he,this.pending=!1}schedule(ae,he=0){var fe;if(this.closed)return this;this.state=ae;const B=this.id,j=this.scheduler;return null!=B&&(this.id=this.recycleAsyncId(j,B,he)),this.pending=!0,this.delay=he,this.id=null!==(fe=this.id)&&void 0!==fe?fe:this.requestAsyncId(j,this.id,he),this}requestAsyncId(ae,he,fe=0){return R.setInterval(ae.flush.bind(ae,this),fe)}recycleAsyncId(ae,he,fe=0){if(null!=fe&&this.delay===fe&&!1===this.pending)return he;null!=he&&R.clearInterval(he)}execute(ae,he){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const fe=this._execute(ae,he);if(fe)return fe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ae,he){let B,fe=!1;try{this.work(ae)}catch(j){fe=!0,B=j||new Error("Scheduled action threw falsy error")}if(fe)return this.unsubscribe(),B}unsubscribe(){if(!this.closed){const{id:ae,scheduler:he}=this,{actions:fe}=he;this.work=this.state=this.scheduler=null,this.pending=!1,(0,se.P)(fe,this),null!=ae&&(this.id=this.recycleAsyncId(he,ae,null)),this.delay=null,super.unsubscribe()}}}},7565:(dt,Ae,k)=>{k.d(Ae,{v:()=>R});var d=k(6063);class ee{constructor(re,de=ee.now){this.schedulerActionCtor=re,this.now=de}schedule(re,de=0,ae){return new this.schedulerActionCtor(this,re).schedule(ae,de)}}ee.now=d.l.now;class R extends ee{constructor(re,de=ee.now){super(re,de),this.actions=[],this._active=!1}flush(re){const{actions:de}=this;if(this._active)return void de.push(re);let ae;this._active=!0;do{if(ae=re.execute(re.state,re.delay))break}while(re=de.shift());if(this._active=!1,ae){for(;re=de.shift();)re.unsubscribe();throw ae}}}},4986:(dt,Ae,k)=>{k.d(Ae,{z:()=>R});var d=k(4408);const R=new(k(7565).v)(d.o)},6063:(dt,Ae,k)=>{k.d(Ae,{l:()=>d});const d={now:()=>(d.delegate||Date).now(),delegate:void 0}},3410:(dt,Ae,k)=>{k.d(Ae,{z:()=>d});const d={setTimeout(ee,R,...se){const{delegate:re}=d;return re?.setTimeout?re.setTimeout(ee,R,...se):setTimeout(ee,R,...se)},clearTimeout(ee){const{delegate:R}=d;return(R?.clearTimeout||clearTimeout)(ee)},delegate:void 0}},2202:(dt,Ae,k)=>{k.d(Ae,{h:()=>ee});const ee=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(dt,Ae,k)=>{k.d(Ae,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(dt,Ae,k)=>{k.d(Ae,{_6:()=>de,jO:()=>se,yG:()=>re});var d=k(576);function R(ae){return ae[ae.length-1]}function se(ae){return(0,d.m)(R(ae))?ae.pop():void 0}function re(ae){return function ee(ae){return ae&&(0,d.m)(ae.schedule)}(R(ae))?ae.pop():void 0}function de(ae,he){return"number"==typeof R(ae)?ae.pop():he}},8737:(dt,Ae,k)=>{function d(ee,R){if(ee){const se=ee.indexOf(R);0<=se&&ee.splice(se,1)}}k.d(Ae,{P:()=>d})},3888:(dt,Ae,k)=>{function d(ee){const se=ee(re=>{Error.call(re),re.stack=(new Error).stack});return se.prototype=Object.create(Error.prototype),se.prototype.constructor=se,se}k.d(Ae,{d:()=>d})},2806:(dt,Ae,k)=>{k.d(Ae,{O:()=>se,x:()=>R});var d=k(2416);let ee=null;function R(re){if(d.v.useDeprecatedSynchronousErrorHandling){const de=!ee;if(de&&(ee={errorThrown:!1,error:null}),re(),de){const{errorThrown:ae,error:he}=ee;if(ee=null,ae)throw he}}else re()}function se(re){d.v.useDeprecatedSynchronousErrorHandling&&ee&&(ee.errorThrown=!0,ee.error=re)}},9672:(dt,Ae,k)=>{function d(ee,R,se,re=0,de=!1){const ae=R.schedule(function(){se(),de?ee.add(this.schedule(null,re)):this.unsubscribe()},re);if(ee.add(ae),!de)return ae}k.d(Ae,{f:()=>d})},4671:(dt,Ae,k)=>{function d(ee){return ee}k.d(Ae,{y:()=>d})},1144:(dt,Ae,k)=>{k.d(Ae,{z:()=>d});const d=ee=>ee&&"number"==typeof ee.length&&"function"!=typeof ee},2206:(dt,Ae,k)=>{k.d(Ae,{D:()=>ee});var d=k(576);function ee(R){return Symbol.asyncIterator&&(0,d.m)(R?.[Symbol.asyncIterator])}},576:(dt,Ae,k)=>{function d(ee){return"function"==typeof ee}k.d(Ae,{m:()=>d})},3670:(dt,Ae,k)=>{k.d(Ae,{c:()=>R});var d=k(8822),ee=k(576);function R(se){return(0,ee.m)(se[d.L])}},6495:(dt,Ae,k)=>{k.d(Ae,{T:()=>R});var d=k(2202),ee=k(576);function R(se){return(0,ee.m)(se?.[d.h])}},8239:(dt,Ae,k)=>{k.d(Ae,{t:()=>ee});var d=k(576);function ee(R){return(0,d.m)(R?.then)}},3260:(dt,Ae,k)=>{k.d(Ae,{L:()=>se,Q:()=>R});var d=k(655),ee=k(576);function R(re){return(0,d.FC)(this,arguments,function*(){const ae=re.getReader();try{for(;;){const{value:he,done:fe}=yield(0,d.qq)(ae.read());if(fe)return yield(0,d.qq)(void 0);yield yield(0,d.qq)(he)}}finally{ae.releaseLock()}})}function se(re){return(0,ee.m)(re?.getReader)}},4482:(dt,Ae,k)=>{k.d(Ae,{A:()=>ee,e:()=>R});var d=k(576);function ee(se){return(0,d.m)(se?.lift)}function R(se){return re=>{if(ee(re))return re.lift(function(de){try{return se(de,this)}catch(ae){this.error(ae)}});throw new TypeError("Unable to lift unknown Observable type")}}},9635:(dt,Ae,k)=>{k.d(Ae,{U:()=>R,z:()=>ee});var d=k(4671);function ee(...se){return R(se)}function R(se){return 0===se.length?d.y:1===se.length?se[0]:function(de){return se.reduce((ae,he)=>he(ae),de)}}},7849:(dt,Ae,k)=>{k.d(Ae,{h:()=>R});var d=k(2416),ee=k(3410);function R(se){ee.z.setTimeout(()=>{const{onUnhandledError:re}=d.v;if(!re)throw se;re(se)})}},4532:(dt,Ae,k)=>{function d(ee){return new TypeError(`You provided ${null!==ee&&"object"==typeof ee?"an invalid object":`'${ee}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(Ae,{z:()=>d})},655:(dt,Ae,k)=>{function se(z,J){var ne={};for(var te in z)Object.prototype.hasOwnProperty.call(z,te)&&J.indexOf(te)<0&&(ne[te]=z[te]);if(null!=z&&"function"==typeof Object.getOwnPropertySymbols){var Oe=0;for(te=Object.getOwnPropertySymbols(z);Oe<te.length;Oe++)J.indexOf(te[Oe])<0&&Object.prototype.propertyIsEnumerable.call(z,te[Oe])&&(ne[te[Oe]]=z[te[Oe]])}return ne}function he(z,J,ne,te){return new(ne||(ne=Promise))(function(Re,mt){function Xt(cn){try{Ze(te.next(cn))}catch(wn){mt(wn)}}function Gt(cn){try{Ze(te.throw(cn))}catch(wn){mt(wn)}}function Ze(cn){cn.done?Re(cn.value):function Oe(Re){return Re instanceof ne?Re:new ne(function(mt){mt(Re)})}(cn.value).then(Xt,Gt)}Ze((te=te.apply(z,J||[])).next())})}function me(z){return this instanceof me?(this.v=z,this):new me(z)}function pe(z,J,ne){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Oe,te=ne.apply(z,J||[]),Re=[];return Oe={},mt("next"),mt("throw"),mt("return"),Oe[Symbol.asyncIterator]=function(){return this},Oe;function mt(Qt){te[Qt]&&(Oe[Qt]=function(en){return new Promise(function(Lr,Ft){Re.push([Qt,en,Lr,Ft])>1||Xt(Qt,en)})})}function Xt(Qt,en){try{!function Gt(Qt){Qt.value instanceof me?Promise.resolve(Qt.value.v).then(Ze,cn):wn(Re[0][2],Qt)}(te[Qt](en))}catch(Lr){wn(Re[0][3],Lr)}}function Ze(Qt){Xt("next",Qt)}function cn(Qt){Xt("throw",Qt)}function wn(Qt,en){Qt(en),Re.shift(),Re.length&&Xt(Re[0][0],Re[0][1])}}function ot(z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ne,J=z[Symbol.asyncIterator];return J?J.call(z):(z=function K(z){var J="function"==typeof Symbol&&Symbol.iterator,ne=J&&z[J],te=0;if(ne)return ne.call(z);if(z&&"number"==typeof z.length)return{next:function(){return z&&te>=z.length&&(z=void 0),{value:z&&z[te++],done:!z}}};throw new TypeError(J?"Object is not iterable.":"Symbol.iterator is not defined.")}(z),ne={},te("next"),te("throw"),te("return"),ne[Symbol.asyncIterator]=function(){return this},ne);function te(Re){ne[Re]=z[Re]&&function(mt){return new Promise(function(Xt,Gt){!function Oe(Re,mt,Xt,Gt){Promise.resolve(Gt).then(function(Ze){Re({value:Ze,done:Xt})},mt)}(Xt,Gt,(mt=z[Re](mt)).done,mt.value)})}}}k.d(Ae,{FC:()=>pe,KL:()=>ot,_T:()=>se,mG:()=>he,qq:()=>me})},4650:(dt,Ae,k)=>{k.d(Ae,{$8M:()=>Vu,$Z:()=>Vf,AFp:()=>wI,ALo:()=>tI,AaK:()=>he,BQk:()=>ih,CHM:()=>vu,CRH:()=>wl,CZH:()=>Il,CqO:()=>QE,D6c:()=>U0,DdM:()=>gl,EJc:()=>CI,EiD:()=>Sd,EpF:()=>vo,F4k:()=>YE,FYo:()=>A,FiY:()=>Ue,G48:()=>BT,GfV:()=>Fe,Gpc:()=>j,JOm:()=>Yo,JVY:()=>gf,KtG:()=>wu,L6k:()=>gg,LAX:()=>Ky,LFG:()=>qt,LSH:()=>Ad,Lbi:()=>bI,Lck:()=>ce,MAs:()=>KE,MMx:()=>Jv,NdJ:()=>cl,OlP:()=>vn,Oqu:()=>ah,PXZ:()=>UT,Q6J:()=>Q_,QGY:()=>ep,QP$:()=>Jt,QbO:()=>PT,Qsj:()=>P,R0b:()=>vr,RDi:()=>zy,Rgc:()=>yl,SBq:()=>f,Sil:()=>kT,Suo:()=>iy,TTD:()=>Qi,TgZ:()=>Qf,Tol:()=>Tm,Udp:()=>np,VKq:()=>Qb,W1O:()=>Dh,X6Q:()=>LI,XFs:()=>Ke,Xpm:()=>Ce,Xts:()=>Ef,Y36:()=>rl,YKP:()=>qe,YNc:()=>qr,Yjl:()=>Ee,Yz7:()=>en,Z0I:()=>Wi,ZZ4:()=>aa,_Bn:()=>Tt,_UZ:()=>X_,_Vd:()=>Zo,_c5:()=>Bp,_uU:()=>bv,aQg:()=>by,c2e:()=>DI,cJS:()=>Ft,cg1:()=>km,d8E:()=>Sc,dDg:()=>NI,dqk:()=>an,dwT:()=>Cb,eBb:()=>Zy,eFA:()=>Eo,ekj:()=>Sr,eoX:()=>w0,f3M:()=>D,g9A:()=>Op,gM2:()=>Xm,h0i:()=>mh,hGG:()=>ZI,hij:()=>xm,iGM:()=>o0,ifc:()=>ut,ip1:()=>y0,jDz:()=>zb,kL8:()=>fl,lG2:()=>W,lqb:()=>hi,lri:()=>Rh,mCW:()=>Dd,n5z:()=>rs,oAB:()=>Ut,oJD:()=>$a,oxw:()=>tp,pB0:()=>Yy,q3G:()=>Yn,q4F:()=>Je,qLn:()=>Af,qOj:()=>pm,qZA:()=>Rr,qzn:()=>zo,rWj:()=>Vp,sBO:()=>jT,sIi:()=>th,s_b:()=>mi,soG:()=>$s,tb:()=>II,tp0:()=>ft,uIk:()=>Y_,vHH:()=>be,vpe:()=>gi,wAp:()=>wt,xi3:()=>ml,xp6:()=>Kw,ynx:()=>Jf,z2F:()=>kh,z3N:()=>ls,zSh:()=>Qu,zs3:()=>_c});var d=k(7579),ee=k(727),R=k(9751),se=k(6451),re=k(3099);function de(s){for(let o in s)if(s[o]===de)return o;throw Error("Could not find renamed property on target object.")}function ae(s,o){for(const a in o)o.hasOwnProperty(a)&&!s.hasOwnProperty(a)&&(s[a]=o[a])}function he(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(he).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function fe(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const B=de({__forward_ref__:de});function j(s){return s.__forward_ref__=j,s.toString=function(){return he(this())},s}function K(s){return Le(s)?s():s}function Le(s){return"function"==typeof s&&s.hasOwnProperty(B)&&s.__forward_ref__===j}class be extends Error{constructor(o,a){super(function nt(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}(o,a)),this.code=o}}function me(s){return"string"==typeof s?s:null==s?"":String(s)}function we(s,o){throw new be(-201,!1)}function Gt(s,o){null==s&&function Ze(s,o,a,l){throw new Error(`ASSERTION ERROR: ${s}`+(null==l?"":` [Expected=> ${a} ${l} ${o} <=Actual]`))}(o,s,null,"!=")}function en(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Ft(s){return{providers:s.providers||[],imports:s.imports||[]}}function fn(s){return Ii(s,Di)||Ii(s,oi)}function Wi(s){return null!==fn(s)}function Ii(s,o){return s.hasOwnProperty(o)?s[o]:null}function Gs(s){return s&&(s.hasOwnProperty(si)||s.hasOwnProperty(pa))?s[si]:null}const Di=de({\u0275prov:de}),si=de({\u0275inj:de}),oi=de({ngInjectableDef:de}),pa=de({ngInjectorDef:de});var Ke=(()=>((Ke=Ke||{})[Ke.Default=0]="Default",Ke[Ke.Host=1]="Host",Ke[Ke.Self=2]="Self",Ke[Ke.SkipSelf=4]="SkipSelf",Ke[Ke.Optional=8]="Optional",Ke))();let xr;function nr(s){const o=xr;return xr=s,o}function ai(s,o,a){const l=fn(s);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:a&Ke.Optional?null:void 0!==o?o:void we(he(s))}function Ln(s){return{toString:s}.toString()}var zn=(()=>((zn=zn||{})[zn.OnPush=0]="OnPush",zn[zn.Default=1]="Default",zn))(),ut=(()=>{return(s=ut||(ut={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",ut;var s})();const an=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Yr={},xt=[],Es=de({\u0275cmp:de}),tn=de({\u0275dir:de}),Oi=de({\u0275pipe:de}),nn=de({\u0275mod:de}),rr=de({\u0275fac:de}),Ur=de({__NG_ELEMENT_ID__:de});let tt=0;function Ce(s){return Ln(()=>{const a=!0===s.standalone,l={},h={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===zn.OnPush,directiveDefs:null,pipeDefs:null,standalone:a,dependencies:a&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||xt,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||ut.Emulated,id:"c"+tt++,styles:s.styles||xt,_:null,setInput:null,schemas:s.schemas||null,tView:null},g=s.dependencies,v=s.features;return h.inputs=V(s.inputs,l),h.outputs=V(s.outputs),v&&v.forEach(E=>E(h)),h.directiveDefs=g?()=>("function"==typeof g?g():g).map(Ct).filter(It):null,h.pipeDefs=g?()=>("function"==typeof g?g():g).map(ht).filter(It):null,h})}function Ct(s){return Q(s)||He(s)}function It(s){return null!==s}function Ut(s){return Ln(()=>({type:s.type,bootstrap:s.bootstrap||xt,declarations:s.declarations||xt,imports:s.imports||xt,exports:s.exports||xt,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function V(s,o){if(null==s)return Yr;const a={};for(const l in s)if(s.hasOwnProperty(l)){let h=s[l],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),a[h]=l,o&&(o[h]=g)}return a}const W=Ce;function Ee(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function Q(s){return s[Es]||null}function He(s){return s[tn]||null}function ht(s){return s[Oi]||null}function Jt(s){const o=Q(s)||He(s)||ht(s);return null!==o&&o.standalone}function yn(s,o){const a=s[nn]||null;if(!a&&!0===o)throw new Error(`Type ${he(s)} does not have '\u0275mod' property.`);return a}function hr(s){return Array.isArray(s)&&"object"==typeof s[1]}function Br(s){return Array.isArray(s)&&!0===s[1]}function uu(s){return 0!=(8&s.flags)}function ma(s){return 2==(2&s.flags)}function Pl(s){return 1==(1&s.flags)}function Nr(s){return null!==s.template}function Wh(s){return 0!=(256&s[2])}function Fi(s,o){return s.hasOwnProperty(rr)?s[rr]:null}class Yi{constructor(o,a,l){this.previousValue=o,this.currentValue=a,this.firstChange=l}isFirstChange(){return this.firstChange}}function Qi(){return As}function As(s){return s.type.prototype.ngOnChanges&&(s.setInput=cu),ya}function ya(){const s=Qh(this),o=s?.current;if(o){const a=s.previous;if(a===Yr)s.previous=o;else for(let l in o)a[l]=o[l];s.current=null,this.ngOnChanges(o)}}function cu(s,o,a,l){const h=Qh(s)||function To(s,o){return s[Fl]=o}(s,{previous:Yr,current:null}),g=h.current||(h.current={}),v=h.previous,E=this.declaredInputs[a],I=v[E];g[E]=new Yi(I&&I.currentValue,o,v===Yr),s[l]=o}Qi.ngInherit=!0;const Fl="__ngSimpleChanges__";function Qh(s){return s[Fl]||null}function Nn(s){for(;Array.isArray(s);)s=s[0];return s}function li(s,o){return Nn(o[s])}function jr(s,o){return Nn(o[s.index])}function Ao(s,o){return s.data[o]}function Xi(s,o){return s[o]}function Kt(s,o){const a=o[s];return hr(a)?a:a[0]}function Zs(s){return 64==(64&s[2])}function Ti(s,o){return null==o?null:s[o]}function gu(s){s[18]=0}function Sn(s,o){s[5]+=o;let a=s,l=s[3];for(;null!==l&&(1===o&&1===a[5]||-1===o&&0===a[5]);)l[5]+=o,a=l,l=l[3]}const Mt={lFrame:zl(null),bindingsEnabled:!0};function es(){return Mt.bindingsEnabled}function Te(){return Mt.lFrame.lView}function zt(){return Mt.lFrame.tView}function vu(s){return Mt.lFrame.contextLView=s,s[8]}function wu(s){return Mt.lFrame.contextLView=null,s}function Pn(){let s=Eu();for(;null!==s&&64===s.type;)s=s.parent;return s}function Eu(){return Mt.lFrame.currentTNode}function ci(s,o){const a=Mt.lFrame;a.currentTNode=s,a.isParent=o}function va(){return Mt.lFrame.isParent}function wa(){Mt.lFrame.isParent=!1}function Rn(){const s=Mt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function Ks(){return Mt.lFrame.bindingIndex++}function ts(s){const o=Mt.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,a}function sg(s,o){const a=Mt.lFrame;a.bindingIndex=a.bindingRootIndex=s,bu(o)}function bu(s){Mt.lFrame.currentDirectiveIndex=s}function Ia(s){const o=Mt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}function Hl(){return Mt.lFrame.currentQueryIndex}function Da(s){Mt.lFrame.currentQueryIndex=s}function Gl(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function Iu(s,o,a){if(a&Ke.SkipSelf){let h=o,g=s;for(;!(h=h.parent,null!==h||a&Ke.Host||(h=Gl(g),null===h||(g=g[15],10&h.type))););if(null===h)return!1;o=h,s=g}const l=Mt.lFrame=ql();return l.currentTNode=o,l.lView=s,!0}function Du(s){const o=ql(),a=s[1];Mt.lFrame=o,o.currentTNode=a.firstChild,o.lView=s,o.tView=a,o.contextLView=s,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function ql(){const s=Mt.lFrame,o=null===s?null:s.child;return null===o?zl(s):o}function zl(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Wl(){const s=Mt.lFrame;return Mt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const id=Wl;function Ys(){const s=Wl();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function or(){return Mt.lFrame.selectedIndex}function Xr(s){Mt.lFrame.selectedIndex=s}function bn(){const s=Mt.lFrame;return Ao(s.tView,s.selectedIndex)}function Su(s,o){for(let a=o.directiveStart,l=o.directiveEnd;a<l;a++){const g=s.data[a].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:E,ngAfterViewInit:I,ngAfterViewChecked:S,ngOnDestroy:N}=g;v&&(s.contentHooks||(s.contentHooks=[])).push(-a,v),E&&((s.contentHooks||(s.contentHooks=[])).push(a,E),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(a,E)),I&&(s.viewHooks||(s.viewHooks=[])).push(-a,I),S&&((s.viewHooks||(s.viewHooks=[])).push(a,S),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(a,S)),null!=N&&(s.destroyHooks||(s.destroyHooks=[])).push(a,N)}}function Js(s,o,a){No(s,o,3,a)}function xo(s,o,a,l){(3&s[2])===a&&No(s,o,a,l)}function ad(s,o){let a=s[2];(3&a)===o&&(a&=2047,a+=1,s[2]=a)}function No(s,o,a,l){const g=l??-1,v=o.length-1;let E=0;for(let I=void 0!==l?65535&s[18]:0;I<v;I++)if("number"==typeof o[I+1]){if(E=o[I],null!=l&&E>=l)break}else o[I]<0&&(s[18]+=65536),(E<g||-1==g)&&(ud(s,a,o,I),s[18]=(4294901760&s[18])+I+2),I++}function ud(s,o,a,l){const h=a[l]<0,g=a[l+1],E=s[h?-a[l]:a[l]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{g.call(E)}finally{}}}else try{g.call(E)}finally{}}class xs{constructor(o,a,l){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=l}}function Po(s,o,a){let l=0;for(;l<a.length;){const h=a[l];if("number"==typeof h){if(0!==h)break;l++;const g=a[l++],v=a[l++],E=a[l++];s.setAttribute(o,v,E,g)}else{const g=h,v=a[++l];Nu(g)?s.setProperty(o,g,v):s.setAttribute(o,g,v),l++}}return l}function to(s){return 3===s||4===s||6===s}function Nu(s){return 64===s.charCodeAt(0)}function Ca(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let a=-1;for(let l=0;l<o.length;l++){const h=o[l];"number"==typeof h?a=h:0===a||cd(s,a,h,null,-1===a||2===a?o[++l]:null)}}return s}function cd(s,o,a,l,h){let g=0,v=s.length;if(-1===o)v=-1;else for(;g<s.length;){const E=s[g++];if("number"==typeof E){if(E===o){v=-1;break}if(E>o){v=g-1;break}}}for(;g<s.length;){const E=s[g];if("number"==typeof E)break;if(E===a){if(null===l)return void(null!==h&&(s[g+1]=h));if(l===s[g+1])return void(s[g+2]=h)}g++,null!==l&&g++,null!==h&&g++}-1!==v&&(s.splice(v,0,o),g=v+1),s.splice(g++,0,a),null!==l&&s.splice(g++,0,l),null!==h&&s.splice(g++,0,h)}function dd(s){return-1!==s}function fr(s){return 32767&s}function Sa(s,o){let a=function Ta(s){return s>>16}(s),l=o;for(;a>0;)l=l[15],a--;return l}let Vi=!0;function Aa(s){const o=Vi;return Vi=s,o}let Un=0;const Si={};function no(s,o){const a=Ru(s,o);if(-1!==a)return a;const l=o[1];l.firstCreatePass&&(s.injectorIndex=o.length,xa(l.data,s),xa(o,null),xa(l.blueprint,null));const h=Ou(s,o),g=s.injectorIndex;if(dd(h)){const v=fr(h),E=Sa(h,o),I=E[1].data;for(let S=0;S<8;S++)o[g+S]=E[v+S]|I[v+S]}return o[g+8]=h,g}function xa(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Ru(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Ou(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let a=0,l=null,h=o;for(;null!==h;){if(l=ko(h),null===l)return-1;if(a++,h=h[15],-1!==l.injectorIndex)return l.injectorIndex|a<<16}return-1}function Ns(s,o,a){!function Pu(s,o,a){let l;"string"==typeof a?l=a.charCodeAt(0)||0:a.hasOwnProperty(Ur)&&(l=a[Ur]),null==l&&(l=a[Ur]=Un++);const h=255&l;o.data[s+(h>>5)]|=1<<h}(s,o,a)}function Ps(s,o,a){if(a&Ke.Optional||void 0!==s)return s;we()}function ku(s,o,a,l){if(a&Ke.Optional&&void 0===l&&(l=null),0==(a&(Ke.Self|Ke.Host))){const h=s[9],g=nr(void 0);try{return h?h.get(o,l,a&Ke.Optional):ai(o,l,a&Ke.Optional)}finally{nr(g)}}return Ps(l,0,a)}function ro(s,o,a,l=Ke.Default,h){if(null!==s){if(1024&o[2]){const v=function Oo(s,o,a,l,h){let g=s,v=o;for(;null!==g&&null!==v&&1024&v[2]&&!(256&v[2]);){const E=Na(g,v,a,l|Ke.Self,Si);if(E!==Si)return E;let I=g.parent;if(!I){const S=v[21];if(S){const N=S.get(a,Si,l);if(N!==Si)return N}I=ko(v),v=v[15]}g=I}return h}(s,o,a,l,Si);if(v!==Si)return v}const g=Na(s,o,a,l,Si);if(g!==Si)return g}return ku(o,a,l,h)}function Na(s,o,a,l,h){const g=function Ql(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(Ur)?s[Ur]:void 0;return"number"==typeof o?o>=0?255&o:Jl:o}(a);if("function"==typeof g){if(!Iu(o,s,l))return l&Ke.Host?Ps(h,0,l):ku(o,a,l,h);try{const v=g(l);if(null!=v||l&Ke.Optional)return v;we()}finally{id()}}else if("number"==typeof g){let v=null,E=Ru(s,o),I=-1,S=l&Ke.Host?o[16][6]:null;for((-1===E||l&Ke.SkipSelf)&&(I=-1===E?Ou(s,o):o[E+8],-1!==I&&Pa(l,!1)?(v=o[1],E=fr(I),o=Sa(I,o)):E=-1);-1!==E;){const N=o[1];if(Fu(g,E,N.data)){const O=pd(E,o,a,v,l,S);if(O!==Si)return O}I=o[E+8],-1!==I&&Pa(l,o[1].data[E+8]===S)&&Fu(g,E,o)?(v=N,E=fr(I),o=Sa(I,o)):E=-1}}return h}function pd(s,o,a,l,h,g){const v=o[1],E=v.data[s+8],N=Ro(E,v,a,null==l?ma(E)&&Vi:l!=v&&0!=(3&E.type),h&Ke.Host&&g===E);return null!==N?ns(o,v,N,E):Si}function Ro(s,o,a,l,h){const g=s.providerIndexes,v=o.data,E=1048575&g,I=s.directiveStart,N=g>>20,H=h?E+N:s.directiveEnd;for(let X=l?E:E+N;X<H;X++){const ve=v[X];if(X<I&&a===ve||X>=I&&ve.type===a)return X}if(h){const X=v[I];if(X&&Nr(X)&&X.type===a)return I}return null}function ns(s,o,a,l){let h=s[a];const g=o.data;if(function Xs(s){return s instanceof xs}(h)){const v=h;v.resolving&&function Xe(s,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new be(-200,`Circular dependency in DI detected for ${s}${a}`)}(function pe(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():me(s)}(g[a]));const E=Aa(v.canSeeViewProviders);v.resolving=!0;const I=v.injectImpl?nr(v.injectImpl):null;Iu(s,l,Ke.Default);try{h=s[a]=v.factory(void 0,g,s,l),o.firstCreatePass&&a>=l.directiveStart&&function od(s,o,a){const{ngOnChanges:l,ngOnInit:h,ngDoCheck:g}=o.type.prototype;if(l){const v=As(o);(a.preOrderHooks||(a.preOrderHooks=[])).push(s,v),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,v)}h&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-s,h),g&&((a.preOrderHooks||(a.preOrderHooks=[])).push(s,g),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,g))}(a,g[a],o)}finally{null!==I&&nr(I),Aa(E),v.resolving=!1,id()}}return h}function Fu(s,o,a){return!!(a[o+(s>>5)]&1<<s)}function Pa(s,o){return!(s&Ke.Self||s&Ke.Host&&o)}class io{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,l){return ro(this._tNode,this._lView,o,l,a)}}function Jl(){return new io(Pn(),Te())}function rs(s){return Ln(()=>{const o=s.prototype.constructor,a=o[rr]||Lu(o),l=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==l;){const g=h[rr]||Lu(h);if(g&&g!==a)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function Lu(s){return Le(s)?()=>{const o=Lu(K(s));return o&&o()}:Fi(s)}function ko(s){const o=s[1],a=o.type;return 2===a?o.declTNode:1===a?s[6]:null}function Vu(s){return function fd(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const a=s.attrs;if(a){const l=a.length;let h=0;for(;h<l;){const g=a[h];if(to(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<l&&"string"==typeof a[h];)h++;else{if(g===o)return a[h+1];h+=2}}}return null}(Pn(),s)}const Rs="__parameters__";function Vo(s,o,a){return Ln(()=>{const l=function Uu(s){return function(...a){if(s){const l=s(...a);for(const h in l)this[h]=l[h]}}}(o);function h(...g){if(this instanceof h)return l.apply(this,g),this;const v=new h(...g);return E.annotation=v,E;function E(I,S,N){const O=I.hasOwnProperty(Rs)?I[Rs]:Object.defineProperty(I,Rs,{value:[]})[Rs];for(;O.length<=N;)O.push(null);return(O[N]=O[N]||[]).push(v),I}}return a&&(h.prototype=Object.create(a.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class vn{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=en({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function dn(s,o){void 0===o&&(o=s);for(let a=0;a<s.length;a++){let l=s[a];Array.isArray(l)?(o===s&&(o=s.slice(0,a)),dn(l,o)):o!==s&&o.push(l)}return o}function kn(s,o){s.forEach(a=>Array.isArray(a)?kn(a,o):o(a))}function gd(s,o,a){o>=s.length?s.push(a):s.splice(o,0,a)}function is(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function gr(s,o,a){let l=Os(s,o);return l>=0?s[1|l]=a:(l=~l,function Xl(s,o,a,l){let h=s.length;if(h==o)s.push(a,l);else if(1===h)s.push(l,s[0]),s[0]=a;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=a,s[o+1]=l}}(s,l,o,a)),l}function bt(s,o){const a=Os(s,o);if(a>=0)return s[1|a]}function Os(s,o){return function Bo(s,o,a){let l=0,h=s.length>>a;for(;h!==l;){const g=l+(h-l>>1),v=s[g<<a];if(o===v)return g<<a;v>o?h=g:l=g+1}return~(h<<a)}(s,o,1)}const ni={},qu="__NG_DI_FLAG__",zu="ngTempTokenPath",uo=/\n/gm,yd="__source";let Bn;function Ui(s){const o=Bn;return Bn=s,o}function ec(s,o=Ke.Default){if(void 0===Bn)throw new be(-203,!1);return null===Bn?ai(s,void 0,o):Bn.get(s,o&Ke.Optional?null:void 0,o)}function qt(s,o=Ke.Default){return(function ws(){return xr}()||ec)(K(s),o)}function D(s,o=Ke.Default){return"number"!=typeof o&&(o=0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)),qt(s,o)}function C(s){const o=[];for(let a=0;a<s.length;a++){const l=K(s[a]);if(Array.isArray(l)){if(0===l.length)throw new be(900,!1);let h,g=Ke.Default;for(let v=0;v<l.length;v++){const E=l[v],I=F(E);"number"==typeof I?-1===I?h=E.token:g|=I:h=E}o.push(qt(h,g))}else o.push(qt(l))}return o}function x(s,o){return s[qu]=o,s.prototype[qu]=o,s}function F(s){return s[qu]}const Ue=x(Vo("Optional"),8),ft=x(Vo("SkipSelf"),4);let wd,Wu,ho;function zy(s){wd=s}function La(s){return function Ed(){if(void 0===Wu&&(Wu=null,an.trustedTypes))try{Wu=an.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Wu}()?.createHTML(s)||s}function qo(s){return function hf(){if(void 0===ho&&(ho=null,an.trustedTypes))try{ho=an.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return ho}()?.createHTML(s)||s}class us{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Wy extends us{getTypeName(){return"HTML"}}class Zu extends us{getTypeName(){return"Style"}}class tc extends us{getTypeName(){return"Script"}}class pf extends us{getTypeName(){return"URL"}}class Id extends us{getTypeName(){return"ResourceURL"}}function ls(s){return s instanceof us?s.changingThisBreaksApplicationSecurity:s}function zo(s,o){const a=function nc(s){return s instanceof us&&s.getTypeName()||null}(s);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===o}function gf(s){return new Wy(s)}function gg(s){return new Zu(s)}function Zy(s){return new tc(s)}function Ky(s){return new pf(s)}function Yy(s){return new Id(s)}class mg{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const a=(new window.DOMParser).parseFromString(La(o),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(o):(a.removeChild(a.firstChild),a)}catch{return null}}}class Qy{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const l=this.inertDocument.createElement("body");a.appendChild(l)}}getInertBodyElement(o){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=La(o),a;const l=this.inertDocument.createElement("body");return l.innerHTML=La(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(l),l}stripCustomNsAttrs(o){const a=o.attributes;for(let h=a.length-1;0<h;h--){const v=a.item(h).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&o.removeAttribute(v)}let l=o.firstChild;for(;l;)l.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(l),l=l.nextSibling}}const Ua=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Dd(s){return(s=String(s)).match(Ua)?s:"unsafe:"+s}function cs(s){const o={};for(const a of s.split(","))o[a]=!0;return o}function ks(...s){const o={};for(const a of s)for(const l in a)a.hasOwnProperty(l)&&(o[l]=!0);return o}const yg=cs("area,br,col,hr,img,wbr"),Fs=cs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Cd=cs("rp,rt"),mf=ks(yg,ks(Fs,cs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ks(Cd,cs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ks(Cd,Fs)),fo=cs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),yf=ks(fo,cs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),cs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),vg=cs("script,style,template");class wg{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let a=o.firstChild,l=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?l=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,l&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let h=this.checkClobberedElement(a,a.nextSibling);if(h){a=h;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(o){const a=o.nodeName.toLowerCase();if(!mf.hasOwnProperty(a))return this.sanitizedSomething=!0,!vg.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const l=o.attributes;for(let h=0;h<l.length;h++){const g=l.item(h),v=g.name,E=v.toLowerCase();if(!yf.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let I=g.value;fo[E]&&(I=Dd(I)),this.buf.push(" ",v,'="',Eg(I),'"')}return this.buf.push(">"),!0}endElement(o){const a=o.nodeName.toLowerCase();mf.hasOwnProperty(a)&&!yg.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(o){this.buf.push(Eg(o))}checkClobberedElement(o,a){if(a&&(o.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return a}}const Ba=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,_f=/([^\#-~ |!])/g;function Eg(s){return s.replace(/&/g,"&amp;").replace(Ba,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(_f,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let sc;function Sd(s,o){let a=null;try{sc=sc||function rc(s){const o=new Qy(s);return function gw(){try{return!!(new window.DOMParser).parseFromString(La(""),"text/html")}catch{return!1}}()?new mg(o):o}(s);let l=o?String(o):"";a=sc.getInertBodyElement(l);let h=5,g=l;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,l=g,g=a.innerHTML,a=sc.getInertBodyElement(l)}while(l!==g);return La((new wg).sanitizeChildren(ja(a)||a))}finally{if(a){const l=ja(a)||a;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function ja(s){return"content"in s&&function oc(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var Yn=(()=>((Yn=Yn||{})[Yn.NONE=0]="NONE",Yn[Yn.HTML=1]="HTML",Yn[Yn.STYLE=2]="STYLE",Yn[Yn.SCRIPT=3]="SCRIPT",Yn[Yn.URL=4]="URL",Yn[Yn.RESOURCE_URL=5]="RESOURCE_URL",Yn))();function $a(s){const o=Ku();return o?qo(o.sanitize(Yn.HTML,s)||""):zo(s,"HTML")?qo(ls(s)):Sd(function df(){return void 0!==wd?wd:typeof document<"u"?document:void 0}(),me(s))}function Ad(s){const o=Ku();return o?o.sanitize(Yn.URL,s)||"":zo(s,"URL")?ls(s):Dd(me(s))}function Ku(){const s=Te();return s&&s[12]}const Ef=new vn("ENVIRONMENT_INITIALIZER"),Ig=new vn("INJECTOR",-1),Dg=new vn("INJECTOR_DEF_TYPES");class Cg{get(o,a=ni){if(a===ni){const l=new Error(`NullInjectorError: No provider for ${he(o)}!`);throw l.name="NullInjectorError",l}return a}}function Tg(...s){return{\u0275providers:Nd(0,s)}}function Nd(s,...o){const a=[],l=new Set;let h;return kn(o,g=>{const v=g;Rd(v,a,[],l)&&(h||(h=[]),h.push(v))}),void 0!==h&&Pd(h,a),a}function Pd(s,o){for(let a=0;a<s.length;a++){const{providers:h}=s[a];kn(h,g=>{o.push(g)})}}function Rd(s,o,a,l){if(!(s=K(s)))return!1;let h=null,g=Gs(s);const v=!g&&Q(s);if(g||v){if(v&&!v.standalone)return!1;h=s}else{const I=s.ngModule;if(g=Gs(I),!g)return!1;h=I}const E=l.has(h);if(v){if(E)return!1;if(l.add(h),v.dependencies){const I="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const S of I)Rd(S,o,a,l)}}else{if(!g)return!1;{if(null!=g.imports&&!E){let S;l.add(h);try{kn(g.imports,N=>{Rd(N,o,a,l)&&(S||(S=[]),S.push(N))})}finally{}void 0!==S&&Pd(S,o)}if(!E){const S=Fi(h)||(()=>new h);o.push({provide:h,useFactory:S,deps:xt},{provide:Dg,useValue:h,multi:!0},{provide:Ef,useValue:()=>qt(h),multi:!0})}const I=g.providers;null==I||E||kn(I,N=>{o.push(N)})}}return h!==s&&void 0!==s.providers}const bf=de({provide:String,useValue:de});function Od(s){return null!==s&&"object"==typeof s&&bf in s}function Hr(s){return"function"==typeof s}const Qu=new vn("Set Injector scope."),Ga={},e_={};let Bi;function ac(){return void 0===Bi&&(Bi=new Cg),Bi}class hi{}class Ju extends hi{constructor(o,a,l,h){super(),this.parent=a,this.source=l,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,go(o,v=>this.processProvider(v)),this.records.set(Ig,Qn(void 0,this)),h.has("environment")&&this.records.set(hi,Qn(void 0,this));const g=this.records.get(Qu);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(Dg.multi,xt,Ke.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const a=Ui(this),l=nr(void 0);try{return o()}finally{Ui(a),nr(l)}}get(o,a=ni,l=Ke.Default){this.assertNotDestroyed();const h=Ui(this),g=nr(void 0);try{if(!(l&Ke.SkipSelf)){let E=this.records.get(o);if(void 0===E){const I=function t_(s){return"function"==typeof s||"object"==typeof s&&s instanceof vn}(o)&&fn(o);E=I&&this.injectableDefInScope(I)?Qn(kd(o),Ga):null,this.records.set(o,E)}if(null!=E)return this.hydrate(o,E)}return(l&Ke.Self?ac():this.parent).get(o,a=l&Ke.Optional&&a===ni?null:a)}catch(v){if("NullInjectorError"===v.name){if((v[zu]=v[zu]||[]).unshift(he(o)),h)throw v;return function Y(s,o,a,l){const h=s[zu];throw o[yd]&&h.unshift(o[yd]),s.message=function oe(s,o,a,l=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let h=he(o);if(Array.isArray(o))h=o.map(he).join(" -> ");else if("object"==typeof o){let g=[];for(let v in o)if(o.hasOwnProperty(v)){let E=o[v];g.push(v+":"+("string"==typeof E?JSON.stringify(E):he(E)))}h=`{${g.join(", ")}}`}return`${a}${l?"("+l+")":""}[${h}]: ${s.replace(uo,"\n  ")}`}("\n"+s.message,h,a,l),s.ngTokenPath=h,s[zu]=null,s}(v,o,"R3InjectorError",this.source)}throw v}finally{nr(g),Ui(h)}}resolveInjectorInitializers(){const o=Ui(this),a=nr(void 0);try{const l=this.get(Ef.multi,xt,Ke.Self);for(const h of l)h()}finally{Ui(o),nr(a)}}toString(){const o=[],a=this.records;for(const l of a.keys())o.push(he(l));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new be(205,!1)}processProvider(o){let a=Hr(o=K(o))?o:K(o&&o.provide);const l=function Sg(s){return Od(s)?Qn(void 0,s.useValue):Qn(uc(s),Ga)}(o);if(Hr(o)||!0!==o.multi)this.records.get(a);else{let h=this.records.get(a);h||(h=Qn(void 0,Ga,!0),h.factory=()=>C(h.multi),this.records.set(a,h)),a=o,h.multi.push(o)}this.records.set(a,l)}hydrate(o,a){return a.value===Ga&&(a.value=e_,a.value=a.factory()),"object"==typeof a.value&&a.value&&function qa(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=K(o.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function kd(s){const o=fn(s),a=null!==o?o.factory:Fi(s);if(null!==a)return a;if(s instanceof vn)throw new be(204,!1);if(s instanceof Function)return function If(s){const o=s.length;if(o>0)throw function Dr(s,o){const a=[];for(let l=0;l<s;l++)a.push(o);return a}(o,"?"),new be(204,!1);const a=function Vr(s){const o=s&&(s[Di]||s[oi]);if(o){const a=function Kr(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),o}return null}(s);return null!==a?()=>a.factory(s):()=>new s}(s);throw new be(204,!1)}function uc(s,o,a){let l;if(Hr(s)){const h=K(s);return Fi(h)||kd(h)}if(Od(s))l=()=>K(s.useValue);else if(function Wo(s){return!(!s||!s.useFactory)}(s))l=()=>s.useFactory(...C(s.deps||[]));else if(function $r(s){return!(!s||!s.useExisting)}(s))l=()=>qt(K(s.useExisting));else{const h=K(s&&(s.useClass||s.provide));if(!function Df(s){return!!s.deps}(s))return Fi(h)||kd(h);l=()=>new h(...C(s.deps))}return l}function Qn(s,o,a=!1){return{factory:s,value:o,multi:a?[]:void 0}}function po(s){return!!s.\u0275providers}function go(s,o){for(const a of s)Array.isArray(a)?go(a,o):po(a)?go(a.\u0275providers,o):o(a)}class Fd{}class cc{resolveComponentFactory(o){throw function Ag(s){const o=Error(`No component factory found for ${he(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let Zo=(()=>{class s{}return s.NULL=new cc,s})();function Tf(){return y(Pn(),Te())}function y(s,o){return new f(jr(s,o))}let f=(()=>{class s{constructor(a){this.nativeElement=a}}return s.__NG_ELEMENT_ID__=Tf,s})();function m(s){return s instanceof f?s.nativeElement:s}class A{}let P=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function q(){const s=Te(),a=Kt(Pn().index,s);return(hr(a)?a:s)[11]}(),s})(),le=(()=>{class s{}return s.\u0275prov=en({token:s,providedIn:"root",factory:()=>null}),s})();class Fe{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Je=new Fe("14.2.7"),vt={};function o_(s){return s.ngOriginalError}class Af{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o);this._console.error("ERROR",o),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&o_(o);for(;a&&o_(a);)a=o_(a);return a||null}}const u_=new Map;let XD=0;const Mf="__ngContext__";function ri(s,o){hr(o)?(s[Mf]=o[20],function tC(s){u_.set(s[20],s)}(o)):s[Mf]=o}function Wa(s){return s instanceof Function?s():s}var Yo=(()=>((Yo=Yo||{})[Yo.Important=1]="Important",Yo[Yo.DashCase=2]="DashCase",Yo))();function h_(s,o){return undefined(s,o)}function Rf(s){const o=s[3];return Br(o)?o[3]:o}function Og(s){return f_(s[13])}function kg(s){return f_(s[4])}function f_(s){for(;null!==s&&!Br(s);)s=s[4];return s}function $d(s,o,a,l,h){if(null!=l){let g,v=!1;Br(l)?g=l:hr(l)&&(v=!0,l=l[0]);const E=Nn(l);0===s&&null!==a?null==h?Of(o,a,E):gc(o,a,E,h||null,!0):1===s&&null!==a?gc(o,a,E,h||null,!0):2===s?function pC(s,o,a){const l=Lg(s,o);l&&function hC(s,o,a,l){s.removeChild(o,a,l)}(s,l,o,a)}(o,E,v):3===s&&o.destroyNode(E),null!=g&&function jg(s,o,a,l,h){const g=a[7];g!==Nn(a)&&$d(o,s,l,g,h);for(let E=10;E<a.length;E++){const I=a[E];kf(I[1],I,s,o,l,g)}}(o,s,g,a,h)}}function g_(s,o,a){return s.createElement(o,a)}function kw(s,o){const a=s[9],l=a.indexOf(o),h=o[3];512&o[2]&&(o[2]&=-513,Sn(h,-1)),a.splice(l,1)}function y_(s,o){if(s.length<=10)return;const a=10+o,l=s[a];if(l){const h=l[17];null!==h&&h!==s&&kw(h,l),o>0&&(s[a-1][4]=l[4]);const g=is(s,10+o);!function Pw(s,o){kf(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(l[1],l);const v=g[19];null!==v&&v.detachView(g[1]),l[3]=null,l[4]=null,l[2]&=-65}return l}function Fw(s,o){if(!(128&o[2])){const a=o[11];a.destroyNode&&kf(s,o,a,3,null,null),function Ow(s){let o=s[13];if(!o)return Hd(s[1],s);for(;o;){let a=null;if(hr(o))a=o[13];else{const l=o[10];l&&(a=l)}if(!a){for(;o&&!o[4]&&o!==s;)hr(o)&&Hd(o[1],o),o=o[3];null===o&&(o=s),hr(o)&&Hd(o[1],o),a=o&&o[4]}o=a}}(o)}}function Hd(s,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function __(s,o){let a;if(null!=s&&null!=(a=s.destroyHooks))for(let l=0;l<a.length;l+=2){const h=o[a[l]];if(!(h instanceof xs)){const g=a[l+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const E=h[g[v]],I=g[v+1];try{I.call(E)}finally{}}else try{g.call(h)}finally{}}}}(s,o),function Lw(s,o){const a=s.cleanup,l=o[7];let h=-1;if(null!==a)for(let g=0;g<a.length-1;g+=2)if("string"==typeof a[g]){const v=a[g+1],E="function"==typeof v?v(o):Nn(o[v]),I=l[h=a[g+2]],S=a[g+3];"boolean"==typeof S?E.removeEventListener(a[g],I,S):S>=0?l[h=S]():l[h=-S].unsubscribe(),g+=2}else{const v=l[h=a[g+1]];a[g].call(v)}if(null!==l){for(let g=h+1;g<l.length;g++)(0,l[g])();o[7]=null}}(s,o),1===o[1].type&&o[11].destroy();const a=o[17];if(null!==a&&Br(o[3])){a!==o[3]&&kw(a,o);const l=o[19];null!==l&&l.detachView(s)}!function nC(s){u_.delete(s[20])}(o)}}function Fg(s,o,a){return function Vw(s,o,a){let l=o;for(;null!==l&&40&l.type;)l=(o=l).parent;if(null===l)return a[0];if(2&l.flags){const h=s.data[l.directiveStart].encapsulation;if(h===ut.None||h===ut.Emulated)return null}return jr(l,a)}(s,o.parent,a)}function gc(s,o,a,l,h){s.insertBefore(o,a,l,h)}function Of(s,o,a){s.appendChild(o,a)}function Uw(s,o,a,l,h){null!==l?gc(s,o,a,l,h):Of(s,o,a)}function Lg(s,o){return s.parentNode(o)}let Bw=function Cr(s,o,a){return 40&s.type?jr(s,a):null};function mc(s,o,a,l){const h=Fg(s,l,o),g=o[11],E=function v_(s,o,a){return Bw(s,o,a)}(l.parent||o[6],l,o);if(null!=h)if(Array.isArray(a))for(let I=0;I<a.length;I++)Uw(g,h,a[I],E,!1);else Uw(g,h,a,E,!1)}function Ug(s,o){if(null!==o){const a=o.type;if(3&a)return jr(o,s);if(4&a)return Bg(-1,s[o.index]);if(8&a){const l=o.child;if(null!==l)return Ug(s,l);{const h=s[o.index];return Br(h)?Bg(-1,h):Nn(h)}}if(32&a)return h_(o,s)()||Nn(s[o.index]);{const l=jw(s,o);return null!==l?Array.isArray(l)?l[0]:Ug(Rf(s[16]),l):Ug(s,o.next)}}return null}function jw(s,o){return null!==o?s[16][6].projection[o.projection]:null}function Bg(s,o){const a=10+s+1;if(a<o.length){const l=o[a],h=l[1].firstChild;if(null!==h)return Ug(l,h)}return o[7]}function $w(s,o,a,l,h,g,v){for(;null!=a;){const E=l[a.index],I=a.type;if(v&&0===o&&(E&&ri(Nn(E),l),a.flags|=4),64!=(64&a.flags))if(8&I)$w(s,o,a.child,l,h,g,!1),$d(o,s,h,E,g);else if(32&I){const S=h_(a,l);let N;for(;N=S();)$d(o,s,h,N,g);$d(o,s,h,E,g)}else 16&I?E_(s,o,l,a,h,g):$d(o,s,h,E,g);a=v?a.projectionNext:a.next}}function kf(s,o,a,l,h,g){$w(a,l,s.firstChild,o,h,g,!1)}function E_(s,o,a,l,h,g){const v=a[16],I=v[6].projection[l.projection];if(Array.isArray(I))for(let S=0;S<I.length;S++)$d(o,s,h,I[S],g);else $w(s,o,I,v[3],h,g,!0)}function b_(s,o,a){s.setAttribute(o,"style",a)}function tl(s,o,a){""===a?s.removeAttribute(o,"class"):s.setAttribute(o,"class",a)}function $g(s,o,a){let l=s.length;for(;;){const h=s.indexOf(o,a);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const g=o.length;if(h+g===l||s.charCodeAt(h+g)<=32)return h}a=h+1}}const I_="ng-template";function Hw(s,o,a){let l=0;for(;l<s.length;){let h=s[l++];if(a&&"class"===h){if(h=s[l],-1!==$g(h.toLowerCase(),o,0))return!0}else if(1===h){for(;l<s.length&&"string"==typeof(h=s[l++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function Hg(s){return 4===s.type&&s.value!==I_}function gC(s,o,a){return o===(4!==s.type||a?s.value:I_)}function mC(s,o,a){let l=4;const h=s.attrs||[],g=function Gg(s){for(let o=0;o<s.length;o++)if(to(s[o]))return o;return s.length}(h);let v=!1;for(let E=0;E<o.length;E++){const I=o[E];if("number"!=typeof I){if(!v)if(4&l){if(l=2|1&l,""!==I&&!gC(s,I,a)||""===I&&1===o.length){if(mo(l))return!1;v=!0}}else{const S=8&l?I:o[++E];if(8&l&&null!==s.attrs){if(!Hw(s.attrs,S,a)){if(mo(l))return!1;v=!0}continue}const O=Gw(8&l?"class":I,h,Hg(s),a);if(-1===O){if(mo(l))return!1;v=!0;continue}if(""!==S){let H;H=O>g?"":h[O+1].toLowerCase();const X=8&l?H:null;if(X&&-1!==$g(X,S,0)||2&l&&S!==H){if(mo(l))return!1;v=!0}}}}else{if(!v&&!mo(l)&&!mo(I))return!1;if(v&&mo(I))continue;v=!1,l=I|1&l}}return mo(l)||v}function mo(s){return 0==(1&s)}function Gw(s,o,a,l){if(null===o)return-1;let h=0;if(l||!a){let g=!1;for(;h<o.length;){const v=o[h];if(v===s)return h;if(3===v||6===v)g=!0;else{if(1===v||2===v){let E=o[++h];for(;"string"==typeof E;)E=o[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=g?1:2}return-1}return function LM(s,o){let a=s.indexOf(4);if(a>-1)for(a++;a<s.length;){const l=s[a];if("number"==typeof l)return-1;if(l===o)return a;a++}return-1}(o,s)}function qw(s,o,a=!1){for(let l=0;l<o.length;l++)if(mC(s,o[l],a))return!0;return!1}function Ww(s,o){return s?":not("+o.trim()+")":o}function yC(s){let o=s[0],a=1,l=2,h="",g=!1;for(;a<s.length;){let v=s[a];if("string"==typeof v)if(2&l){const E=s[++a];h+="["+v+(E.length>0?'="'+E+'"':"")+"]"}else 8&l?h+="."+v:4&l&&(h+=" "+v);else""!==h&&!mo(v)&&(o+=Ww(g,h),h=""),l=v,g=g||!mo(l);a++}return""!==h&&(o+=Ww(g,h)),o}const jt={};function Kw(s){Yw(zt(),Te(),or()+s,!1)}function Yw(s,o,a,l){if(!l)if(3==(3&o[2])){const g=s.preOrderCheckHooks;null!==g&&Js(o,g,a)}else{const g=s.preOrderHooks;null!==g&&xo(o,g,0,a)}Xr(a)}function C_(s,o=null,a=null,l){const h=Xw(s,o,a,l);return h.resolveInjectorInitializers(),h}function Xw(s,o=null,a=null,l,h=new Set){const g=[a||xt,Tg(s)];return l=l||("object"==typeof s?void 0:he(s)),new Ju(g,o||ac(),l||null,h)}let _c=(()=>{class s{static create(a,l){if(Array.isArray(a))return C_({name:""},l,a,"");{const h=a.name??"";return C_({name:h},a.parent,a.providers,h)}}}return s.THROW_IF_NOT_FOUND=ni,s.NULL=new Cg,s.\u0275prov=en({token:s,providedIn:"any",factory:()=>qt(Ig)}),s.__NG_ELEMENT_ID__=-1,s})();function rl(s,o=Ke.Default){const a=Te();return null===a?qt(s,o):ro(Pn(),a,K(s),o)}function Vf(){throw new Error("invalid")}function Uf(s,o){return s<<17|o<<2}function Vs(s){return s>>17&32767}function Kg(s){return 2|s}function sl(s){return(131068&s)>>2}function dE(s,o){return-131069&s|o<<2}function Bf(s){return 1|s}function wE(s,o){const a=s.contentQueries;if(null!==a)for(let l=0;l<a.length;l+=2){const h=a[l],g=a[l+1];if(-1!==g){const v=s.data[g];Da(h),v.contentQueries(2,o[g],g)}}}function $f(s,o,a,l,h,g,v,E,I,S,N){const O=o.blueprint.slice();return O[0]=h,O[2]=76|l,(null!==N||s&&1024&s[2])&&(O[2]|=1024),gu(O),O[3]=O[15]=s,O[8]=a,O[10]=v||s&&s[10],O[11]=E||s&&s[11],O[12]=I||s&&s[12]||null,O[9]=S||s&&s[9]||null,O[6]=g,O[20]=function eC(){return XD++}(),O[21]=N,O[16]=2==o.type?s[16]:O,O}function Kd(s,o,a,l,h){let g=s.data[o];if(null===g)g=function bE(s,o,a,l,h){const g=Eu(),v=va(),I=s.data[o]=function TE(s,o,a,l,h,g){return{type:a,index:l,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,a,o,l,h);return null===s.firstChild&&(s.firstChild=I),null!==g&&(v?null==g.child&&null!==I.parent&&(g.child=I):null===g.next&&(g.next=I)),I}(s,o,a,l,h),function ig(){return Mt.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=a,g.value=l,g.attrs=h;const v=function Mo(){const s=Mt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();g.injectorIndex=null===v?-1:v.injectorIndex}return ci(g,!0),g}function Yd(s,o,a,l){if(0===a)return-1;const h=o.length;for(let g=0;g<a;g++)o.push(l),s.blueprint.push(l),s.data.push(null);return h}function sm(s,o,a){Du(o);try{const l=s.viewQuery;null!==l&&G_(1,l,a);const h=s.template;null!==h&&om(s,o,h,1,a),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&wE(s,o),s.staticViewQueries&&G_(2,s.viewQuery,a);const g=s.components;null!==g&&function kC(s,o){for(let a=0;a<o.length;a++)H_(s,o[a])}(o,g)}catch(l){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),l}finally{o[2]&=-5,Ys()}}function O_(s,o,a,l){const h=o[2];if(128!=(128&h)){Du(o);try{gu(o),function jl(s){return Mt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==a&&om(s,o,a,2,l);const v=3==(3&h);if(v){const S=s.preOrderCheckHooks;null!==S&&Js(o,S,null)}else{const S=s.preOrderHooks;null!==S&&xo(o,S,0,null),ad(o,0)}if(function qC(s){for(let o=Og(s);null!==o;o=kg(o)){if(!o[2])continue;const a=o[9];for(let l=0;l<a.length;l++){const h=a[l],g=h[3];0==(512&h[2])&&Sn(g,1),h[2]|=512}}}(o),function Gf(s){for(let o=Og(s);null!==o;o=kg(o))for(let a=10;a<o.length;a++){const l=o[a],h=l[1];Zs(l)&&O_(h,l,h.template,l[8])}}(o),null!==s.contentQueries&&wE(s,o),v){const S=s.contentCheckHooks;null!==S&&Js(o,S)}else{const S=s.contentHooks;null!==S&&xo(o,S,1),ad(o,1)}!function OC(s,o){const a=s.hostBindingOpCodes;if(null!==a)try{for(let l=0;l<a.length;l++){const h=a[l];if(h<0)Xr(~h);else{const g=h,v=a[++l],E=a[++l];sg(v,g),E(2,o[g])}}}finally{Xr(-1)}}(s,o);const E=s.components;null!==E&&function EE(s,o){for(let a=0;a<o.length;a++)j_(s,o[a])}(o,E);const I=s.viewQuery;if(null!==I&&G_(2,I,l),v){const S=s.viewCheckHooks;null!==S&&Js(o,S)}else{const S=s.viewHooks;null!==S&&xo(o,S,2),ad(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,Sn(o[3],-1))}finally{Ys()}}}function om(s,o,a,l,h){const g=or(),v=2&l;try{Xr(-1),v&&o.length>22&&Yw(s,o,22,!1),a(l,h)}finally{Xr(g)}}function IE(s,o,a){if(uu(o)){const h=o.directiveEnd;for(let g=o.directiveStart;g<h;g++){const v=s.data[g];v.contentQueries&&v.contentQueries(1,a[g],g)}}}function am(s,o,a){!es()||(function SE(s,o,a,l){const h=a.directiveStart,g=a.directiveEnd;s.firstCreatePass||no(a,o),ri(l,o);const v=a.initialInputs;for(let E=h;E<g;E++){const I=s.data[E],S=Nr(I);S&&xE(o,a,I);const N=ns(o,s,E,a);ri(N,o),null!==v&&B_(0,E-h,N,I,0,v),S&&(Kt(a.index,o)[8]=N)}}(s,o,a,jr(a,o)),128==(128&a.flags)&&function AE(s,o,a){const l=a.directiveStart,h=a.directiveEnd,g=a.index,v=function $l(){return Mt.lFrame.currentDirectiveIndex}();try{Xr(g);for(let E=l;E<h;E++){const I=s.data[E],S=o[E];bu(E),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&lm(I,S)}}finally{Xr(-1),bu(v)}}(s,o,a))}function Hf(s,o,a=jr){const l=o.localNames;if(null!==l){let h=o.index+1;for(let g=0;g<l.length;g+=2){const v=l[g+1],E=-1===v?a(o,s):s[v];s[h++]=E}}}function DE(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=CE(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function CE(s,o,a,l,h,g,v,E,I,S){const N=22+l,O=N+h,H=function FC(s,o){const a=[];for(let l=0;l<o;l++)a.push(l<s?null:jt);return a}(N,O),X="function"==typeof S?S():S;return H[1]={type:s,blueprint:H,template:a,queries:null,viewQuery:E,declTNode:o,data:H.slice().fill(null,N),bindingStartIndex:N,expandoStartIndex:O,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:I,consts:X,incompleteFirstPass:!1}}function F_(s,o,a,l){const h=z_(o);null===a?h.push(l):(h.push(a),s.firstCreatePass&&RE(s).push(l,h.length-1))}function Qd(s,o,a){for(let l in s)if(s.hasOwnProperty(l)){const h=s[l];(a=null===a?{}:a).hasOwnProperty(l)?a[l].push(o,h):a[l]=[o,h]}return a}function LC(s,o){const l=o.directiveEnd,h=s.data,g=o.attrs,v=[];let E=null,I=null;for(let S=o.directiveStart;S<l;S++){const N=h[S],O=N.inputs,H=null===g||Hg(o)?null:HC(O,g);v.push(H),E=Qd(O,S,E),I=Qd(N.outputs,S,I)}null!==E&&(E.hasOwnProperty("class")&&(o.flags|=16),E.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=v,o.inputs=E,o.outputs=I}function ji(s,o,a,l,h,g,v,E){const I=jr(o,a);let N,S=o.inputs;!E&&null!=S&&(N=S[l])?(kE(s,a,N,l,h),ma(o)&&UC(a,o.index)):3&o.type&&(l=function VC(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(l),h=null!=v?v(h,o.value||"",l):h,g.setProperty(I,l,h))}function UC(s,o){const a=Kt(o,s);16&a[2]||(a[2]|=32)}function L_(s,o,a,l){let h=!1;if(es()){const g=function jC(s,o,a){const l=s.directiveRegistry;let h=null;if(l)for(let g=0;g<l.length;g++){const v=l[g];qw(a,v.selectors,!1)&&(h||(h=[]),Ns(no(a,o),s,v.type),Nr(v)?(cm(s,a),h.unshift(v)):h.push(v))}return h}(s,o,a),v=null===l?null:{"":-1};if(null!==g){h=!0,U_(a,s.data.length,g.length);for(let N=0;N<g.length;N++){const O=g[N];O.providersResolver&&O.providersResolver(O)}let E=!1,I=!1,S=Yd(s,o,g.length,null);for(let N=0;N<g.length;N++){const O=g[N];a.mergedAttrs=Ca(a.mergedAttrs,O.hostAttrs),ME(s,a,o,S,O),WM(S,O,v),null!==O.contentQueries&&(a.flags|=8),(null!==O.hostBindings||null!==O.hostAttrs||0!==O.hostVars)&&(a.flags|=128);const H=O.type.prototype;!E&&(H.ngOnChanges||H.ngOnInit||H.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(a.index),E=!0),!I&&(H.ngOnChanges||H.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(a.index),I=!0),S++}LC(s,a)}v&&function $C(s,o,a){if(o){const l=s.localNames=[];for(let h=0;h<o.length;h+=2){const g=a[o[h+1]];if(null==g)throw new be(-301,!1);l.push(o[h],g)}}}(a,l,v)}return a.mergedAttrs=Ca(a.mergedAttrs,a.attrs),h}function V_(s,o,a,l,h,g){const v=g.hostBindings;if(v){let E=s.hostBindingOpCodes;null===E&&(E=s.hostBindingOpCodes=[]);const I=~o.index;(function BC(s){let o=s.length;for(;o>0;){const a=s[--o];if("number"==typeof a&&a<0)return a}return 0})(E)!=I&&E.push(I),E.push(l,h,v)}}function lm(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function cm(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function WM(s,o,a){if(a){if(o.exportAs)for(let l=0;l<o.exportAs.length;l++)a[o.exportAs[l]]=s;Nr(o)&&(a[""]=s)}}function U_(s,o,a){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+a,s.providerIndexes=o}function ME(s,o,a,l,h){s.data[l]=h;const g=h.factory||(h.factory=Fi(h.type)),v=new xs(g,Nr(h),rl);s.blueprint[l]=v,a[l]=v,V_(s,o,0,l,Yd(s,a,h.hostVars,jt),h)}function xE(s,o,a){const l=jr(o,s),h=DE(a),g=s[10],v=hm(s,$f(s,h,null,a.onPush?32:16,l,o,g,g.createRenderer(l,a),null,null,null));s[o.index]=v}function Jo(s,o,a,l,h,g){const v=jr(s,o);!function dm(s,o,a,l,h,g,v){if(null==g)s.removeAttribute(o,h,a);else{const E=null==v?me(g):v(g,l||"",h);s.setAttribute(o,h,E,a)}}(o[11],v,g,s.value,a,l,h)}function B_(s,o,a,l,h,g){const v=g[o];if(null!==v){const E=l.setInput;for(let I=0;I<v.length;){const S=v[I++],N=v[I++],O=v[I++];null!==E?l.setInput(a,O,S,N):a[N]=O}}}function HC(s,o){let a=null,l=0;for(;l<o.length;){const h=o[l];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===a&&(a=[]),a.push(h,s[h],o[l+1])),l+=2}else l+=2;else l+=4}return a}function NE(s,o,a,l){return new Array(s,!0,!1,o,null,0,l,a,null,null)}function j_(s,o){const a=Kt(o,s);if(Zs(a)){const l=a[1];48&a[2]?O_(l,a,l.template,a[8]):a[5]>0&&$_(a)}}function $_(s){for(let l=Og(s);null!==l;l=kg(l))for(let h=10;h<l.length;h++){const g=l[h];if(Zs(g))if(512&g[2]){const v=g[1];O_(v,g,v.template,g[8])}else g[5]>0&&$_(g)}const a=s[1].components;if(null!==a)for(let l=0;l<a.length;l++){const h=Kt(a[l],s);Zs(h)&&h[5]>0&&$_(h)}}function H_(s,o){const a=Kt(o,s),l=a[1];(function PE(s,o){for(let a=o.length;a<s.blueprint.length;a++)o.push(s.blueprint[a])})(l,a),sm(l,a,a[8])}function hm(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function Jd(s){for(;s;){s[2]|=32;const o=Rf(s);if(Wh(s)&&!o)return s;s=o}return null}function fm(s,o,a,l=!0){const h=o[10];h.begin&&h.begin();try{O_(s,o,s.template,a)}catch(v){throw l&&OE(o,v),v}finally{h.end&&h.end()}}function G_(s,o,a){Da(0),o(s,a)}function z_(s){return s[7]||(s[7]=[])}function RE(s){return s.cleanup||(s.cleanup=[])}function OE(s,o){const a=s[9],l=a?a.get(Af,null):null;l&&l.handleError(o)}function kE(s,o,a,l,h){for(let g=0;g<a.length;){const v=a[g++],E=a[g++],I=o[v],S=s.data[v];null!==S.setInput?S.setInput(I,h,l,E):I[E]=h}}function qf(s,o,a){let l=a?s.styles:null,h=a?s.classes:null,g=0;if(null!==o)for(let v=0;v<o.length;v++){const E=o[v];"number"==typeof E?g=E:1==g?h=fe(h,E):2==g&&(l=fe(l,E+": "+o[++v]+";"))}a?s.styles=l:s.stylesWithoutHost=l,a?s.classes=h:s.classesWithoutHost=h}function zf(s,o,a,l,h=!1){for(;null!==a;){const g=o[a.index];if(null!==g&&l.push(Nn(g)),Br(g))for(let E=10;E<g.length;E++){const I=g[E],S=I[1].firstChild;null!==S&&zf(I[1],I,S,l)}const v=a.type;if(8&v)zf(s,o,a.child,l);else if(32&v){const E=h_(a,o);let I;for(;I=E();)l.push(I)}else if(16&v){const E=jw(o,a);if(Array.isArray(E))l.push(...E);else{const I=Rf(o[16]);zf(I[1],I,E,l,!0)}}a=h?a.projectionNext:a.next}return l}class Xd{constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,a=o[1];return zf(a,o,a.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(Br(o)){const a=o[8],l=a?a.indexOf(this):-1;l>-1&&(y_(o,l),is(a,l))}this._attachedToViewContainer=!1}Fw(this._lView[1],this._lView)}onDestroy(o){F_(this._lView[1],this._lView,null,o)}markForCheck(){Jd(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){fm(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new be(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Rw(s,o){kf(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new be(902,!1);this._appRef=o}}class Ic extends Xd{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;fm(o[1],o,o[8],!1)}checkNoChanges(){}get context(){return null}}class Z_ extends Zo{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=Q(o);return new Wf(a,this.ngModule)}}function K_(s){const o=[];for(let a in s)s.hasOwnProperty(a)&&o.push({propName:s[a],templateName:a});return o}class FE{constructor(o,a){this.injector=o,this.parentInjector=a}get(o,a,l){const h=this.injector.get(o,vt,l);return h!==vt||a===vt?h:this.parentInjector.get(o,a,l)}}class Wf extends Fd{constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function Zw(s){return s.map(yC).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return K_(this.componentDef.inputs)}get outputs(){return K_(this.componentDef.outputs)}create(o,a,l,h){let g=(h=h||this.ngModule)instanceof hi?h:h?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const v=g?new FE(o,g):o,E=v.get(A,null);if(null===E)throw new be(407,!1);const I=v.get(le,null),S=E.createRenderer(null,this.componentDef),N=this.componentDef.selectors[0][0]||"div",O=l?function k_(s,o,a){return s.selectRootElement(o,a===ut.ShadowDom)}(S,l,this.componentDef.encapsulation):g_(E.createRenderer(null,this.componentDef),N,function WC(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(N)),H=this.componentDef.onPush?288:272,X=CE(0,null,null,1,0,null,null,null,null,null),ve=$f(null,X,null,H,null,null,E,S,I,v,null);let ke,Ge;Du(ve);try{const We=function UE(s,o,a,l,h,g){const v=a[1];a[22]=s;const I=Kd(v,22,2,"#host",null),S=I.mergedAttrs=o.hostAttrs;null!==S&&(qf(I,S,!0),null!==s&&(Po(h,s,S),null!==I.classes&&tl(h,s,I.classes),null!==I.styles&&b_(h,s,I.styles)));const N=l.createRenderer(s,o),O=$f(a,DE(o),null,o.onPush?32:16,a[22],I,l,N,g||null,null,null);return v.firstCreatePass&&(Ns(no(I,a),v,o.type),cm(v,I),U_(I,a.length,1)),hm(a,O),a[22]=O}(O,this.componentDef,ve,E,S);if(O)if(l)Po(S,O,["ng-version",Je.full]);else{const{attrs:Et,classes:Se}=function _C(s){const o=[],a=[];let l=1,h=2;for(;l<s.length;){let g=s[l];if("string"==typeof g)2===h?""!==g&&o.push(g,s[++l]):8===h&&a.push(g);else{if(!mo(h))break;h=g}l++}return{attrs:o,classes:a}}(this.componentDef.selectors[0]);Et&&Po(S,O,Et),Se&&Se.length>0&&tl(S,O,Se.join(" "))}if(Ge=Ao(X,22),void 0!==a){const Et=Ge.projection=[];for(let Se=0;Se<this.ngContentSelectors.length;Se++){const Dt=a[Se];Et.push(null!=Dt?Array.from(Dt):null)}}ke=function KC(s,o,a,l){const h=a[1],g=function zM(s,o,a){const l=Pn();s.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),ME(s,l,o,Yd(s,o,1,null),a),LC(s,l));const h=ns(o,s,l.directiveStart,l);ri(h,o);const g=jr(l,o);return g&&ri(g,o),h}(h,a,o);if(s[8]=a[8]=g,null!==l)for(const E of l)E(g,o);if(o.contentQueries){const E=Pn();o.contentQueries(1,g,E.directiveStart)}const v=Pn();return!h.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(Xr(v.index),V_(a[1],v,0,v.directiveStart,v.directiveEnd,o),lm(o,g)),g}(We,this.componentDef,ve,[BE]),sm(X,ve,null)}finally{Ys()}return new VE(this.componentType,ke,y(Ge,ve),ve,Ge)}}class VE extends class Cf{}{constructor(o,a,l,h,g){super(),this.location=l,this._rootLView=h,this._tNode=g,this.instance=a,this.hostView=this.changeDetectorRef=new Ic(h),this.componentType=o}setInput(o,a){const l=this._tNode.inputs;let h;if(null!==l&&(h=l[o])){const g=this._rootLView;kE(g[1],g,h,o,a),UC(g,this._tNode.index)}}get injector(){return new io(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function BE(){const s=Pn();Su(Te()[1],s)}function pm(s){let o=function jE(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),a=!0;const l=[s];for(;o;){let h;if(Nr(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new be(903,!1);h=o.\u0275dir}if(h){if(a){l.push(h);const v=s;v.inputs=gm(s.inputs),v.declaredInputs=gm(s.declaredInputs),v.outputs=gm(s.outputs);const E=h.hostBindings;E&&QM(s,E);const I=h.viewQuery,S=h.contentQueries;if(I&&KM(s,I),S&&YM(s,S),ae(s.inputs,h.inputs),ae(s.declaredInputs,h.declaredInputs),ae(s.outputs,h.outputs),Nr(h)&&h.data.animation){const N=s.data;N.animation=(N.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let v=0;v<g.length;v++){const E=g[v];E&&E.ngInherit&&E(s),E===pm&&(a=!1)}}o=Object.getPrototypeOf(o)}!function YC(s){let o=0,a=null;for(let l=s.length-1;l>=0;l--){const h=s[l];h.hostVars=o+=h.hostVars,h.hostAttrs=Ca(h.hostAttrs,a=Ca(a,h.hostAttrs))}}(l)}function gm(s){return s===Yr?{}:s===xt?[]:s}function KM(s,o){const a=s.viewQuery;s.viewQuery=a?(l,h)=>{o(l,h),a(l,h)}:o}function YM(s,o){const a=s.contentQueries;s.contentQueries=a?(l,h,g)=>{o(l,h,g),a(l,h,g)}:o}function QM(s,o){const a=s.hostBindings;s.hostBindings=a?(l,h)=>{o(l,h),a(l,h)}:o}let Zf=null;function eh(){if(!Zf){const s=an.Symbol;if(s&&s.iterator)Zf=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<o.length;++a){const l=o[a];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(Zf=l)}}}return Zf}function th(s){return!!GE(s)&&(Array.isArray(s)||!(s instanceof Map)&&eh()in s)}function GE(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Xo(s,o,a){return s[o]=a}function Gr(s,o,a){return!Object.is(s[o],a)&&(s[o]=a,!0)}function Dc(s,o,a,l){const h=Gr(s,o,a);return Gr(s,o+1,l)||h}function Y_(s,o,a,l){const h=Te();return Gr(h,Ks(),o)&&(zt(),Jo(bn(),h,s,o,a,l)),Y_}function qr(s,o,a,l,h,g,v,E){const I=Te(),S=zt(),N=s+22,O=S.firstCreatePass?function _m(s,o,a,l,h,g,v,E,I){const S=o.consts,N=Kd(o,s,4,v||null,Ti(S,E));L_(o,a,N,Ti(S,I)),Su(o,N);const O=N.tViews=CE(2,N,l,h,g,o.directiveRegistry,o.pipeRegistry,null,o.schemas,S);return null!==o.queries&&(o.queries.template(o,N),O.queries=o.queries.embeddedTView(N)),N}(N,S,I,o,a,l,h,g,v):S.data[N];ci(O,!1);const H=I[11].createComment("");mc(S,I,H,O),ri(H,I),hm(I,I[N]=NE(H,I,H,O)),Pl(O)&&am(S,I,O),null!=v&&Hf(I,O,E)}function KE(s){return Xi(function Bl(){return Mt.lFrame.contextLView}(),22+s)}function Q_(s,o,a){const l=Te();return Gr(l,Ks(),o)&&ji(zt(),bn(),l,s,o,l[11],a,!1),Q_}function vm(s,o,a,l,h){const v=h?"class":"style";kE(s,a,o.inputs[v],v,l)}function Qf(s,o,a,l){const h=Te(),g=zt(),v=22+s,E=h[11],I=h[v]=g_(E,o,function Tu(){return Mt.lFrame.currentNamespace}()),S=g.firstCreatePass?function J_(s,o,a,l,h,g,v){const E=o.consts,S=Kd(o,s,2,h,Ti(E,g));return L_(o,a,S,Ti(E,v)),null!==S.attrs&&qf(S,S.attrs,!1),null!==S.mergedAttrs&&qf(S,S.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,S),S}(v,g,h,0,o,a,l):g.data[v];ci(S,!0);const N=S.mergedAttrs;null!==N&&Po(E,I,N);const O=S.classes;null!==O&&tl(E,I,O);const H=S.styles;return null!==H&&b_(E,I,H),64!=(64&S.flags)&&mc(g,h,I,S),0===function yu(){return Mt.lFrame.elementDepthCount}()&&ri(I,h),function _u(){Mt.lFrame.elementDepthCount++}(),Pl(S)&&(am(g,h,S),IE(g,S,h)),null!==l&&Hf(h,S),Qf}function Rr(){let s=Pn();va()?wa():(s=s.parent,ci(s,!1));const o=s;!function Ll(){Mt.lFrame.elementDepthCount--}();const a=zt();return a.firstCreatePass&&(Su(a,s),uu(s)&&a.queries.elementEnd(s)),null!=o.classesWithoutHost&&function xu(s){return 0!=(16&s.flags)}(o)&&vm(a,o,Te(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function ld(s){return 0!=(32&s.flags)}(o)&&vm(a,o,Te(),o.stylesWithoutHost,!1),Rr}function X_(s,o,a,l){return Qf(s,o,a,l),Rr(),X_}function Jf(s,o,a){const l=Te(),h=zt(),g=s+22,v=h.firstCreatePass?function wm(s,o,a,l,h){const g=o.consts,v=Ti(g,l),E=Kd(o,s,8,"ng-container",v);return null!==v&&qf(E,v,!0),L_(o,a,E,Ti(g,h)),null!==o.queries&&o.queries.elementStart(o,E),E}(g,h,l,o,a):h.data[g];ci(v,!0);const E=l[g]=l[11].createComment("");return mc(h,l,E,v),ri(E,l),Pl(v)&&(am(h,l,v),IE(h,v,l)),null!=a&&Hf(l,v),Jf}function ih(){let s=Pn();const o=zt();return va()?wa():(s=s.parent,ci(s,!1)),o.firstCreatePass&&(Su(o,s),uu(s)&&o.queries.elementEnd(s)),ih}function vo(){return Te()}function ep(s){return!!s&&"function"==typeof s.then}function YE(s){return!!s&&"function"==typeof s.subscribe}const QE=YE;function cl(s,o,a,l){const h=Te(),g=zt(),v=Pn();return function nv(s,o,a,l,h,g,v,E){const I=Pl(l),N=s.firstCreatePass&&RE(s),O=o[8],H=z_(o);let X=!0;if(3&l.type||E){const Ge=jr(l,o),We=E?E(Ge):Ge,Et=H.length,Se=E?hn=>E(Nn(hn[l.index])):l.index;let Dt=null;if(!E&&I&&(Dt=function tv(s,o,a,l){const h=s.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const v=h[g];if(v===a&&h[g+1]===l){const E=o[7],I=h[g+2];return E.length>I?E[I]:null}"string"==typeof v&&(g+=2)}return null}(s,o,h,l.index)),null!==Dt)(Dt.__ngLastListenerFn__||Dt).__ngNextListenerFn__=g,Dt.__ngLastListenerFn__=g,X=!1;else{g=rv(l,o,O,g,!1);const hn=a.listen(We,h,g);H.push(g,hn),N&&N.push(h,Se,Et,Et+1)}}else g=rv(l,o,O,g,!1);const ve=l.outputs;let ke;if(X&&null!==ve&&(ke=ve[h])){const Ge=ke.length;if(Ge)for(let We=0;We<Ge;We+=2){const gn=o[ke[We]][ke[We+1]].subscribe(g),Hs=H.length;H.push(g,gn),N&&N.push(h,l.index,Hs,-(Hs+1))}}}(g,h,h[11],v,s,o,0,l),cl}function JE(s,o,a,l){try{return!1!==a(l)}catch(h){return OE(s,h),!1}}function rv(s,o,a,l,h){return function g(v){if(v===Function)return l;Jd(2&s.flags?Kt(s.index,o):o);let I=JE(o,0,l,v),S=g.__ngNextListenerFn__;for(;S;)I=JE(o,0,S,v)&&I,S=S.__ngNextListenerFn__;return h&&!1===I&&(v.preventDefault(),v.returnValue=!1),I}}function tp(s=1){return function Qs(s){return(Mt.lFrame.contextLView=function Cu(s,o){for(;s>0;)o=o[15],s--;return o}(s,Mt.lFrame.contextLView))[8]}(s)}function dv(s,o,a,l,h){const g=s[a+1],v=null===o;let E=l?Vs(g):sl(g),I=!1;for(;0!==E&&(!1===I||v);){const N=s[E+1];sb(s[E],o)&&(I=!0,s[E+1]=l?Bf(N):Kg(N)),E=l?Vs(N):sl(N)}I&&(s[a+1]=l?Kg(g):Bf(g))}function sb(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Os(s,o)>=0}const ur={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function bm(s){return s.substring(ur.key,ur.keyEnd)}function Im(s,o){const a=ur.textEnd;return a===o?-1:(o=ur.keyEnd=function ub(s,o,a){for(;o<a&&s.charCodeAt(o)>32;)o++;return o}(s,ur.key=o,a),Cc(s,o,a))}function Cc(s,o,a){for(;o<a&&s.charCodeAt(o)<=32;)o++;return o}function np(s,o,a){return wo(s,o,a,!1),np}function Sr(s,o){return wo(s,o,null,!0),Sr}function Tm(s){!function Bs(s,o,a,l){const h=zt(),g=ts(2);h.firstUpdatePass&&db(h,null,g,l);const v=Te();if(a!==jt&&Gr(v,g,a)){const E=h.data[or()];if(Ev(E,l)&&!cb(h,g)){let I=l?E.classesWithoutHost:E.stylesWithoutHost;null!==I&&(a=fe(I,a||"")),vm(h,E,v,a,l)}else!function vv(s,o,a,l,h,g,v,E){h===jt&&(h=xt);let I=0,S=0,N=0<h.length?h[0]:null,O=0<g.length?g[0]:null;for(;null!==N||null!==O;){const H=I<h.length?h[I+1]:void 0,X=S<g.length?g[S+1]:void 0;let ke,ve=null;N===O?(I+=2,S+=2,H!==X&&(ve=O,ke=X)):null===O||null!==N&&N<O?(I+=2,ve=N):(S+=2,ve=O,ke=X),null!==ve&&wv(s,o,a,l,ve,ke,v,E),N=I<h.length?h[I]:null,O=S<g.length?g[S]:null}}(h,E,v,v[11],v[g+1],v[g+1]=function Am(s,o,a){if(null==a||""===a)return xt;const l=[],h=ls(a);if(Array.isArray(h))for(let g=0;g<h.length;g++)s(l,h[g],!0);else if("object"==typeof h)for(const g in h)h.hasOwnProperty(g)&&s(l,g,h[g]);else"string"==typeof h&&o(l,h);return l}(s,o,a),l,g)}}(gr,ea,s,!0)}function ea(s,o){for(let a=function fv(s){return function ab(s){ur.key=0,ur.keyEnd=0,ur.value=0,ur.valueEnd=0,ur.textEnd=s.length}(s),Im(s,Cc(s,0,ur.textEnd))}(o);a>=0;a=Im(o,a))gr(s,bm(o),!0)}function wo(s,o,a,l){const h=Te(),g=zt(),v=ts(2);g.firstUpdatePass&&db(g,s,v,l),o!==jt&&Gr(h,v,o)&&wv(g,g.data[or()],h,h[11],s,h[v+1]=function pb(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=he(ls(s)))),s}(o,a),l,v)}function cb(s,o){return o>=s.expandoStartIndex}function db(s,o,a,l){const h=s.data;if(null===h[a+1]){const g=h[or()],v=cb(s,a);Ev(g,l)&&null===o&&!v&&(o=!1),o=function hb(s,o,a,l){const h=Ia(s);let g=l?o.residualClasses:o.residualStyles;if(null===h)0===(l?o.classBindings:o.styleBindings)&&(a=rp(a=Sm(null,s,o,a,l),o.attrs,l),g=null);else{const v=o.directiveStylingLast;if(-1===v||s[v]!==h)if(a=Sm(h,s,o,a,l),null===g){let I=function yv(s,o,a){const l=a?o.classBindings:o.styleBindings;if(0!==sl(l))return s[Vs(l)]}(s,o,l);void 0!==I&&Array.isArray(I)&&(I=Sm(null,s,o,I[1],l),I=rp(I,o.attrs,l),function XC(s,o,a,l){s[Vs(a?o.classBindings:o.styleBindings)]=l}(s,o,l,I))}else g=function _v(s,o,a){let l;const h=o.directiveEnd;for(let g=1+o.directiveStylingLast;g<h;g++)l=rp(l,s[g].hostAttrs,a);return rp(l,o.attrs,a)}(s,o,l)}return void 0!==g&&(l?o.residualClasses=g:o.residualStyles=g),a}(h,g,o,l),function cv(s,o,a,l,h,g){let v=g?o.classBindings:o.styleBindings,E=Vs(v),I=sl(v);s[l]=a;let N,S=!1;if(Array.isArray(a)){const O=a;N=O[1],(null===N||Os(O,N)>0)&&(S=!0)}else N=a;if(h)if(0!==I){const H=Vs(s[E+1]);s[l+1]=Uf(H,E),0!==H&&(s[H+1]=dE(s[H+1],l)),s[E+1]=function il(s,o){return 131071&s|o<<17}(s[E+1],l)}else s[l+1]=Uf(E,0),0!==E&&(s[E+1]=dE(s[E+1],l)),E=l;else s[l+1]=Uf(I,0),0===E?E=l:s[I+1]=dE(s[I+1],l),I=l;S&&(s[l+1]=Kg(s[l+1])),dv(s,N,l,!0),dv(s,N,l,!1),function ib(s,o,a,l,h){const g=h?s.residualClasses:s.residualStyles;null!=g&&"string"==typeof o&&Os(g,o)>=0&&(a[l+1]=Bf(a[l+1]))}(o,N,s,l,g),v=Uf(E,I),g?o.classBindings=v:o.styleBindings=v}(h,g,o,a,v,l)}}function Sm(s,o,a,l,h){let g=null;const v=a.directiveEnd;let E=a.directiveStylingLast;for(-1===E?E=a.directiveStart:E++;E<v&&(g=o[E],l=rp(l,g.hostAttrs,h),g!==s);)E++;return null!==s&&(a.directiveStylingLast=E),l}function rp(s,o,a){const l=a?1:2;let h=-1;if(null!==o)for(let g=0;g<o.length;g++){const v=o[g];"number"==typeof v?h=v:h===l&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),gr(s,v,!!a||o[++g]))}return void 0===s?null:s}function wv(s,o,a,l,h,g,v,E){if(!(3&o.type))return;const I=s.data,S=I[E+1];dl(function Yg(s){return 1==(1&s)}(S)?fb(I,o,a,h,sl(S),v):void 0)||(dl(g)||function fi(s){return 2==(2&s)}(S)&&(g=fb(I,null,a,h,E,v)),function kM(s,o,a,l,h){if(o)h?s.addClass(a,l):s.removeClass(a,l);else{let g=-1===l.indexOf("-")?void 0:Yo.DashCase;null==h?s.removeStyle(a,l,g):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),g|=Yo.Important),s.setStyle(a,l,h,g))}}(l,v,li(or(),a),h,g))}function fb(s,o,a,l,h,g){const v=null===o;let E;for(;h>0;){const I=s[h],S=Array.isArray(I),N=S?I[1]:I,O=null===N;let H=a[h+1];H===jt&&(H=O?xt:void 0);let X=O?bt(H,l):N===l?H:void 0;if(S&&!dl(X)&&(X=bt(I,l)),dl(X)&&(E=X,v))return E;const ve=s[h+1];h=v?Vs(ve):sl(ve)}if(null!==o){let I=g?o.residualClasses:o.residualStyles;null!=I&&(E=bt(I,l))}return E}function dl(s){return void 0!==s}function Ev(s,o){return 0!=(s.flags&(o?16:32))}function bv(s,o=""){const a=Te(),l=zt(),h=s+22,g=l.firstCreatePass?Kd(l,h,1,o,null):l.data[h],v=a[h]=function p_(s,o){return s.createText(o)}(a[11],o);mc(l,a,v,g),ci(g,!1)}function ah(s){return xm("",s,""),ah}function xm(s,o,a){const l=Te(),h=function Us(s,o,a,l){return Gr(s,Ks(),a)?o+me(a)+l:jt}(l,s,o,a);return h!==jt&&function yo(s,o,a){const l=li(o,s);!function Nw(s,o,a){s.setValue(o,a)}(s[11],l,a)}(l,or(),h),xm}function Sc(s,o,a){const l=Te();if(Gr(l,Ks(),o)){const g=zt(),v=bn();ji(g,v,l,s,o,function W_(s,o,a){return(null===s||Nr(s))&&(a=function du(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(a[o.index])),a[11]}(Ia(g.data),v,l),a,!0)}return Sc}const hs=void 0;var tT=["en",[["a","p"],["AM","PM"],hs],[["AM","PM"],hs,hs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],hs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],hs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",hs,"{1} 'at' {0}",hs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Rv(s){const a=Math.floor(Math.abs(s)),l=s.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===l?1:5}];let lh={};function Cb(s,o,a){"string"!=typeof o&&(a=o,o=s[wt.LocaleId]),o=o.toLowerCase().replace(/_/g,"-"),lh[o]=s,a&&(lh[o][wt.ExtraData]=a)}function km(s){const o=function Tb(s){return s.toLowerCase().replace(/_/g,"-")}(s);let a=ta(o);if(a)return a;const l=o.split("-")[0];if(a=ta(l),a)return a;if("en"===l)return tT;throw new be(701,!1)}function fl(s){return km(s)[wt.PluralCase]}function ta(s){return s in lh||(lh[s]=an.ng&&an.ng.common&&an.ng.common.locales&&an.ng.common.locales[s]),lh[s]}var wt=(()=>((wt=wt||{})[wt.LocaleId=0]="LocaleId",wt[wt.DayPeriodsFormat=1]="DayPeriodsFormat",wt[wt.DayPeriodsStandalone=2]="DayPeriodsStandalone",wt[wt.DaysFormat=3]="DaysFormat",wt[wt.DaysStandalone=4]="DaysStandalone",wt[wt.MonthsFormat=5]="MonthsFormat",wt[wt.MonthsStandalone=6]="MonthsStandalone",wt[wt.Eras=7]="Eras",wt[wt.FirstDayOfWeek=8]="FirstDayOfWeek",wt[wt.WeekendRange=9]="WeekendRange",wt[wt.DateFormat=10]="DateFormat",wt[wt.TimeFormat=11]="TimeFormat",wt[wt.DateTimeFormat=12]="DateTimeFormat",wt[wt.NumberSymbols=13]="NumberSymbols",wt[wt.NumberFormats=14]="NumberFormats",wt[wt.CurrencyCode=15]="CurrencyCode",wt[wt.CurrencySymbol=16]="CurrencySymbol",wt[wt.CurrencyName=17]="CurrencyName",wt[wt.Currencies=18]="Currencies",wt[wt.Directionality=19]="Directionality",wt[wt.PluralCase=20]="PluralCase",wt[wt.ExtraData=21]="ExtraData",wt))();const na="en-US";let Sb=na;function ra(s,o,a,l,h){if(s=K(s),Array.isArray(s))for(let g=0;g<s.length;g++)ra(s[g],o,a,l,h);else{const g=zt(),v=Te();let E=Hr(s)?s:K(s.provide),I=uc(s);const S=Pn(),N=1048575&S.providerIndexes,O=S.directiveStart,H=S.providerIndexes>>20;if(Hr(s)||!s.multi){const X=new xs(I,h,rl),ve=Pe(E,o,h?N:N+H,O);-1===ve?(Ns(no(S,v),g,E),Ip(g,s,o.length),o.push(E),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),a.push(X),v.push(X)):(a[ve]=X,v[ve]=X)}else{const X=Pe(E,o,N+H,O),ve=Pe(E,o,N,N+H),ke=X>=0&&a[X],Ge=ve>=0&&a[ve];if(h&&!Ge||!h&&!ke){Ns(no(S,v),g,E);const We=function st(s,o,a,l,h){const g=new xs(s,a,rl);return g.multi=[],g.index=o,g.componentProviders=0,qb(g,h,l&&!a),g}(h?Mc:yr,a.length,h,l,I);!h&&Ge&&(a[ve].providerFactory=We),Ip(g,s,o.length,0),o.push(E),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),a.push(We),v.push(We)}else Ip(g,s,X>-1?X:ve,qb(a[h?ve:X],I,!h&&l));!h&&l&&Ge&&a[ve].componentProviders++}}}function Ip(s,o,a,l){const h=Hr(o),g=function Yu(s){return!!s.useClass}(o);if(h||g){const I=(g?K(o.useClass):o).prototype.ngOnDestroy;if(I){const S=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const N=S.indexOf(a);-1===N?S.push(a,[l,I]):S[N+1].push(l,I)}else S.push(a,I)}}}function qb(s,o,a){return a&&s.componentProviders++,s.multi.push(o)-1}function Pe(s,o,a,l){for(let h=a;h<l;h++)if(o[h]===s)return h;return-1}function yr(s,o,a,l){return Dp(this.multi,[])}function Mc(s,o,a,l){const h=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,E=ns(a,a[1],this.providerFactory.index,l);g=E.slice(0,v),Dp(h,g);for(let I=v;I<E.length;I++)g.push(E[I])}else g=[],Dp(h,g);return g}function Dp(s,o){for(let a=0;a<s.length;a++)o.push((0,s[a])());return o}function Tt(s,o=[]){return a=>{a.providersResolver=(l,h)=>function gh(s,o,a){const l=zt();if(l.firstCreatePass){const h=Nr(s);ra(a,l.data,l.blueprint,h,!0),ra(o,l.data,l.blueprint,h,!1)}}(l,h?h(s):s,o)}}class mh{}class qe{}function ce(s,o){return new Ar(s,o??null)}class Ar extends mh{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Z_(this);const l=yn(o);this._bootstrapComponents=Wa(l.bootstrap),this._r3Injector=Xw(o,a,[{provide:mh,useValue:this},{provide:Zo,useValue:this.componentFactoryResolver}],he(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Km extends qe{constructor(o){super(),this.moduleType=o}create(o){return new Ar(this.moduleType,o)}}class fT extends mh{constructor(o,a,l){super(),this.componentFactoryResolver=new Z_(this),this.instance=null;const h=new Ju([...o,{provide:mh,useValue:this},{provide:Zo,useValue:this.componentFactoryResolver}],a||ac(),l,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function Jv(s,o,a=null){return new fT(s,o,a).injector}let pT=(()=>{class s{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const l=Nd(0,a.type),h=l.length>0?Jv([l],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,h)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=en({token:s,providedIn:"environment",factory:()=>new s(qt(hi))}),s})();function zb(s){s.getStandaloneInjector=o=>o.get(pT).getOrCreateStandaloneInjector(s)}function gl(s,o,a){const l=Rn()+s,h=Te();return h[l]===jt?Xo(h,l,a?o.call(a):o()):function Tr(s,o){return s[o]}(h,l)}function Qb(s,o,a,l){return function Ya(s,o,a,l,h,g){const v=o+a;return Gr(s,v,h)?Xo(s,v+1,g?l.call(g,h):l(h)):vh(s,v+1)}(Te(),Rn(),s,o,a,l)}function vh(s,o){const a=s[o];return a===jt?void 0:a}function Tp(s,o,a,l,h,g,v,E,I){const S=o+a;return function _o(s,o,a,l,h,g){const v=Dc(s,o,a,l);return Dc(s,o+2,h,g)||v}(s,S,h,g,v,E)?Xo(s,S+4,I?l.call(I,h,g,v,E):l(h,g,v,E)):vh(s,S+4)}function tI(s,o){const a=zt();let l;const h=s+22;a.firstCreatePass?(l=function Sp(s,o){if(o)for(let a=o.length-1;a>=0;a--){const l=o[a];if(s===l.name)return l}}(o,a.pipeRegistry),a.data[h]=l,l.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(h,l.onDestroy)):l=a.data[h];const g=l.factory||(l.factory=Fi(l.type)),v=nr(rl);try{const E=Aa(!1),I=g();return Aa(E),function ll(s,o,a,l){a>=s.data.length&&(s.data[a]=null,s.blueprint[a]=null),o[a]=l}(a,Te(),h,I),I}finally{nr(v)}}function ml(s,o,a,l){const h=s+22,g=Te(),v=Xi(g,h);return Ap(g,h)?function Jm(s,o,a,l,h,g,v){const E=o+a;return Dc(s,E,h,g)?Xo(s,E+2,v?l.call(v,h,g):l(h,g)):vh(s,E+2)}(g,Rn(),o,v.transform,a,l,v):v.transform(a,l)}function Xm(s,o,a,l,h,g){const v=s+22,E=Te(),I=Xi(E,v);return Ap(E,v)?Tp(E,Rn(),o,I.transform,a,l,h,g,I):I.transform(a,l,h,g)}function Ap(s,o){return s[1].data[o].pure}function ey(s){return o=>{setTimeout(s,void 0,o)}}const gi=class Hi extends d.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,l){let h=o,g=a||(()=>null),v=l;if(o&&"object"==typeof o){const I=o;h=I.next?.bind(I),g=I.error?.bind(I),v=I.complete?.bind(I)}this.__isAsync&&(g=ey(g),h&&(h=ey(h)),v&&(v=ey(v)));const E=super.subscribe({next:h,error:g,complete:v});return o instanceof ee.w0&&o.add(E),E}};function rI(){return this._results[eh()]()}class $n{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=eh(),l=$n.prototype;l[a]||(l[a]=rI)}get changes(){return this._changes||(this._changes=new gi)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const l=this;l.dirty=!1;const h=dn(o);(this._changesDetected=!function rt(s,o,a){if(s.length!==o.length)return!1;for(let l=0;l<s.length;l++){let h=s[l],g=o[l];if(a&&(h=a(h),g=a(g)),g!==h)return!1}return!0}(l._results,h,a))&&(l._results=h,l.length=h.length,l.last=h[this.length-1],l.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let yl=(()=>{class s{}return s.__NG_ELEMENT_ID__=iI,s})();const ii=yl,Dn=class extends ii{constructor(o,a,l){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=l}createEmbeddedView(o,a){const l=this._declarationTContainer.tViews,h=$f(this._declarationLView,l,o,16,null,l.declTNode,null,null,null,null,a||null);h[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[19];return null!==v&&(h[19]=v.createEmbeddedView(l)),sm(l,h,o),new Xd(h)}};function iI(){return Qa(Pn(),Te())}function Qa(s,o){return 4&s.type?new Dn(o,s,y(s,o)):null}let mi=(()=>{class s{}return s.__NG_ELEMENT_ID__=wT,s})();function wT(){return _l(Pn(),Te())}const Or=mi,sI=class extends Or{constructor(o,a,l){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=l}get element(){return y(this._hostTNode,this._hostLView)}get injector(){return new io(this._hostTNode,this._hostLView)}get parentInjector(){const o=Ou(this._hostTNode,this._hostLView);if(dd(o)){const a=Sa(o,this._hostLView),l=fr(o);return new io(a[1].data[l+8],a)}return new io(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=Ja(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,a,l){let h,g;"number"==typeof l?h=l:null!=l&&(h=l.index,g=l.injector);const v=o.createEmbeddedView(a||{},g);return this.insert(v,h),v}createComponent(o,a,l,h,g){const v=o&&!function rn(s){return"function"==typeof s}(o);let E;if(v)E=a;else{const O=a||{};E=O.index,l=O.injector,h=O.projectableNodes,g=O.environmentInjector||O.ngModuleRef}const I=v?o:new Wf(Q(o)),S=l||this.parentInjector;if(!g&&null==I.ngModule){const H=(v?S:this.parentInjector).get(hi,null);H&&(g=H)}const N=I.create(S,h,void 0,g);return this.insert(N.hostView,E),N}insert(o,a){const l=o._lView,h=l[1];if(function pu(s){return Br(s[3])}(l)){const N=this.indexOf(o);if(-1!==N)this.detach(N);else{const O=l[3],H=new sI(O,O[6],O[3]);H.detach(H.indexOf(o))}}const g=this._adjustIndex(a),v=this._lContainer;!function RM(s,o,a,l){const h=10+l,g=a.length;l>0&&(a[h-1][4]=o),l<g-10?(o[4]=a[h],gd(a,10+l,o)):(a.push(o),o[4]=null),o[3]=a;const v=o[17];null!==v&&a!==v&&function dC(s,o){const a=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===a?s[9]=[o]:a.push(o)}(v,o);const E=o[19];null!==E&&E.insertView(s),o[2]|=64}(h,l,v,g);const E=Bg(g,v),I=l[11],S=Lg(I,v[7]);return null!==S&&function m_(s,o,a,l,h,g){l[0]=h,l[6]=o,kf(s,l,a,1,h,g)}(h,v[6],I,l,S,E),o.attachToViewContainerRef(),gd(Hn(v),g,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=Ja(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),l=y_(this._lContainer,a);l&&(is(Hn(this._lContainer),a),Fw(l[1],l))}detach(o){const a=this._adjustIndex(o,-1),l=y_(this._lContainer,a);return l&&null!=is(Hn(this._lContainer),a)?new Xd(l):null}_adjustIndex(o,a=0){return o??this.length+a}};function Ja(s){return s[8]}function Hn(s){return s[8]||(s[8]=[])}function _l(s,o){let a;const l=o[s.index];if(Br(l))a=l;else{let h;if(8&s.type)h=Nn(l);else{const g=o[11];h=g.createComment("");const v=jr(s,o);gc(g,Lg(g,v),h,function fC(s,o){return s.nextSibling(o)}(g,v),!1)}o[s.index]=a=NE(l,o,h,s),hm(o,a)}return new sI(a,s,o)}class s0{constructor(o){this.queryList=o,this.matches=null}clone(){return new s0(this.queryList)}setDirty(){this.queryList.setDirty()}}class ia{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const l=null!==o.contentQueries?o.contentQueries[0]:a.length,h=[];for(let g=0;g<l;g++){const v=a.getByIndex(g);h.push(this.queries[v.indexInDeclarationView].clone())}return new ia(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==Mp(o,a).matches&&this.queries[a].setDirty()}}class wh{constructor(o,a,l=null){this.predicate=o,this.flags=a,this.read=l}}class Nc{constructor(o=[]){this.queries=o}elementStart(o,a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let l=0;l<this.length;l++){const h=null!==a?a.length:0,g=this.getByIndex(l).embeddedTView(o,h);g&&(g.indexInDeclarationView=l,null!==a?a.push(g):a=[g])}return null!==a?new Nc(a):null}template(o,a){for(let l=0;l<this.queries.length;l++)this.queries[l].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class ny{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new ny(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let l=o.parent;for(;null!==l&&8&l.type&&l.index!==a;)l=l.parent;return a===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const l=this.metadata.predicate;if(Array.isArray(l))for(let h=0;h<l.length;h++){const g=l[h];this.matchTNodeWithReadOption(o,a,vl(a,g)),this.matchTNodeWithReadOption(o,a,Ro(a,o,g,!1,!1))}else l===yl?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,Ro(a,o,l,!1,!1))}matchTNodeWithReadOption(o,a,l){if(null!==l){const h=this.metadata.read;if(null!==h)if(h===f||h===mi||h===yl&&4&a.type)this.addMatch(a.index,-2);else{const g=Ro(a,o,h,!1,!1);null!==g&&this.addMatch(a.index,g)}else this.addMatch(a.index,l)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function vl(s,o){const a=s.localNames;if(null!==a)for(let l=0;l<a.length;l+=2)if(a[l]===o)return a[l+1];return null}function Pc(s,o,a,l){return-1===a?function ry(s,o){return 11&s.type?y(s,o):4&s.type?Qa(s,o):null}(o,s):-2===a?function sa(s,o,a){return a===f?y(o,s):a===yl?Qa(o,s):a===mi?_l(o,s):void 0}(s,o,l):ns(s,s[1],a,o)}function Eh(s,o,a,l){const h=o[19].queries[l];if(null===h.matches){const g=s.data,v=a.matches,E=[];for(let I=0;I<v.length;I+=2){const S=v[I];E.push(S<0?null:Pc(o,g[S],v[I+1],a.metadata.read))}h.matches=E}return h.matches}function oa(s,o,a,l){const h=s.queries.getByIndex(a),g=h.matches;if(null!==g){const v=Eh(s,o,h,a);for(let E=0;E<g.length;E+=2){const I=g[E];if(I>0)l.push(v[E/2]);else{const S=g[E+1],N=o[-I];for(let O=10;O<N.length;O++){const H=N[O];H[17]===H[3]&&oa(H[1],H,S,l)}if(null!==N[9]){const O=N[9];for(let H=0;H<O.length;H++){const X=O[H];oa(X[1],X,S,l)}}}}}return l}function o0(s){const o=Te(),a=zt(),l=Hl();Da(l+1);const h=Mp(a,l);if(s.dirty&&function fu(s){return 4==(4&s[2])}(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const g=h.crossesNgTemplate?oa(a,o,l,[]):Eh(a,o,h,l);s.reset(g,m),s.notifyOnChanges()}return!0}return!1}function iy(s,o,a,l){const h=zt();if(h.firstCreatePass){const g=Pn();(function u0(s,o,a){null===s.queries&&(s.queries=new Nc),s.queries.track(new ny(o,a))})(h,new wh(o,a,l),g.index),function aI(s,o){const a=s.contentQueries||(s.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(s.queries.length-1,o)}(h,s),2==(2&a)&&(h.staticContentQueries=!0)}!function Ih(s,o,a){const l=new $n(4==(4&a));F_(s,o,l,l.destroy),null===o[19]&&(o[19]=new ia),o[19].queries.push(new s0(l))}(h,Te(),a)}function wl(){return function a0(s,o){return s[19].queries[o].queryList}(Te(),Hl())}function Mp(s,o){return s.queries.getByIndex(o)}function Dh(s,o){return Qa(s,o)}function eu(...s){}const y0=new vn("Application Initializer");let Il=(()=>{class s{constructor(a){this.appInits=a,this.resolve=eu,this.reject=eu,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,h)=>{this.resolve=l,this.reject=h})}runInitializers(){if(this.initialized)return;const a=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const g=this.appInits[h]();if(ep(g))a.push(g);else if(QE(g)){const v=new Promise((E,I)=>{g.subscribe({complete:E,error:I})});a.push(v)}}Promise.all(a).then(()=>{l()}).catch(h=>{this.reject(h)}),0===a.length&&l(),this.initialized=!0}}return s.\u0275fac=function(a){return new(a||s)(qt(y0,8))},s.\u0275prov=en({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const wI=new vn("AppId",{providedIn:"root",factory:function EI(){return`${Nh()}${Nh()}${Nh()}`}});function Nh(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Op=new vn("Platform Initializer"),bI=new vn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),II=new vn("appBootstrapListener"),PT=new vn("AnimationModuleType");let DI=(()=>{class s{log(a){console.log(a)}warn(a){console.warn(a)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=en({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const $s=new vn("LocaleId",{providedIn:"root",factory:()=>D($s,Ke.Optional|Ke.SkipSelf)||function Ph(){return typeof $localize<"u"&&$localize.locale||na}()}),CI=new vn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class _0{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let kT=(()=>{class s{compileModuleSync(a){return new Km(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const l=this.compileModuleSync(a),g=Wa(yn(a).declarations).reduce((v,E)=>{const I=Q(E);return I&&v.push(new Wf(I)),v},[]);return new _0(l,g)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=en({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const SI=(()=>Promise.resolve(0))();function kc(s){typeof Zone>"u"?SI.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class vr{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new gi(!1),this.onMicrotaskEmpty=new gi(!1),this.onStable=new gi(!1),this.onError=new gi(!1),typeof Zone>"u")throw new be(908,!1);Zone.assertZonePatched();const h=this;if(h._nesting=0,h._outer=h._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const g=Zone.AsyncStackTaggingZoneSpec;h._inner=h._inner.fork(new g("Angular"))}Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!l&&a,h.shouldCoalesceRunChangeDetection=l,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function AI(){let s=an.requestAnimationFrame,o=an.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const a=s[Zone.__symbol__("OriginalDelegate")];a&&(s=a);const l=o[Zone.__symbol__("OriginalDelegate")];l&&(o=l)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function LT(s){const o=()=>{!function FT(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(an,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,$t(s),s.isCheckStableRunning=!0,Fc(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),$t(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,l,h,g,v,E)=>{try{return xI(s),a.invokeTask(h,g,v,E)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||s.shouldCoalesceRunChangeDetection)&&o(),Fp(s)}},onInvoke:(a,l,h,g,v,E,I)=>{try{return xI(s),a.invoke(h,g,v,E,I)}finally{s.shouldCoalesceRunChangeDetection&&o(),Fp(s)}},onHasTask:(a,l,h,g)=>{a.hasTask(h,g),l===h&&("microTask"==g.change?(s._hasPendingMicrotasks=g.microTask,$t(s),Fc(s)):"macroTask"==g.change&&(s.hasPendingMacrotasks=g.macroTask))},onHandleError:(a,l,h,g)=>(a.handleError(h,g),s.runOutsideAngular(()=>s.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!vr.isInAngularZone())throw new be(909,!1)}static assertNotInAngularZone(){if(vr.isInAngularZone())throw new be(909,!1)}run(o,a,l){return this._inner.run(o,a,l)}runTask(o,a,l,h){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+h,o,MI,eu,eu);try{return g.runTask(v,a,l)}finally{g.cancelTask(v)}}runGuarded(o,a,l){return this._inner.runGuarded(o,a,l)}runOutsideAngular(o){return this._outer.run(o)}}const MI={};function Fc(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function $t(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function xI(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function Fp(s){s._nesting--,Fc(s)}class Lp{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new gi,this.onMicrotaskEmpty=new gi,this.onStable=new gi,this.onError=new gi}run(o,a,l){return o.apply(a,l)}runGuarded(o,a,l){return o.apply(a,l)}runOutsideAngular(o){return o()}runTask(o,a,l,h){return o.apply(a,l)}}const Rh=new vn(""),Vp=new vn("");let E0,NI=(()=>{class s{constructor(a,l,h){this._ngZone=a,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,E0||(function PI(s){E0=s}(h),h.addToWindow(l)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{vr.assertNotInAngularZone(),kc(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())kc(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(a)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,l,h){let g=-1;l&&l>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),a(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:a,timeoutId:g,updateCb:h})}whenStable(a,l,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,l,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,l,h){return[]}}return s.\u0275fac=function(a){return new(a||s)(qt(vr),qt(w0),qt(Vp))},s.\u0275prov=en({token:s,factory:s.\u0275fac}),s})(),w0=(()=>{class s{constructor(){this._applications=new Map}registerApplication(a,l){this._applications.set(a,l)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,l=!0){return E0?.findTestabilityInTree(this,a,l)??null}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=en({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),nu=null;const b0=new vn("AllowMultipleToken"),I0=new vn("PlatformDestroyListeners");class UT{constructor(o,a){this.name=o,this.token=a}}function Eo(s,o,a=[]){const l=`Platform: ${o}`,h=new vn(l);return(g=[])=>{let v=yy();if(!v||v.injector.get(b0,!1)){const E=[...a,...g,{provide:h,useValue:!0}];s?s(E):function Zr(s){if(nu&&!nu.get(b0,!1))throw new be(400,!1);nu=s;const o=s.get(A0);(function C0(s){const o=s.get(Op,null);o&&o.forEach(a=>a())})(s)}(function S0(s=[],o){return _c.create({name:o,providers:[{provide:Qu,useValue:"platform"},{provide:I0,useValue:new Set([()=>nu=null])},...s]})}(E,l))}return function T0(s){const o=yy();if(!o)throw new be(401,!1);return o}()}}function yy(){return nu?.get(A0)??null}let A0=(()=>{class s{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,l){const h=function OI(s,o){let a;return a="noop"===s?new Lp:("zone.js"===s?void 0:s)||new vr(o),a}(l?.ngZone,function M0(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(l)),g=[{provide:vr,useValue:h}];return h.run(()=>{const v=_c.create({providers:g,parent:this.injector,name:a.moduleType.name}),E=a.create(v),I=E.injector.get(Af,null);if(!I)throw new be(402,!1);return h.runOutsideAngular(()=>{const S=h.onError.subscribe({next:N=>{I.handleError(N)}});E.onDestroy(()=>{_y(this._modules,E),S.unsubscribe()})}),function kI(s,o,a){try{const l=a();return ep(l)?l.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):l}catch(l){throw o.runOutsideAngular(()=>s.handleError(l)),l}}(I,h,()=>{const S=E.injector.get(Il);return S.runInitializers(),S.donePromise.then(()=>(function Ab(s){Gt(s,"Expected localeId to be defined"),"string"==typeof s&&(Sb=s.toLowerCase().replace(/_/g,"-"))}(E.injector.get($s,na)||na),this._moduleDoBootstrap(E),E))})})}bootstrapModule(a,l=[]){const h=Oh({},l);return function VT(s,o,a){const l=new Km(a);return Promise.resolve(l)}(0,0,a).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(a){const l=a.injector.get(kh);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(h=>l.bootstrap(h));else{if(!a.instance.ngDoBootstrap)throw new be(403,!1);a.instance.ngDoBootstrap(l)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new be(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const a=this._injector.get(I0,null);a&&(a.forEach(l=>l()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(a){return new(a||s)(qt(_c))},s.\u0275prov=en({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function Oh(s,o){return Array.isArray(o)?o.reduce(Oh,s):{...s,...o}}let kh=(()=>{class s{constructor(a,l,h){this._zone=a,this._injector=l,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new R.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),v=new R.y(E=>{let I;this._zone.runOutsideAngular(()=>{I=this._zone.onStable.subscribe(()=>{vr.assertNotInAngularZone(),kc(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const S=this._zone.onUnstable.subscribe(()=>{vr.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{I.unsubscribe(),S.unsubscribe()}});this.isStable=(0,se.T)(g,v.pipe((0,re.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,l){const h=a instanceof Fd;if(!this._injector.get(Il).done)throw!h&&Jt(a),new be(405,false);let v;v=h?a:this._injector.get(Zo).resolveComponentFactory(a),this.componentTypes.push(v.componentType);const E=function RI(s){return s.isBoundToModule}(v)?void 0:this._injector.get(mh),S=v.create(_c.NULL,[],l||v.selector,E),N=S.location.nativeElement,O=S.injector.get(Rh,null);return O?.registerApplication(N),S.onDestroy(()=>{this.detachView(S.hostView),_y(this.components,S),O?.unregisterApplication(N)}),this._loadComponent(S),S}tick(){if(this._runningTick)throw new be(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const l=a;this._views.push(l),l.attachToAppRef(this)}detachView(a){const l=a;_y(this._views,l),l.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(II,[]).concat(this._bootstrapListeners).forEach(h=>h(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>_y(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new be(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(a){return new(a||s)(qt(vr),qt(hi),qt(Af))},s.\u0275prov=en({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function _y(s,o){const a=s.indexOf(o);a>-1&&s.splice(a,1)}let P0=!0,FI=!1;function LI(){return FI=!0,P0}function BT(){if(FI)throw new Error("Cannot enable prod mode after platform setup.");P0=!1}let jT=(()=>{class s{}return s.__NG_ELEMENT_ID__=$T,s})();function $T(s){return function HT(s,o,a){if(ma(s)&&!a){const l=Kt(s.index,o);return new Xd(l,l)}return 47&s.type?new Xd(o[16],o):null}(Pn(),Te(),16==(16&s))}class $I{constructor(){}supports(o){return th(o)}create(o){return new ZT(o)}}const HI=(s,o)=>o;class ZT{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||HI}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,l=this._removalsHead,h=0,g=null;for(;a||l;){const v=!l||a&&a.currentIndex<wy(l,h,g)?a:l,E=wy(v,h,g),I=v.currentIndex;if(v===l)h--,l=l._nextRemoved;else if(a=a._next,null==v.previousIndex)h++;else{g||(g=[]);const S=E-h,N=I-h;if(S!=N){for(let H=0;H<S;H++){const X=H<g.length?g[H]:g[H]=0,ve=X+H;N<=ve&&ve<S&&(g[H]=X+1)}g[v.previousIndex]=N-S}}E!==I&&o(v,E,I)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!th(o))throw new be(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,g,v,a=this._itHead,l=!1;if(Array.isArray(o)){this.length=o.length;for(let E=0;E<this.length;E++)g=o[E],v=this._trackByFn(E,g),null!==a&&Object.is(a.trackById,v)?(l&&(a=this._verifyReinsertion(a,g,v,E)),Object.is(a.item,g)||this._addIdentityChange(a,g)):(a=this._mismatch(a,g,v,E),l=!0),a=a._next}else h=0,function XM(s,o){if(Array.isArray(s))for(let a=0;a<s.length;a++)o(s[a]);else{const a=s[eh()]();let l;for(;!(l=a.next()).done;)o(l.value)}}(o,E=>{v=this._trackByFn(h,E),null!==a&&Object.is(a.trackById,v)?(l&&(a=this._verifyReinsertion(a,E,v,h)),Object.is(a.item,E)||this._addIdentityChange(a,E)):(a=this._mismatch(a,E,v,h),l=!0),a=a._next,h++}),this.length=h;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,l,h){let g;return null===o?g=this._itTail:(g=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,g,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(l,h))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,g,h)):o=this._addAfter(new GI(a,l),g,h),o}_verifyReinsertion(o,a,l,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==g?o=this._reinsertAfter(g,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,g=o._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(o,a,l),this._addToMoves(o,l),o}_moveAfter(o,a,l){return this._unlink(o),this._insertAfter(o,a,l),this._addToMoves(o,l),o}_addAfter(o,a,l){return this._insertAfter(o,a,l),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,l){const h=null===a?this._itHead:a._next;return o._next=h,o._prev=a,null===h?this._itTail=o:h._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new zI),this._linkedRecords.put(o),o.currentIndex=l,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,l=o._next;return null===a?this._itHead=l:a._next=l,null===l?this._itTail=a:l._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new zI),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class GI{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class qI{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===a||a<=l.currentIndex)&&Object.is(l.trackById,o))return l;return null}remove(o){const a=o._prevDup,l=o._nextDup;return null===a?this._head=l:a._nextDup=l,null===l?this._tail=a:l._prevDup=a,null===this._head}}class zI{constructor(){this.map=new Map}put(o){const a=o.trackById;let l=this.map.get(a);l||(l=new qI,this.map.set(a,l)),l.add(o)}get(o,a){const h=this.map.get(o);return h?h.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function wy(s,o,a){const l=s.previousIndex;if(null===l)return l;let h=0;return a&&l<a.length&&(h=a[l]),l+o+h}class kr{constructor(){}supports(o){return o instanceof Map||GE(o)}create(){return new L0}}class L0{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||GE(o)))throw new be(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(l,h)=>{if(a&&a.key===h)this._maybeAddToChanges(a,l),this._appendAfter=a,a=a._next;else{const g=this._getOrCreateRecordForKey(h,l);a=this._insertBeforeOrAppend(a,g)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let l=a;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const l=o._prev;return a._next=o,a._prev=l,o._prev=a,l&&(l._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,a);const g=h._prev,v=h._next;return g&&(g._next=v),v&&(v._prev=g),h._next=null,h._prev=null,h}const l=new V0(o);return this._records.set(o,l),l.currentValue=a,this._addToAdditions(l),l}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(l=>a(o[l],l))}}class V0{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Ey(){return new aa([new $I])}let aa=(()=>{class s{constructor(a){this.factories=a}static create(a,l){if(null!=l){const h=l.factories.slice();a=a.concat(h)}return new s(a)}static extend(a){return{provide:s,useFactory:l=>s.create(a,l||Ey()),deps:[[s,new ft,new Ue]]}}find(a){const l=this.factories.find(h=>h.supports(a));if(null!=l)return l;throw new be(901,!1)}}return s.\u0275prov=en({token:s,providedIn:"root",factory:Ey}),s})();function WI(){return new by([new kr])}let by=(()=>{class s{constructor(a){this.factories=a}static create(a,l){if(l){const h=l.factories.slice();a=a.concat(h)}return new s(a)}static extend(a){return{provide:s,useFactory:l=>s.create(a,l||WI()),deps:[[s,new ft,new Ue]]}}find(a){const l=this.factories.find(h=>h.supports(a));if(l)return l;throw new be(901,!1)}}return s.\u0275prov=en({token:s,providedIn:"root",factory:WI}),s})();const Bp=Eo(null,"core",[]);let ZI=(()=>{class s{constructor(a){}}return s.\u0275fac=function(a){return new(a||s)(qt(kh))},s.\u0275mod=Ut({type:s}),s.\u0275inj=Ft({}),s})();function U0(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},3942:(dt,Ae,k)=>{k.d(Ae,{Z:()=>be});var d=k(2090),ee=k(4859),R=k(9681),se=k(1877);class re{constructor(me,pe){this._delegate=me,this.firebase=pe,(0,R._addComponent)(me,new ee.wA("app-compat",()=>this,"PUBLIC")),this.container=me.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(me){this._delegate.automaticDataCollectionEnabled=me}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(me=>{this._delegate.checkDestroyed(),me()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,R.deleteApp)(this._delegate)))}_getService(me,pe=R._DEFAULT_ENTRY_NAME){var Xe;this._delegate.checkDestroyed();const ot=this._delegate.container.getProvider(me);return!ot.isInitialized()&&"EXPLICIT"===(null===(Xe=ot.getComponent())||void 0===Xe?void 0:Xe.instantiationMode)&&ot.initialize(),ot.getImmediate({identifier:pe})}_removeServiceInstance(me,pe=R._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(me).clearInstance(pe)}_addComponent(me){(0,R._addComponent)(this._delegate,me)}_addOrOverwriteComponent(me){(0,R._addOrOverwriteComponent)(this._delegate,me)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ae=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),B=function fe(){const nt=function he(nt){const me={},pe={__esModule:!0,initializeApp:function Me(je,U={}){const ge=R.initializeApp(je,U);if((0,d.r3)(me,ge.name))return me[ge.name];const z=new nt(ge,pe);return me[ge.name]=z,z},app:ot,registerVersion:R.registerVersion,setLogLevel:R.setLogLevel,onLog:R.onLog,apps:null,SDK_VERSION:R.SDK_VERSION,INTERNAL:{registerComponent:function De(je){const U=je.name,ge=U.replace("-compat","");if(R._registerComponent(je)&&"PUBLIC"===je.type){const z=(J=ot())=>{if("function"!=typeof J[ge])throw ae.create("invalid-app-argument",{appName:U});return J[ge]()};void 0!==je.serviceProps&&(0,d.ZB)(z,je.serviceProps),pe[ge]=z,nt.prototype[ge]=function(...J){return this._getService.bind(this,U).apply(this,je.multipleInstances?J:[])}}return"PUBLIC"===je.type?pe[ge]:null},removeApp:function Xe(je){delete me[je]},useAsService:function Be(je,U){return"serverAuth"===U?null:U},modularAPIs:R}};function ot(je){if(!(0,d.r3)(me,je=je||R._DEFAULT_ENTRY_NAME))throw ae.create("no-app",{appName:je});return me[je]}return pe.default=pe,Object.defineProperty(pe,"apps",{get:function we(){return Object.keys(me).map(je=>me[je])}}),ot.App=nt,pe}(re);return nt.INTERNAL=Object.assign(Object.assign({},nt.INTERNAL),{createFirebaseNamespace:fe,extendNamespace:function me(pe){(0,d.ZB)(nt,pe)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),nt}(),j=new se.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){j.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const nt=self.firebase.SDK_VERSION;nt&&nt.indexOf("LITE")>=0&&j.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const be=B;!function xe(nt){(0,R.registerVersion)("@firebase/app-compat","0.1.37",nt)}()},9681:(dt,Ae,k)=>{k.r(Ae),k.d(Ae,{FirebaseError:()=>se.ZR,SDK_VERSION:()=>Gs,_DEFAULT_ENTRY_NAME:()=>Gt,_addComponent:()=>Qt,_addOrOverwriteComponent:()=>en,_apps:()=>cn,_clearComponents:()=>Wi,_components:()=>wn,_getProvider:()=>Ft,_registerComponent:()=>Lr,_removeServiceInstance:()=>fn,deleteApp:()=>pa,getApp:()=>si,getApps:()=>oi,initializeApp:()=>Di,onLog:()=>ws,registerVersion:()=>xr,setLogLevel:()=>nr});var d=k(5861),ee=k(4859),R=k(1877),se=k(2090),re=k(8766);class de{constructor(Ce){this.container=Ce}getPlatformInfoString(){return this.container.getProviders().map(et=>{if(function ae(tt){return"VERSION"===tt.getComponent()?.type}(et)){const Ct=et.getImmediate();return`${Ct.library}/${Ct.version}`}return null}).filter(et=>et).join(" ")}}const he="@firebase/app",B=new R.Yd("@firebase/app"),Gt="[DEFAULT]",Ze={[he]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},cn=new Map,wn=new Map;function Qt(tt,Ce){try{tt.container.addComponent(Ce)}catch(et){B.debug(`Component ${Ce.name} failed to register with FirebaseApp ${tt.name}`,et)}}function en(tt,Ce){tt.container.addOrOverwriteComponent(Ce)}function Lr(tt){const Ce=tt.name;if(wn.has(Ce))return B.debug(`There were multiple attempts to register component ${Ce}.`),!1;wn.set(Ce,tt);for(const et of cn.values())Qt(et,tt);return!0}function Ft(tt,Ce){const et=tt.container.getProvider("heartbeat").getImmediate({optional:!0});return et&&et.triggerHeartbeat(),tt.container.getProvider(Ce)}function fn(tt,Ce,et=Gt){Ft(tt,Ce).clearInstance(et)}function Wi(){wn.clear()}const Vr=new se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Kr{constructor(Ce,et,Ct){this._isDeleted=!1,this._options=Object.assign({},Ce),this._config=Object.assign({},et),this._name=et.name,this._automaticDataCollectionEnabled=et.automaticDataCollectionEnabled,this._container=Ct,this.container.addComponent(new ee.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ce){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ce}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ce){this._isDeleted=Ce}checkDestroyed(){if(this.isDeleted)throw Vr.create("app-deleted",{appName:this._name})}}const Gs="9.12.1";function Di(tt,Ce={}){let et=tt;"object"!=typeof Ce&&(Ce={name:Ce});const Ct=Object.assign({name:Gt,automaticDataCollectionEnabled:!1},Ce),It=Ct.name;if("string"!=typeof It||!It)throw Vr.create("bad-app-name",{appName:String(It)});if(et||(et=(0,se.aH)()),!et)throw Vr.create("no-options");const Ut=cn.get(It);if(Ut){if((0,se.vZ)(et,Ut.options)&&(0,se.vZ)(Ct,Ut.config))return Ut;throw Vr.create("duplicate-app",{appName:It})}const $=new ee.H0(It);for(const W of wn.values())$.addComponent(W);const V=new Kr(et,Ct,$);return cn.set(It,V),V}function si(tt=Gt){const Ce=cn.get(tt);if(!Ce&&tt===Gt)return Di();if(!Ce)throw Vr.create("no-app",{appName:tt});return Ce}function oi(){return Array.from(cn.values())}function pa(tt){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,d.Z)(function*(tt){const Ce=tt.name;cn.has(Ce)&&(cn.delete(Ce),yield Promise.all(tt.container.getProviders().map(et=>et.delete())),tt.isDeleted=!0)})).apply(this,arguments)}function xr(tt,Ce,et){var Ct;let It=null!==(Ct=Ze[tt])&&void 0!==Ct?Ct:tt;et&&(It+=`-${et}`);const Ut=It.match(/\s|\//),$=Ce.match(/\s|\//);if(Ut||$){const V=[`Unable to register library "${It}" with version "${Ce}":`];return Ut&&V.push(`library name "${It}" contains illegal characters (whitespace or "/")`),Ut&&$&&V.push("and"),$&&V.push(`version name "${Ce}" contains illegal characters (whitespace or "/")`),void B.warn(V.join(" "))}Lr(new ee.wA(`${It}-version`,()=>({library:It,version:Ce}),"VERSION"))}function ws(tt,Ce){if(null!==tt&&"function"!=typeof tt)throw Vr.create("invalid-log-argument");(0,R.Am)(tt,Ce)}function nr(tt){(0,R.Ub)(tt)}const Ln="firebase-heartbeat-store";let zn=null;function _n(){return zn||(zn=(0,re.X3)("firebase-heartbeat-database",1,{upgrade:(tt,Ce)=>{0===Ce&&tt.createObjectStore(Ln)}}).catch(tt=>{throw Vr.create("idb-open",{originalErrorMessage:tt.message})})),zn}function ut(){return(ut=(0,d.Z)(function*(tt){var Ce;try{return(yield _n()).transaction(Ln).objectStore(Ln).get(Wn(tt))}catch(et){if(et instanceof se.ZR)B.warn(et.message);else{const Ct=Vr.create("idb-get",{originalErrorMessage:null===(Ce=et)||void 0===Ce?void 0:Ce.message});B.warn(Ct.message)}}})).apply(this,arguments)}function an(tt,Ce){return Er.apply(this,arguments)}function Er(){return(Er=(0,d.Z)(function*(tt,Ce){var et;try{const It=(yield _n()).transaction(Ln,"readwrite");return yield It.objectStore(Ln).put(Ce,Wn(tt)),It.done}catch(Ct){if(Ct instanceof se.ZR)B.warn(Ct.message);else{const It=Vr.create("idb-set",{originalErrorMessage:null===(et=Ct)||void 0===et?void 0:et.message});B.warn(It.message)}}})).apply(this,arguments)}function Wn(tt){return`${tt.name}!${tt.options.appId}`}class Es{constructor(Ce){this.container=Ce,this._heartbeatsCache=null;const et=this.container.getProvider("app").getImmediate();this._storage=new nn(et),this._heartbeatsCachePromise=this._storage.read().then(Ct=>(this._heartbeatsCache=Ct,Ct))}triggerHeartbeat(){var Ce=this;return(0,d.Z)(function*(){const Ct=Ce.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),It=tn();if(null===Ce._heartbeatsCache&&(Ce._heartbeatsCache=yield Ce._heartbeatsCachePromise),Ce._heartbeatsCache.lastSentHeartbeatDate!==It&&!Ce._heartbeatsCache.heartbeats.some(Ut=>Ut.date===It))return Ce._heartbeatsCache.heartbeats.push({date:It,agent:Ct}),Ce._heartbeatsCache.heartbeats=Ce._heartbeatsCache.heartbeats.filter(Ut=>{const $=new Date(Ut.date).valueOf();return Date.now()-$<=2592e6}),Ce._storage.overwrite(Ce._heartbeatsCache)})()}getHeartbeatsHeader(){var Ce=this;return(0,d.Z)(function*(){if(null===Ce._heartbeatsCache&&(yield Ce._heartbeatsCachePromise),null===Ce._heartbeatsCache||0===Ce._heartbeatsCache.heartbeats.length)return"";const et=tn(),{heartbeatsToSend:Ct,unsentEntries:It}=function Oi(tt,Ce=1024){const et=[];let Ct=tt.slice();for(const It of tt){const Ut=et.find($=>$.agent===It.agent);if(Ut){if(Ut.dates.push(It.date),rr(et)>Ce){Ut.dates.pop();break}}else if(et.push({agent:It.agent,dates:[It.date]}),rr(et)>Ce){et.pop();break}Ct=Ct.slice(1)}return{heartbeatsToSend:et,unsentEntries:Ct}}(Ce._heartbeatsCache.heartbeats),Ut=(0,se.L)(JSON.stringify({version:2,heartbeats:Ct}));return Ce._heartbeatsCache.lastSentHeartbeatDate=et,It.length>0?(Ce._heartbeatsCache.heartbeats=It,yield Ce._storage.overwrite(Ce._heartbeatsCache)):(Ce._heartbeatsCache.heartbeats=[],Ce._storage.overwrite(Ce._heartbeatsCache)),Ut})()}}function tn(){return(new Date).toISOString().substring(0,10)}class nn{constructor(Ce){this.app=Ce,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.Z)(function*(){return!!(0,se.hl)()&&(0,se.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ce=this;return(0,d.Z)(function*(){return(yield Ce._canUseIndexedDBPromise)&&(yield function yt(tt){return ut.apply(this,arguments)}(Ce.app))||{heartbeats:[]}})()}overwrite(Ce){var et=this;return(0,d.Z)(function*(){var Ct;if(yield et._canUseIndexedDBPromise){const Ut=yield et.read();return an(et.app,{lastSentHeartbeatDate:null!==(Ct=Ce.lastSentHeartbeatDate)&&void 0!==Ct?Ct:Ut.lastSentHeartbeatDate,heartbeats:Ce.heartbeats})}})()}add(Ce){var et=this;return(0,d.Z)(function*(){var Ct;if(yield et._canUseIndexedDBPromise){const Ut=yield et.read();return an(et.app,{lastSentHeartbeatDate:null!==(Ct=Ce.lastSentHeartbeatDate)&&void 0!==Ct?Ct:Ut.lastSentHeartbeatDate,heartbeats:[...Ut.heartbeats,...Ce.heartbeats]})}})()}}function rr(tt){return(0,se.L)(JSON.stringify({version:2,heartbeats:tt})).length}!function Ur(tt){Lr(new ee.wA("platform-logger",Ce=>new de(Ce),"PRIVATE")),Lr(new ee.wA("heartbeat",Ce=>new Es(Ce),"PRIVATE")),xr(he,"0.8.2",tt),xr(he,"0.8.2","esm2017"),xr("fire-js","")}("")},4859:(dt,Ae,k)=>{k.d(Ae,{H0:()=>he,wA:()=>R});var d=k(5861),ee=k(2090);class R{constructor(B,j,K){this.name=B,this.instanceFactory=j,this.type=K,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(B){return this.instantiationMode=B,this}setMultipleInstances(B){return this.multipleInstances=B,this}setServiceProps(B){return this.serviceProps=B,this}setInstanceCreatedCallback(B){return this.onInstanceCreated=B,this}}const se="[DEFAULT]";class re{constructor(B,j){this.name=B,this.container=j,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(B){const j=this.normalizeInstanceIdentifier(B);if(!this.instancesDeferred.has(j)){const K=new ee.BH;if(this.instancesDeferred.set(j,K),this.isInitialized(j)||this.shouldAutoInitialize())try{const Le=this.getOrInitializeService({instanceIdentifier:j});Le&&K.resolve(Le)}catch{}}return this.instancesDeferred.get(j).promise}getImmediate(B){var j;const K=this.normalizeInstanceIdentifier(B?.identifier),Le=null!==(j=B?.optional)&&void 0!==j&&j;if(!this.isInitialized(K)&&!this.shouldAutoInitialize()){if(Le)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:K})}catch(xe){if(Le)return null;throw xe}}getComponent(){return this.component}setComponent(B){if(B.name!==this.name)throw Error(`Mismatching Component ${B.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=B,this.shouldAutoInitialize()){if(function ae(fe){return"EAGER"===fe.instantiationMode}(B))try{this.getOrInitializeService({instanceIdentifier:se})}catch{}for(const[j,K]of this.instancesDeferred.entries()){const Le=this.normalizeInstanceIdentifier(j);try{const xe=this.getOrInitializeService({instanceIdentifier:Le});K.resolve(xe)}catch{}}}}clearInstance(B=se){this.instancesDeferred.delete(B),this.instancesOptions.delete(B),this.instances.delete(B)}delete(){var B=this;return(0,d.Z)(function*(){const j=Array.from(B.instances.values());yield Promise.all([...j.filter(K=>"INTERNAL"in K).map(K=>K.INTERNAL.delete()),...j.filter(K=>"_delete"in K).map(K=>K._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(B=se){return this.instances.has(B)}getOptions(B=se){return this.instancesOptions.get(B)||{}}initialize(B={}){const{options:j={}}=B,K=this.normalizeInstanceIdentifier(B.instanceIdentifier);if(this.isInitialized(K))throw Error(`${this.name}(${K}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Le=this.getOrInitializeService({instanceIdentifier:K,options:j});for(const[xe,be]of this.instancesDeferred.entries())K===this.normalizeInstanceIdentifier(xe)&&be.resolve(Le);return Le}onInit(B,j){var K;const Le=this.normalizeInstanceIdentifier(j),xe=null!==(K=this.onInitCallbacks.get(Le))&&void 0!==K?K:new Set;xe.add(B),this.onInitCallbacks.set(Le,xe);const be=this.instances.get(Le);return be&&B(be,Le),()=>{xe.delete(B)}}invokeOnInitCallbacks(B,j){const K=this.onInitCallbacks.get(j);if(K)for(const Le of K)try{Le(B,j)}catch{}}getOrInitializeService({instanceIdentifier:B,options:j={}}){let K=this.instances.get(B);if(!K&&this.component&&(K=this.component.instanceFactory(this.container,{instanceIdentifier:(fe=B,fe===se?void 0:fe),options:j}),this.instances.set(B,K),this.instancesOptions.set(B,j),this.invokeOnInitCallbacks(K,B),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,B,K)}catch{}var fe;return K||null}normalizeInstanceIdentifier(B=se){return this.component?this.component.multipleInstances?B:se:B}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class he{constructor(B){this.name=B,this.providers=new Map}addComponent(B){const j=this.getProvider(B.name);if(j.isComponentSet())throw new Error(`Component ${B.name} has already been registered with ${this.name}`);j.setComponent(B)}addOrOverwriteComponent(B){this.getProvider(B.name).isComponentSet()&&this.providers.delete(B.name),this.addComponent(B)}getProvider(B){if(this.providers.has(B))return this.providers.get(B);const j=new re(B,this);return this.providers.set(B,j),j}getProviders(){return Array.from(this.providers.values())}}},1877:(dt,Ae,k)=>{k.d(Ae,{Am:()=>fe,Ub:()=>he,Yd:()=>ae,in:()=>ee});const d=[];var ee=(()=>{return(B=ee||(ee={}))[B.DEBUG=0]="DEBUG",B[B.VERBOSE=1]="VERBOSE",B[B.INFO=2]="INFO",B[B.WARN=3]="WARN",B[B.ERROR=4]="ERROR",B[B.SILENT=5]="SILENT",ee;var B})();const R={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},se=ee.INFO,re={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},de=(B,j,...K)=>{if(j<B.logLevel)return;const Le=(new Date).toISOString(),xe=re[j];if(!xe)throw new Error(`Attempted to log a message with an invalid logType (value: ${j})`);console[xe](`[${Le}]  ${B.name}:`,...K)};class ae{constructor(j){this.name=j,this._logLevel=se,this._logHandler=de,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(j){if(!(j in ee))throw new TypeError(`Invalid value "${j}" assigned to \`logLevel\``);this._logLevel=j}setLogLevel(j){this._logLevel="string"==typeof j?R[j]:j}get logHandler(){return this._logHandler}set logHandler(j){if("function"!=typeof j)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=j}get userLogHandler(){return this._userLogHandler}set userLogHandler(j){this._userLogHandler=j}debug(...j){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...j),this._logHandler(this,ee.DEBUG,...j)}log(...j){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...j),this._logHandler(this,ee.VERBOSE,...j)}info(...j){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...j),this._logHandler(this,ee.INFO,...j)}warn(...j){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...j),this._logHandler(this,ee.WARN,...j)}error(...j){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...j),this._logHandler(this,ee.ERROR,...j)}}function he(B){d.forEach(j=>{j.setLogLevel(B)})}function fe(B,j){for(const K of d){let Le=null;j&&j.level&&(Le=R[j.level]),K.userLogHandler=null===B?null:(xe,be,...nt)=>{const me=nt.map(pe=>{if(null==pe)return null;if("string"==typeof pe)return pe;if("number"==typeof pe||"boolean"==typeof pe)return pe.toString();if(pe instanceof Error)return pe.message;try{return JSON.stringify(pe)}catch{return null}}).filter(pe=>pe).join(" ");be>=(Le??xe.logLevel)&&B({level:ee[be].toLowerCase(),message:me,args:nt,type:xe.name})}}}},8766:(dt,Ae,k)=>{k.d(Ae,{Lj:()=>Me,X3:()=>ot});var d=k(5861);let R,se;const ae=new WeakMap,he=new WeakMap,fe=new WeakMap,B=new WeakMap,j=new WeakMap;let xe={get(U,ge,z){if(U instanceof IDBTransaction){if("done"===ge)return he.get(U);if("objectStoreNames"===ge)return U.objectStoreNames||fe.get(U);if("store"===ge)return z.objectStoreNames[1]?void 0:z.objectStore(z.objectStoreNames[0])}return pe(U[ge])},set:(U,ge,z)=>(U[ge]=z,!0),has:(U,ge)=>U instanceof IDBTransaction&&("done"===ge||"store"===ge)||ge in U};function me(U){return"function"==typeof U?function nt(U){return U!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function de(){return se||(se=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(U)?function(...ge){return U.apply(Xe(this),ge),pe(ae.get(this))}:function(...ge){return pe(U.apply(Xe(this),ge))}:function(ge,...z){const J=U.call(Xe(this),ge,...z);return fe.set(J,ge.sort?ge.sort():[ge]),pe(J)}}(U):(U instanceof IDBTransaction&&function Le(U){if(he.has(U))return;const ge=new Promise((z,J)=>{const ne=()=>{U.removeEventListener("complete",te),U.removeEventListener("error",Oe),U.removeEventListener("abort",Oe)},te=()=>{z(),ne()},Oe=()=>{J(U.error||new DOMException("AbortError","AbortError")),ne()};U.addEventListener("complete",te),U.addEventListener("error",Oe),U.addEventListener("abort",Oe)});he.set(U,ge)}(U),((U,ge)=>ge.some(z=>U instanceof z))(U,function re(){return R||(R=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(U,xe):U)}function pe(U){if(U instanceof IDBRequest)return function K(U){const ge=new Promise((z,J)=>{const ne=()=>{U.removeEventListener("success",te),U.removeEventListener("error",Oe)},te=()=>{z(pe(U.result)),ne()},Oe=()=>{J(U.error),ne()};U.addEventListener("success",te),U.addEventListener("error",Oe)});return ge.then(z=>{z instanceof IDBCursor&&ae.set(z,U)}).catch(()=>{}),j.set(ge,U),ge}(U);if(B.has(U))return B.get(U);const ge=me(U);return ge!==U&&(B.set(U,ge),j.set(ge,U)),ge}const Xe=U=>j.get(U);function ot(U,ge,{blocked:z,upgrade:J,blocking:ne,terminated:te}={}){const Oe=indexedDB.open(U,ge),Re=pe(Oe);return J&&Oe.addEventListener("upgradeneeded",mt=>{J(pe(Oe.result),mt.oldVersion,mt.newVersion,pe(Oe.transaction))}),z&&Oe.addEventListener("blocked",()=>z()),Re.then(mt=>{te&&mt.addEventListener("close",()=>te()),ne&&mt.addEventListener("versionchange",()=>ne())}).catch(()=>{}),Re}function Me(U,{blocked:ge}={}){const z=indexedDB.deleteDatabase(U);return ge&&z.addEventListener("blocked",()=>ge()),pe(z).then(()=>{})}const we=["get","getKey","getAll","getAllKeys","count"],De=["put","add","delete","clear"],Be=new Map;function je(U,ge){if(!(U instanceof IDBDatabase)||ge in U||"string"!=typeof ge)return;if(Be.get(ge))return Be.get(ge);const z=ge.replace(/FromIndex$/,""),J=ge!==z,ne=De.includes(z);if(!(z in(J?IDBIndex:IDBObjectStore).prototype)||!ne&&!we.includes(z))return;const te=function(){var Oe=(0,d.Z)(function*(Re,...mt){const Xt=this.transaction(Re,ne?"readwrite":"readonly");let Gt=Xt.store;return J&&(Gt=Gt.index(mt.shift())),(yield Promise.all([Gt[z](...mt),ne&&Xt.done]))[0]});return function(mt){return Oe.apply(this,arguments)}}();return Be.set(ge,te),te}!function be(U){xe=U(xe)}(U=>({...U,get:(ge,z,J)=>je(ge,z)||U.get(ge,z,J),has:(ge,z)=>!!je(ge,z)||U.has(ge,z)}))},5861:(dt,Ae,k)=>{function d(R,se,re,de,ae,he,fe){try{var B=R[he](fe),j=B.value}catch(K){return void re(K)}B.done?se(j):Promise.resolve(j).then(de,ae)}function ee(R){return function(){var se=this,re=arguments;return new Promise(function(de,ae){var he=R.apply(se,re);function fe(j){d(he,de,ae,fe,B,"next",j)}function B(j){d(he,de,ae,fe,B,"throw",j)}fe(void 0)})}}k.d(Ae,{Z:()=>ee})}},dt=>{dt(dt.s=1)}]);